{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffNavigator.js","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffNavigator.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0IF9nZXQgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXQuanMiOwppbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YuanMiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMuanMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi4KICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCmltcG9ydCAqIGFzIGFzc2VydCBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9hc3NlcnQuanMnOwppbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vZXZlbnQuanMnOwppbXBvcnQgeyBEaXNwb3NhYmxlIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vbGlmZWN5Y2xlLmpzJzsKaW1wb3J0ICogYXMgb2JqZWN0cyBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9vYmplY3RzLmpzJzsKaW1wb3J0IHsgUmFuZ2UgfSBmcm9tICcuLi8uLi9jb21tb24vY29yZS9yYW5nZS5qcyc7CnZhciBkZWZhdWx0T3B0aW9ucyA9IHsKICBmb2xsb3dzQ2FyZXQ6IHRydWUsCiAgaWdub3JlQ2hhckNoYW5nZXM6IHRydWUsCiAgYWx3YXlzUmV2ZWFsRmlyc3Q6IHRydWUKfTsKLyoqCiAqIENyZWF0ZSBhIG5ldyBkaWZmIG5hdmlnYXRvciBmb3IgdGhlIHByb3ZpZGVkIGRpZmYgZWRpdG9yLgogKi8KZXhwb3J0IHZhciBEaWZmTmF2aWdhdG9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRGlzcG9zYWJsZSkgewogIF9pbmhlcml0cyhEaWZmTmF2aWdhdG9yLCBfRGlzcG9zYWJsZSk7CiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihEaWZmTmF2aWdhdG9yKTsKICBmdW5jdGlvbiBEaWZmTmF2aWdhdG9yKGVkaXRvcikgewogICAgdmFyIF90aGlzOwogICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERpZmZOYXZpZ2F0b3IpOwogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKTsKICAgIF90aGlzLl9vbkRpZFVwZGF0ZSA9IF90aGlzLl9yZWdpc3RlcihuZXcgRW1pdHRlcigpKTsKICAgIF90aGlzLl9lZGl0b3IgPSBlZGl0b3I7CiAgICBfdGhpcy5fb3B0aW9ucyA9IG9iamVjdHMubWl4aW4ob3B0aW9ucywgZGVmYXVsdE9wdGlvbnMsIGZhbHNlKTsKICAgIF90aGlzLmRpc3Bvc2VkID0gZmFsc2U7CiAgICBfdGhpcy5uZXh0SWR4ID0gLTE7CiAgICBfdGhpcy5yYW5nZXMgPSBbXTsKICAgIF90aGlzLmlnbm9yZVNlbGVjdGlvbkNoYW5nZSA9IGZhbHNlOwogICAgX3RoaXMucmV2ZWFsRmlyc3QgPSBCb29sZWFuKF90aGlzLl9vcHRpb25zLmFsd2F5c1JldmVhbEZpcnN0KTsKICAgIC8vIGhvb2sgdXAgdG8gZGlmZiBlZGl0b3IgZm9yIGRpZmYsIGRpc3Bvc2FsLCBhbmQgY2FyZXQgbW92ZQogICAgX3RoaXMuX3JlZ2lzdGVyKF90aGlzLl9lZGl0b3Iub25EaWREaXNwb3NlKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIF90aGlzLmRpc3Bvc2UoKTsKICAgIH0pKTsKICAgIF90aGlzLl9yZWdpc3RlcihfdGhpcy5fZWRpdG9yLm9uRGlkVXBkYXRlRGlmZihmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfdGhpcy5fb25EaWZmVXBkYXRlZCgpOwogICAgfSkpOwogICAgaWYgKF90aGlzLl9vcHRpb25zLmZvbGxvd3NDYXJldCkgewogICAgICBfdGhpcy5fcmVnaXN0ZXIoX3RoaXMuX2VkaXRvci5nZXRNb2RpZmllZEVkaXRvcigpLm9uRGlkQ2hhbmdlQ3Vyc29yUG9zaXRpb24oZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAoX3RoaXMuaWdub3JlU2VsZWN0aW9uQ2hhbmdlKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIF90aGlzLm5leHRJZHggPSAtMTsKICAgICAgfSkpOwogICAgfQogICAgaWYgKF90aGlzLl9vcHRpb25zLmFsd2F5c1JldmVhbEZpcnN0KSB7CiAgICAgIF90aGlzLl9yZWdpc3RlcihfdGhpcy5fZWRpdG9yLmdldE1vZGlmaWVkRWRpdG9yKCkub25EaWRDaGFuZ2VNb2RlbChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzLnJldmVhbEZpcnN0ID0gdHJ1ZTsKICAgICAgfSkpOwogICAgfQogICAgLy8gaW5pdCB0aGluZ3MKICAgIF90aGlzLl9pbml0KCk7CiAgICByZXR1cm4gX3RoaXM7CiAgfQogIF9jcmVhdGVDbGFzcyhEaWZmTmF2aWdhdG9yLCBbewogICAga2V5OiAiX2luaXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9pbml0KCkgewogICAgICB2YXIgY2hhbmdlcyA9IHRoaXMuX2VkaXRvci5nZXRMaW5lQ2hhbmdlcygpOwogICAgICBpZiAoIWNoYW5nZXMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJfb25EaWZmVXBkYXRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX29uRGlmZlVwZGF0ZWQoKSB7CiAgICAgIHRoaXMuX2luaXQoKTsKICAgICAgdGhpcy5fY29tcHV0ZSh0aGlzLl9lZGl0b3IuZ2V0TGluZUNoYW5nZXMoKSk7CiAgICAgIGlmICh0aGlzLnJldmVhbEZpcnN0KSB7CiAgICAgICAgLy8gT25seSByZXZlYWwgZmlyc3Qgb24gZmlyc3Qgbm9uLW51bGwgY2hhbmdlcwogICAgICAgIGlmICh0aGlzLl9lZGl0b3IuZ2V0TGluZUNoYW5nZXMoKSAhPT0gbnVsbCkgewogICAgICAgICAgdGhpcy5yZXZlYWxGaXJzdCA9IGZhbHNlOwogICAgICAgICAgdGhpcy5uZXh0SWR4ID0gLTE7CiAgICAgICAgICB0aGlzLm5leHQoMSAvKiBTY3JvbGxUeXBlLkltbWVkaWF0ZSAqLyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiX2NvbXB1dGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9jb21wdXRlKGxpbmVDaGFuZ2VzKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICAvLyBuZXcgcmFuZ2VzCiAgICAgIHRoaXMucmFuZ2VzID0gW107CiAgICAgIGlmIChsaW5lQ2hhbmdlcykgewogICAgICAgIC8vIGNyZWF0ZSByYW5nZXMgZnJvbSBjaGFuZ2VzCiAgICAgICAgbGluZUNoYW5nZXMuZm9yRWFjaChmdW5jdGlvbiAobGluZUNoYW5nZSkgewogICAgICAgICAgaWYgKCFfdGhpczIuX29wdGlvbnMuaWdub3JlQ2hhckNoYW5nZXMgJiYgbGluZUNoYW5nZS5jaGFyQ2hhbmdlcykgewogICAgICAgICAgICBsaW5lQ2hhbmdlLmNoYXJDaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24gKGNoYXJDaGFuZ2UpIHsKICAgICAgICAgICAgICBfdGhpczIucmFuZ2VzLnB1c2goewogICAgICAgICAgICAgICAgcmhzOiB0cnVlLAogICAgICAgICAgICAgICAgcmFuZ2U6IG5ldyBSYW5nZShjaGFyQ2hhbmdlLm1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyLCBjaGFyQ2hhbmdlLm1vZGlmaWVkU3RhcnRDb2x1bW4sIGNoYXJDaGFuZ2UubW9kaWZpZWRFbmRMaW5lTnVtYmVyLCBjaGFyQ2hhbmdlLm1vZGlmaWVkRW5kQ29sdW1uKQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChsaW5lQ2hhbmdlLm1vZGlmaWVkRW5kTGluZU51bWJlciA9PT0gMCkgewogICAgICAgICAgICAgIC8vIGEgZGVsZXRpb24KICAgICAgICAgICAgICBfdGhpczIucmFuZ2VzLnB1c2goewogICAgICAgICAgICAgICAgcmhzOiB0cnVlLAogICAgICAgICAgICAgICAgcmFuZ2U6IG5ldyBSYW5nZShsaW5lQ2hhbmdlLm1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyLCAxLCBsaW5lQ2hhbmdlLm1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyICsgMSwgMSkKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvLyBhbiBpbnNlcnRpb24gb3IgbW9kaWZpY2F0aW9uCiAgICAgICAgICAgICAgX3RoaXMyLnJhbmdlcy5wdXNoKHsKICAgICAgICAgICAgICAgIHJoczogdHJ1ZSwKICAgICAgICAgICAgICAgIHJhbmdlOiBuZXcgUmFuZ2UobGluZUNoYW5nZS5tb2RpZmllZFN0YXJ0TGluZU51bWJlciwgMSwgbGluZUNoYW5nZS5tb2RpZmllZEVuZExpbmVOdW1iZXIgKyAxLCAxKQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgLy8gc29ydAogICAgICB0aGlzLnJhbmdlcy5zb3J0KGZ1bmN0aW9uIChsZWZ0LCByaWdodCkgewogICAgICAgIHJldHVybiBSYW5nZS5jb21wYXJlUmFuZ2VzVXNpbmdTdGFydHMobGVmdC5yYW5nZSwgcmlnaHQucmFuZ2UpOwogICAgICB9KTsKICAgICAgdGhpcy5fb25EaWRVcGRhdGUuZmlyZSh0aGlzKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfaW5pdElkeCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXRJZHgoZndkKSB7CiAgICAgIHZhciBmb3VuZCA9IGZhbHNlOwogICAgICB2YXIgcG9zaXRpb24gPSB0aGlzLl9lZGl0b3IuZ2V0UG9zaXRpb24oKTsKICAgICAgaWYgKCFwb3NpdGlvbikgewogICAgICAgIHRoaXMubmV4dElkeCA9IDA7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLnJhbmdlcy5sZW5ndGg7IGkgPCBsZW4gJiYgIWZvdW5kOyBpKyspIHsKICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLnJhbmdlc1tpXS5yYW5nZTsKICAgICAgICBpZiAocG9zaXRpb24uaXNCZWZvcmVPckVxdWFsKHJhbmdlLmdldFN0YXJ0UG9zaXRpb24oKSkpIHsKICAgICAgICAgIHRoaXMubmV4dElkeCA9IGkgKyAoZndkID8gMCA6IC0xKTsKICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCFmb3VuZCkgewogICAgICAgIC8vIGFmdGVyIHRoZSBsYXN0IGNoYW5nZQogICAgICAgIHRoaXMubmV4dElkeCA9IGZ3ZCA/IDAgOiB0aGlzLnJhbmdlcy5sZW5ndGggLSAxOwogICAgICB9CiAgICAgIGlmICh0aGlzLm5leHRJZHggPCAwKSB7CiAgICAgICAgdGhpcy5uZXh0SWR4ID0gdGhpcy5yYW5nZXMubGVuZ3RoIC0gMTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogIl9tb3ZlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfbW92ZShmd2QsIHNjcm9sbFR5cGUpIHsKICAgICAgYXNzZXJ0Lm9rKCF0aGlzLmRpc3Bvc2VkLCAnSWxsZWdhbCBTdGF0ZSAtIGRpZmYgbmF2aWdhdG9yIGhhcyBiZWVuIGRpc3Bvc2VkJyk7CiAgICAgIGlmICghdGhpcy5jYW5OYXZpZ2F0ZSgpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmICh0aGlzLm5leHRJZHggPT09IC0xKSB7CiAgICAgICAgdGhpcy5faW5pdElkeChmd2QpOwogICAgICB9IGVsc2UgaWYgKGZ3ZCkgewogICAgICAgIHRoaXMubmV4dElkeCArPSAxOwogICAgICAgIGlmICh0aGlzLm5leHRJZHggPj0gdGhpcy5yYW5nZXMubGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLm5leHRJZHggPSAwOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm5leHRJZHggLT0gMTsKICAgICAgICBpZiAodGhpcy5uZXh0SWR4IDwgMCkgewogICAgICAgICAgdGhpcy5uZXh0SWR4ID0gdGhpcy5yYW5nZXMubGVuZ3RoIC0gMTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdmFyIGluZm8gPSB0aGlzLnJhbmdlc1t0aGlzLm5leHRJZHhdOwogICAgICB0aGlzLmlnbm9yZVNlbGVjdGlvbkNoYW5nZSA9IHRydWU7CiAgICAgIHRyeSB7CiAgICAgICAgdmFyIHBvcyA9IGluZm8ucmFuZ2UuZ2V0U3RhcnRQb3NpdGlvbigpOwogICAgICAgIHRoaXMuX2VkaXRvci5zZXRQb3NpdGlvbihwb3MpOwogICAgICAgIHRoaXMuX2VkaXRvci5yZXZlYWxSYW5nZUluQ2VudGVyKGluZm8ucmFuZ2UsIHNjcm9sbFR5cGUpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRoaXMuaWdub3JlU2VsZWN0aW9uQ2hhbmdlID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYW5OYXZpZ2F0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2FuTmF2aWdhdGUoKSB7CiAgICAgIHJldHVybiB0aGlzLnJhbmdlcyAmJiB0aGlzLnJhbmdlcy5sZW5ndGggPiAwOwogICAgfQogIH0sIHsKICAgIGtleTogIm5leHQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG5leHQoKSB7CiAgICAgIHZhciBzY3JvbGxUeXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwOwogICAgICB0aGlzLl9tb3ZlKHRydWUsIHNjcm9sbFR5cGUpOwogICAgfQogIH0sIHsKICAgIGtleTogInByZXZpb3VzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBwcmV2aW91cygpIHsKICAgICAgdmFyIHNjcm9sbFR5cGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7CiAgICAgIHRoaXMuX21vdmUoZmFsc2UsIHNjcm9sbFR5cGUpOwogICAgfQogIH0sIHsKICAgIGtleTogImRpc3Bvc2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7CiAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKERpZmZOYXZpZ2F0b3IucHJvdG90eXBlKSwgImRpc3Bvc2UiLCB0aGlzKS5jYWxsKHRoaXMpOwogICAgICB0aGlzLnJhbmdlcyA9IFtdOwogICAgICB0aGlzLmRpc3Bvc2VkID0gdHJ1ZTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIERpZmZOYXZpZ2F0b3I7Cn0oRGlzcG9zYWJsZSk7"},{"version":3,"names":["assert","Emitter","Disposable","objects","Range","defaultOptions","followsCaret","ignoreCharChanges","alwaysRevealFirst","DiffNavigator","editor","options","_onDidUpdate","_register","_editor","_options","mixin","disposed","nextIdx","ranges","ignoreSelectionChange","revealFirst","Boolean","onDidDispose","dispose","onDidUpdateDiff","_onDiffUpdated","getModifiedEditor","onDidChangeCursorPosition","e","onDidChangeModel","_init","changes","getLineChanges","_compute","next","lineChanges","forEach","lineChange","charChanges","charChange","push","rhs","range","modifiedStartLineNumber","modifiedStartColumn","modifiedEndLineNumber","modifiedEndColumn","sort","left","right","compareRangesUsingStarts","fire","fwd","found","position","getPosition","i","len","length","isBeforeOrEqual","getStartPosition","scrollType","ok","canNavigate","_initIdx","info","pos","setPosition","revealRangeInCenter","_move"],"sources":["/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffNavigator.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as assert from '../../../base/common/assert.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport * as objects from '../../../base/common/objects.js';\nimport { Range } from '../../common/core/range.js';\nconst defaultOptions = {\n    followsCaret: true,\n    ignoreCharChanges: true,\n    alwaysRevealFirst: true\n};\n/**\n * Create a new diff navigator for the provided diff editor.\n */\nexport class DiffNavigator extends Disposable {\n    constructor(editor, options = {}) {\n        super();\n        this._onDidUpdate = this._register(new Emitter());\n        this._editor = editor;\n        this._options = objects.mixin(options, defaultOptions, false);\n        this.disposed = false;\n        this.nextIdx = -1;\n        this.ranges = [];\n        this.ignoreSelectionChange = false;\n        this.revealFirst = Boolean(this._options.alwaysRevealFirst);\n        // hook up to diff editor for diff, disposal, and caret move\n        this._register(this._editor.onDidDispose(() => this.dispose()));\n        this._register(this._editor.onDidUpdateDiff(() => this._onDiffUpdated()));\n        if (this._options.followsCaret) {\n            this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition((e) => {\n                if (this.ignoreSelectionChange) {\n                    return;\n                }\n                this.nextIdx = -1;\n            }));\n        }\n        if (this._options.alwaysRevealFirst) {\n            this._register(this._editor.getModifiedEditor().onDidChangeModel((e) => {\n                this.revealFirst = true;\n            }));\n        }\n        // init things\n        this._init();\n    }\n    _init() {\n        const changes = this._editor.getLineChanges();\n        if (!changes) {\n            return;\n        }\n    }\n    _onDiffUpdated() {\n        this._init();\n        this._compute(this._editor.getLineChanges());\n        if (this.revealFirst) {\n            // Only reveal first on first non-null changes\n            if (this._editor.getLineChanges() !== null) {\n                this.revealFirst = false;\n                this.nextIdx = -1;\n                this.next(1 /* ScrollType.Immediate */);\n            }\n        }\n    }\n    _compute(lineChanges) {\n        // new ranges\n        this.ranges = [];\n        if (lineChanges) {\n            // create ranges from changes\n            lineChanges.forEach((lineChange) => {\n                if (!this._options.ignoreCharChanges && lineChange.charChanges) {\n                    lineChange.charChanges.forEach((charChange) => {\n                        this.ranges.push({\n                            rhs: true,\n                            range: new Range(charChange.modifiedStartLineNumber, charChange.modifiedStartColumn, charChange.modifiedEndLineNumber, charChange.modifiedEndColumn)\n                        });\n                    });\n                }\n                else {\n                    if (lineChange.modifiedEndLineNumber === 0) {\n                        // a deletion\n                        this.ranges.push({\n                            rhs: true,\n                            range: new Range(lineChange.modifiedStartLineNumber, 1, lineChange.modifiedStartLineNumber + 1, 1)\n                        });\n                    }\n                    else {\n                        // an insertion or modification\n                        this.ranges.push({\n                            rhs: true,\n                            range: new Range(lineChange.modifiedStartLineNumber, 1, lineChange.modifiedEndLineNumber + 1, 1)\n                        });\n                    }\n                }\n            });\n        }\n        // sort\n        this.ranges.sort((left, right) => Range.compareRangesUsingStarts(left.range, right.range));\n        this._onDidUpdate.fire(this);\n    }\n    _initIdx(fwd) {\n        let found = false;\n        const position = this._editor.getPosition();\n        if (!position) {\n            this.nextIdx = 0;\n            return;\n        }\n        for (let i = 0, len = this.ranges.length; i < len && !found; i++) {\n            const range = this.ranges[i].range;\n            if (position.isBeforeOrEqual(range.getStartPosition())) {\n                this.nextIdx = i + (fwd ? 0 : -1);\n                found = true;\n            }\n        }\n        if (!found) {\n            // after the last change\n            this.nextIdx = fwd ? 0 : this.ranges.length - 1;\n        }\n        if (this.nextIdx < 0) {\n            this.nextIdx = this.ranges.length - 1;\n        }\n    }\n    _move(fwd, scrollType) {\n        assert.ok(!this.disposed, 'Illegal State - diff navigator has been disposed');\n        if (!this.canNavigate()) {\n            return;\n        }\n        if (this.nextIdx === -1) {\n            this._initIdx(fwd);\n        }\n        else if (fwd) {\n            this.nextIdx += 1;\n            if (this.nextIdx >= this.ranges.length) {\n                this.nextIdx = 0;\n            }\n        }\n        else {\n            this.nextIdx -= 1;\n            if (this.nextIdx < 0) {\n                this.nextIdx = this.ranges.length - 1;\n            }\n        }\n        const info = this.ranges[this.nextIdx];\n        this.ignoreSelectionChange = true;\n        try {\n            const pos = info.range.getStartPosition();\n            this._editor.setPosition(pos);\n            this._editor.revealRangeInCenter(info.range, scrollType);\n        }\n        finally {\n            this.ignoreSelectionChange = false;\n        }\n    }\n    canNavigate() {\n        return this.ranges && this.ranges.length > 0;\n    }\n    next(scrollType = 0 /* ScrollType.Smooth */) {\n        this._move(true, scrollType);\n    }\n    previous(scrollType = 0 /* ScrollType.Smooth */) {\n        this._move(false, scrollType);\n    }\n    dispose() {\n        super.dispose();\n        this.ranges = [];\n        this.disposed = true;\n    }\n}\n"],"mappings":"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"}]}
{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiationService.js","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiationService.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheS5qcyI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCBfY29uc3RydWN0IGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY29uc3RydWN0LmpzIjsKaW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cy5qcyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlci5qcyI7CmltcG9ydCBfd3JhcE5hdGl2ZVN1cGVyIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vd3JhcE5hdGl2ZVN1cGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci5jYXVzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnNldC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi4KICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCmltcG9ydCB7IElkbGVWYWx1ZSB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2FzeW5jLmpzJzsKaW1wb3J0IHsgaWxsZWdhbFN0YXRlIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vZXJyb3JzLmpzJzsKaW1wb3J0IHsgU3luY0Rlc2NyaXB0b3IgfSBmcm9tICcuL2Rlc2NyaXB0b3JzLmpzJzsKaW1wb3J0IHsgR3JhcGggfSBmcm9tICcuL2dyYXBoLmpzJzsKaW1wb3J0IHsgSUluc3RhbnRpYXRpb25TZXJ2aWNlLCBfdXRpbCB9IGZyb20gJy4vaW5zdGFudGlhdGlvbi5qcyc7CmltcG9ydCB7IFNlcnZpY2VDb2xsZWN0aW9uIH0gZnJvbSAnLi9zZXJ2aWNlQ29sbGVjdGlvbi5qcyc7Ci8vIFRSQUNJTkcKdmFyIF9lbmFibGVUcmFjaW5nID0gZmFsc2U7CnZhciBDeWNsaWNEZXBlbmRlbmN5RXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9FcnJvcikgewogIF9pbmhlcml0cyhDeWNsaWNEZXBlbmRlbmN5RXJyb3IsIF9FcnJvcik7CiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihDeWNsaWNEZXBlbmRlbmN5RXJyb3IpOwogIGZ1bmN0aW9uIEN5Y2xpY0RlcGVuZGVuY3lFcnJvcihncmFwaCkgewogICAgdmFyIF90aGlzOwogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEN5Y2xpY0RlcGVuZGVuY3lFcnJvcik7CiAgICB2YXIgX2E7CiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsICdjeWNsaWMgZGVwZW5kZW5jeSBiZXR3ZWVuIHNlcnZpY2VzJyk7CiAgICBfdGhpcy5tZXNzYWdlID0gKF9hID0gZ3JhcGguZmluZEN5Y2xlU2xvdygpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAiVU5BQkxFIHRvIGRldGVjdCBjeWNsZSwgZHVtcGluZyBncmFwaDogXG4iLmNvbmNhdChncmFwaC50b1N0cmluZygpKTsKICAgIHJldHVybiBfdGhpczsKICB9CiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhDeWNsaWNEZXBlbmRlbmN5RXJyb3IpOwp9KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihFcnJvcikpOwpleHBvcnQgdmFyIEluc3RhbnRpYXRpb25TZXJ2aWNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBJbnN0YW50aWF0aW9uU2VydmljZSgpIHsKICAgIHZhciBzZXJ2aWNlcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbmV3IFNlcnZpY2VDb2xsZWN0aW9uKCk7CiAgICB2YXIgc3RyaWN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTsKICAgIHZhciBwYXJlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnN0YW50aWF0aW9uU2VydmljZSk7CiAgICB0aGlzLl9hY3RpdmVJbnN0YW50aWF0aW9ucyA9IG5ldyBTZXQoKTsKICAgIHRoaXMuX3NlcnZpY2VzID0gc2VydmljZXM7CiAgICB0aGlzLl9zdHJpY3QgPSBzdHJpY3Q7CiAgICB0aGlzLl9wYXJlbnQgPSBwYXJlbnQ7CiAgICB0aGlzLl9zZXJ2aWNlcy5zZXQoSUluc3RhbnRpYXRpb25TZXJ2aWNlLCB0aGlzKTsKICB9CiAgX2NyZWF0ZUNsYXNzKEluc3RhbnRpYXRpb25TZXJ2aWNlLCBbewogICAga2V5OiAiY3JlYXRlQ2hpbGQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUNoaWxkKHNlcnZpY2VzKSB7CiAgICAgIHJldHVybiBuZXcgSW5zdGFudGlhdGlvblNlcnZpY2Uoc2VydmljZXMsIHRoaXMuX3N0cmljdCwgdGhpcyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaW52b2tlRnVuY3Rpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGludm9rZUZ1bmN0aW9uKGZuKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB2YXIgX3RyYWNlID0gVHJhY2UudHJhY2VJbnZvY2F0aW9uKGZuKTsKICAgICAgdmFyIF9kb25lID0gZmFsc2U7CiAgICAgIHRyeSB7CiAgICAgICAgdmFyIGFjY2Vzc29yID0gewogICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoaWQpIHsKICAgICAgICAgICAgaWYgKF9kb25lKSB7CiAgICAgICAgICAgICAgdGhyb3cgaWxsZWdhbFN0YXRlKCdzZXJ2aWNlIGFjY2Vzc29yIGlzIG9ubHkgdmFsaWQgZHVyaW5nIHRoZSBpbnZvY2F0aW9uIG9mIGl0cyB0YXJnZXQgbWV0aG9kJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IF90aGlzMi5fZ2V0T3JDcmVhdGVTZXJ2aWNlSW5zdGFuY2UoaWQsIF90cmFjZSk7CiAgICAgICAgICAgIGlmICghcmVzdWx0KSB7CiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJbaW52b2tlRnVuY3Rpb25dIHVua25vd24gc2VydmljZSAnIi5jb25jYXQoaWQsICInIikpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHZvaWQgMCwgW2FjY2Vzc29yXS5jb25jYXQoYXJncykpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9kb25lID0gdHJ1ZTsKICAgICAgICBfdHJhY2Uuc3RvcCgpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiY3JlYXRlSW5zdGFuY2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKGN0b3JPckRlc2NyaXB0b3IpIHsKICAgICAgdmFyIF90cmFjZTsKICAgICAgdmFyIHJlc3VsdDsKICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gbmV3IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHsKICAgICAgICByZXN0W19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdOwogICAgICB9CiAgICAgIGlmIChjdG9yT3JEZXNjcmlwdG9yIGluc3RhbmNlb2YgU3luY0Rlc2NyaXB0b3IpIHsKICAgICAgICBfdHJhY2UgPSBUcmFjZS50cmFjZUNyZWF0aW9uKGN0b3JPckRlc2NyaXB0b3IuY3Rvcik7CiAgICAgICAgcmVzdWx0ID0gdGhpcy5fY3JlYXRlSW5zdGFuY2UoY3Rvck9yRGVzY3JpcHRvci5jdG9yLCBjdG9yT3JEZXNjcmlwdG9yLnN0YXRpY0FyZ3VtZW50cy5jb25jYXQocmVzdCksIF90cmFjZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX3RyYWNlID0gVHJhY2UudHJhY2VDcmVhdGlvbihjdG9yT3JEZXNjcmlwdG9yKTsKICAgICAgICByZXN1bHQgPSB0aGlzLl9jcmVhdGVJbnN0YW5jZShjdG9yT3JEZXNjcmlwdG9yLCByZXN0LCBfdHJhY2UpOwogICAgICB9CiAgICAgIF90cmFjZS5zdG9wKCk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgfSwgewogICAga2V5OiAiX2NyZWF0ZUluc3RhbmNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfY3JlYXRlSW5zdGFuY2UoY3RvcikgewogICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogW107CiAgICAgIHZhciBfdHJhY2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICAgICAgLy8gYXJndW1lbnRzIGRlZmluZWQgYnkgc2VydmljZSBkZWNvcmF0b3JzCiAgICAgIHZhciBzZXJ2aWNlRGVwZW5kZW5jaWVzID0gX3V0aWwuZ2V0U2VydmljZURlcGVuZGVuY2llcyhjdG9yKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGEuaW5kZXggLSBiLmluZGV4OwogICAgICB9KTsKICAgICAgdmFyIHNlcnZpY2VBcmdzID0gW107CiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihzZXJ2aWNlRGVwZW5kZW5jaWVzKSwKICAgICAgICBfc3RlcDsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGRlcGVuZGVuY3kgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIHZhciBzZXJ2aWNlID0gdGhpcy5fZ2V0T3JDcmVhdGVTZXJ2aWNlSW5zdGFuY2UoZGVwZW5kZW5jeS5pZCwgX3RyYWNlKTsKICAgICAgICAgIGlmICghc2VydmljZSkgewogICAgICAgICAgICB0aGlzLl90aHJvd0lmU3RyaWN0KCJbY3JlYXRlSW5zdGFuY2VdICIuY29uY2F0KGN0b3IubmFtZSwgIiBkZXBlbmRzIG9uIFVOS05PV04gc2VydmljZSAiKS5jb25jYXQoZGVwZW5kZW5jeS5pZCwgIi4iKSwgZmFsc2UpOwogICAgICAgICAgfQogICAgICAgICAgc2VydmljZUFyZ3MucHVzaChzZXJ2aWNlKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQogICAgICB2YXIgZmlyc3RTZXJ2aWNlQXJnUG9zID0gc2VydmljZURlcGVuZGVuY2llcy5sZW5ndGggPiAwID8gc2VydmljZURlcGVuZGVuY2llc1swXS5pbmRleCA6IGFyZ3MubGVuZ3RoOwogICAgICAvLyBjaGVjayBmb3IgYXJndW1lbnQgbWlzbWF0Y2hlcywgYWRqdXN0IHN0YXRpYyBhcmdzIGlmIG5lZWRlZAogICAgICBpZiAoYXJncy5sZW5ndGggIT09IGZpcnN0U2VydmljZUFyZ1BvcykgewogICAgICAgIGNvbnNvbGUudHJhY2UoIltjcmVhdGVJbnN0YW5jZV0gRmlyc3Qgc2VydmljZSBkZXBlbmRlbmN5IG9mICIuY29uY2F0KGN0b3IubmFtZSwgIiBhdCBwb3NpdGlvbiAiKS5jb25jYXQoZmlyc3RTZXJ2aWNlQXJnUG9zICsgMSwgIiBjb25mbGljdHMgd2l0aCAiKS5jb25jYXQoYXJncy5sZW5ndGgsICIgc3RhdGljIGFyZ3VtZW50cyIpKTsKICAgICAgICB2YXIgZGVsdGEgPSBmaXJzdFNlcnZpY2VBcmdQb3MgLSBhcmdzLmxlbmd0aDsKICAgICAgICBpZiAoZGVsdGEgPiAwKSB7CiAgICAgICAgICBhcmdzID0gYXJncy5jb25jYXQobmV3IEFycmF5KGRlbHRhKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFyZ3MgPSBhcmdzLnNsaWNlKDAsIGZpcnN0U2VydmljZUFyZ1Bvcyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIC8vIG5vdyBjcmVhdGUgdGhlIGluc3RhbmNlCiAgICAgIHJldHVybiBfY29uc3RydWN0KGN0b3IsIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoYXJncyksIHNlcnZpY2VBcmdzKSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX3NldFNlcnZpY2VJbnN0YW5jZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3NldFNlcnZpY2VJbnN0YW5jZShpZCwgaW5zdGFuY2UpIHsKICAgICAgaWYgKHRoaXMuX3NlcnZpY2VzLmdldChpZCkgaW5zdGFuY2VvZiBTeW5jRGVzY3JpcHRvcikgewogICAgICAgIHRoaXMuX3NlcnZpY2VzLnNldChpZCwgaW5zdGFuY2UpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuX3BhcmVudCkgewogICAgICAgIHRoaXMuX3BhcmVudC5fc2V0U2VydmljZUluc3RhbmNlKGlkLCBpbnN0YW5jZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbGxlZ2FsU3RhdGUgLSBzZXR0aW5nIFVOS05PV04gc2VydmljZSBpbnN0YW5jZScpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiX2dldFNlcnZpY2VJbnN0YW5jZU9yRGVzY3JpcHRvciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFNlcnZpY2VJbnN0YW5jZU9yRGVzY3JpcHRvcihpZCkgewogICAgICB2YXIgaW5zdGFuY2VPckRlc2MgPSB0aGlzLl9zZXJ2aWNlcy5nZXQoaWQpOwogICAgICBpZiAoIWluc3RhbmNlT3JEZXNjICYmIHRoaXMuX3BhcmVudCkgewogICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQuX2dldFNlcnZpY2VJbnN0YW5jZU9yRGVzY3JpcHRvcihpZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGluc3RhbmNlT3JEZXNjOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiX2dldE9yQ3JlYXRlU2VydmljZUluc3RhbmNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0T3JDcmVhdGVTZXJ2aWNlSW5zdGFuY2UoaWQsIF90cmFjZSkgewogICAgICB2YXIgdGhpbmcgPSB0aGlzLl9nZXRTZXJ2aWNlSW5zdGFuY2VPckRlc2NyaXB0b3IoaWQpOwogICAgICBpZiAodGhpbmcgaW5zdGFuY2VvZiBTeW5jRGVzY3JpcHRvcikgewogICAgICAgIHJldHVybiB0aGlzLl9zYWZlQ3JlYXRlQW5kQ2FjaGVTZXJ2aWNlSW5zdGFuY2UoaWQsIHRoaW5nLCBfdHJhY2UuYnJhbmNoKGlkLCB0cnVlKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX3RyYWNlLmJyYW5jaChpZCwgZmFsc2UpOwogICAgICAgIHJldHVybiB0aGluZzsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogIl9zYWZlQ3JlYXRlQW5kQ2FjaGVTZXJ2aWNlSW5zdGFuY2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9zYWZlQ3JlYXRlQW5kQ2FjaGVTZXJ2aWNlSW5zdGFuY2UoaWQsIGRlc2MsIF90cmFjZSkgewogICAgICBpZiAodGhpcy5fYWN0aXZlSW5zdGFudGlhdGlvbnMuaGFzKGlkKSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcigiaWxsZWdhbCBzdGF0ZSAtIFJFQ1VSU0lWRUxZIGluc3RhbnRpYXRpbmcgc2VydmljZSAnIi5jb25jYXQoaWQsICInIikpOwogICAgICB9CiAgICAgIHRoaXMuX2FjdGl2ZUluc3RhbnRpYXRpb25zLmFkZChpZCk7CiAgICAgIHRyeSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUFuZENhY2hlU2VydmljZUluc3RhbmNlKGlkLCBkZXNjLCBfdHJhY2UpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRoaXMuX2FjdGl2ZUluc3RhbnRpYXRpb25zLmRlbGV0ZShpZCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJfY3JlYXRlQW5kQ2FjaGVTZXJ2aWNlSW5zdGFuY2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVBbmRDYWNoZVNlcnZpY2VJbnN0YW5jZShpZCwgZGVzYywgX3RyYWNlKSB7CiAgICAgIHZhciBncmFwaCA9IG5ldyBHcmFwaChmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBkYXRhLmlkLnRvU3RyaW5nKCk7CiAgICAgIH0pOwogICAgICB2YXIgY3ljbGVDb3VudCA9IDA7CiAgICAgIHZhciBzdGFjayA9IFt7CiAgICAgICAgaWQ6IGlkLAogICAgICAgIGRlc2M6IGRlc2MsCiAgICAgICAgX3RyYWNlOiBfdHJhY2UKICAgICAgfV07CiAgICAgIHdoaWxlIChzdGFjay5sZW5ndGgpIHsKICAgICAgICB2YXIgaXRlbSA9IHN0YWNrLnBvcCgpOwogICAgICAgIGdyYXBoLmxvb2t1cE9ySW5zZXJ0Tm9kZShpdGVtKTsKICAgICAgICAvLyBhIHdlYWsgYnV0IHdvcmtpbmcgaGV1cmlzdGljIGZvciBjeWNsZSBjaGVja3MKICAgICAgICBpZiAoY3ljbGVDb3VudCsrID4gMTAwMCkgewogICAgICAgICAgdGhyb3cgbmV3IEN5Y2xpY0RlcGVuZGVuY3lFcnJvcihncmFwaCk7CiAgICAgICAgfQogICAgICAgIC8vIGNoZWNrIGFsbCBkZXBlbmRlbmNpZXMgZm9yIGV4aXN0ZW5jZSBhbmQgaWYgdGhleSBuZWVkIHRvIGJlIGNyZWF0ZWQgZmlyc3QKICAgICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKF91dGlsLmdldFNlcnZpY2VEZXBlbmRlbmNpZXMoaXRlbS5kZXNjLmN0b3IpKSwKICAgICAgICAgIF9zdGVwMjsKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIGRlcGVuZGVuY3kgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICAgIHZhciBpbnN0YW5jZU9yRGVzYyA9IHRoaXMuX2dldFNlcnZpY2VJbnN0YW5jZU9yRGVzY3JpcHRvcihkZXBlbmRlbmN5LmlkKTsKICAgICAgICAgICAgaWYgKCFpbnN0YW5jZU9yRGVzYykgewogICAgICAgICAgICAgIHRoaXMuX3Rocm93SWZTdHJpY3QoIltjcmVhdGVJbnN0YW5jZV0gIi5jb25jYXQoaWQsICIgZGVwZW5kcyBvbiAiKS5jb25jYXQoZGVwZW5kZW5jeS5pZCwgIiB3aGljaCBpcyBOT1QgcmVnaXN0ZXJlZC4iKSwgdHJ1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGluc3RhbmNlT3JEZXNjIGluc3RhbmNlb2YgU3luY0Rlc2NyaXB0b3IpIHsKICAgICAgICAgICAgICB2YXIgZCA9IHsKICAgICAgICAgICAgICAgIGlkOiBkZXBlbmRlbmN5LmlkLAogICAgICAgICAgICAgICAgZGVzYzogaW5zdGFuY2VPckRlc2MsCiAgICAgICAgICAgICAgICBfdHJhY2U6IGl0ZW0uX3RyYWNlLmJyYW5jaChkZXBlbmRlbmN5LmlkLCB0cnVlKQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgZ3JhcGguaW5zZXJ0RWRnZShpdGVtLCBkKTsKICAgICAgICAgICAgICBzdGFjay5wdXNoKGQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHdoaWxlICh0cnVlKSB7CiAgICAgICAgdmFyIHJvb3RzID0gZ3JhcGgucm9vdHMoKTsKICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBtb3JlIHJvb3RzIGJ1dCBzdGlsbAogICAgICAgIC8vIG5vZGVzIGluIHRoZSBncmFwaCB3ZSBoYXZlIGEgY3ljbGUKICAgICAgICBpZiAocm9vdHMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICBpZiAoIWdyYXBoLmlzRW1wdHkoKSkgewogICAgICAgICAgICB0aHJvdyBuZXcgQ3ljbGljRGVwZW5kZW5jeUVycm9yKGdyYXBoKTsKICAgICAgICAgIH0KICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHJvb3RzKSwKICAgICAgICAgIF9zdGVwMzsKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIGRhdGEgPSBfc3RlcDMudmFsdWUuZGF0YTsKICAgICAgICAgICAgLy8gUmVwZWF0IHRoZSBjaGVjayBmb3IgdGhpcyBzdGlsbCBiZWluZyBhIHNlcnZpY2Ugc3luYyBkZXNjcmlwdG9yLiBUaGF0J3MgYmVjYXVzZQogICAgICAgICAgICAvLyBpbnN0YW50aWF0aW5nIGEgZGVwZW5kZW5jeSBtaWdodCBoYXZlIHNpZGUtZWZmZWN0IGFuZCByZWN1cnNpdmVseSB0cmlnZ2VyIGluc3RhbnRpYXRpb24KICAgICAgICAgICAgLy8gc28gdGhhdCBzb21lIGRlcGVuZGVuY2llcyBhcmUgbm93IGZ1bGxmaWxsZWQgYWxyZWFkeS4KICAgICAgICAgICAgdmFyIF9pbnN0YW5jZU9yRGVzYyA9IHRoaXMuX2dldFNlcnZpY2VJbnN0YW5jZU9yRGVzY3JpcHRvcihkYXRhLmlkKTsKICAgICAgICAgICAgaWYgKF9pbnN0YW5jZU9yRGVzYyBpbnN0YW5jZW9mIFN5bmNEZXNjcmlwdG9yKSB7CiAgICAgICAgICAgICAgLy8gY3JlYXRlIGluc3RhbmNlIGFuZCBvdmVyd3JpdGUgdGhlIHNlcnZpY2UgY29sbGVjdGlvbnMKICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzLl9jcmVhdGVTZXJ2aWNlSW5zdGFuY2VXaXRoT3duZXIoZGF0YS5pZCwgZGF0YS5kZXNjLmN0b3IsIGRhdGEuZGVzYy5zdGF0aWNBcmd1bWVudHMsIGRhdGEuZGVzYy5zdXBwb3J0c0RlbGF5ZWRJbnN0YW50aWF0aW9uLCBkYXRhLl90cmFjZSk7CiAgICAgICAgICAgICAgdGhpcy5fc2V0U2VydmljZUluc3RhbmNlKGRhdGEuaWQsIGluc3RhbmNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBncmFwaC5yZW1vdmVOb2RlKGRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvcjMuZigpOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gdGhpcy5fZ2V0U2VydmljZUluc3RhbmNlT3JEZXNjcmlwdG9yKGlkKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfY3JlYXRlU2VydmljZUluc3RhbmNlV2l0aE93bmVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfY3JlYXRlU2VydmljZUluc3RhbmNlV2l0aE93bmVyKGlkLCBjdG9yKSB7CiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBbXTsKICAgICAgdmFyIHN1cHBvcnRzRGVsYXllZEluc3RhbnRpYXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMyA/IGFyZ3VtZW50c1szXSA6IHVuZGVmaW5lZDsKICAgICAgdmFyIF90cmFjZSA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ID8gYXJndW1lbnRzWzRdIDogdW5kZWZpbmVkOwogICAgICBpZiAodGhpcy5fc2VydmljZXMuZ2V0KGlkKSBpbnN0YW5jZW9mIFN5bmNEZXNjcmlwdG9yKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZVNlcnZpY2VJbnN0YW5jZShjdG9yLCBhcmdzLCBzdXBwb3J0c0RlbGF5ZWRJbnN0YW50aWF0aW9uLCBfdHJhY2UpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuX3BhcmVudCkgewogICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQuX2NyZWF0ZVNlcnZpY2VJbnN0YW5jZVdpdGhPd25lcihpZCwgY3RvciwgYXJncywgc3VwcG9ydHNEZWxheWVkSW5zdGFudGlhdGlvbiwgX3RyYWNlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoImlsbGVnYWxTdGF0ZSAtIGNyZWF0aW5nIFVOS05PV04gc2VydmljZSBpbnN0YW5jZSAiLmNvbmNhdChjdG9yLm5hbWUpKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogIl9jcmVhdGVTZXJ2aWNlSW5zdGFuY2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVTZXJ2aWNlSW5zdGFuY2UoY3RvcikgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFtdOwogICAgICB2YXIgX3N1cHBvcnRzRGVsYXllZEluc3RhbnRpYXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICAgICAgdmFyIF90cmFjZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gYXJndW1lbnRzWzNdIDogdW5kZWZpbmVkOwogICAgICBpZiAoIV9zdXBwb3J0c0RlbGF5ZWRJbnN0YW50aWF0aW9uKSB7CiAgICAgICAgLy8gZWFnZXIgaW5zdGFudGlhdGlvbgogICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVJbnN0YW5jZShjdG9yLCBhcmdzLCBfdHJhY2UpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIFJldHVybiBhIHByb3h5IG9iamVjdCB0aGF0J3MgYmFja2VkIGJ5IGFuIGlkbGUgdmFsdWUuIFRoYXQKICAgICAgICAvLyBzdHJhdGVneSBpcyB0byBpbnN0YW50aWF0ZSBzZXJ2aWNlcyBpbiBvdXIgaWRsZSB0aW1lIG9yIHdoZW4gYWN0dWFsbHkKICAgICAgICAvLyBuZWVkZWQgYnV0IG5vdCB3aGVuIGluamVjdGVkIGludG8gYSBjb25zdW1lcgogICAgICAgIHZhciBpZGxlID0gbmV3IElkbGVWYWx1ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMzLl9jcmVhdGVJbnN0YW5jZShjdG9yLCBhcmdzLCBfdHJhY2UpOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBuZXcgUHJveHkoT2JqZWN0LmNyZWF0ZShudWxsKSwgewogICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQodGFyZ2V0LCBrZXkpIHsKICAgICAgICAgICAgaWYgKGtleSBpbiB0YXJnZXQpIHsKICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0W2tleV07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIG9iaiA9IGlkbGUudmFsdWU7CiAgICAgICAgICAgIHZhciBwcm9wID0gb2JqW2tleV07CiAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcCAhPT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgICAgIHJldHVybiBwcm9wOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHByb3AgPSBwcm9wLmJpbmQob2JqKTsKICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBwcm9wOwogICAgICAgICAgICByZXR1cm4gcHJvcDsKICAgICAgICAgIH0sCiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChfdGFyZ2V0LCBwLCB2YWx1ZSkgewogICAgICAgICAgICBpZGxlLnZhbHVlW3BdID0gdmFsdWU7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiX3Rocm93SWZTdHJpY3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF90aHJvd0lmU3RyaWN0KG1zZywgcHJpbnRXYXJuaW5nKSB7CiAgICAgIGlmIChwcmludFdhcm5pbmcpIHsKICAgICAgICBjb25zb2xlLndhcm4obXNnKTsKICAgICAgfQogICAgICBpZiAodGhpcy5fc3RyaWN0KSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7CiAgICAgIH0KICAgIH0KICB9XSk7CiAgcmV0dXJuIEluc3RhbnRpYXRpb25TZXJ2aWNlOwp9KCk7CmV4cG9ydCB2YXIgVHJhY2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFRyYWNlKHR5cGUsIG5hbWUpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFjZSk7CiAgICB0aGlzLnR5cGUgPSB0eXBlOwogICAgdGhpcy5uYW1lID0gbmFtZTsKICAgIHRoaXMuX3N0YXJ0ID0gRGF0ZS5ub3coKTsKICAgIHRoaXMuX2RlcCA9IFtdOwogIH0KICBfY3JlYXRlQ2xhc3MoVHJhY2UsIFt7CiAgICBrZXk6ICJicmFuY2giLAogICAgdmFsdWU6IGZ1bmN0aW9uIGJyYW5jaChpZCwgZmlyc3QpIHsKICAgICAgdmFyIGNoaWxkID0gbmV3IFRyYWNlKDIgLyogVHJhY2VUeXBlLkJyYW5jaCAqLywgaWQudG9TdHJpbmcoKSk7CiAgICAgIHRoaXMuX2RlcC5wdXNoKFtpZCwgZmlyc3QsIGNoaWxkXSk7CiAgICAgIHJldHVybiBjaGlsZDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzdG9wIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9wKCkgewogICAgICB2YXIgZHVyID0gRGF0ZS5ub3coKSAtIHRoaXMuX3N0YXJ0OwogICAgICBUcmFjZS5fdG90YWxzICs9IGR1cjsKICAgICAgdmFyIGNhdXNlZENyZWF0aW9uID0gZmFsc2U7CiAgICAgIGZ1bmN0aW9uIHByaW50Q2hpbGQobiwgdHJhY2UpIHsKICAgICAgICB2YXIgcmVzID0gW107CiAgICAgICAgdmFyIHByZWZpeCA9IG5ldyBBcnJheShuICsgMSkuam9pbignXHQnKTsKICAgICAgICB2YXIgX2l0ZXJhdG9yNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRyYWNlLl9kZXApLAogICAgICAgICAgX3N0ZXA0OwogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykgewogICAgICAgICAgICB2YXIgX3N0ZXA0JHZhbHVlID0gX3NsaWNlZFRvQXJyYXkoX3N0ZXA0LnZhbHVlLCAzKSwKICAgICAgICAgICAgICBpZCA9IF9zdGVwNCR2YWx1ZVswXSwKICAgICAgICAgICAgICBmaXJzdCA9IF9zdGVwNCR2YWx1ZVsxXSwKICAgICAgICAgICAgICBjaGlsZCA9IF9zdGVwNCR2YWx1ZVsyXTsKICAgICAgICAgICAgaWYgKGZpcnN0ICYmIGNoaWxkKSB7CiAgICAgICAgICAgICAgY2F1c2VkQ3JlYXRpb24gPSB0cnVlOwogICAgICAgICAgICAgIHJlcy5wdXNoKCIiLmNvbmNhdChwcmVmaXgsICJDUkVBVEVTIC0+ICIpLmNvbmNhdChpZCkpOwogICAgICAgICAgICAgIHZhciBuZXN0ZWQgPSBwcmludENoaWxkKG4gKyAxLCBjaGlsZCk7CiAgICAgICAgICAgICAgaWYgKG5lc3RlZCkgewogICAgICAgICAgICAgICAgcmVzLnB1c2gobmVzdGVkKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmVzLnB1c2goIiIuY29uY2F0KHByZWZpeCwgInVzZXMgLT4gIikuY29uY2F0KGlkKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvcjQuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3I0LmYoKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJlcy5qb2luKCdcbicpOwogICAgICB9CiAgICAgIHZhciBsaW5lcyA9IFsiIi5jb25jYXQodGhpcy50eXBlID09PSAwIC8qIFRyYWNlVHlwZS5DcmVhdGlvbiAqLyA/ICdDUkVBVEUnIDogJ0NBTEwnLCAiICIpLmNvbmNhdCh0aGlzLm5hbWUpLCAiIi5jb25jYXQocHJpbnRDaGlsZCgxLCB0aGlzKSksICJET05FLCB0b29rICIuY29uY2F0KGR1ci50b0ZpeGVkKDIpLCAibXMgKGdyYW5kIHRvdGFsICIpLmNvbmNhdChUcmFjZS5fdG90YWxzLnRvRml4ZWQoMiksICJtcykiKV07CiAgICAgIGlmIChkdXIgPiAyIHx8IGNhdXNlZENyZWF0aW9uKSB7CiAgICAgICAgY29uc29sZS5sb2cobGluZXMuam9pbignXG4nKSk7CiAgICAgIH0KICAgIH0KICB9XSwgW3sKICAgIGtleTogInRyYWNlSW52b2NhdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdHJhY2VJbnZvY2F0aW9uKGN0b3IpIHsKICAgICAgcmV0dXJuICFfZW5hYmxlVHJhY2luZyA/IFRyYWNlLl9Ob25lIDogbmV3IFRyYWNlKDEgLyogVHJhY2VUeXBlLkludm9jYXRpb24gKi8sIGN0b3IubmFtZSB8fCBjdG9yLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDQyKS5yZXBsYWNlKC9cbi9nLCAnJykpOwogICAgfQogIH0sIHsKICAgIGtleTogInRyYWNlQ3JlYXRpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRyYWNlQ3JlYXRpb24oY3RvcikgewogICAgICByZXR1cm4gIV9lbmFibGVUcmFjaW5nID8gVHJhY2UuX05vbmUgOiBuZXcgVHJhY2UoMCAvKiBUcmFjZVR5cGUuQ3JlYXRpb24gKi8sIGN0b3IubmFtZSk7CiAgICB9CiAgfV0pOwogIHJldHVybiBUcmFjZTsKfSgpOwpUcmFjZS5fTm9uZSA9IG5ldyAoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1RyYWNlKSB7CiAgX2luaGVyaXRzKF9jbGFzcywgX1RyYWNlKTsKICB2YXIgX3N1cGVyMiA9IF9jcmVhdGVTdXBlcihfY2xhc3MpOwogIGZ1bmN0aW9uIF9jbGFzcygpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBfY2xhc3MpOwogICAgcmV0dXJuIF9zdXBlcjIuY2FsbCh0aGlzLCAtMSwgbnVsbCk7CiAgfQogIF9jcmVhdGVDbGFzcyhfY2xhc3MsIFt7CiAgICBrZXk6ICJzdG9wIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9wKCkge30KICB9LCB7CiAgICBrZXk6ICJicmFuY2giLAogICAgdmFsdWU6IGZ1bmN0aW9uIGJyYW5jaCgpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfV0pOwogIHJldHVybiBfY2xhc3M7Cn0oVHJhY2UpKSgpOwpUcmFjZS5fdG90YWxzID0gMDsKLy8jZW5kcmVnaW9u"},{"version":3,"names":["IdleValue","illegalState","SyncDescriptor","Graph","IInstantiationService","_util","ServiceCollection","_enableTracing","CyclicDependencyError","graph","_a","message","findCycleSlow","toString","Error","InstantiationService","services","strict","parent","_activeInstantiations","Set","_services","_strict","_parent","set","fn","_trace","Trace","traceInvocation","_done","accessor","get","id","result","_getOrCreateServiceInstance","args","stop","ctorOrDescriptor","rest","traceCreation","ctor","_createInstance","staticArguments","concat","serviceDependencies","getServiceDependencies","sort","a","b","index","serviceArgs","dependency","service","_throwIfStrict","name","push","firstServiceArgPos","length","console","trace","delta","Array","slice","instance","_setServiceInstance","instanceOrDesc","_getServiceInstanceOrDescriptor","thing","_safeCreateAndCacheServiceInstance","branch","desc","has","add","_createAndCacheServiceInstance","delete","data","cycleCount","stack","item","pop","lookupOrInsertNode","d","insertEdge","roots","isEmpty","_createServiceInstanceWithOwner","supportsDelayedInstantiation","removeNode","_createServiceInstance","_supportsDelayedInstantiation","idle","Proxy","Object","create","target","key","obj","value","prop","bind","_target","p","msg","printWarning","warn","type","_start","Date","now","_dep","first","child","dur","_totals","causedCreation","printChild","n","res","prefix","join","nested","lines","toFixed","log","_None","substring","replace"],"sources":["/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiationService.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { IdleValue } from '../../../base/common/async.js';\nimport { illegalState } from '../../../base/common/errors.js';\nimport { SyncDescriptor } from './descriptors.js';\nimport { Graph } from './graph.js';\nimport { IInstantiationService, _util } from './instantiation.js';\nimport { ServiceCollection } from './serviceCollection.js';\n// TRACING\nconst _enableTracing = false;\nclass CyclicDependencyError extends Error {\n    constructor(graph) {\n        var _a;\n        super('cyclic dependency between services');\n        this.message = (_a = graph.findCycleSlow()) !== null && _a !== void 0 ? _a : `UNABLE to detect cycle, dumping graph: \\n${graph.toString()}`;\n    }\n}\nexport class InstantiationService {\n    constructor(services = new ServiceCollection(), strict = false, parent) {\n        this._activeInstantiations = new Set();\n        this._services = services;\n        this._strict = strict;\n        this._parent = parent;\n        this._services.set(IInstantiationService, this);\n    }\n    createChild(services) {\n        return new InstantiationService(services, this._strict, this);\n    }\n    invokeFunction(fn, ...args) {\n        const _trace = Trace.traceInvocation(fn);\n        let _done = false;\n        try {\n            const accessor = {\n                get: (id) => {\n                    if (_done) {\n                        throw illegalState('service accessor is only valid during the invocation of its target method');\n                    }\n                    const result = this._getOrCreateServiceInstance(id, _trace);\n                    if (!result) {\n                        throw new Error(`[invokeFunction] unknown service '${id}'`);\n                    }\n                    return result;\n                }\n            };\n            return fn(accessor, ...args);\n        }\n        finally {\n            _done = true;\n            _trace.stop();\n        }\n    }\n    createInstance(ctorOrDescriptor, ...rest) {\n        let _trace;\n        let result;\n        if (ctorOrDescriptor instanceof SyncDescriptor) {\n            _trace = Trace.traceCreation(ctorOrDescriptor.ctor);\n            result = this._createInstance(ctorOrDescriptor.ctor, ctorOrDescriptor.staticArguments.concat(rest), _trace);\n        }\n        else {\n            _trace = Trace.traceCreation(ctorOrDescriptor);\n            result = this._createInstance(ctorOrDescriptor, rest, _trace);\n        }\n        _trace.stop();\n        return result;\n    }\n    _createInstance(ctor, args = [], _trace) {\n        // arguments defined by service decorators\n        const serviceDependencies = _util.getServiceDependencies(ctor).sort((a, b) => a.index - b.index);\n        const serviceArgs = [];\n        for (const dependency of serviceDependencies) {\n            const service = this._getOrCreateServiceInstance(dependency.id, _trace);\n            if (!service) {\n                this._throwIfStrict(`[createInstance] ${ctor.name} depends on UNKNOWN service ${dependency.id}.`, false);\n            }\n            serviceArgs.push(service);\n        }\n        const firstServiceArgPos = serviceDependencies.length > 0 ? serviceDependencies[0].index : args.length;\n        // check for argument mismatches, adjust static args if needed\n        if (args.length !== firstServiceArgPos) {\n            console.trace(`[createInstance] First service dependency of ${ctor.name} at position ${firstServiceArgPos + 1} conflicts with ${args.length} static arguments`);\n            const delta = firstServiceArgPos - args.length;\n            if (delta > 0) {\n                args = args.concat(new Array(delta));\n            }\n            else {\n                args = args.slice(0, firstServiceArgPos);\n            }\n        }\n        // now create the instance\n        return new ctor(...[...args, ...serviceArgs]);\n    }\n    _setServiceInstance(id, instance) {\n        if (this._services.get(id) instanceof SyncDescriptor) {\n            this._services.set(id, instance);\n        }\n        else if (this._parent) {\n            this._parent._setServiceInstance(id, instance);\n        }\n        else {\n            throw new Error('illegalState - setting UNKNOWN service instance');\n        }\n    }\n    _getServiceInstanceOrDescriptor(id) {\n        const instanceOrDesc = this._services.get(id);\n        if (!instanceOrDesc && this._parent) {\n            return this._parent._getServiceInstanceOrDescriptor(id);\n        }\n        else {\n            return instanceOrDesc;\n        }\n    }\n    _getOrCreateServiceInstance(id, _trace) {\n        const thing = this._getServiceInstanceOrDescriptor(id);\n        if (thing instanceof SyncDescriptor) {\n            return this._safeCreateAndCacheServiceInstance(id, thing, _trace.branch(id, true));\n        }\n        else {\n            _trace.branch(id, false);\n            return thing;\n        }\n    }\n    _safeCreateAndCacheServiceInstance(id, desc, _trace) {\n        if (this._activeInstantiations.has(id)) {\n            throw new Error(`illegal state - RECURSIVELY instantiating service '${id}'`);\n        }\n        this._activeInstantiations.add(id);\n        try {\n            return this._createAndCacheServiceInstance(id, desc, _trace);\n        }\n        finally {\n            this._activeInstantiations.delete(id);\n        }\n    }\n    _createAndCacheServiceInstance(id, desc, _trace) {\n        const graph = new Graph(data => data.id.toString());\n        let cycleCount = 0;\n        const stack = [{ id, desc, _trace }];\n        while (stack.length) {\n            const item = stack.pop();\n            graph.lookupOrInsertNode(item);\n            // a weak but working heuristic for cycle checks\n            if (cycleCount++ > 1000) {\n                throw new CyclicDependencyError(graph);\n            }\n            // check all dependencies for existence and if they need to be created first\n            for (const dependency of _util.getServiceDependencies(item.desc.ctor)) {\n                const instanceOrDesc = this._getServiceInstanceOrDescriptor(dependency.id);\n                if (!instanceOrDesc) {\n                    this._throwIfStrict(`[createInstance] ${id} depends on ${dependency.id} which is NOT registered.`, true);\n                }\n                if (instanceOrDesc instanceof SyncDescriptor) {\n                    const d = { id: dependency.id, desc: instanceOrDesc, _trace: item._trace.branch(dependency.id, true) };\n                    graph.insertEdge(item, d);\n                    stack.push(d);\n                }\n            }\n        }\n        while (true) {\n            const roots = graph.roots();\n            // if there is no more roots but still\n            // nodes in the graph we have a cycle\n            if (roots.length === 0) {\n                if (!graph.isEmpty()) {\n                    throw new CyclicDependencyError(graph);\n                }\n                break;\n            }\n            for (const { data } of roots) {\n                // Repeat the check for this still being a service sync descriptor. That's because\n                // instantiating a dependency might have side-effect and recursively trigger instantiation\n                // so that some dependencies are now fullfilled already.\n                const instanceOrDesc = this._getServiceInstanceOrDescriptor(data.id);\n                if (instanceOrDesc instanceof SyncDescriptor) {\n                    // create instance and overwrite the service collections\n                    const instance = this._createServiceInstanceWithOwner(data.id, data.desc.ctor, data.desc.staticArguments, data.desc.supportsDelayedInstantiation, data._trace);\n                    this._setServiceInstance(data.id, instance);\n                }\n                graph.removeNode(data);\n            }\n        }\n        return this._getServiceInstanceOrDescriptor(id);\n    }\n    _createServiceInstanceWithOwner(id, ctor, args = [], supportsDelayedInstantiation, _trace) {\n        if (this._services.get(id) instanceof SyncDescriptor) {\n            return this._createServiceInstance(ctor, args, supportsDelayedInstantiation, _trace);\n        }\n        else if (this._parent) {\n            return this._parent._createServiceInstanceWithOwner(id, ctor, args, supportsDelayedInstantiation, _trace);\n        }\n        else {\n            throw new Error(`illegalState - creating UNKNOWN service instance ${ctor.name}`);\n        }\n    }\n    _createServiceInstance(ctor, args = [], _supportsDelayedInstantiation, _trace) {\n        if (!_supportsDelayedInstantiation) {\n            // eager instantiation\n            return this._createInstance(ctor, args, _trace);\n        }\n        else {\n            // Return a proxy object that's backed by an idle value. That\n            // strategy is to instantiate services in our idle time or when actually\n            // needed but not when injected into a consumer\n            const idle = new IdleValue(() => this._createInstance(ctor, args, _trace));\n            return new Proxy(Object.create(null), {\n                get(target, key) {\n                    if (key in target) {\n                        return target[key];\n                    }\n                    const obj = idle.value;\n                    let prop = obj[key];\n                    if (typeof prop !== 'function') {\n                        return prop;\n                    }\n                    prop = prop.bind(obj);\n                    target[key] = prop;\n                    return prop;\n                },\n                set(_target, p, value) {\n                    idle.value[p] = value;\n                    return true;\n                }\n            });\n        }\n    }\n    _throwIfStrict(msg, printWarning) {\n        if (printWarning) {\n            console.warn(msg);\n        }\n        if (this._strict) {\n            throw new Error(msg);\n        }\n    }\n}\nexport class Trace {\n    constructor(type, name) {\n        this.type = type;\n        this.name = name;\n        this._start = Date.now();\n        this._dep = [];\n    }\n    static traceInvocation(ctor) {\n        return !_enableTracing ? Trace._None : new Trace(1 /* TraceType.Invocation */, ctor.name || ctor.toString().substring(0, 42).replace(/\\n/g, ''));\n    }\n    static traceCreation(ctor) {\n        return !_enableTracing ? Trace._None : new Trace(0 /* TraceType.Creation */, ctor.name);\n    }\n    branch(id, first) {\n        const child = new Trace(2 /* TraceType.Branch */, id.toString());\n        this._dep.push([id, first, child]);\n        return child;\n    }\n    stop() {\n        const dur = Date.now() - this._start;\n        Trace._totals += dur;\n        let causedCreation = false;\n        function printChild(n, trace) {\n            const res = [];\n            const prefix = new Array(n + 1).join('\\t');\n            for (const [id, first, child] of trace._dep) {\n                if (first && child) {\n                    causedCreation = true;\n                    res.push(`${prefix}CREATES -> ${id}`);\n                    const nested = printChild(n + 1, child);\n                    if (nested) {\n                        res.push(nested);\n                    }\n                }\n                else {\n                    res.push(`${prefix}uses -> ${id}`);\n                }\n            }\n            return res.join('\\n');\n        }\n        const lines = [\n            `${this.type === 0 /* TraceType.Creation */ ? 'CREATE' : 'CALL'} ${this.name}`,\n            `${printChild(1, this)}`,\n            `DONE, took ${dur.toFixed(2)}ms (grand total ${Trace._totals.toFixed(2)}ms)`\n        ];\n        if (dur > 2 || causedCreation) {\n            console.log(lines.join('\\n'));\n        }\n    }\n}\nTrace._None = new class extends Trace {\n    constructor() { super(-1, null); }\n    stop() { }\n    branch() { return this; }\n};\nTrace._totals = 0;\n//#endregion\n"],"mappings":"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"}]}
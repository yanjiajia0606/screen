{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/services/getSemanticTokens.js","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/services/getSemanticTokens.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwovKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLgogKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KdmFyIF9fYXdhaXRlciA9IHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikgewogIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7CiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICByZXNvbHZlKHZhbHVlKTsKICAgIH0pOwogIH0KICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgewogICAgICB0cnkgewogICAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHJlamVjdChlKTsKICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsKICAgICAgdHJ5IHsKICAgICAgICBzdGVwKGdlbmVyYXRvclsidGhyb3ciXSh2YWx1ZSkpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgcmVqZWN0KGUpOwogICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgewogICAgICByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsKICAgIH0KICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTsKICB9KTsKfTsKaW1wb3J0IHsgQ2FuY2VsbGF0aW9uVG9rZW4gfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9jYW5jZWxsYXRpb24uanMnOwppbXBvcnQgeyBvblVuZXhwZWN0ZWRFeHRlcm5hbEVycm9yIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vZXJyb3JzLmpzJzsKaW1wb3J0IHsgVVJJIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vdXJpLmpzJzsKaW1wb3J0IHsgSU1vZGVsU2VydmljZSB9IGZyb20gJy4vbW9kZWwuanMnOwppbXBvcnQgeyBDb21tYW5kc1JlZ2lzdHJ5LCBJQ29tbWFuZFNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9wbGF0Zm9ybS9jb21tYW5kcy9jb21tb24vY29tbWFuZHMuanMnOwppbXBvcnQgeyBhc3NlcnRUeXBlIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vdHlwZXMuanMnOwppbXBvcnQgeyBlbmNvZGVTZW1hbnRpY1Rva2Vuc0R0byB9IGZyb20gJy4vc2VtYW50aWNUb2tlbnNEdG8uanMnOwppbXBvcnQgeyBSYW5nZSB9IGZyb20gJy4uL2NvcmUvcmFuZ2UuanMnOwppbXBvcnQgeyBJTGFuZ3VhZ2VGZWF0dXJlc1NlcnZpY2UgfSBmcm9tICcuL2xhbmd1YWdlRmVhdHVyZXMuanMnOwpleHBvcnQgZnVuY3Rpb24gaXNTZW1hbnRpY1Rva2Vucyh2KSB7CiAgcmV0dXJuIHYgJiYgISF2LmRhdGE7Cn0KZXhwb3J0IGZ1bmN0aW9uIGlzU2VtYW50aWNUb2tlbnNFZGl0cyh2KSB7CiAgcmV0dXJuIHYgJiYgQXJyYXkuaXNBcnJheSh2LmVkaXRzKTsKfQpleHBvcnQgdmFyIERvY3VtZW50U2VtYW50aWNUb2tlbnNSZXN1bHQgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUNsYXNzKGZ1bmN0aW9uIERvY3VtZW50U2VtYW50aWNUb2tlbnNSZXN1bHQocHJvdmlkZXIsIHRva2VucywgZXJyb3IpIHsKICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRG9jdW1lbnRTZW1hbnRpY1Rva2Vuc1Jlc3VsdCk7CiAgdGhpcy5wcm92aWRlciA9IHByb3ZpZGVyOwogIHRoaXMudG9rZW5zID0gdG9rZW5zOwogIHRoaXMuZXJyb3IgPSBlcnJvcjsKfSk7CmV4cG9ydCBmdW5jdGlvbiBoYXNEb2N1bWVudFNlbWFudGljVG9rZW5zUHJvdmlkZXIocmVnaXN0cnksIG1vZGVsKSB7CiAgcmV0dXJuIHJlZ2lzdHJ5Lmhhcyhtb2RlbCk7Cn0KZnVuY3Rpb24gZ2V0RG9jdW1lbnRTZW1hbnRpY1Rva2Vuc1Byb3ZpZGVycyhyZWdpc3RyeSwgbW9kZWwpIHsKICB2YXIgZ3JvdXBzID0gcmVnaXN0cnkub3JkZXJlZEdyb3Vwcyhtb2RlbCk7CiAgcmV0dXJuIGdyb3Vwcy5sZW5ndGggPiAwID8gZ3JvdXBzWzBdIDogW107Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldERvY3VtZW50U2VtYW50aWNUb2tlbnMocmVnaXN0cnksIG1vZGVsLCBsYXN0UHJvdmlkZXIsIGxhc3RSZXN1bHRJZCwgdG9rZW4pIHsKICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgdmFyIHByb3ZpZGVycywgcmVzdWx0cywgX2l0ZXJhdG9yLCBfc3RlcCwgcmVzdWx0OwogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgcHJvdmlkZXJzID0gZ2V0RG9jdW1lbnRTZW1hbnRpY1Rva2Vuc1Byb3ZpZGVycyhyZWdpc3RyeSwgbW9kZWwpOyAvLyBHZXQgdG9rZW5zIGZyb20gYWxsIHByb3ZpZGVycyBhdCB0aGUgc2FtZSB0aW1lLgogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm92aWRlcnMubWFwKGZ1bmN0aW9uIChwcm92aWRlcikgewogICAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICAgICAgICAgIHZhciByZXN1bHQsIGVycm9yOwogICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVyLnByb3ZpZGVEb2N1bWVudFNlbWFudGljVG9rZW5zKG1vZGVsLCBwcm92aWRlciA9PT0gbGFzdFByb3ZpZGVyID8gbGFzdFJlc3VsdElkIDogbnVsbCwgdG9rZW4pOwogICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBfY29udGV4dC50MDsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzdWx0IHx8ICFpc1NlbWFudGljVG9rZW5zKHJlc3VsdCkgJiYgIWlzU2VtYW50aWNUb2tlbnNFZGl0cyhyZXN1bHQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBuZXcgRG9jdW1lbnRTZW1hbnRpY1Rva2Vuc1Jlc3VsdChwcm92aWRlciwgcmVzdWx0LCBlcnJvcikpOwogICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDddXSk7CiAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICB9KSk7CiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHJlc3VsdHMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgLy8gVHJ5IHRvIHJldHVybiB0aGUgZmlyc3QgcmVzdWx0IHdpdGggYWN0dWFsIHRva2VucyBvcgogICAgICAgICAgICAvLyB0aGUgZmlyc3QgcmVzdWx0IHdoaWNoIHRocmV3IGFuIGVycm9yICghISkKICAgICAgICAgICAgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocmVzdWx0cyk7CiAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNTsKICAgICAgICAgICAgX2l0ZXJhdG9yLnMoKTsKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgaWYgKChfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmUpIHsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE1OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlc3VsdCA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICBpZiAoIXJlc3VsdC5lcnJvcikgewogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhyb3cgcmVzdWx0LmVycm9yOwogICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgaWYgKCFyZXN1bHQudG9rZW5zKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIwOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTc7CiAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSg1KTsKICAgICAgICAgICAgX2l0ZXJhdG9yLmUoX2NvbnRleHQyLnQwKTsKICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjA7CiAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuZmluaXNoKDIwKTsKICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgIGlmICghKHJlc3VsdHMubGVuZ3RoID4gMCkpIHsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI1OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCByZXN1bHRzWzBdKTsKICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBudWxsKTsKICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzUsIDE3LCAyMCwgMjNdXSk7CiAgfSkpOwp9CmZ1bmN0aW9uIF9nZXREb2N1bWVudFNlbWFudGljVG9rZW5zUHJvdmlkZXJIaWdoZXN0R3JvdXAocmVnaXN0cnksIG1vZGVsKSB7CiAgdmFyIHJlc3VsdCA9IHJlZ2lzdHJ5Lm9yZGVyZWRHcm91cHMobW9kZWwpOwogIHJldHVybiByZXN1bHQubGVuZ3RoID4gMCA/IHJlc3VsdFswXSA6IG51bGw7Cn0KdmFyIERvY3VtZW50UmFuZ2VTZW1hbnRpY1Rva2Vuc1Jlc3VsdCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlQ2xhc3MoZnVuY3Rpb24gRG9jdW1lbnRSYW5nZVNlbWFudGljVG9rZW5zUmVzdWx0KHByb3ZpZGVyLCB0b2tlbnMpIHsKICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRG9jdW1lbnRSYW5nZVNlbWFudGljVG9rZW5zUmVzdWx0KTsKICB0aGlzLnByb3ZpZGVyID0gcHJvdmlkZXI7CiAgdGhpcy50b2tlbnMgPSB0b2tlbnM7Cn0pOwpleHBvcnQgZnVuY3Rpb24gaGFzRG9jdW1lbnRSYW5nZVNlbWFudGljVG9rZW5zUHJvdmlkZXIocHJvdmlkZXJzLCBtb2RlbCkgewogIHJldHVybiBwcm92aWRlcnMuaGFzKG1vZGVsKTsKfQpmdW5jdGlvbiBnZXREb2N1bWVudFJhbmdlU2VtYW50aWNUb2tlbnNQcm92aWRlcnMocHJvdmlkZXJzLCBtb2RlbCkgewogIHZhciBncm91cHMgPSBwcm92aWRlcnMub3JkZXJlZEdyb3Vwcyhtb2RlbCk7CiAgcmV0dXJuIGdyb3Vwcy5sZW5ndGggPiAwID8gZ3JvdXBzWzBdIDogW107Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldERvY3VtZW50UmFuZ2VTZW1hbnRpY1Rva2VucyhyZWdpc3RyeSwgbW9kZWwsIHJhbmdlLCB0b2tlbikgewogIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgdmFyIHByb3ZpZGVycywgcmVzdWx0cywgX2l0ZXJhdG9yMiwgX3N0ZXAyLCByZXN1bHQ7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBwcm92aWRlcnMgPSBnZXREb2N1bWVudFJhbmdlU2VtYW50aWNUb2tlbnNQcm92aWRlcnMocmVnaXN0cnksIG1vZGVsKTsgLy8gR2V0IHRva2VucyBmcm9tIGFsbCBwcm92aWRlcnMgYXQgdGhlIHNhbWUgdGltZS4KICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvdmlkZXJzLm1hcChmdW5jdGlvbiAocHJvdmlkZXIpIHsKICAgICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKF90aGlzMiwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICAgICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVyLnByb3ZpZGVEb2N1bWVudFJhbmdlU2VtYW50aWNUb2tlbnMobW9kZWwsIHJhbmdlLCB0b2tlbik7CiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIG9uVW5leHBlY3RlZEV4dGVybmFsRXJyb3IoX2NvbnRleHQzLnQwKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzdWx0IHx8ICFpc1NlbWFudGljVG9rZW5zKHJlc3VsdCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBuZXcgRG9jdW1lbnRSYW5nZVNlbWFudGljVG9rZW5zUmVzdWx0KHByb3ZpZGVyLCByZXN1bHQpKTsKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzAsIDZdXSk7CiAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICB9KSk7CiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHJlc3VsdHMgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgLy8gVHJ5IHRvIHJldHVybiB0aGUgZmlyc3QgcmVzdWx0IHdpdGggYWN0dWFsIHRva2VucwogICAgICAgICAgICBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocmVzdWx0cyk7CiAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gNTsKICAgICAgICAgICAgX2l0ZXJhdG9yMi5zKCk7CiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIGlmICgoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmUpIHsKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEzOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlc3VsdCA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgICAgaWYgKCFyZXN1bHQudG9rZW5zKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE4OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMTU7CiAgICAgICAgICAgIF9jb250ZXh0NC50MCA9IF9jb250ZXh0NFsiY2F0Y2giXSg1KTsKICAgICAgICAgICAgX2l0ZXJhdG9yMi5lKF9jb250ZXh0NC50MCk7CiAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDE4OwogICAgICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5maW5pc2goMTgpOwogICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgaWYgKCEocmVzdWx0cy5sZW5ndGggPiAwKSkgewogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIHJlc3VsdHNbMF0pOwogICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIG51bGwpOwogICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTQsIG51bGwsIFtbNSwgMTUsIDE4LCAyMV1dKTsKICB9KSk7Cn0KQ29tbWFuZHNSZWdpc3RyeS5yZWdpc3RlckNvbW1hbmQoJ19wcm92aWRlRG9jdW1lbnRTZW1hbnRpY1Rva2Vuc0xlZ2VuZCcsIGZ1bmN0aW9uIChhY2Nlc3NvcikgewogIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldOwogIH0KICByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgIHZhciB1cmksIG1vZGVsLCBfYWNjZXNzb3IkZ2V0LCBkb2N1bWVudFNlbWFudGljVG9rZW5zUHJvdmlkZXIsIHByb3ZpZGVyczsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHVyaSA9IGFyZ3NbMF07CiAgICAgICAgICAgIGFzc2VydFR5cGUodXJpIGluc3RhbmNlb2YgVVJJKTsKICAgICAgICAgICAgbW9kZWwgPSBhY2Nlc3Nvci5nZXQoSU1vZGVsU2VydmljZSkuZ2V0TW9kZWwodXJpKTsKICAgICAgICAgICAgaWYgKG1vZGVsKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCB1bmRlZmluZWQpOwogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBfYWNjZXNzb3IkZ2V0ID0gYWNjZXNzb3IuZ2V0KElMYW5ndWFnZUZlYXR1cmVzU2VydmljZSksIGRvY3VtZW50U2VtYW50aWNUb2tlbnNQcm92aWRlciA9IF9hY2Nlc3NvciRnZXQuZG9jdW1lbnRTZW1hbnRpY1Rva2Vuc1Byb3ZpZGVyOwogICAgICAgICAgICBwcm92aWRlcnMgPSBfZ2V0RG9jdW1lbnRTZW1hbnRpY1Rva2Vuc1Byb3ZpZGVySGlnaGVzdEdyb3VwKGRvY3VtZW50U2VtYW50aWNUb2tlbnNQcm92aWRlciwgbW9kZWwpOwogICAgICAgICAgICBpZiAocHJvdmlkZXJzKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA5OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBhY2Nlc3Nvci5nZXQoSUNvbW1hbmRTZXJ2aWNlKS5leGVjdXRlQ29tbWFuZCgnX3Byb3ZpZGVEb2N1bWVudFJhbmdlU2VtYW50aWNUb2tlbnNMZWdlbmQnLCB1cmkpKTsKICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIHByb3ZpZGVyc1swXS5nZXRMZWdlbmQoKSk7CiAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNSk7CiAgfSkpOwp9KTsKQ29tbWFuZHNSZWdpc3RyeS5yZWdpc3RlckNvbW1hbmQoJ19wcm92aWRlRG9jdW1lbnRTZW1hbnRpY1Rva2VucycsIGZ1bmN0aW9uIChhY2Nlc3NvcikgewogIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7CiAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdOwogIH0KICByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgIHZhciB1cmksIG1vZGVsLCBfYWNjZXNzb3IkZ2V0MiwgZG9jdW1lbnRTZW1hbnRpY1Rva2Vuc1Byb3ZpZGVyLCByLCBwcm92aWRlciwgdG9rZW5zLCBidWZmOwogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgdXJpID0gYXJnc1swXTsKICAgICAgICAgICAgYXNzZXJ0VHlwZSh1cmkgaW5zdGFuY2VvZiBVUkkpOwogICAgICAgICAgICBtb2RlbCA9IGFjY2Vzc29yLmdldChJTW9kZWxTZXJ2aWNlKS5nZXRNb2RlbCh1cmkpOwogICAgICAgICAgICBpZiAobW9kZWwpIHsKICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDU7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIHVuZGVmaW5lZCk7CiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIF9hY2Nlc3NvciRnZXQyID0gYWNjZXNzb3IuZ2V0KElMYW5ndWFnZUZlYXR1cmVzU2VydmljZSksIGRvY3VtZW50U2VtYW50aWNUb2tlbnNQcm92aWRlciA9IF9hY2Nlc3NvciRnZXQyLmRvY3VtZW50U2VtYW50aWNUb2tlbnNQcm92aWRlcjsKICAgICAgICAgICAgaWYgKGhhc0RvY3VtZW50U2VtYW50aWNUb2tlbnNQcm92aWRlcihkb2N1bWVudFNlbWFudGljVG9rZW5zUHJvdmlkZXIsIG1vZGVsKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gODsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgYWNjZXNzb3IuZ2V0KElDb21tYW5kU2VydmljZSkuZXhlY3V0ZUNvbW1hbmQoJ19wcm92aWRlRG9jdW1lbnRSYW5nZVNlbWFudGljVG9rZW5zJywgdXJpLCBtb2RlbC5nZXRGdWxsTW9kZWxSYW5nZSgpKSk7CiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTA7CiAgICAgICAgICAgIHJldHVybiBnZXREb2N1bWVudFNlbWFudGljVG9rZW5zKGRvY3VtZW50U2VtYW50aWNUb2tlbnNQcm92aWRlciwgbW9kZWwsIG51bGwsIG51bGwsIENhbmNlbGxhdGlvblRva2VuLk5vbmUpOwogICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgciA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICBpZiAocikgewogICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIHVuZGVmaW5lZCk7CiAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICBwcm92aWRlciA9IHIucHJvdmlkZXIsIHRva2VucyA9IHIudG9rZW5zOwogICAgICAgICAgICBpZiAoISghdG9rZW5zIHx8ICFpc1NlbWFudGljVG9rZW5zKHRva2VucykpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxNjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgdW5kZWZpbmVkKTsKICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgIGJ1ZmYgPSBlbmNvZGVTZW1hbnRpY1Rva2Vuc0R0byh7CiAgICAgICAgICAgICAgaWQ6IDAsCiAgICAgICAgICAgICAgdHlwZTogJ2Z1bGwnLAogICAgICAgICAgICAgIGRhdGE6IHRva2Vucy5kYXRhCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAodG9rZW5zLnJlc3VsdElkKSB7CiAgICAgICAgICAgICAgcHJvdmlkZXIucmVsZWFzZURvY3VtZW50U2VtYW50aWNUb2tlbnModG9rZW5zLnJlc3VsdElkKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgYnVmZik7CiAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNik7CiAgfSkpOwp9KTsKQ29tbWFuZHNSZWdpc3RyeS5yZWdpc3RlckNvbW1hbmQoJ19wcm92aWRlRG9jdW1lbnRSYW5nZVNlbWFudGljVG9rZW5zTGVnZW5kJywgZnVuY3Rpb24gKGFjY2Vzc29yKSB7CiAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4zID4gMSA/IF9sZW4zIC0gMSA6IDApLCBfa2V5MyA9IDE7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHsKICAgIGFyZ3NbX2tleTMgLSAxXSA9IGFyZ3VtZW50c1tfa2V5M107CiAgfQogIHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgdmFyIHVyaSwgcmFuZ2UsIG1vZGVsLCBfYWNjZXNzb3IkZ2V0MywgZG9jdW1lbnRSYW5nZVNlbWFudGljVG9rZW5zUHJvdmlkZXIsIHByb3ZpZGVycywgcmVzdWx0OwogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgdXJpID0gYXJnc1swXSwgcmFuZ2UgPSBhcmdzWzFdOwogICAgICAgICAgICBhc3NlcnRUeXBlKHVyaSBpbnN0YW5jZW9mIFVSSSk7CiAgICAgICAgICAgIG1vZGVsID0gYWNjZXNzb3IuZ2V0KElNb2RlbFNlcnZpY2UpLmdldE1vZGVsKHVyaSk7CiAgICAgICAgICAgIGlmIChtb2RlbCkgewogICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgdW5kZWZpbmVkKTsKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgX2FjY2Vzc29yJGdldDMgPSBhY2Nlc3Nvci5nZXQoSUxhbmd1YWdlRmVhdHVyZXNTZXJ2aWNlKSwgZG9jdW1lbnRSYW5nZVNlbWFudGljVG9rZW5zUHJvdmlkZXIgPSBfYWNjZXNzb3IkZ2V0My5kb2N1bWVudFJhbmdlU2VtYW50aWNUb2tlbnNQcm92aWRlcjsKICAgICAgICAgICAgcHJvdmlkZXJzID0gZ2V0RG9jdW1lbnRSYW5nZVNlbWFudGljVG9rZW5zUHJvdmlkZXJzKGRvY3VtZW50UmFuZ2VTZW1hbnRpY1Rva2Vuc1Byb3ZpZGVyLCBtb2RlbCk7CiAgICAgICAgICAgIGlmICghKHByb3ZpZGVycy5sZW5ndGggPT09IDApKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA5OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KCJyZXR1cm4iLCB1bmRlZmluZWQpOwogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBpZiAoIShwcm92aWRlcnMubGVuZ3RoID09PSAxKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoInJldHVybiIsIHByb3ZpZGVyc1swXS5nZXRMZWdlbmQoKSk7CiAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBpZiAoISghcmFuZ2UgfHwgIVJhbmdlLmlzSVJhbmdlKHJhbmdlKSkpIHsKICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDE0OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIGlmIG5vIHJhbmdlIGlzIHByb3ZpZGVkLCB3ZSBjYW5ub3Qgc3VwcG9ydCBtdWx0aXBsZSBwcm92aWRlcnMKICAgICAgICAgICAgLy8gYXMgd2UgY2Fubm90IGZhbGwgYmFjayB0byB0aGUgb25lIHdoaWNoIHdvdWxkIGdpdmUgcmVzdWx0cwogICAgICAgICAgICAvLyA9PiByZXR1cm4gdGhlIGZpcnN0IGxlZ2VuZCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgYW5kIHByaW50IGEgd2FybmluZwogICAgICAgICAgICBjb25zb2xlLndhcm4oInByb3ZpZGVEb2N1bWVudFJhbmdlU2VtYW50aWNUb2tlbnNMZWdlbmQgbWlnaHQgYmUgb3V0LW9mLXN5bmMgd2l0aCBwcm92aWRlRG9jdW1lbnRSYW5nZVNlbWFudGljVG9rZW5zIHVubGVzcyBhIHJhbmdlIGFyZ3VtZW50IGlzIHBhc3NlZCBpbiIpOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgcHJvdmlkZXJzWzBdLmdldExlZ2VuZCgpKTsKICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTY7CiAgICAgICAgICAgIHJldHVybiBnZXREb2N1bWVudFJhbmdlU2VtYW50aWNUb2tlbnMoZG9jdW1lbnRSYW5nZVNlbWFudGljVG9rZW5zUHJvdmlkZXIsIG1vZGVsLCBSYW5nZS5saWZ0KHJhbmdlKSwgQ2FuY2VsbGF0aW9uVG9rZW4uTm9uZSk7CiAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDcuc2VudDsKICAgICAgICAgICAgaWYgKHJlc3VsdCkgewogICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoInJldHVybiIsIHVuZGVmaW5lZCk7CiAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0LnByb3ZpZGVyLmdldExlZ2VuZCgpKTsKICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU3KTsKICB9KSk7Cn0pOwpDb21tYW5kc1JlZ2lzdHJ5LnJlZ2lzdGVyQ29tbWFuZCgnX3Byb3ZpZGVEb2N1bWVudFJhbmdlU2VtYW50aWNUb2tlbnMnLCBmdW5jdGlvbiAoYWNjZXNzb3IpIHsKICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQgPiAxID8gX2xlbjQgLSAxIDogMCksIF9rZXk0ID0gMTsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykgewogICAgYXJnc1tfa2V5NCAtIDFdID0gYXJndW1lbnRzW19rZXk0XTsKICB9CiAgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICB2YXIgdXJpLCByYW5nZSwgbW9kZWwsIF9hY2Nlc3NvciRnZXQ0LCBkb2N1bWVudFJhbmdlU2VtYW50aWNUb2tlbnNQcm92aWRlciwgcmVzdWx0OwogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgdXJpID0gYXJnc1swXSwgcmFuZ2UgPSBhcmdzWzFdOwogICAgICAgICAgICBhc3NlcnRUeXBlKHVyaSBpbnN0YW5jZW9mIFVSSSk7CiAgICAgICAgICAgIGFzc2VydFR5cGUoUmFuZ2UuaXNJUmFuZ2UocmFuZ2UpKTsKICAgICAgICAgICAgbW9kZWwgPSBhY2Nlc3Nvci5nZXQoSU1vZGVsU2VydmljZSkuZ2V0TW9kZWwodXJpKTsKICAgICAgICAgICAgaWYgKG1vZGVsKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA2OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KCJyZXR1cm4iLCB1bmRlZmluZWQpOwogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBfYWNjZXNzb3IkZ2V0NCA9IGFjY2Vzc29yLmdldChJTGFuZ3VhZ2VGZWF0dXJlc1NlcnZpY2UpLCBkb2N1bWVudFJhbmdlU2VtYW50aWNUb2tlbnNQcm92aWRlciA9IF9hY2Nlc3NvciRnZXQ0LmRvY3VtZW50UmFuZ2VTZW1hbnRpY1Rva2Vuc1Byb3ZpZGVyOwogICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDk7CiAgICAgICAgICAgIHJldHVybiBnZXREb2N1bWVudFJhbmdlU2VtYW50aWNUb2tlbnMoZG9jdW1lbnRSYW5nZVNlbWFudGljVG9rZW5zUHJvdmlkZXIsIG1vZGVsLCBSYW5nZS5saWZ0KHJhbmdlKSwgQ2FuY2VsbGF0aW9uVG9rZW4uTm9uZSk7CiAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0OC5zZW50OwogICAgICAgICAgICBpZiAoISghcmVzdWx0IHx8ICFyZXN1bHQudG9rZW5zKSkgewogICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoInJldHVybiIsIHVuZGVmaW5lZCk7CiAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwgZW5jb2RlU2VtYW50aWNUb2tlbnNEdG8oewogICAgICAgICAgICAgIGlkOiAwLAogICAgICAgICAgICAgIHR5cGU6ICdmdWxsJywKICAgICAgICAgICAgICBkYXRhOiByZXN1bHQudG9rZW5zLmRhdGEKICAgICAgICAgICAgfSkpOwogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTgpOwogIH0pKTsKfSk7"},{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","CancellationToken","onUnexpectedExternalError","URI","IModelService","CommandsRegistry","ICommandService","assertType","encodeSemanticTokensDto","Range","ILanguageFeaturesService","isSemanticTokens","v","data","isSemanticTokensEdits","Array","isArray","edits","DocumentSemanticTokensResult","provider","tokens","error","hasDocumentSemanticTokensProvider","registry","model","has","getDocumentSemanticTokensProviders","groups","orderedGroups","length","getDocumentSemanticTokens","lastProvider","lastResultId","token","providers","all","map","provideDocumentSemanticTokens","results","_getDocumentSemanticTokensProviderHighestGroup","DocumentRangeSemanticTokensResult","hasDocumentRangeSemanticTokensProvider","getDocumentRangeSemanticTokensProviders","getDocumentRangeSemanticTokens","range","provideDocumentRangeSemanticTokens","registerCommand","accessor","args","uri","get","getModel","undefined","documentSemanticTokensProvider","executeCommand","getLegend","getFullModelRange","None","r","buff","id","type","resultId","releaseDocumentSemanticTokens","documentRangeSemanticTokensProvider","isIRange","console","warn","lift"],"sources":["/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/services/getSemanticTokens.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { IModelService } from './model.js';\nimport { CommandsRegistry, ICommandService } from '../../../platform/commands/common/commands.js';\nimport { assertType } from '../../../base/common/types.js';\nimport { encodeSemanticTokensDto } from './semanticTokensDto.js';\nimport { Range } from '../core/range.js';\nimport { ILanguageFeaturesService } from './languageFeatures.js';\nexport function isSemanticTokens(v) {\n    return v && !!(v.data);\n}\nexport function isSemanticTokensEdits(v) {\n    return v && Array.isArray(v.edits);\n}\nexport class DocumentSemanticTokensResult {\n    constructor(provider, tokens, error) {\n        this.provider = provider;\n        this.tokens = tokens;\n        this.error = error;\n    }\n}\nexport function hasDocumentSemanticTokensProvider(registry, model) {\n    return registry.has(model);\n}\nfunction getDocumentSemanticTokensProviders(registry, model) {\n    const groups = registry.orderedGroups(model);\n    return (groups.length > 0 ? groups[0] : []);\n}\nexport function getDocumentSemanticTokens(registry, model, lastProvider, lastResultId, token) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const providers = getDocumentSemanticTokensProviders(registry, model);\n        // Get tokens from all providers at the same time.\n        const results = yield Promise.all(providers.map((provider) => __awaiter(this, void 0, void 0, function* () {\n            let result;\n            let error = null;\n            try {\n                result = yield provider.provideDocumentSemanticTokens(model, (provider === lastProvider ? lastResultId : null), token);\n            }\n            catch (err) {\n                error = err;\n                result = null;\n            }\n            if (!result || (!isSemanticTokens(result) && !isSemanticTokensEdits(result))) {\n                result = null;\n            }\n            return new DocumentSemanticTokensResult(provider, result, error);\n        })));\n        // Try to return the first result with actual tokens or\n        // the first result which threw an error (!!)\n        for (const result of results) {\n            if (result.error) {\n                throw result.error;\n            }\n            if (result.tokens) {\n                return result;\n            }\n        }\n        // Return the first result, even if it doesn't have tokens\n        if (results.length > 0) {\n            return results[0];\n        }\n        return null;\n    });\n}\nfunction _getDocumentSemanticTokensProviderHighestGroup(registry, model) {\n    const result = registry.orderedGroups(model);\n    return (result.length > 0 ? result[0] : null);\n}\nclass DocumentRangeSemanticTokensResult {\n    constructor(provider, tokens) {\n        this.provider = provider;\n        this.tokens = tokens;\n    }\n}\nexport function hasDocumentRangeSemanticTokensProvider(providers, model) {\n    return providers.has(model);\n}\nfunction getDocumentRangeSemanticTokensProviders(providers, model) {\n    const groups = providers.orderedGroups(model);\n    return (groups.length > 0 ? groups[0] : []);\n}\nexport function getDocumentRangeSemanticTokens(registry, model, range, token) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const providers = getDocumentRangeSemanticTokensProviders(registry, model);\n        // Get tokens from all providers at the same time.\n        const results = yield Promise.all(providers.map((provider) => __awaiter(this, void 0, void 0, function* () {\n            let result;\n            try {\n                result = yield provider.provideDocumentRangeSemanticTokens(model, range, token);\n            }\n            catch (err) {\n                onUnexpectedExternalError(err);\n                result = null;\n            }\n            if (!result || !isSemanticTokens(result)) {\n                result = null;\n            }\n            return new DocumentRangeSemanticTokensResult(provider, result);\n        })));\n        // Try to return the first result with actual tokens\n        for (const result of results) {\n            if (result.tokens) {\n                return result;\n            }\n        }\n        // Return the first result, even if it doesn't have tokens\n        if (results.length > 0) {\n            return results[0];\n        }\n        return null;\n    });\n}\nCommandsRegistry.registerCommand('_provideDocumentSemanticTokensLegend', (accessor, ...args) => __awaiter(void 0, void 0, void 0, function* () {\n    const [uri] = args;\n    assertType(uri instanceof URI);\n    const model = accessor.get(IModelService).getModel(uri);\n    if (!model) {\n        return undefined;\n    }\n    const { documentSemanticTokensProvider } = accessor.get(ILanguageFeaturesService);\n    const providers = _getDocumentSemanticTokensProviderHighestGroup(documentSemanticTokensProvider, model);\n    if (!providers) {\n        // there is no provider => fall back to a document range semantic tokens provider\n        return accessor.get(ICommandService).executeCommand('_provideDocumentRangeSemanticTokensLegend', uri);\n    }\n    return providers[0].getLegend();\n}));\nCommandsRegistry.registerCommand('_provideDocumentSemanticTokens', (accessor, ...args) => __awaiter(void 0, void 0, void 0, function* () {\n    const [uri] = args;\n    assertType(uri instanceof URI);\n    const model = accessor.get(IModelService).getModel(uri);\n    if (!model) {\n        return undefined;\n    }\n    const { documentSemanticTokensProvider } = accessor.get(ILanguageFeaturesService);\n    if (!hasDocumentSemanticTokensProvider(documentSemanticTokensProvider, model)) {\n        // there is no provider => fall back to a document range semantic tokens provider\n        return accessor.get(ICommandService).executeCommand('_provideDocumentRangeSemanticTokens', uri, model.getFullModelRange());\n    }\n    const r = yield getDocumentSemanticTokens(documentSemanticTokensProvider, model, null, null, CancellationToken.None);\n    if (!r) {\n        return undefined;\n    }\n    const { provider, tokens } = r;\n    if (!tokens || !isSemanticTokens(tokens)) {\n        return undefined;\n    }\n    const buff = encodeSemanticTokensDto({\n        id: 0,\n        type: 'full',\n        data: tokens.data\n    });\n    if (tokens.resultId) {\n        provider.releaseDocumentSemanticTokens(tokens.resultId);\n    }\n    return buff;\n}));\nCommandsRegistry.registerCommand('_provideDocumentRangeSemanticTokensLegend', (accessor, ...args) => __awaiter(void 0, void 0, void 0, function* () {\n    const [uri, range] = args;\n    assertType(uri instanceof URI);\n    const model = accessor.get(IModelService).getModel(uri);\n    if (!model) {\n        return undefined;\n    }\n    const { documentRangeSemanticTokensProvider } = accessor.get(ILanguageFeaturesService);\n    const providers = getDocumentRangeSemanticTokensProviders(documentRangeSemanticTokensProvider, model);\n    if (providers.length === 0) {\n        // no providers\n        return undefined;\n    }\n    if (providers.length === 1) {\n        // straight forward case, just a single provider\n        return providers[0].getLegend();\n    }\n    if (!range || !Range.isIRange(range)) {\n        // if no range is provided, we cannot support multiple providers\n        // as we cannot fall back to the one which would give results\n        // => return the first legend for backwards compatibility and print a warning\n        console.warn(`provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in`);\n        return providers[0].getLegend();\n    }\n    const result = yield getDocumentRangeSemanticTokens(documentRangeSemanticTokensProvider, model, Range.lift(range), CancellationToken.None);\n    if (!result) {\n        return undefined;\n    }\n    return result.provider.getLegend();\n}));\nCommandsRegistry.registerCommand('_provideDocumentRangeSemanticTokens', (accessor, ...args) => __awaiter(void 0, void 0, void 0, function* () {\n    const [uri, range] = args;\n    assertType(uri instanceof URI);\n    assertType(Range.isIRange(range));\n    const model = accessor.get(IModelService).getModel(uri);\n    if (!model) {\n        return undefined;\n    }\n    const { documentRangeSemanticTokensProvider } = accessor.get(ILanguageFeaturesService);\n    const result = yield getDocumentRangeSemanticTokens(documentRangeSemanticTokensProvider, model, Range.lift(range), CancellationToken.None);\n    if (!result || !result.tokens) {\n        // there is no provider or it didn't return tokens\n        return undefined;\n    }\n    return encodeSemanticTokensDto({\n        id: 0,\n        type: 'full',\n        data: result.tokens.data\n    });\n}));\n"],"mappings":"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"}]}
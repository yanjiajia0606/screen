{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/config/editorOptions.js","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/config/editorOptions.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheS5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eS5qcyI7CmltcG9ydCBfZ2V0IGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0LmpzIjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2dldFByb3RvdHlwZU9mLmpzIjsKaW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cy5qcyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlci5qcyI7CmltcG9ydCBfdHlwZW9mIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mLmpzIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnN0aWNreS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRlc3QuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmVudHJpZXMuanMiOwovKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLgogKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KaW1wb3J0ICogYXMgbmxzIGZyb20gJy4uLy4uLy4uL25scy5qcyc7CmltcG9ydCAqIGFzIHBsYXRmb3JtIGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL3BsYXRmb3JtLmpzJzsKaW1wb3J0IHsgVVNVQUxfV09SRF9TRVBBUkFUT1JTIH0gZnJvbSAnLi4vY29yZS93b3JkSGVscGVyLmpzJzsKaW1wb3J0ICogYXMgYXJyYXlzIGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2FycmF5cy5qcyc7CmltcG9ydCAqIGFzIG9iamVjdHMgZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vb2JqZWN0cy5qcyc7CmltcG9ydCB7IEVESVRPUl9NT0RFTF9ERUZBVUxUUyB9IGZyb20gJy4uL2NvcmUvdGV4dE1vZGVsRGVmYXVsdHMuanMnOwovKioKICogQGludGVybmFsCiAqIFRoZSB3aWR0aCBvZiB0aGUgbWluaW1hcCBndXR0ZXIsIGluIHBpeGVscy4KICovCmV4cG9ydCB2YXIgTUlOSU1BUF9HVVRURVJfV0lEVEggPSA4OwovLyNlbmRyZWdpb24KLyoqCiAqIEFuIGV2ZW50IGRlc2NyaWJpbmcgdGhhdCB0aGUgY29uZmlndXJhdGlvbiBvZiB0aGUgZWRpdG9yIGhhcyBjaGFuZ2VkLgogKi8KZXhwb3J0IHZhciBDb25maWd1cmF0aW9uQ2hhbmdlZEV2ZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAvKioKICAgKiBAaW50ZXJuYWwKICAgKi8KICBmdW5jdGlvbiBDb25maWd1cmF0aW9uQ2hhbmdlZEV2ZW50KHZhbHVlcykgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbmZpZ3VyYXRpb25DaGFuZ2VkRXZlbnQpOwogICAgdGhpcy5fdmFsdWVzID0gdmFsdWVzOwogIH0KICBfY3JlYXRlQ2xhc3MoQ29uZmlndXJhdGlvbkNoYW5nZWRFdmVudCwgW3sKICAgIGtleTogImhhc0NoYW5nZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhc0NoYW5nZWQoaWQpIHsKICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlc1tpZF07CiAgICB9CiAgfV0pOwogIHJldHVybiBDb25maWd1cmF0aW9uQ2hhbmdlZEV2ZW50Owp9KCk7Ci8qKgogKiBAaW50ZXJuYWwKICovCmV4cG9ydCB2YXIgQ29tcHV0ZU9wdGlvbnNNZW1vcnkgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUNsYXNzKGZ1bmN0aW9uIENvbXB1dGVPcHRpb25zTWVtb3J5KCkgewogIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb21wdXRlT3B0aW9uc01lbW9yeSk7CiAgdGhpcy5zdGFibGVNaW5pbWFwTGF5b3V0SW5wdXQgPSBudWxsOwogIHRoaXMuc3RhYmxlRml0TWF4TWluaW1hcFNjYWxlID0gMDsKICB0aGlzLnN0YWJsZUZpdFJlbWFpbmluZ1dpZHRoID0gMDsKfSk7Ci8qKgogKiBAaW50ZXJuYWwKICovCnZhciBCYXNlRWRpdG9yT3B0aW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBCYXNlRWRpdG9yT3B0aW9uKGlkLCBuYW1lLCBkZWZhdWx0VmFsdWUsIHNjaGVtYSkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJhc2VFZGl0b3JPcHRpb24pOwogICAgdGhpcy5pZCA9IGlkOwogICAgdGhpcy5uYW1lID0gbmFtZTsKICAgIHRoaXMuZGVmYXVsdFZhbHVlID0gZGVmYXVsdFZhbHVlOwogICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7CiAgfQogIF9jcmVhdGVDbGFzcyhCYXNlRWRpdG9yT3B0aW9uLCBbewogICAga2V5OiAiYXBwbHlVcGRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGx5VXBkYXRlKHZhbHVlLCB1cGRhdGUpIHsKICAgICAgcmV0dXJuIF9hcHBseVVwZGF0ZSh2YWx1ZSwgdXBkYXRlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wdXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wdXRlKGVudiwgb3B0aW9ucywgdmFsdWUpIHsKICAgICAgcmV0dXJuIHZhbHVlOwogICAgfQogIH1dKTsKICByZXR1cm4gQmFzZUVkaXRvck9wdGlvbjsKfSgpOwpleHBvcnQgdmFyIEFwcGx5VXBkYXRlUmVzdWx0ID0gLyojX19QVVJFX18qL19jcmVhdGVDbGFzcyhmdW5jdGlvbiBBcHBseVVwZGF0ZVJlc3VsdChuZXdWYWx1ZSwgZGlkQ2hhbmdlKSB7CiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFwcGx5VXBkYXRlUmVzdWx0KTsKICB0aGlzLm5ld1ZhbHVlID0gbmV3VmFsdWU7CiAgdGhpcy5kaWRDaGFuZ2UgPSBkaWRDaGFuZ2U7Cn0pOwpmdW5jdGlvbiBfYXBwbHlVcGRhdGUodmFsdWUsIHVwZGF0ZSkgewogIGlmIChfdHlwZW9mKHZhbHVlKSAhPT0gJ29iamVjdCcgfHwgX3R5cGVvZih1cGRhdGUpICE9PSAnb2JqZWN0JyB8fCAhdmFsdWUgfHwgIXVwZGF0ZSkgewogICAgcmV0dXJuIG5ldyBBcHBseVVwZGF0ZVJlc3VsdCh1cGRhdGUsIHZhbHVlICE9PSB1cGRhdGUpOwogIH0KICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHwgQXJyYXkuaXNBcnJheSh1cGRhdGUpKSB7CiAgICB2YXIgYXJyYXlFcXVhbHMgPSBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiBBcnJheS5pc0FycmF5KHVwZGF0ZSkgJiYgYXJyYXlzLmVxdWFscyh2YWx1ZSwgdXBkYXRlKTsKICAgIHJldHVybiBuZXcgQXBwbHlVcGRhdGVSZXN1bHQodXBkYXRlLCAhYXJyYXlFcXVhbHMpOwogIH0KICB2YXIgZGlkQ2hhbmdlID0gZmFsc2U7CiAgZm9yICh2YXIga2V5IGluIHVwZGF0ZSkgewogICAgaWYgKHVwZGF0ZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7CiAgICAgIHZhciByZXN1bHQgPSBfYXBwbHlVcGRhdGUodmFsdWVba2V5XSwgdXBkYXRlW2tleV0pOwogICAgICBpZiAocmVzdWx0LmRpZENoYW5nZSkgewogICAgICAgIHZhbHVlW2tleV0gPSByZXN1bHQubmV3VmFsdWU7CiAgICAgICAgZGlkQ2hhbmdlID0gdHJ1ZTsKICAgICAgfQogICAgfQogIH0KICByZXR1cm4gbmV3IEFwcGx5VXBkYXRlUmVzdWx0KHZhbHVlLCBkaWRDaGFuZ2UpOwp9Ci8qKgogKiBAaW50ZXJuYWwKICovCnZhciBDb21wdXRlZEVkaXRvck9wdGlvbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQ29tcHV0ZWRFZGl0b3JPcHRpb24oaWQpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb21wdXRlZEVkaXRvck9wdGlvbik7CiAgICB0aGlzLnNjaGVtYSA9IHVuZGVmaW5lZDsKICAgIHRoaXMuaWQgPSBpZDsKICAgIHRoaXMubmFtZSA9ICdfbmV2ZXJfJzsKICAgIHRoaXMuZGVmYXVsdFZhbHVlID0gdW5kZWZpbmVkOwogIH0KICBfY3JlYXRlQ2xhc3MoQ29tcHV0ZWRFZGl0b3JPcHRpb24sIFt7CiAgICBrZXk6ICJhcHBseVVwZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYXBwbHlVcGRhdGUodmFsdWUsIHVwZGF0ZSkgewogICAgICByZXR1cm4gX2FwcGx5VXBkYXRlKHZhbHVlLCB1cGRhdGUpOwogICAgfQogIH0sIHsKICAgIGtleTogInZhbGlkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZShpbnB1dCkgewogICAgICByZXR1cm4gdGhpcy5kZWZhdWx0VmFsdWU7CiAgICB9CiAgfV0pOwogIHJldHVybiBDb21wdXRlZEVkaXRvck9wdGlvbjsKfSgpOwp2YXIgU2ltcGxlRWRpdG9yT3B0aW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBTaW1wbGVFZGl0b3JPcHRpb24oaWQsIG5hbWUsIGRlZmF1bHRWYWx1ZSwgc2NoZW1hKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2ltcGxlRWRpdG9yT3B0aW9uKTsKICAgIHRoaXMuaWQgPSBpZDsKICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICB0aGlzLmRlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZTsKICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hOwogIH0KICBfY3JlYXRlQ2xhc3MoU2ltcGxlRWRpdG9yT3B0aW9uLCBbewogICAga2V5OiAiYXBwbHlVcGRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGx5VXBkYXRlKHZhbHVlLCB1cGRhdGUpIHsKICAgICAgcmV0dXJuIF9hcHBseVVwZGF0ZSh2YWx1ZSwgdXBkYXRlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ2YWxpZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsaWRhdGUoaW5wdXQpIHsKICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0VmFsdWU7CiAgICAgIH0KICAgICAgcmV0dXJuIGlucHV0OwogICAgfQogIH0sIHsKICAgIGtleTogImNvbXB1dGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXB1dGUoZW52LCBvcHRpb25zLCB2YWx1ZSkgewogICAgICByZXR1cm4gdmFsdWU7CiAgICB9CiAgfV0pOwogIHJldHVybiBTaW1wbGVFZGl0b3JPcHRpb247Cn0oKTsKLyoqCiAqIEBpbnRlcm5hbAogKi8KZXhwb3J0IGZ1bmN0aW9uIGJvb2xlYW4odmFsdWUsIGRlZmF1bHRWYWx1ZSkgewogIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7CiAgICByZXR1cm4gZGVmYXVsdFZhbHVlOwogIH0KICBpZiAodmFsdWUgPT09ICdmYWxzZScpIHsKICAgIC8vIHRyZWF0IHRoZSBzdHJpbmcgJ2ZhbHNlJyBhcyBmYWxzZQogICAgcmV0dXJuIGZhbHNlOwogIH0KICByZXR1cm4gQm9vbGVhbih2YWx1ZSk7Cn0KdmFyIEVkaXRvckJvb2xlYW5PcHRpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TaW1wbGVFZGl0b3JPcHRpb24pIHsKICBfaW5oZXJpdHMoRWRpdG9yQm9vbGVhbk9wdGlvbiwgX1NpbXBsZUVkaXRvck9wdGlvbik7CiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihFZGl0b3JCb29sZWFuT3B0aW9uKTsKICBmdW5jdGlvbiBFZGl0b3JCb29sZWFuT3B0aW9uKGlkLCBuYW1lLCBkZWZhdWx0VmFsdWUpIHsKICAgIHZhciBzY2hlbWEgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHVuZGVmaW5lZDsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFZGl0b3JCb29sZWFuT3B0aW9uKTsKICAgIGlmICh0eXBlb2Ygc2NoZW1hICE9PSAndW5kZWZpbmVkJykgewogICAgICBzY2hlbWEudHlwZSA9ICdib29sZWFuJzsKICAgICAgc2NoZW1hLmRlZmF1bHQgPSBkZWZhdWx0VmFsdWU7CiAgICB9CiAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgaWQsIG5hbWUsIGRlZmF1bHRWYWx1ZSwgc2NoZW1hKTsKICB9CiAgX2NyZWF0ZUNsYXNzKEVkaXRvckJvb2xlYW5PcHRpb24sIFt7CiAgICBrZXk6ICJ2YWxpZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsaWRhdGUoaW5wdXQpIHsKICAgICAgcmV0dXJuIGJvb2xlYW4oaW5wdXQsIHRoaXMuZGVmYXVsdFZhbHVlKTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIEVkaXRvckJvb2xlYW5PcHRpb247Cn0oU2ltcGxlRWRpdG9yT3B0aW9uKTsKLyoqCiAqIEBpbnRlcm5hbAogKi8KZnVuY3Rpb24gX2NsYW1wZWRJbnQodmFsdWUsIGRlZmF1bHRWYWx1ZSwgbWluaW11bSwgbWF4aW11bSkgewogIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7CiAgICByZXR1cm4gZGVmYXVsdFZhbHVlOwogIH0KICB2YXIgciA9IHBhcnNlSW50KHZhbHVlLCAxMCk7CiAgaWYgKGlzTmFOKHIpKSB7CiAgICByZXR1cm4gZGVmYXVsdFZhbHVlOwogIH0KICByID0gTWF0aC5tYXgobWluaW11bSwgcik7CiAgciA9IE1hdGgubWluKG1heGltdW0sIHIpOwogIHJldHVybiByIHwgMDsKfQpleHBvcnQgeyBfY2xhbXBlZEludCBhcyBjbGFtcGVkSW50IH07CnZhciBFZGl0b3JJbnRPcHRpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TaW1wbGVFZGl0b3JPcHRpb24yKSB7CiAgX2luaGVyaXRzKEVkaXRvckludE9wdGlvbiwgX1NpbXBsZUVkaXRvck9wdGlvbjIpOwogIHZhciBfc3VwZXIyID0gX2NyZWF0ZVN1cGVyKEVkaXRvckludE9wdGlvbik7CiAgZnVuY3Rpb24gRWRpdG9ySW50T3B0aW9uKGlkLCBuYW1lLCBkZWZhdWx0VmFsdWUsIG1pbmltdW0sIG1heGltdW0pIHsKICAgIHZhciBfdGhpczsKICAgIHZhciBzY2hlbWEgPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IHVuZGVmaW5lZDsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFZGl0b3JJbnRPcHRpb24pOwogICAgaWYgKHR5cGVvZiBzY2hlbWEgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgIHNjaGVtYS50eXBlID0gJ2ludGVnZXInOwogICAgICBzY2hlbWEuZGVmYXVsdCA9IGRlZmF1bHRWYWx1ZTsKICAgICAgc2NoZW1hLm1pbmltdW0gPSBtaW5pbXVtOwogICAgICBzY2hlbWEubWF4aW11bSA9IG1heGltdW07CiAgICB9CiAgICBfdGhpcyA9IF9zdXBlcjIuY2FsbCh0aGlzLCBpZCwgbmFtZSwgZGVmYXVsdFZhbHVlLCBzY2hlbWEpOwogICAgX3RoaXMubWluaW11bSA9IG1pbmltdW07CiAgICBfdGhpcy5tYXhpbXVtID0gbWF4aW11bTsKICAgIHJldHVybiBfdGhpczsKICB9CiAgX2NyZWF0ZUNsYXNzKEVkaXRvckludE9wdGlvbiwgW3sKICAgIGtleTogInZhbGlkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZShpbnB1dCkgewogICAgICByZXR1cm4gRWRpdG9ySW50T3B0aW9uLmNsYW1wZWRJbnQoaW5wdXQsIHRoaXMuZGVmYXVsdFZhbHVlLCB0aGlzLm1pbmltdW0sIHRoaXMubWF4aW11bSk7CiAgICB9CiAgfV0sIFt7CiAgICBrZXk6ICJjbGFtcGVkSW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbGFtcGVkSW50KHZhbHVlLCBkZWZhdWx0VmFsdWUsIG1pbmltdW0sIG1heGltdW0pIHsKICAgICAgcmV0dXJuIF9jbGFtcGVkSW50KHZhbHVlLCBkZWZhdWx0VmFsdWUsIG1pbmltdW0sIG1heGltdW0pOwogICAgfQogIH1dKTsKICByZXR1cm4gRWRpdG9ySW50T3B0aW9uOwp9KFNpbXBsZUVkaXRvck9wdGlvbik7CnZhciBFZGl0b3JGbG9hdE9wdGlvbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1NpbXBsZUVkaXRvck9wdGlvbjMpIHsKICBfaW5oZXJpdHMoRWRpdG9yRmxvYXRPcHRpb24sIF9TaW1wbGVFZGl0b3JPcHRpb24zKTsKICB2YXIgX3N1cGVyMyA9IF9jcmVhdGVTdXBlcihFZGl0b3JGbG9hdE9wdGlvbik7CiAgZnVuY3Rpb24gRWRpdG9yRmxvYXRPcHRpb24oaWQsIG5hbWUsIGRlZmF1bHRWYWx1ZSwgdmFsaWRhdGlvbkZuLCBzY2hlbWEpIHsKICAgIHZhciBfdGhpczI7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRWRpdG9yRmxvYXRPcHRpb24pOwogICAgaWYgKHR5cGVvZiBzY2hlbWEgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgIHNjaGVtYS50eXBlID0gJ251bWJlcic7CiAgICAgIHNjaGVtYS5kZWZhdWx0ID0gZGVmYXVsdFZhbHVlOwogICAgfQogICAgX3RoaXMyID0gX3N1cGVyMy5jYWxsKHRoaXMsIGlkLCBuYW1lLCBkZWZhdWx0VmFsdWUsIHNjaGVtYSk7CiAgICBfdGhpczIudmFsaWRhdGlvbkZuID0gdmFsaWRhdGlvbkZuOwogICAgcmV0dXJuIF90aGlzMjsKICB9CiAgX2NyZWF0ZUNsYXNzKEVkaXRvckZsb2F0T3B0aW9uLCBbewogICAga2V5OiAidmFsaWRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlKGlucHV0KSB7CiAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRpb25GbihFZGl0b3JGbG9hdE9wdGlvbi5mbG9hdChpbnB1dCwgdGhpcy5kZWZhdWx0VmFsdWUpKTsKICAgIH0KICB9XSwgW3sKICAgIGtleTogImNsYW1wIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbGFtcChuLCBtaW4sIG1heCkgewogICAgICBpZiAobiA8IG1pbikgewogICAgICAgIHJldHVybiBtaW47CiAgICAgIH0KICAgICAgaWYgKG4gPiBtYXgpIHsKICAgICAgICByZXR1cm4gbWF4OwogICAgICB9CiAgICAgIHJldHVybiBuOwogICAgfQogIH0sIHsKICAgIGtleTogImZsb2F0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmbG9hdCh2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7CiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7CiAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICB9CiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTsKICAgICAgfQogICAgICB2YXIgciA9IHBhcnNlRmxvYXQodmFsdWUpOwogICAgICByZXR1cm4gaXNOYU4ocikgPyBkZWZhdWx0VmFsdWUgOiByOwogICAgfQogIH1dKTsKICByZXR1cm4gRWRpdG9yRmxvYXRPcHRpb247Cn0oU2ltcGxlRWRpdG9yT3B0aW9uKTsKdmFyIEVkaXRvclN0cmluZ09wdGlvbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1NpbXBsZUVkaXRvck9wdGlvbjQpIHsKICBfaW5oZXJpdHMoRWRpdG9yU3RyaW5nT3B0aW9uLCBfU2ltcGxlRWRpdG9yT3B0aW9uNCk7CiAgdmFyIF9zdXBlcjQgPSBfY3JlYXRlU3VwZXIoRWRpdG9yU3RyaW5nT3B0aW9uKTsKICBmdW5jdGlvbiBFZGl0b3JTdHJpbmdPcHRpb24oaWQsIG5hbWUsIGRlZmF1bHRWYWx1ZSkgewogICAgdmFyIHNjaGVtYSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogdW5kZWZpbmVkOwogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVkaXRvclN0cmluZ09wdGlvbik7CiAgICBpZiAodHlwZW9mIHNjaGVtYSAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgc2NoZW1hLnR5cGUgPSAnc3RyaW5nJzsKICAgICAgc2NoZW1hLmRlZmF1bHQgPSBkZWZhdWx0VmFsdWU7CiAgICB9CiAgICByZXR1cm4gX3N1cGVyNC5jYWxsKHRoaXMsIGlkLCBuYW1lLCBkZWZhdWx0VmFsdWUsIHNjaGVtYSk7CiAgfQogIF9jcmVhdGVDbGFzcyhFZGl0b3JTdHJpbmdPcHRpb24sIFt7CiAgICBrZXk6ICJ2YWxpZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsaWRhdGUoaW5wdXQpIHsKICAgICAgcmV0dXJuIEVkaXRvclN0cmluZ09wdGlvbi5zdHJpbmcoaW5wdXQsIHRoaXMuZGVmYXVsdFZhbHVlKTsKICAgIH0KICB9XSwgW3sKICAgIGtleTogInN0cmluZyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc3RyaW5nKHZhbHVlLCBkZWZhdWx0VmFsdWUpIHsKICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHsKICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlOwogICAgICB9CiAgICAgIHJldHVybiB2YWx1ZTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIEVkaXRvclN0cmluZ09wdGlvbjsKfShTaW1wbGVFZGl0b3JPcHRpb24pOwovKioKICogQGludGVybmFsCiAqLwpleHBvcnQgZnVuY3Rpb24gc3RyaW5nU2V0KHZhbHVlLCBkZWZhdWx0VmFsdWUsIGFsbG93ZWRWYWx1ZXMpIHsKICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykgewogICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTsKICB9CiAgaWYgKGFsbG93ZWRWYWx1ZXMuaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7CiAgICByZXR1cm4gZGVmYXVsdFZhbHVlOwogIH0KICByZXR1cm4gdmFsdWU7Cn0KdmFyIEVkaXRvclN0cmluZ0VudW1PcHRpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TaW1wbGVFZGl0b3JPcHRpb241KSB7CiAgX2luaGVyaXRzKEVkaXRvclN0cmluZ0VudW1PcHRpb24sIF9TaW1wbGVFZGl0b3JPcHRpb241KTsKICB2YXIgX3N1cGVyNSA9IF9jcmVhdGVTdXBlcihFZGl0b3JTdHJpbmdFbnVtT3B0aW9uKTsKICBmdW5jdGlvbiBFZGl0b3JTdHJpbmdFbnVtT3B0aW9uKGlkLCBuYW1lLCBkZWZhdWx0VmFsdWUsIGFsbG93ZWRWYWx1ZXMpIHsKICAgIHZhciBfdGhpczM7CiAgICB2YXIgc2NoZW1hID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiB1bmRlZmluZWQ7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRWRpdG9yU3RyaW5nRW51bU9wdGlvbik7CiAgICBpZiAodHlwZW9mIHNjaGVtYSAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgc2NoZW1hLnR5cGUgPSAnc3RyaW5nJzsKICAgICAgc2NoZW1hLmVudW0gPSBhbGxvd2VkVmFsdWVzOwogICAgICBzY2hlbWEuZGVmYXVsdCA9IGRlZmF1bHRWYWx1ZTsKICAgIH0KICAgIF90aGlzMyA9IF9zdXBlcjUuY2FsbCh0aGlzLCBpZCwgbmFtZSwgZGVmYXVsdFZhbHVlLCBzY2hlbWEpOwogICAgX3RoaXMzLl9hbGxvd2VkVmFsdWVzID0gYWxsb3dlZFZhbHVlczsKICAgIHJldHVybiBfdGhpczM7CiAgfQogIF9jcmVhdGVDbGFzcyhFZGl0b3JTdHJpbmdFbnVtT3B0aW9uLCBbewogICAga2V5OiAidmFsaWRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlKGlucHV0KSB7CiAgICAgIHJldHVybiBzdHJpbmdTZXQoaW5wdXQsIHRoaXMuZGVmYXVsdFZhbHVlLCB0aGlzLl9hbGxvd2VkVmFsdWVzKTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIEVkaXRvclN0cmluZ0VudW1PcHRpb247Cn0oU2ltcGxlRWRpdG9yT3B0aW9uKTsKdmFyIEVkaXRvckVudW1PcHRpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9CYXNlRWRpdG9yT3B0aW9uKSB7CiAgX2luaGVyaXRzKEVkaXRvckVudW1PcHRpb24sIF9CYXNlRWRpdG9yT3B0aW9uKTsKICB2YXIgX3N1cGVyNiA9IF9jcmVhdGVTdXBlcihFZGl0b3JFbnVtT3B0aW9uKTsKICBmdW5jdGlvbiBFZGl0b3JFbnVtT3B0aW9uKGlkLCBuYW1lLCBkZWZhdWx0VmFsdWUsIGRlZmF1bHRTdHJpbmdWYWx1ZSwgYWxsb3dlZFZhbHVlcywgY29udmVydCkgewogICAgdmFyIF90aGlzNDsKICAgIHZhciBzY2hlbWEgPSBhcmd1bWVudHMubGVuZ3RoID4gNiAmJiBhcmd1bWVudHNbNl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s2XSA6IHVuZGVmaW5lZDsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFZGl0b3JFbnVtT3B0aW9uKTsKICAgIGlmICh0eXBlb2Ygc2NoZW1hICE9PSAndW5kZWZpbmVkJykgewogICAgICBzY2hlbWEudHlwZSA9ICdzdHJpbmcnOwogICAgICBzY2hlbWEuZW51bSA9IGFsbG93ZWRWYWx1ZXM7CiAgICAgIHNjaGVtYS5kZWZhdWx0ID0gZGVmYXVsdFN0cmluZ1ZhbHVlOwogICAgfQogICAgX3RoaXM0ID0gX3N1cGVyNi5jYWxsKHRoaXMsIGlkLCBuYW1lLCBkZWZhdWx0VmFsdWUsIHNjaGVtYSk7CiAgICBfdGhpczQuX2FsbG93ZWRWYWx1ZXMgPSBhbGxvd2VkVmFsdWVzOwogICAgX3RoaXM0Ll9jb252ZXJ0ID0gY29udmVydDsKICAgIHJldHVybiBfdGhpczQ7CiAgfQogIF9jcmVhdGVDbGFzcyhFZGl0b3JFbnVtT3B0aW9uLCBbewogICAga2V5OiAidmFsaWRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlKGlucHV0KSB7CiAgICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFZhbHVlOwogICAgICB9CiAgICAgIGlmICh0aGlzLl9hbGxvd2VkVmFsdWVzLmluZGV4T2YoaW5wdXQpID09PSAtMSkgewogICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRWYWx1ZTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5fY29udmVydChpbnB1dCk7CiAgICB9CiAgfV0pOwogIHJldHVybiBFZGl0b3JFbnVtT3B0aW9uOwp9KEJhc2VFZGl0b3JPcHRpb24pOyAvLyNlbmRyZWdpb24KLy8jcmVnaW9uIGF1dG9JbmRlbnQKZnVuY3Rpb24gX2F1dG9JbmRlbnRGcm9tU3RyaW5nKGF1dG9JbmRlbnQpIHsKICBzd2l0Y2ggKGF1dG9JbmRlbnQpIHsKICAgIGNhc2UgJ25vbmUnOgogICAgICByZXR1cm4gMCAvKiBFZGl0b3JBdXRvSW5kZW50U3RyYXRlZ3kuTm9uZSAqLzsKICAgIGNhc2UgJ2tlZXAnOgogICAgICByZXR1cm4gMSAvKiBFZGl0b3JBdXRvSW5kZW50U3RyYXRlZ3kuS2VlcCAqLzsKICAgIGNhc2UgJ2JyYWNrZXRzJzoKICAgICAgcmV0dXJuIDIgLyogRWRpdG9yQXV0b0luZGVudFN0cmF0ZWd5LkJyYWNrZXRzICovOwogICAgY2FzZSAnYWR2YW5jZWQnOgogICAgICByZXR1cm4gMyAvKiBFZGl0b3JBdXRvSW5kZW50U3RyYXRlZ3kuQWR2YW5jZWQgKi87CiAgICBjYXNlICdmdWxsJzoKICAgICAgcmV0dXJuIDQgLyogRWRpdG9yQXV0b0luZGVudFN0cmF0ZWd5LkZ1bGwgKi87CiAgfQp9Ci8vI2VuZHJlZ2lvbgovLyNyZWdpb24gYWNjZXNzaWJpbGl0eVN1cHBvcnQKdmFyIEVkaXRvckFjY2Vzc2liaWxpdHlTdXBwb3J0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZUVkaXRvck9wdGlvbjIpIHsKICBfaW5oZXJpdHMoRWRpdG9yQWNjZXNzaWJpbGl0eVN1cHBvcnQsIF9CYXNlRWRpdG9yT3B0aW9uMik7CiAgdmFyIF9zdXBlcjcgPSBfY3JlYXRlU3VwZXIoRWRpdG9yQWNjZXNzaWJpbGl0eVN1cHBvcnQpOwogIGZ1bmN0aW9uIEVkaXRvckFjY2Vzc2liaWxpdHlTdXBwb3J0KCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVkaXRvckFjY2Vzc2liaWxpdHlTdXBwb3J0KTsKICAgIHJldHVybiBfc3VwZXI3LmNhbGwodGhpcywgMiAvKiBFZGl0b3JPcHRpb24uYWNjZXNzaWJpbGl0eVN1cHBvcnQgKi8sICdhY2Nlc3NpYmlsaXR5U3VwcG9ydCcsIDAgLyogQWNjZXNzaWJpbGl0eVN1cHBvcnQuVW5rbm93biAqLywgewogICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgZW51bTogWydhdXRvJywgJ29uJywgJ29mZiddLAogICAgICBlbnVtRGVzY3JpcHRpb25zOiBbbmxzLmxvY2FsaXplKCdhY2Nlc3NpYmlsaXR5U3VwcG9ydC5hdXRvJywgIlRoZSBlZGl0b3Igd2lsbCB1c2UgcGxhdGZvcm0gQVBJcyB0byBkZXRlY3Qgd2hlbiBhIFNjcmVlbiBSZWFkZXIgaXMgYXR0YWNoZWQuIiksIG5scy5sb2NhbGl6ZSgnYWNjZXNzaWJpbGl0eVN1cHBvcnQub24nLCAiVGhlIGVkaXRvciB3aWxsIGJlIHBlcm1hbmVudGx5IG9wdGltaXplZCBmb3IgdXNhZ2Ugd2l0aCBhIFNjcmVlbiBSZWFkZXIuIFdvcmQgd3JhcHBpbmcgd2lsbCBiZSBkaXNhYmxlZC4iKSwgbmxzLmxvY2FsaXplKCdhY2Nlc3NpYmlsaXR5U3VwcG9ydC5vZmYnLCAiVGhlIGVkaXRvciB3aWxsIG5ldmVyIGJlIG9wdGltaXplZCBmb3IgdXNhZ2Ugd2l0aCBhIFNjcmVlbiBSZWFkZXIuIildLAogICAgICBkZWZhdWx0OiAnYXV0bycsCiAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2FjY2Vzc2liaWxpdHlTdXBwb3J0JywgIkNvbnRyb2xzIHdoZXRoZXIgdGhlIGVkaXRvciBzaG91bGQgcnVuIGluIGEgbW9kZSB3aGVyZSBpdCBpcyBvcHRpbWl6ZWQgZm9yIHNjcmVlbiByZWFkZXJzLiBTZXR0aW5nIHRvIG9uIHdpbGwgZGlzYWJsZSB3b3JkIHdyYXBwaW5nLiIpCiAgICB9KTsKICB9CiAgX2NyZWF0ZUNsYXNzKEVkaXRvckFjY2Vzc2liaWxpdHlTdXBwb3J0LCBbewogICAga2V5OiAidmFsaWRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlKGlucHV0KSB7CiAgICAgIHN3aXRjaCAoaW5wdXQpIHsKICAgICAgICBjYXNlICdhdXRvJzoKICAgICAgICAgIHJldHVybiAwIC8qIEFjY2Vzc2liaWxpdHlTdXBwb3J0LlVua25vd24gKi87CiAgICAgICAgY2FzZSAnb2ZmJzoKICAgICAgICAgIHJldHVybiAxIC8qIEFjY2Vzc2liaWxpdHlTdXBwb3J0LkRpc2FibGVkICovOwogICAgICAgIGNhc2UgJ29uJzoKICAgICAgICAgIHJldHVybiAyIC8qIEFjY2Vzc2liaWxpdHlTdXBwb3J0LkVuYWJsZWQgKi87CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRWYWx1ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wdXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wdXRlKGVudiwgb3B0aW9ucywgdmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09PSAwIC8qIEFjY2Vzc2liaWxpdHlTdXBwb3J0LlVua25vd24gKi8pIHsKICAgICAgICAvLyBUaGUgZWRpdG9yIHJlYWRzIHRoZSBgYWNjZXNzaWJpbGl0eVN1cHBvcnRgIGZyb20gdGhlIGVudmlyb25tZW50CiAgICAgICAgcmV0dXJuIGVudi5hY2Nlc3NpYmlsaXR5U3VwcG9ydDsKICAgICAgfQogICAgICByZXR1cm4gdmFsdWU7CiAgICB9CiAgfV0pOwogIHJldHVybiBFZGl0b3JBY2Nlc3NpYmlsaXR5U3VwcG9ydDsKfShCYXNlRWRpdG9yT3B0aW9uKTsKdmFyIEVkaXRvckNvbW1lbnRzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZUVkaXRvck9wdGlvbjMpIHsKICBfaW5oZXJpdHMoRWRpdG9yQ29tbWVudHMsIF9CYXNlRWRpdG9yT3B0aW9uMyk7CiAgdmFyIF9zdXBlcjggPSBfY3JlYXRlU3VwZXIoRWRpdG9yQ29tbWVudHMpOwogIGZ1bmN0aW9uIEVkaXRvckNvbW1lbnRzKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVkaXRvckNvbW1lbnRzKTsKICAgIHZhciBkZWZhdWx0cyA9IHsKICAgICAgaW5zZXJ0U3BhY2U6IHRydWUsCiAgICAgIGlnbm9yZUVtcHR5TGluZXM6IHRydWUKICAgIH07CiAgICByZXR1cm4gX3N1cGVyOC5jYWxsKHRoaXMsIDE5IC8qIEVkaXRvck9wdGlvbi5jb21tZW50cyAqLywgJ2NvbW1lbnRzJywgZGVmYXVsdHMsIHsKICAgICAgJ2VkaXRvci5jb21tZW50cy5pbnNlcnRTcGFjZSc6IHsKICAgICAgICB0eXBlOiAnYm9vbGVhbicsCiAgICAgICAgZGVmYXVsdDogZGVmYXVsdHMuaW5zZXJ0U3BhY2UsCiAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnY29tbWVudHMuaW5zZXJ0U3BhY2UnLCAiQ29udHJvbHMgd2hldGhlciBhIHNwYWNlIGNoYXJhY3RlciBpcyBpbnNlcnRlZCB3aGVuIGNvbW1lbnRpbmcuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5jb21tZW50cy5pZ25vcmVFbXB0eUxpbmVzJzogewogICAgICAgIHR5cGU6ICdib29sZWFuJywKICAgICAgICBkZWZhdWx0OiBkZWZhdWx0cy5pZ25vcmVFbXB0eUxpbmVzLAogICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2NvbW1lbnRzLmlnbm9yZUVtcHR5TGluZXMnLCAnQ29udHJvbHMgaWYgZW1wdHkgbGluZXMgc2hvdWxkIGJlIGlnbm9yZWQgd2l0aCB0b2dnbGUsIGFkZCBvciByZW1vdmUgYWN0aW9ucyBmb3IgbGluZSBjb21tZW50cy4nKQogICAgICB9CiAgICB9KTsKICB9CiAgX2NyZWF0ZUNsYXNzKEVkaXRvckNvbW1lbnRzLCBbewogICAga2V5OiAidmFsaWRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlKF9pbnB1dCkgewogICAgICBpZiAoIV9pbnB1dCB8fCBfdHlwZW9mKF9pbnB1dCkgIT09ICdvYmplY3QnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFZhbHVlOwogICAgICB9CiAgICAgIHZhciBpbnB1dCA9IF9pbnB1dDsKICAgICAgcmV0dXJuIHsKICAgICAgICBpbnNlcnRTcGFjZTogYm9vbGVhbihpbnB1dC5pbnNlcnRTcGFjZSwgdGhpcy5kZWZhdWx0VmFsdWUuaW5zZXJ0U3BhY2UpLAogICAgICAgIGlnbm9yZUVtcHR5TGluZXM6IGJvb2xlYW4oaW5wdXQuaWdub3JlRW1wdHlMaW5lcywgdGhpcy5kZWZhdWx0VmFsdWUuaWdub3JlRW1wdHlMaW5lcykKICAgICAgfTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIEVkaXRvckNvbW1lbnRzOwp9KEJhc2VFZGl0b3JPcHRpb24pOwpmdW5jdGlvbiBfY3Vyc29yQmxpbmtpbmdTdHlsZUZyb21TdHJpbmcoY3Vyc29yQmxpbmtpbmdTdHlsZSkgewogIHN3aXRjaCAoY3Vyc29yQmxpbmtpbmdTdHlsZSkgewogICAgY2FzZSAnYmxpbmsnOgogICAgICByZXR1cm4gMSAvKiBUZXh0RWRpdG9yQ3Vyc29yQmxpbmtpbmdTdHlsZS5CbGluayAqLzsKICAgIGNhc2UgJ3Ntb290aCc6CiAgICAgIHJldHVybiAyIC8qIFRleHRFZGl0b3JDdXJzb3JCbGlua2luZ1N0eWxlLlNtb290aCAqLzsKICAgIGNhc2UgJ3BoYXNlJzoKICAgICAgcmV0dXJuIDMgLyogVGV4dEVkaXRvckN1cnNvckJsaW5raW5nU3R5bGUuUGhhc2UgKi87CiAgICBjYXNlICdleHBhbmQnOgogICAgICByZXR1cm4gNCAvKiBUZXh0RWRpdG9yQ3Vyc29yQmxpbmtpbmdTdHlsZS5FeHBhbmQgKi87CiAgICBjYXNlICdzb2xpZCc6CiAgICAgIHJldHVybiA1IC8qIFRleHRFZGl0b3JDdXJzb3JCbGlua2luZ1N0eWxlLlNvbGlkICovOwogIH0KfQovLyNlbmRyZWdpb24KLy8jcmVnaW9uIGN1cnNvclN0eWxlCi8qKgogKiBUaGUgc3R5bGUgaW4gd2hpY2ggdGhlIGVkaXRvcidzIGN1cnNvciBzaG91bGQgYmUgcmVuZGVyZWQuCiAqLwpleHBvcnQgdmFyIFRleHRFZGl0b3JDdXJzb3JTdHlsZTsKKGZ1bmN0aW9uIChUZXh0RWRpdG9yQ3Vyc29yU3R5bGUpIHsKICAvKioKICAgKiBBcyBhIHZlcnRpY2FsIGxpbmUgKHNpdHRpbmcgYmV0d2VlbiB0d28gY2hhcmFjdGVycykuCiAgICovCiAgVGV4dEVkaXRvckN1cnNvclN0eWxlW1RleHRFZGl0b3JDdXJzb3JTdHlsZVsiTGluZSJdID0gMV0gPSAiTGluZSI7CiAgLyoqCiAgICogQXMgYSBibG9jayAoc2l0dGluZyBvbiB0b3Agb2YgYSBjaGFyYWN0ZXIpLgogICAqLwogIFRleHRFZGl0b3JDdXJzb3JTdHlsZVtUZXh0RWRpdG9yQ3Vyc29yU3R5bGVbIkJsb2NrIl0gPSAyXSA9ICJCbG9jayI7CiAgLyoqCiAgICogQXMgYSBob3Jpem9udGFsIGxpbmUgKHNpdHRpbmcgdW5kZXIgYSBjaGFyYWN0ZXIpLgogICAqLwogIFRleHRFZGl0b3JDdXJzb3JTdHlsZVtUZXh0RWRpdG9yQ3Vyc29yU3R5bGVbIlVuZGVybGluZSJdID0gM10gPSAiVW5kZXJsaW5lIjsKICAvKioKICAgKiBBcyBhIHRoaW4gdmVydGljYWwgbGluZSAoc2l0dGluZyBiZXR3ZWVuIHR3byBjaGFyYWN0ZXJzKS4KICAgKi8KICBUZXh0RWRpdG9yQ3Vyc29yU3R5bGVbVGV4dEVkaXRvckN1cnNvclN0eWxlWyJMaW5lVGhpbiJdID0gNF0gPSAiTGluZVRoaW4iOwogIC8qKgogICAqIEFzIGFuIG91dGxpbmVkIGJsb2NrIChzaXR0aW5nIG9uIHRvcCBvZiBhIGNoYXJhY3RlcikuCiAgICovCiAgVGV4dEVkaXRvckN1cnNvclN0eWxlW1RleHRFZGl0b3JDdXJzb3JTdHlsZVsiQmxvY2tPdXRsaW5lIl0gPSA1XSA9ICJCbG9ja091dGxpbmUiOwogIC8qKgogICAqIEFzIGEgdGhpbiBob3Jpem9udGFsIGxpbmUgKHNpdHRpbmcgdW5kZXIgYSBjaGFyYWN0ZXIpLgogICAqLwogIFRleHRFZGl0b3JDdXJzb3JTdHlsZVtUZXh0RWRpdG9yQ3Vyc29yU3R5bGVbIlVuZGVybGluZVRoaW4iXSA9IDZdID0gIlVuZGVybGluZVRoaW4iOwp9KShUZXh0RWRpdG9yQ3Vyc29yU3R5bGUgfHwgKFRleHRFZGl0b3JDdXJzb3JTdHlsZSA9IHt9KSk7CmZ1bmN0aW9uIF9jdXJzb3JTdHlsZUZyb21TdHJpbmcoY3Vyc29yU3R5bGUpIHsKICBzd2l0Y2ggKGN1cnNvclN0eWxlKSB7CiAgICBjYXNlICdsaW5lJzoKICAgICAgcmV0dXJuIFRleHRFZGl0b3JDdXJzb3JTdHlsZS5MaW5lOwogICAgY2FzZSAnYmxvY2snOgogICAgICByZXR1cm4gVGV4dEVkaXRvckN1cnNvclN0eWxlLkJsb2NrOwogICAgY2FzZSAndW5kZXJsaW5lJzoKICAgICAgcmV0dXJuIFRleHRFZGl0b3JDdXJzb3JTdHlsZS5VbmRlcmxpbmU7CiAgICBjYXNlICdsaW5lLXRoaW4nOgogICAgICByZXR1cm4gVGV4dEVkaXRvckN1cnNvclN0eWxlLkxpbmVUaGluOwogICAgY2FzZSAnYmxvY2stb3V0bGluZSc6CiAgICAgIHJldHVybiBUZXh0RWRpdG9yQ3Vyc29yU3R5bGUuQmxvY2tPdXRsaW5lOwogICAgY2FzZSAndW5kZXJsaW5lLXRoaW4nOgogICAgICByZXR1cm4gVGV4dEVkaXRvckN1cnNvclN0eWxlLlVuZGVybGluZVRoaW47CiAgfQp9Ci8vI2VuZHJlZ2lvbgovLyNyZWdpb24gZWRpdG9yQ2xhc3NOYW1lCnZhciBFZGl0b3JDbGFzc05hbWUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wdXRlZEVkaXRvck9wdGlvbikgewogIF9pbmhlcml0cyhFZGl0b3JDbGFzc05hbWUsIF9Db21wdXRlZEVkaXRvck9wdGlvbik7CiAgdmFyIF9zdXBlcjkgPSBfY3JlYXRlU3VwZXIoRWRpdG9yQ2xhc3NOYW1lKTsKICBmdW5jdGlvbiBFZGl0b3JDbGFzc05hbWUoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRWRpdG9yQ2xhc3NOYW1lKTsKICAgIHJldHVybiBfc3VwZXI5LmNhbGwodGhpcywgMTMwIC8qIEVkaXRvck9wdGlvbi5lZGl0b3JDbGFzc05hbWUgKi8pOwogIH0KICBfY3JlYXRlQ2xhc3MoRWRpdG9yQ2xhc3NOYW1lLCBbewogICAga2V5OiAiY29tcHV0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcHV0ZShlbnYsIG9wdGlvbnMsIF8pIHsKICAgICAgdmFyIGNsYXNzTmFtZXMgPSBbJ21vbmFjby1lZGl0b3InXTsKICAgICAgaWYgKG9wdGlvbnMuZ2V0KDM1IC8qIEVkaXRvck9wdGlvbi5leHRyYUVkaXRvckNsYXNzTmFtZSAqLykpIHsKICAgICAgICBjbGFzc05hbWVzLnB1c2gob3B0aW9ucy5nZXQoMzUgLyogRWRpdG9yT3B0aW9uLmV4dHJhRWRpdG9yQ2xhc3NOYW1lICovKSk7CiAgICAgIH0KCiAgICAgIGlmIChlbnYuZXh0cmFFZGl0b3JDbGFzc05hbWUpIHsKICAgICAgICBjbGFzc05hbWVzLnB1c2goZW52LmV4dHJhRWRpdG9yQ2xhc3NOYW1lKTsKICAgICAgfQogICAgICBpZiAob3B0aW9ucy5nZXQoNjggLyogRWRpdG9yT3B0aW9uLm1vdXNlU3R5bGUgKi8pID09PSAnZGVmYXVsdCcpIHsKICAgICAgICBjbGFzc05hbWVzLnB1c2goJ21vdXNlLWRlZmF1bHQnKTsKICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmdldCg2OCAvKiBFZGl0b3JPcHRpb24ubW91c2VTdHlsZSAqLykgPT09ICdjb3B5JykgewogICAgICAgIGNsYXNzTmFtZXMucHVzaCgnbW91c2UtY29weScpOwogICAgICB9CiAgICAgIGlmIChvcHRpb25zLmdldCgxMDIgLyogRWRpdG9yT3B0aW9uLnNob3dVbnVzZWQgKi8pKSB7CiAgICAgICAgY2xhc3NOYW1lcy5wdXNoKCdzaG93VW51c2VkJyk7CiAgICAgIH0KICAgICAgaWYgKG9wdGlvbnMuZ2V0KDEyOCAvKiBFZGl0b3JPcHRpb24uc2hvd0RlcHJlY2F0ZWQgKi8pKSB7CiAgICAgICAgY2xhc3NOYW1lcy5wdXNoKCdzaG93RGVwcmVjYXRlZCcpOwogICAgICB9CiAgICAgIHJldHVybiBjbGFzc05hbWVzLmpvaW4oJyAnKTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIEVkaXRvckNsYXNzTmFtZTsKfShDb21wdXRlZEVkaXRvck9wdGlvbik7IC8vI2VuZHJlZ2lvbgovLyNyZWdpb24gZW1wdHlTZWxlY3Rpb25DbGlwYm9hcmQKdmFyIEVkaXRvckVtcHR5U2VsZWN0aW9uQ2xpcGJvYXJkID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRWRpdG9yQm9vbGVhbk9wdGlvbikgewogIF9pbmhlcml0cyhFZGl0b3JFbXB0eVNlbGVjdGlvbkNsaXBib2FyZCwgX0VkaXRvckJvb2xlYW5PcHRpb24pOwogIHZhciBfc3VwZXIxMCA9IF9jcmVhdGVTdXBlcihFZGl0b3JFbXB0eVNlbGVjdGlvbkNsaXBib2FyZCk7CiAgZnVuY3Rpb24gRWRpdG9yRW1wdHlTZWxlY3Rpb25DbGlwYm9hcmQoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRWRpdG9yRW1wdHlTZWxlY3Rpb25DbGlwYm9hcmQpOwogICAgcmV0dXJuIF9zdXBlcjEwLmNhbGwodGhpcywgMzMgLyogRWRpdG9yT3B0aW9uLmVtcHR5U2VsZWN0aW9uQ2xpcGJvYXJkICovLCAnZW1wdHlTZWxlY3Rpb25DbGlwYm9hcmQnLCB0cnVlLCB7CiAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2VtcHR5U2VsZWN0aW9uQ2xpcGJvYXJkJywgIkNvbnRyb2xzIHdoZXRoZXIgY29weWluZyB3aXRob3V0IGEgc2VsZWN0aW9uIGNvcGllcyB0aGUgY3VycmVudCBsaW5lLiIpCiAgICB9KTsKICB9CiAgX2NyZWF0ZUNsYXNzKEVkaXRvckVtcHR5U2VsZWN0aW9uQ2xpcGJvYXJkLCBbewogICAga2V5OiAiY29tcHV0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcHV0ZShlbnYsIG9wdGlvbnMsIHZhbHVlKSB7CiAgICAgIHJldHVybiB2YWx1ZSAmJiBlbnYuZW1wdHlTZWxlY3Rpb25DbGlwYm9hcmQ7CiAgICB9CiAgfV0pOwogIHJldHVybiBFZGl0b3JFbXB0eVNlbGVjdGlvbkNsaXBib2FyZDsKfShFZGl0b3JCb29sZWFuT3B0aW9uKTsKdmFyIEVkaXRvckZpbmQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9CYXNlRWRpdG9yT3B0aW9uNCkgewogIF9pbmhlcml0cyhFZGl0b3JGaW5kLCBfQmFzZUVkaXRvck9wdGlvbjQpOwogIHZhciBfc3VwZXIxMSA9IF9jcmVhdGVTdXBlcihFZGl0b3JGaW5kKTsKICBmdW5jdGlvbiBFZGl0b3JGaW5kKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVkaXRvckZpbmQpOwogICAgdmFyIGRlZmF1bHRzID0gewogICAgICBjdXJzb3JNb3ZlT25UeXBlOiB0cnVlLAogICAgICBzZWVkU2VhcmNoU3RyaW5nRnJvbVNlbGVjdGlvbjogJ2Fsd2F5cycsCiAgICAgIGF1dG9GaW5kSW5TZWxlY3Rpb246ICduZXZlcicsCiAgICAgIGdsb2JhbEZpbmRDbGlwYm9hcmQ6IGZhbHNlLAogICAgICBhZGRFeHRyYVNwYWNlT25Ub3A6IHRydWUsCiAgICAgIGxvb3A6IHRydWUKICAgIH07CiAgICByZXR1cm4gX3N1cGVyMTEuY2FsbCh0aGlzLCAzNyAvKiBFZGl0b3JPcHRpb24uZmluZCAqLywgJ2ZpbmQnLCBkZWZhdWx0cywgewogICAgICAnZWRpdG9yLmZpbmQuY3Vyc29yTW92ZU9uVHlwZSc6IHsKICAgICAgICB0eXBlOiAnYm9vbGVhbicsCiAgICAgICAgZGVmYXVsdDogZGVmYXVsdHMuY3Vyc29yTW92ZU9uVHlwZSwKICAgICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdmaW5kLmN1cnNvck1vdmVPblR5cGUnLCAiQ29udHJvbHMgd2hldGhlciB0aGUgY3Vyc29yIHNob3VsZCBqdW1wIHRvIGZpbmQgbWF0Y2hlcyB3aGlsZSB0eXBpbmcuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5maW5kLnNlZWRTZWFyY2hTdHJpbmdGcm9tU2VsZWN0aW9uJzogewogICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgIGVudW06IFsnbmV2ZXInLCAnYWx3YXlzJywgJ3NlbGVjdGlvbiddLAogICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLnNlZWRTZWFyY2hTdHJpbmdGcm9tU2VsZWN0aW9uLAogICAgICAgIGVudW1EZXNjcmlwdGlvbnM6IFtubHMubG9jYWxpemUoJ2VkaXRvci5maW5kLnNlZWRTZWFyY2hTdHJpbmdGcm9tU2VsZWN0aW9uLm5ldmVyJywgJ05ldmVyIHNlZWQgc2VhcmNoIHN0cmluZyBmcm9tIHRoZSBlZGl0b3Igc2VsZWN0aW9uLicpLCBubHMubG9jYWxpemUoJ2VkaXRvci5maW5kLnNlZWRTZWFyY2hTdHJpbmdGcm9tU2VsZWN0aW9uLmFsd2F5cycsICdBbHdheXMgc2VlZCBzZWFyY2ggc3RyaW5nIGZyb20gdGhlIGVkaXRvciBzZWxlY3Rpb24sIGluY2x1ZGluZyB3b3JkIGF0IGN1cnNvciBwb3NpdGlvbi4nKSwgbmxzLmxvY2FsaXplKCdlZGl0b3IuZmluZC5zZWVkU2VhcmNoU3RyaW5nRnJvbVNlbGVjdGlvbi5zZWxlY3Rpb24nLCAnT25seSBzZWVkIHNlYXJjaCBzdHJpbmcgZnJvbSB0aGUgZWRpdG9yIHNlbGVjdGlvbi4nKV0sCiAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnZmluZC5zZWVkU2VhcmNoU3RyaW5nRnJvbVNlbGVjdGlvbicsICJDb250cm9scyB3aGV0aGVyIHRoZSBzZWFyY2ggc3RyaW5nIGluIHRoZSBGaW5kIFdpZGdldCBpcyBzZWVkZWQgZnJvbSB0aGUgZWRpdG9yIHNlbGVjdGlvbi4iKQogICAgICB9LAogICAgICAnZWRpdG9yLmZpbmQuYXV0b0ZpbmRJblNlbGVjdGlvbic6IHsKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBlbnVtOiBbJ25ldmVyJywgJ2Fsd2F5cycsICdtdWx0aWxpbmUnXSwKICAgICAgICBkZWZhdWx0OiBkZWZhdWx0cy5hdXRvRmluZEluU2VsZWN0aW9uLAogICAgICAgIGVudW1EZXNjcmlwdGlvbnM6IFtubHMubG9jYWxpemUoJ2VkaXRvci5maW5kLmF1dG9GaW5kSW5TZWxlY3Rpb24ubmV2ZXInLCAnTmV2ZXIgdHVybiBvbiBGaW5kIGluIFNlbGVjdGlvbiBhdXRvbWF0aWNhbGx5IChkZWZhdWx0KS4nKSwgbmxzLmxvY2FsaXplKCdlZGl0b3IuZmluZC5hdXRvRmluZEluU2VsZWN0aW9uLmFsd2F5cycsICdBbHdheXMgdHVybiBvbiBGaW5kIGluIFNlbGVjdGlvbiBhdXRvbWF0aWNhbGx5LicpLCBubHMubG9jYWxpemUoJ2VkaXRvci5maW5kLmF1dG9GaW5kSW5TZWxlY3Rpb24ubXVsdGlsaW5lJywgJ1R1cm4gb24gRmluZCBpbiBTZWxlY3Rpb24gYXV0b21hdGljYWxseSB3aGVuIG11bHRpcGxlIGxpbmVzIG9mIGNvbnRlbnQgYXJlIHNlbGVjdGVkLicpXSwKICAgICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdmaW5kLmF1dG9GaW5kSW5TZWxlY3Rpb24nLCAiQ29udHJvbHMgdGhlIGNvbmRpdGlvbiBmb3IgdHVybmluZyBvbiBGaW5kIGluIFNlbGVjdGlvbiBhdXRvbWF0aWNhbGx5LiIpCiAgICAgIH0sCiAgICAgICdlZGl0b3IuZmluZC5nbG9iYWxGaW5kQ2xpcGJvYXJkJzogewogICAgICAgIHR5cGU6ICdib29sZWFuJywKICAgICAgICBkZWZhdWx0OiBkZWZhdWx0cy5nbG9iYWxGaW5kQ2xpcGJvYXJkLAogICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2ZpbmQuZ2xvYmFsRmluZENsaXBib2FyZCcsICJDb250cm9scyB3aGV0aGVyIHRoZSBGaW5kIFdpZGdldCBzaG91bGQgcmVhZCBvciBtb2RpZnkgdGhlIHNoYXJlZCBmaW5kIGNsaXBib2FyZCBvbiBtYWNPUy4iKSwKICAgICAgICBpbmNsdWRlZDogcGxhdGZvcm0uaXNNYWNpbnRvc2gKICAgICAgfSwKICAgICAgJ2VkaXRvci5maW5kLmFkZEV4dHJhU3BhY2VPblRvcCc6IHsKICAgICAgICB0eXBlOiAnYm9vbGVhbicsCiAgICAgICAgZGVmYXVsdDogZGVmYXVsdHMuYWRkRXh0cmFTcGFjZU9uVG9wLAogICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2ZpbmQuYWRkRXh0cmFTcGFjZU9uVG9wJywgIkNvbnRyb2xzIHdoZXRoZXIgdGhlIEZpbmQgV2lkZ2V0IHNob3VsZCBhZGQgZXh0cmEgbGluZXMgb24gdG9wIG9mIHRoZSBlZGl0b3IuIFdoZW4gdHJ1ZSwgeW91IGNhbiBzY3JvbGwgYmV5b25kIHRoZSBmaXJzdCBsaW5lIHdoZW4gdGhlIEZpbmQgV2lkZ2V0IGlzIHZpc2libGUuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5maW5kLmxvb3AnOiB7CiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLmxvb3AsCiAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnZmluZC5sb29wJywgIkNvbnRyb2xzIHdoZXRoZXIgdGhlIHNlYXJjaCBhdXRvbWF0aWNhbGx5IHJlc3RhcnRzIGZyb20gdGhlIGJlZ2lubmluZyAob3IgdGhlIGVuZCkgd2hlbiBubyBmdXJ0aGVyIG1hdGNoZXMgY2FuIGJlIGZvdW5kLiIpCiAgICAgIH0KICAgIH0pOwogIH0KICBfY3JlYXRlQ2xhc3MoRWRpdG9yRmluZCwgW3sKICAgIGtleTogInZhbGlkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZShfaW5wdXQpIHsKICAgICAgaWYgKCFfaW5wdXQgfHwgX3R5cGVvZihfaW5wdXQpICE9PSAnb2JqZWN0JykgewogICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRWYWx1ZTsKICAgICAgfQogICAgICB2YXIgaW5wdXQgPSBfaW5wdXQ7CiAgICAgIHJldHVybiB7CiAgICAgICAgY3Vyc29yTW92ZU9uVHlwZTogYm9vbGVhbihpbnB1dC5jdXJzb3JNb3ZlT25UeXBlLCB0aGlzLmRlZmF1bHRWYWx1ZS5jdXJzb3JNb3ZlT25UeXBlKSwKICAgICAgICBzZWVkU2VhcmNoU3RyaW5nRnJvbVNlbGVjdGlvbjogdHlwZW9mIF9pbnB1dC5zZWVkU2VhcmNoU3RyaW5nRnJvbVNlbGVjdGlvbiA9PT0gJ2Jvb2xlYW4nID8gX2lucHV0LnNlZWRTZWFyY2hTdHJpbmdGcm9tU2VsZWN0aW9uID8gJ2Fsd2F5cycgOiAnbmV2ZXInIDogc3RyaW5nU2V0KGlucHV0LnNlZWRTZWFyY2hTdHJpbmdGcm9tU2VsZWN0aW9uLCB0aGlzLmRlZmF1bHRWYWx1ZS5zZWVkU2VhcmNoU3RyaW5nRnJvbVNlbGVjdGlvbiwgWyduZXZlcicsICdhbHdheXMnLCAnc2VsZWN0aW9uJ10pLAogICAgICAgIGF1dG9GaW5kSW5TZWxlY3Rpb246IHR5cGVvZiBfaW5wdXQuYXV0b0ZpbmRJblNlbGVjdGlvbiA9PT0gJ2Jvb2xlYW4nID8gX2lucHV0LmF1dG9GaW5kSW5TZWxlY3Rpb24gPyAnYWx3YXlzJyA6ICduZXZlcicgOiBzdHJpbmdTZXQoaW5wdXQuYXV0b0ZpbmRJblNlbGVjdGlvbiwgdGhpcy5kZWZhdWx0VmFsdWUuYXV0b0ZpbmRJblNlbGVjdGlvbiwgWyduZXZlcicsICdhbHdheXMnLCAnbXVsdGlsaW5lJ10pLAogICAgICAgIGdsb2JhbEZpbmRDbGlwYm9hcmQ6IGJvb2xlYW4oaW5wdXQuZ2xvYmFsRmluZENsaXBib2FyZCwgdGhpcy5kZWZhdWx0VmFsdWUuZ2xvYmFsRmluZENsaXBib2FyZCksCiAgICAgICAgYWRkRXh0cmFTcGFjZU9uVG9wOiBib29sZWFuKGlucHV0LmFkZEV4dHJhU3BhY2VPblRvcCwgdGhpcy5kZWZhdWx0VmFsdWUuYWRkRXh0cmFTcGFjZU9uVG9wKSwKICAgICAgICBsb29wOiBib29sZWFuKGlucHV0Lmxvb3AsIHRoaXMuZGVmYXVsdFZhbHVlLmxvb3ApCiAgICAgIH07CiAgICB9CiAgfV0pOwogIHJldHVybiBFZGl0b3JGaW5kOwp9KEJhc2VFZGl0b3JPcHRpb24pOyAvLyNlbmRyZWdpb24KLy8jcmVnaW9uIGZvbnRMaWdhdHVyZXMKLyoqCiAqIEBpbnRlcm5hbAogKi8KZXhwb3J0IHZhciBFZGl0b3JGb250TGlnYXR1cmVzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZUVkaXRvck9wdGlvbjUpIHsKICBfaW5oZXJpdHMoRWRpdG9yRm9udExpZ2F0dXJlcywgX0Jhc2VFZGl0b3JPcHRpb241KTsKICB2YXIgX3N1cGVyMTIgPSBfY3JlYXRlU3VwZXIoRWRpdG9yRm9udExpZ2F0dXJlcyk7CiAgZnVuY3Rpb24gRWRpdG9yRm9udExpZ2F0dXJlcygpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFZGl0b3JGb250TGlnYXR1cmVzKTsKICAgIHJldHVybiBfc3VwZXIxMi5jYWxsKHRoaXMsIDQ3IC8qIEVkaXRvck9wdGlvbi5mb250TGlnYXR1cmVzICovLCAnZm9udExpZ2F0dXJlcycsIEVkaXRvckZvbnRMaWdhdHVyZXMuT0ZGLCB7CiAgICAgIGFueU9mOiBbewogICAgICAgIHR5cGU6ICdib29sZWFuJywKICAgICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdmb250TGlnYXR1cmVzJywgIkVuYWJsZXMvRGlzYWJsZXMgZm9udCBsaWdhdHVyZXMgKCdjYWx0JyBhbmQgJ2xpZ2EnIGZvbnQgZmVhdHVyZXMpLiBDaGFuZ2UgdGhpcyB0byBhIHN0cmluZyBmb3IgZmluZS1ncmFpbmVkIGNvbnRyb2wgb2YgdGhlICdmb250LWZlYXR1cmUtc2V0dGluZ3MnIENTUyBwcm9wZXJ0eS4iKQogICAgICB9LCB7CiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnZm9udEZlYXR1cmVTZXR0aW5ncycsICJFeHBsaWNpdCAnZm9udC1mZWF0dXJlLXNldHRpbmdzJyBDU1MgcHJvcGVydHkuIEEgYm9vbGVhbiBjYW4gYmUgcGFzc2VkIGluc3RlYWQgaWYgb25lIG9ubHkgbmVlZHMgdG8gdHVybiBvbi9vZmYgbGlnYXR1cmVzLiIpCiAgICAgIH1dLAogICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdmb250TGlnYXR1cmVzR2VuZXJhbCcsICJDb25maWd1cmVzIGZvbnQgbGlnYXR1cmVzIG9yIGZvbnQgZmVhdHVyZXMuIENhbiBiZSBlaXRoZXIgYSBib29sZWFuIHRvIGVuYWJsZS9kaXNhYmxlIGxpZ2F0dXJlcyBvciBhIHN0cmluZyBmb3IgdGhlIHZhbHVlIG9mIHRoZSBDU1MgJ2ZvbnQtZmVhdHVyZS1zZXR0aW5ncycgcHJvcGVydHkuIiksCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9KTsKICB9CiAgX2NyZWF0ZUNsYXNzKEVkaXRvckZvbnRMaWdhdHVyZXMsIFt7CiAgICBrZXk6ICJ2YWxpZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsaWRhdGUoaW5wdXQpIHsKICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0VmFsdWU7CiAgICAgIH0KICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHsKICAgICAgICBpZiAoaW5wdXQgPT09ICdmYWxzZScpIHsKICAgICAgICAgIHJldHVybiBFZGl0b3JGb250TGlnYXR1cmVzLk9GRjsKICAgICAgICB9CiAgICAgICAgaWYgKGlucHV0ID09PSAndHJ1ZScpIHsKICAgICAgICAgIHJldHVybiBFZGl0b3JGb250TGlnYXR1cmVzLk9OOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaW5wdXQ7CiAgICAgIH0KICAgICAgaWYgKEJvb2xlYW4oaW5wdXQpKSB7CiAgICAgICAgcmV0dXJuIEVkaXRvckZvbnRMaWdhdHVyZXMuT047CiAgICAgIH0KICAgICAgcmV0dXJuIEVkaXRvckZvbnRMaWdhdHVyZXMuT0ZGOwogICAgfQogIH1dKTsKICByZXR1cm4gRWRpdG9yRm9udExpZ2F0dXJlczsKfShCYXNlRWRpdG9yT3B0aW9uKTsKRWRpdG9yRm9udExpZ2F0dXJlcy5PRkYgPSAnImxpZ2EiIG9mZiwgImNhbHQiIG9mZic7CkVkaXRvckZvbnRMaWdhdHVyZXMuT04gPSAnImxpZ2EiIG9uLCAiY2FsdCIgb24nOwovLyNlbmRyZWdpb24KLy8jcmVnaW9uIGZvbnRJbmZvCnZhciBFZGl0b3JGb250SW5mbyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0NvbXB1dGVkRWRpdG9yT3B0aW9uMikgewogIF9pbmhlcml0cyhFZGl0b3JGb250SW5mbywgX0NvbXB1dGVkRWRpdG9yT3B0aW9uMik7CiAgdmFyIF9zdXBlcjEzID0gX2NyZWF0ZVN1cGVyKEVkaXRvckZvbnRJbmZvKTsKICBmdW5jdGlvbiBFZGl0b3JGb250SW5mbygpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFZGl0b3JGb250SW5mbyk7CiAgICByZXR1cm4gX3N1cGVyMTMuY2FsbCh0aGlzLCA0NiAvKiBFZGl0b3JPcHRpb24uZm9udEluZm8gKi8pOwogIH0KICBfY3JlYXRlQ2xhc3MoRWRpdG9yRm9udEluZm8sIFt7CiAgICBrZXk6ICJjb21wdXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wdXRlKGVudiwgb3B0aW9ucywgXykgewogICAgICByZXR1cm4gZW52LmZvbnRJbmZvOwogICAgfQogIH1dKTsKICByZXR1cm4gRWRpdG9yRm9udEluZm87Cn0oQ29tcHV0ZWRFZGl0b3JPcHRpb24pOyAvLyNlbmRyZWdpb24KLy8jcmVnaW9uIGZvbnRTaXplCnZhciBFZGl0b3JGb250U2l6ZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1NpbXBsZUVkaXRvck9wdGlvbjYpIHsKICBfaW5oZXJpdHMoRWRpdG9yRm9udFNpemUsIF9TaW1wbGVFZGl0b3JPcHRpb242KTsKICB2YXIgX3N1cGVyMTQgPSBfY3JlYXRlU3VwZXIoRWRpdG9yRm9udFNpemUpOwogIGZ1bmN0aW9uIEVkaXRvckZvbnRTaXplKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVkaXRvckZvbnRTaXplKTsKICAgIHJldHVybiBfc3VwZXIxNC5jYWxsKHRoaXMsIDQ4IC8qIEVkaXRvck9wdGlvbi5mb250U2l6ZSAqLywgJ2ZvbnRTaXplJywgRURJVE9SX0ZPTlRfREVGQVVMVFMuZm9udFNpemUsIHsKICAgICAgdHlwZTogJ251bWJlcicsCiAgICAgIG1pbmltdW06IDYsCiAgICAgIG1heGltdW06IDEwMCwKICAgICAgZGVmYXVsdDogRURJVE9SX0ZPTlRfREVGQVVMVFMuZm9udFNpemUsCiAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2ZvbnRTaXplJywgIkNvbnRyb2xzIHRoZSBmb250IHNpemUgaW4gcGl4ZWxzLiIpCiAgICB9KTsKICB9CiAgX2NyZWF0ZUNsYXNzKEVkaXRvckZvbnRTaXplLCBbewogICAga2V5OiAidmFsaWRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlKGlucHV0KSB7CiAgICAgIHZhciByID0gRWRpdG9yRmxvYXRPcHRpb24uZmxvYXQoaW5wdXQsIHRoaXMuZGVmYXVsdFZhbHVlKTsKICAgICAgaWYgKHIgPT09IDApIHsKICAgICAgICByZXR1cm4gRURJVE9SX0ZPTlRfREVGQVVMVFMuZm9udFNpemU7CiAgICAgIH0KICAgICAgcmV0dXJuIEVkaXRvckZsb2F0T3B0aW9uLmNsYW1wKHIsIDYsIDEwMCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tcHV0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcHV0ZShlbnYsIG9wdGlvbnMsIHZhbHVlKSB7CiAgICAgIC8vIFRoZSBmaW5hbCBmb250U2l6ZSByZXNwZWN0cyB0aGUgZWRpdG9yIHpvb20gbGV2ZWwuCiAgICAgIC8vIFNvIHRha2UgdGhlIHJlc3VsdCBmcm9tIGVudi5mb250SW5mbwogICAgICByZXR1cm4gZW52LmZvbnRJbmZvLmZvbnRTaXplOwogICAgfQogIH1dKTsKICByZXR1cm4gRWRpdG9yRm9udFNpemU7Cn0oU2ltcGxlRWRpdG9yT3B0aW9uKTsgLy8jZW5kcmVnaW9uCi8vI3JlZ2lvbiBmb250V2VpZ2h0CnZhciBFZGl0b3JGb250V2VpZ2h0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZUVkaXRvck9wdGlvbjYpIHsKICBfaW5oZXJpdHMoRWRpdG9yRm9udFdlaWdodCwgX0Jhc2VFZGl0b3JPcHRpb242KTsKICB2YXIgX3N1cGVyMTUgPSBfY3JlYXRlU3VwZXIoRWRpdG9yRm9udFdlaWdodCk7CiAgZnVuY3Rpb24gRWRpdG9yRm9udFdlaWdodCgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFZGl0b3JGb250V2VpZ2h0KTsKICAgIHJldHVybiBfc3VwZXIxNS5jYWxsKHRoaXMsIDQ5IC8qIEVkaXRvck9wdGlvbi5mb250V2VpZ2h0ICovLCAnZm9udFdlaWdodCcsIEVESVRPUl9GT05UX0RFRkFVTFRTLmZvbnRXZWlnaHQsIHsKICAgICAgYW55T2Y6IFt7CiAgICAgICAgdHlwZTogJ251bWJlcicsCiAgICAgICAgbWluaW11bTogRWRpdG9yRm9udFdlaWdodC5NSU5JTVVNX1ZBTFVFLAogICAgICAgIG1heGltdW06IEVkaXRvckZvbnRXZWlnaHQuTUFYSU1VTV9WQUxVRSwKICAgICAgICBlcnJvck1lc3NhZ2U6IG5scy5sb2NhbGl6ZSgnZm9udFdlaWdodEVycm9yTWVzc2FnZScsICJPbmx5IFwibm9ybWFsXCIgYW5kIFwiYm9sZFwiIGtleXdvcmRzIG9yIG51bWJlcnMgYmV0d2VlbiAxIGFuZCAxMDAwIGFyZSBhbGxvd2VkLiIpCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBwYXR0ZXJuOiAnXihub3JtYWx8Ym9sZHwxMDAwfFsxLTldWzAtOV17MCwyfSkkJwogICAgICB9LCB7CiAgICAgICAgZW51bTogRWRpdG9yRm9udFdlaWdodC5TVUdHRVNUSU9OX1ZBTFVFUwogICAgICB9XSwKICAgICAgZGVmYXVsdDogRURJVE9SX0ZPTlRfREVGQVVMVFMuZm9udFdlaWdodCwKICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnZm9udFdlaWdodCcsICJDb250cm9scyB0aGUgZm9udCB3ZWlnaHQuIEFjY2VwdHMgXCJub3JtYWxcIiBhbmQgXCJib2xkXCIga2V5d29yZHMgb3IgbnVtYmVycyBiZXR3ZWVuIDEgYW5kIDEwMDAuIikKICAgIH0pOwogIH0KICBfY3JlYXRlQ2xhc3MoRWRpdG9yRm9udFdlaWdodCwgW3sKICAgIGtleTogInZhbGlkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZShpbnB1dCkgewogICAgICBpZiAoaW5wdXQgPT09ICdub3JtYWwnIHx8IGlucHV0ID09PSAnYm9sZCcpIHsKICAgICAgICByZXR1cm4gaW5wdXQ7CiAgICAgIH0KICAgICAgcmV0dXJuIFN0cmluZyhFZGl0b3JJbnRPcHRpb24uY2xhbXBlZEludChpbnB1dCwgRURJVE9SX0ZPTlRfREVGQVVMVFMuZm9udFdlaWdodCwgRWRpdG9yRm9udFdlaWdodC5NSU5JTVVNX1ZBTFVFLCBFZGl0b3JGb250V2VpZ2h0Lk1BWElNVU1fVkFMVUUpKTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIEVkaXRvckZvbnRXZWlnaHQ7Cn0oQmFzZUVkaXRvck9wdGlvbik7CkVkaXRvckZvbnRXZWlnaHQuU1VHR0VTVElPTl9WQUxVRVMgPSBbJ25vcm1hbCcsICdib2xkJywgJzEwMCcsICcyMDAnLCAnMzAwJywgJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCcsICc4MDAnLCAnOTAwJ107CkVkaXRvckZvbnRXZWlnaHQuTUlOSU1VTV9WQUxVRSA9IDE7CkVkaXRvckZvbnRXZWlnaHQuTUFYSU1VTV9WQUxVRSA9IDEwMDA7CnZhciBFZGl0b3JHb1RvTG9jYXRpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9CYXNlRWRpdG9yT3B0aW9uNykgewogIF9pbmhlcml0cyhFZGl0b3JHb1RvTG9jYXRpb24sIF9CYXNlRWRpdG9yT3B0aW9uNyk7CiAgdmFyIF9zdXBlcjE2ID0gX2NyZWF0ZVN1cGVyKEVkaXRvckdvVG9Mb2NhdGlvbik7CiAgZnVuY3Rpb24gRWRpdG9yR29Ub0xvY2F0aW9uKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVkaXRvckdvVG9Mb2NhdGlvbik7CiAgICB2YXIgZGVmYXVsdHMgPSB7CiAgICAgIG11bHRpcGxlOiAncGVlaycsCiAgICAgIG11bHRpcGxlRGVmaW5pdGlvbnM6ICdwZWVrJywKICAgICAgbXVsdGlwbGVUeXBlRGVmaW5pdGlvbnM6ICdwZWVrJywKICAgICAgbXVsdGlwbGVEZWNsYXJhdGlvbnM6ICdwZWVrJywKICAgICAgbXVsdGlwbGVJbXBsZW1lbnRhdGlvbnM6ICdwZWVrJywKICAgICAgbXVsdGlwbGVSZWZlcmVuY2VzOiAncGVlaycsCiAgICAgIGFsdGVybmF0aXZlRGVmaW5pdGlvbkNvbW1hbmQ6ICdlZGl0b3IuYWN0aW9uLmdvVG9SZWZlcmVuY2VzJywKICAgICAgYWx0ZXJuYXRpdmVUeXBlRGVmaW5pdGlvbkNvbW1hbmQ6ICdlZGl0b3IuYWN0aW9uLmdvVG9SZWZlcmVuY2VzJywKICAgICAgYWx0ZXJuYXRpdmVEZWNsYXJhdGlvbkNvbW1hbmQ6ICdlZGl0b3IuYWN0aW9uLmdvVG9SZWZlcmVuY2VzJywKICAgICAgYWx0ZXJuYXRpdmVJbXBsZW1lbnRhdGlvbkNvbW1hbmQ6ICcnLAogICAgICBhbHRlcm5hdGl2ZVJlZmVyZW5jZUNvbW1hbmQ6ICcnCiAgICB9OwogICAgdmFyIGpzb25TdWJzZXQgPSB7CiAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICBlbnVtOiBbJ3BlZWsnLCAnZ290b0FuZFBlZWsnLCAnZ290byddLAogICAgICBkZWZhdWx0OiBkZWZhdWx0cy5tdWx0aXBsZSwKICAgICAgZW51bURlc2NyaXB0aW9uczogW25scy5sb2NhbGl6ZSgnZWRpdG9yLmdvdG9Mb2NhdGlvbi5tdWx0aXBsZS5wZWVrJywgJ1Nob3cgcGVlayB2aWV3IG9mIHRoZSByZXN1bHRzIChkZWZhdWx0KScpLCBubHMubG9jYWxpemUoJ2VkaXRvci5nb3RvTG9jYXRpb24ubXVsdGlwbGUuZ290b0FuZFBlZWsnLCAnR28gdG8gdGhlIHByaW1hcnkgcmVzdWx0IGFuZCBzaG93IGEgcGVlayB2aWV3JyksIG5scy5sb2NhbGl6ZSgnZWRpdG9yLmdvdG9Mb2NhdGlvbi5tdWx0aXBsZS5nb3RvJywgJ0dvIHRvIHRoZSBwcmltYXJ5IHJlc3VsdCBhbmQgZW5hYmxlIHBlZWstbGVzcyBuYXZpZ2F0aW9uIHRvIG90aGVycycpXQogICAgfTsKICAgIHZhciBhbHRlcm5hdGl2ZUNvbW1hbmRPcHRpb25zID0gWycnLCAnZWRpdG9yLmFjdGlvbi5yZWZlcmVuY2VTZWFyY2gudHJpZ2dlcicsICdlZGl0b3IuYWN0aW9uLmdvVG9SZWZlcmVuY2VzJywgJ2VkaXRvci5hY3Rpb24ucGVla0ltcGxlbWVudGF0aW9uJywgJ2VkaXRvci5hY3Rpb24uZ29Ub0ltcGxlbWVudGF0aW9uJywgJ2VkaXRvci5hY3Rpb24ucGVla1R5cGVEZWZpbml0aW9uJywgJ2VkaXRvci5hY3Rpb24uZ29Ub1R5cGVEZWZpbml0aW9uJywgJ2VkaXRvci5hY3Rpb24ucGVla0RlY2xhcmF0aW9uJywgJ2VkaXRvci5hY3Rpb24ucmV2ZWFsRGVjbGFyYXRpb24nLCAnZWRpdG9yLmFjdGlvbi5wZWVrRGVmaW5pdGlvbicsICdlZGl0b3IuYWN0aW9uLnJldmVhbERlZmluaXRpb25Bc2lkZScsICdlZGl0b3IuYWN0aW9uLnJldmVhbERlZmluaXRpb24nXTsKICAgIHJldHVybiBfc3VwZXIxNi5jYWxsKHRoaXMsIDUzIC8qIEVkaXRvck9wdGlvbi5nb3RvTG9jYXRpb24gKi8sICdnb3RvTG9jYXRpb24nLCBkZWZhdWx0cywgewogICAgICAnZWRpdG9yLmdvdG9Mb2NhdGlvbi5tdWx0aXBsZSc6IHsKICAgICAgICBkZXByZWNhdGlvbk1lc3NhZ2U6IG5scy5sb2NhbGl6ZSgnZWRpdG9yLmdvdG9Mb2NhdGlvbi5tdWx0aXBsZS5kZXByZWNhdGVkJywgIlRoaXMgc2V0dGluZyBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHNlcGFyYXRlIHNldHRpbmdzIGxpa2UgJ2VkaXRvci5lZGl0b3IuZ290b0xvY2F0aW9uLm11bHRpcGxlRGVmaW5pdGlvbnMnIG9yICdlZGl0b3IuZWRpdG9yLmdvdG9Mb2NhdGlvbi5tdWx0aXBsZUltcGxlbWVudGF0aW9ucycgaW5zdGVhZC4iKQogICAgICB9LAogICAgICAnZWRpdG9yLmdvdG9Mb2NhdGlvbi5tdWx0aXBsZURlZmluaXRpb25zJzogT2JqZWN0LmFzc2lnbih7CiAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnZWRpdG9yLmVkaXRvci5nb3RvTG9jYXRpb24ubXVsdGlwbGVEZWZpbml0aW9ucycsICJDb250cm9scyB0aGUgYmVoYXZpb3IgdGhlICdHbyB0byBEZWZpbml0aW9uJy1jb21tYW5kIHdoZW4gbXVsdGlwbGUgdGFyZ2V0IGxvY2F0aW9ucyBleGlzdC4iKQogICAgICB9LCBqc29uU3Vic2V0KSwKICAgICAgJ2VkaXRvci5nb3RvTG9jYXRpb24ubXVsdGlwbGVUeXBlRGVmaW5pdGlvbnMnOiBPYmplY3QuYXNzaWduKHsKICAgICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdlZGl0b3IuZWRpdG9yLmdvdG9Mb2NhdGlvbi5tdWx0aXBsZVR5cGVEZWZpbml0aW9ucycsICJDb250cm9scyB0aGUgYmVoYXZpb3IgdGhlICdHbyB0byBUeXBlIERlZmluaXRpb24nLWNvbW1hbmQgd2hlbiBtdWx0aXBsZSB0YXJnZXQgbG9jYXRpb25zIGV4aXN0LiIpCiAgICAgIH0sIGpzb25TdWJzZXQpLAogICAgICAnZWRpdG9yLmdvdG9Mb2NhdGlvbi5tdWx0aXBsZURlY2xhcmF0aW9ucyc6IE9iamVjdC5hc3NpZ24oewogICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2VkaXRvci5lZGl0b3IuZ290b0xvY2F0aW9uLm11bHRpcGxlRGVjbGFyYXRpb25zJywgIkNvbnRyb2xzIHRoZSBiZWhhdmlvciB0aGUgJ0dvIHRvIERlY2xhcmF0aW9uJy1jb21tYW5kIHdoZW4gbXVsdGlwbGUgdGFyZ2V0IGxvY2F0aW9ucyBleGlzdC4iKQogICAgICB9LCBqc29uU3Vic2V0KSwKICAgICAgJ2VkaXRvci5nb3RvTG9jYXRpb24ubXVsdGlwbGVJbXBsZW1lbnRhdGlvbnMnOiBPYmplY3QuYXNzaWduKHsKICAgICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdlZGl0b3IuZWRpdG9yLmdvdG9Mb2NhdGlvbi5tdWx0aXBsZUltcGxlbWVuYXR0aW9ucycsICJDb250cm9scyB0aGUgYmVoYXZpb3IgdGhlICdHbyB0byBJbXBsZW1lbnRhdGlvbnMnLWNvbW1hbmQgd2hlbiBtdWx0aXBsZSB0YXJnZXQgbG9jYXRpb25zIGV4aXN0LiIpCiAgICAgIH0sIGpzb25TdWJzZXQpLAogICAgICAnZWRpdG9yLmdvdG9Mb2NhdGlvbi5tdWx0aXBsZVJlZmVyZW5jZXMnOiBPYmplY3QuYXNzaWduKHsKICAgICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdlZGl0b3IuZWRpdG9yLmdvdG9Mb2NhdGlvbi5tdWx0aXBsZVJlZmVyZW5jZXMnLCAiQ29udHJvbHMgdGhlIGJlaGF2aW9yIHRoZSAnR28gdG8gUmVmZXJlbmNlcyctY29tbWFuZCB3aGVuIG11bHRpcGxlIHRhcmdldCBsb2NhdGlvbnMgZXhpc3QuIikKICAgICAgfSwganNvblN1YnNldCksCiAgICAgICdlZGl0b3IuZ290b0xvY2F0aW9uLmFsdGVybmF0aXZlRGVmaW5pdGlvbkNvbW1hbmQnOiB7CiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgZGVmYXVsdDogZGVmYXVsdHMuYWx0ZXJuYXRpdmVEZWZpbml0aW9uQ29tbWFuZCwKICAgICAgICBlbnVtOiBhbHRlcm5hdGl2ZUNvbW1hbmRPcHRpb25zLAogICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2FsdGVybmF0aXZlRGVmaW5pdGlvbkNvbW1hbmQnLCAiQWx0ZXJuYXRpdmUgY29tbWFuZCBpZCB0aGF0IGlzIGJlaW5nIGV4ZWN1dGVkIHdoZW4gdGhlIHJlc3VsdCBvZiAnR28gdG8gRGVmaW5pdGlvbicgaXMgdGhlIGN1cnJlbnQgbG9jYXRpb24uIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5nb3RvTG9jYXRpb24uYWx0ZXJuYXRpdmVUeXBlRGVmaW5pdGlvbkNvbW1hbmQnOiB7CiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgZGVmYXVsdDogZGVmYXVsdHMuYWx0ZXJuYXRpdmVUeXBlRGVmaW5pdGlvbkNvbW1hbmQsCiAgICAgICAgZW51bTogYWx0ZXJuYXRpdmVDb21tYW5kT3B0aW9ucywKICAgICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdhbHRlcm5hdGl2ZVR5cGVEZWZpbml0aW9uQ29tbWFuZCcsICJBbHRlcm5hdGl2ZSBjb21tYW5kIGlkIHRoYXQgaXMgYmVpbmcgZXhlY3V0ZWQgd2hlbiB0aGUgcmVzdWx0IG9mICdHbyB0byBUeXBlIERlZmluaXRpb24nIGlzIHRoZSBjdXJyZW50IGxvY2F0aW9uLiIpCiAgICAgIH0sCiAgICAgICdlZGl0b3IuZ290b0xvY2F0aW9uLmFsdGVybmF0aXZlRGVjbGFyYXRpb25Db21tYW5kJzogewogICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLmFsdGVybmF0aXZlRGVjbGFyYXRpb25Db21tYW5kLAogICAgICAgIGVudW06IGFsdGVybmF0aXZlQ29tbWFuZE9wdGlvbnMsCiAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnYWx0ZXJuYXRpdmVEZWNsYXJhdGlvbkNvbW1hbmQnLCAiQWx0ZXJuYXRpdmUgY29tbWFuZCBpZCB0aGF0IGlzIGJlaW5nIGV4ZWN1dGVkIHdoZW4gdGhlIHJlc3VsdCBvZiAnR28gdG8gRGVjbGFyYXRpb24nIGlzIHRoZSBjdXJyZW50IGxvY2F0aW9uLiIpCiAgICAgIH0sCiAgICAgICdlZGl0b3IuZ290b0xvY2F0aW9uLmFsdGVybmF0aXZlSW1wbGVtZW50YXRpb25Db21tYW5kJzogewogICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLmFsdGVybmF0aXZlSW1wbGVtZW50YXRpb25Db21tYW5kLAogICAgICAgIGVudW06IGFsdGVybmF0aXZlQ29tbWFuZE9wdGlvbnMsCiAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnYWx0ZXJuYXRpdmVJbXBsZW1lbnRhdGlvbkNvbW1hbmQnLCAiQWx0ZXJuYXRpdmUgY29tbWFuZCBpZCB0aGF0IGlzIGJlaW5nIGV4ZWN1dGVkIHdoZW4gdGhlIHJlc3VsdCBvZiAnR28gdG8gSW1wbGVtZW50YXRpb24nIGlzIHRoZSBjdXJyZW50IGxvY2F0aW9uLiIpCiAgICAgIH0sCiAgICAgICdlZGl0b3IuZ290b0xvY2F0aW9uLmFsdGVybmF0aXZlUmVmZXJlbmNlQ29tbWFuZCc6IHsKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBkZWZhdWx0OiBkZWZhdWx0cy5hbHRlcm5hdGl2ZVJlZmVyZW5jZUNvbW1hbmQsCiAgICAgICAgZW51bTogYWx0ZXJuYXRpdmVDb21tYW5kT3B0aW9ucywKICAgICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdhbHRlcm5hdGl2ZVJlZmVyZW5jZUNvbW1hbmQnLCAiQWx0ZXJuYXRpdmUgY29tbWFuZCBpZCB0aGF0IGlzIGJlaW5nIGV4ZWN1dGVkIHdoZW4gdGhlIHJlc3VsdCBvZiAnR28gdG8gUmVmZXJlbmNlJyBpcyB0aGUgY3VycmVudCBsb2NhdGlvbi4iKQogICAgICB9CiAgICB9KTsKICB9CiAgX2NyZWF0ZUNsYXNzKEVkaXRvckdvVG9Mb2NhdGlvbiwgW3sKICAgIGtleTogInZhbGlkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZShfaW5wdXQpIHsKICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTsKICAgICAgaWYgKCFfaW5wdXQgfHwgX3R5cGVvZihfaW5wdXQpICE9PSAnb2JqZWN0JykgewogICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRWYWx1ZTsKICAgICAgfQogICAgICB2YXIgaW5wdXQgPSBfaW5wdXQ7CiAgICAgIHJldHVybiB7CiAgICAgICAgbXVsdGlwbGU6IHN0cmluZ1NldChpbnB1dC5tdWx0aXBsZSwgdGhpcy5kZWZhdWx0VmFsdWUubXVsdGlwbGUsIFsncGVlaycsICdnb3RvQW5kUGVlaycsICdnb3RvJ10pLAogICAgICAgIG11bHRpcGxlRGVmaW5pdGlvbnM6IChfYSA9IGlucHV0Lm11bHRpcGxlRGVmaW5pdGlvbnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHN0cmluZ1NldChpbnB1dC5tdWx0aXBsZURlZmluaXRpb25zLCAncGVlaycsIFsncGVlaycsICdnb3RvQW5kUGVlaycsICdnb3RvJ10pLAogICAgICAgIG11bHRpcGxlVHlwZURlZmluaXRpb25zOiAoX2IgPSBpbnB1dC5tdWx0aXBsZVR5cGVEZWZpbml0aW9ucykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogc3RyaW5nU2V0KGlucHV0Lm11bHRpcGxlVHlwZURlZmluaXRpb25zLCAncGVlaycsIFsncGVlaycsICdnb3RvQW5kUGVlaycsICdnb3RvJ10pLAogICAgICAgIG11bHRpcGxlRGVjbGFyYXRpb25zOiAoX2MgPSBpbnB1dC5tdWx0aXBsZURlY2xhcmF0aW9ucykgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogc3RyaW5nU2V0KGlucHV0Lm11bHRpcGxlRGVjbGFyYXRpb25zLCAncGVlaycsIFsncGVlaycsICdnb3RvQW5kUGVlaycsICdnb3RvJ10pLAogICAgICAgIG11bHRpcGxlSW1wbGVtZW50YXRpb25zOiAoX2QgPSBpbnB1dC5tdWx0aXBsZUltcGxlbWVudGF0aW9ucykgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogc3RyaW5nU2V0KGlucHV0Lm11bHRpcGxlSW1wbGVtZW50YXRpb25zLCAncGVlaycsIFsncGVlaycsICdnb3RvQW5kUGVlaycsICdnb3RvJ10pLAogICAgICAgIG11bHRpcGxlUmVmZXJlbmNlczogKF9lID0gaW5wdXQubXVsdGlwbGVSZWZlcmVuY2VzKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiBzdHJpbmdTZXQoaW5wdXQubXVsdGlwbGVSZWZlcmVuY2VzLCAncGVlaycsIFsncGVlaycsICdnb3RvQW5kUGVlaycsICdnb3RvJ10pLAogICAgICAgIGFsdGVybmF0aXZlRGVmaW5pdGlvbkNvbW1hbmQ6IEVkaXRvclN0cmluZ09wdGlvbi5zdHJpbmcoaW5wdXQuYWx0ZXJuYXRpdmVEZWZpbml0aW9uQ29tbWFuZCwgdGhpcy5kZWZhdWx0VmFsdWUuYWx0ZXJuYXRpdmVEZWZpbml0aW9uQ29tbWFuZCksCiAgICAgICAgYWx0ZXJuYXRpdmVUeXBlRGVmaW5pdGlvbkNvbW1hbmQ6IEVkaXRvclN0cmluZ09wdGlvbi5zdHJpbmcoaW5wdXQuYWx0ZXJuYXRpdmVUeXBlRGVmaW5pdGlvbkNvbW1hbmQsIHRoaXMuZGVmYXVsdFZhbHVlLmFsdGVybmF0aXZlVHlwZURlZmluaXRpb25Db21tYW5kKSwKICAgICAgICBhbHRlcm5hdGl2ZURlY2xhcmF0aW9uQ29tbWFuZDogRWRpdG9yU3RyaW5nT3B0aW9uLnN0cmluZyhpbnB1dC5hbHRlcm5hdGl2ZURlY2xhcmF0aW9uQ29tbWFuZCwgdGhpcy5kZWZhdWx0VmFsdWUuYWx0ZXJuYXRpdmVEZWNsYXJhdGlvbkNvbW1hbmQpLAogICAgICAgIGFsdGVybmF0aXZlSW1wbGVtZW50YXRpb25Db21tYW5kOiBFZGl0b3JTdHJpbmdPcHRpb24uc3RyaW5nKGlucHV0LmFsdGVybmF0aXZlSW1wbGVtZW50YXRpb25Db21tYW5kLCB0aGlzLmRlZmF1bHRWYWx1ZS5hbHRlcm5hdGl2ZUltcGxlbWVudGF0aW9uQ29tbWFuZCksCiAgICAgICAgYWx0ZXJuYXRpdmVSZWZlcmVuY2VDb21tYW5kOiBFZGl0b3JTdHJpbmdPcHRpb24uc3RyaW5nKGlucHV0LmFsdGVybmF0aXZlUmVmZXJlbmNlQ29tbWFuZCwgdGhpcy5kZWZhdWx0VmFsdWUuYWx0ZXJuYXRpdmVSZWZlcmVuY2VDb21tYW5kKQogICAgICB9OwogICAgfQogIH1dKTsKICByZXR1cm4gRWRpdG9yR29Ub0xvY2F0aW9uOwp9KEJhc2VFZGl0b3JPcHRpb24pOwp2YXIgRWRpdG9ySG92ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9CYXNlRWRpdG9yT3B0aW9uOCkgewogIF9pbmhlcml0cyhFZGl0b3JIb3ZlciwgX0Jhc2VFZGl0b3JPcHRpb244KTsKICB2YXIgX3N1cGVyMTcgPSBfY3JlYXRlU3VwZXIoRWRpdG9ySG92ZXIpOwogIGZ1bmN0aW9uIEVkaXRvckhvdmVyKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVkaXRvckhvdmVyKTsKICAgIHZhciBkZWZhdWx0cyA9IHsKICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgZGVsYXk6IDMwMCwKICAgICAgc3RpY2t5OiB0cnVlLAogICAgICBhYm92ZTogdHJ1ZQogICAgfTsKICAgIHJldHVybiBfc3VwZXIxNy5jYWxsKHRoaXMsIDU1IC8qIEVkaXRvck9wdGlvbi5ob3ZlciAqLywgJ2hvdmVyJywgZGVmYXVsdHMsIHsKICAgICAgJ2VkaXRvci5ob3Zlci5lbmFibGVkJzogewogICAgICAgIHR5cGU6ICdib29sZWFuJywKICAgICAgICBkZWZhdWx0OiBkZWZhdWx0cy5lbmFibGVkLAogICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2hvdmVyLmVuYWJsZWQnLCAiQ29udHJvbHMgd2hldGhlciB0aGUgaG92ZXIgaXMgc2hvd24uIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5ob3Zlci5kZWxheSc6IHsKICAgICAgICB0eXBlOiAnbnVtYmVyJywKICAgICAgICBkZWZhdWx0OiBkZWZhdWx0cy5kZWxheSwKICAgICAgICBtaW5pbXVtOiAwLAogICAgICAgIG1heGltdW06IDEwMDAwLAogICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2hvdmVyLmRlbGF5JywgIkNvbnRyb2xzIHRoZSBkZWxheSBpbiBtaWxsaXNlY29uZHMgYWZ0ZXIgd2hpY2ggdGhlIGhvdmVyIGlzIHNob3duLiIpCiAgICAgIH0sCiAgICAgICdlZGl0b3IuaG92ZXIuc3RpY2t5JzogewogICAgICAgIHR5cGU6ICdib29sZWFuJywKICAgICAgICBkZWZhdWx0OiBkZWZhdWx0cy5zdGlja3ksCiAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnaG92ZXIuc3RpY2t5JywgIkNvbnRyb2xzIHdoZXRoZXIgdGhlIGhvdmVyIHNob3VsZCByZW1haW4gdmlzaWJsZSB3aGVuIG1vdXNlIGlzIG1vdmVkIG92ZXIgaXQuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5ob3Zlci5hYm92ZSc6IHsKICAgICAgICB0eXBlOiAnYm9vbGVhbicsCiAgICAgICAgZGVmYXVsdDogZGVmYXVsdHMuYWJvdmUsCiAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnaG92ZXIuYWJvdmUnLCAiUHJlZmVyIHNob3dpbmcgaG92ZXJzIGFib3ZlIHRoZSBsaW5lLCBpZiB0aGVyZSdzIHNwYWNlLiIpCiAgICAgIH0KICAgIH0pOwogIH0KICBfY3JlYXRlQ2xhc3MoRWRpdG9ySG92ZXIsIFt7CiAgICBrZXk6ICJ2YWxpZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsaWRhdGUoX2lucHV0KSB7CiAgICAgIGlmICghX2lucHV0IHx8IF90eXBlb2YoX2lucHV0KSAhPT0gJ29iamVjdCcpIHsKICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0VmFsdWU7CiAgICAgIH0KICAgICAgdmFyIGlucHV0ID0gX2lucHV0OwogICAgICByZXR1cm4gewogICAgICAgIGVuYWJsZWQ6IGJvb2xlYW4oaW5wdXQuZW5hYmxlZCwgdGhpcy5kZWZhdWx0VmFsdWUuZW5hYmxlZCksCiAgICAgICAgZGVsYXk6IEVkaXRvckludE9wdGlvbi5jbGFtcGVkSW50KGlucHV0LmRlbGF5LCB0aGlzLmRlZmF1bHRWYWx1ZS5kZWxheSwgMCwgMTAwMDApLAogICAgICAgIHN0aWNreTogYm9vbGVhbihpbnB1dC5zdGlja3ksIHRoaXMuZGVmYXVsdFZhbHVlLnN0aWNreSksCiAgICAgICAgYWJvdmU6IGJvb2xlYW4oaW5wdXQuYWJvdmUsIHRoaXMuZGVmYXVsdFZhbHVlLmFib3ZlKQogICAgICB9OwogICAgfQogIH1dKTsKICByZXR1cm4gRWRpdG9ySG92ZXI7Cn0oQmFzZUVkaXRvck9wdGlvbik7Ci8qKgogKiBAaW50ZXJuYWwKICovCmV4cG9ydCB2YXIgRWRpdG9yTGF5b3V0SW5mb0NvbXB1dGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29tcHV0ZWRFZGl0b3JPcHRpb24zKSB7CiAgX2luaGVyaXRzKEVkaXRvckxheW91dEluZm9Db21wdXRlciwgX0NvbXB1dGVkRWRpdG9yT3B0aW9uMyk7CiAgdmFyIF9zdXBlcjE4ID0gX2NyZWF0ZVN1cGVyKEVkaXRvckxheW91dEluZm9Db21wdXRlcik7CiAgZnVuY3Rpb24gRWRpdG9yTGF5b3V0SW5mb0NvbXB1dGVyKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVkaXRvckxheW91dEluZm9Db21wdXRlcik7CiAgICByZXR1cm4gX3N1cGVyMTguY2FsbCh0aGlzLCAxMzMgLyogRWRpdG9yT3B0aW9uLmxheW91dEluZm8gKi8pOwogIH0KICBfY3JlYXRlQ2xhc3MoRWRpdG9yTGF5b3V0SW5mb0NvbXB1dGVyLCBbewogICAga2V5OiAiY29tcHV0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcHV0ZShlbnYsIG9wdGlvbnMsIF8pIHsKICAgICAgcmV0dXJuIEVkaXRvckxheW91dEluZm9Db21wdXRlci5jb21wdXRlTGF5b3V0KG9wdGlvbnMsIHsKICAgICAgICBtZW1vcnk6IGVudi5tZW1vcnksCiAgICAgICAgb3V0ZXJXaWR0aDogZW52Lm91dGVyV2lkdGgsCiAgICAgICAgb3V0ZXJIZWlnaHQ6IGVudi5vdXRlckhlaWdodCwKICAgICAgICBpc0RvbWluYXRlZEJ5TG9uZ0xpbmVzOiBlbnYuaXNEb21pbmF0ZWRCeUxvbmdMaW5lcywKICAgICAgICBsaW5lSGVpZ2h0OiBlbnYuZm9udEluZm8ubGluZUhlaWdodCwKICAgICAgICB2aWV3TGluZUNvdW50OiBlbnYudmlld0xpbmVDb3VudCwKICAgICAgICBsaW5lTnVtYmVyc0RpZ2l0Q291bnQ6IGVudi5saW5lTnVtYmVyc0RpZ2l0Q291bnQsCiAgICAgICAgdHlwaWNhbEhhbGZ3aWR0aENoYXJhY3RlcldpZHRoOiBlbnYuZm9udEluZm8udHlwaWNhbEhhbGZ3aWR0aENoYXJhY3RlcldpZHRoLAogICAgICAgIG1heERpZ2l0V2lkdGg6IGVudi5mb250SW5mby5tYXhEaWdpdFdpZHRoLAogICAgICAgIHBpeGVsUmF0aW86IGVudi5waXhlbFJhdGlvCiAgICAgIH0pOwogICAgfQogIH1dLCBbewogICAga2V5OiAiY29tcHV0ZUNvbnRhaW5lZE1pbmltYXBMaW5lQ291bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXB1dGVDb250YWluZWRNaW5pbWFwTGluZUNvdW50KGlucHV0KSB7CiAgICAgIHZhciB0eXBpY2FsVmlld3BvcnRMaW5lQ291bnQgPSBpbnB1dC5oZWlnaHQgLyBpbnB1dC5saW5lSGVpZ2h0OwogICAgICB2YXIgZXh0cmFMaW5lc0JleW9uZExhc3RMaW5lID0gaW5wdXQuc2Nyb2xsQmV5b25kTGFzdExpbmUgPyB0eXBpY2FsVmlld3BvcnRMaW5lQ291bnQgLSAxIDogMDsKICAgICAgdmFyIGRlc2lyZWRSYXRpbyA9IChpbnB1dC52aWV3TGluZUNvdW50ICsgZXh0cmFMaW5lc0JleW9uZExhc3RMaW5lKSAvIChpbnB1dC5waXhlbFJhdGlvICogaW5wdXQuaGVpZ2h0KTsKICAgICAgdmFyIG1pbmltYXBMaW5lQ291bnQgPSBNYXRoLmZsb29yKGlucHV0LnZpZXdMaW5lQ291bnQgLyBkZXNpcmVkUmF0aW8pOwogICAgICByZXR1cm4gewogICAgICAgIHR5cGljYWxWaWV3cG9ydExpbmVDb3VudDogdHlwaWNhbFZpZXdwb3J0TGluZUNvdW50LAogICAgICAgIGV4dHJhTGluZXNCZXlvbmRMYXN0TGluZTogZXh0cmFMaW5lc0JleW9uZExhc3RMaW5lLAogICAgICAgIGRlc2lyZWRSYXRpbzogZGVzaXJlZFJhdGlvLAogICAgICAgIG1pbmltYXBMaW5lQ291bnQ6IG1pbmltYXBMaW5lQ291bnQKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfY29tcHV0ZU1pbmltYXBMYXlvdXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9jb21wdXRlTWluaW1hcExheW91dChpbnB1dCwgbWVtb3J5KSB7CiAgICAgIHZhciBvdXRlcldpZHRoID0gaW5wdXQub3V0ZXJXaWR0aDsKICAgICAgdmFyIG91dGVySGVpZ2h0ID0gaW5wdXQub3V0ZXJIZWlnaHQ7CiAgICAgIHZhciBwaXhlbFJhdGlvID0gaW5wdXQucGl4ZWxSYXRpbzsKICAgICAgaWYgKCFpbnB1dC5taW5pbWFwLmVuYWJsZWQpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgcmVuZGVyTWluaW1hcDogMCAvKiBSZW5kZXJNaW5pbWFwLk5vbmUgKi8sCiAgICAgICAgICBtaW5pbWFwTGVmdDogMCwKICAgICAgICAgIG1pbmltYXBXaWR0aDogMCwKICAgICAgICAgIG1pbmltYXBIZWlnaHRJc0VkaXRvckhlaWdodDogZmFsc2UsCiAgICAgICAgICBtaW5pbWFwSXNTYW1wbGluZzogZmFsc2UsCiAgICAgICAgICBtaW5pbWFwU2NhbGU6IDEsCiAgICAgICAgICBtaW5pbWFwTGluZUhlaWdodDogMSwKICAgICAgICAgIG1pbmltYXBDYW52YXNJbm5lcldpZHRoOiAwLAogICAgICAgICAgbWluaW1hcENhbnZhc0lubmVySGVpZ2h0OiBNYXRoLmZsb29yKHBpeGVsUmF0aW8gKiBvdXRlckhlaWdodCksCiAgICAgICAgICBtaW5pbWFwQ2FudmFzT3V0ZXJXaWR0aDogMCwKICAgICAgICAgIG1pbmltYXBDYW52YXNPdXRlckhlaWdodDogb3V0ZXJIZWlnaHQKICAgICAgICB9OwogICAgICB9CiAgICAgIC8vIENhbiB1c2UgbWVtb3J5IGlmIG9ubHkgdGhlIGB2aWV3TGluZUNvdW50YCBhbmQgYHJlbWFpbmluZ1dpZHRoYCBoYXZlIGNoYW5nZWQKICAgICAgdmFyIHN0YWJsZU1pbmltYXBMYXlvdXRJbnB1dCA9IG1lbW9yeS5zdGFibGVNaW5pbWFwTGF5b3V0SW5wdXQ7CiAgICAgIHZhciBjb3VsZFVzZU1lbW9yeSA9IHN0YWJsZU1pbmltYXBMYXlvdXRJbnB1dAogICAgICAvLyAmJiBpbnB1dC5vdXRlcldpZHRoID09PSBsYXN0TWluaW1hcExheW91dElucHV0Lm91dGVyV2lkdGggISEhIElOVEVOVElPTkFMIE9NSVRURUQKICAgICAgJiYgaW5wdXQub3V0ZXJIZWlnaHQgPT09IHN0YWJsZU1pbmltYXBMYXlvdXRJbnB1dC5vdXRlckhlaWdodCAmJiBpbnB1dC5saW5lSGVpZ2h0ID09PSBzdGFibGVNaW5pbWFwTGF5b3V0SW5wdXQubGluZUhlaWdodCAmJiBpbnB1dC50eXBpY2FsSGFsZndpZHRoQ2hhcmFjdGVyV2lkdGggPT09IHN0YWJsZU1pbmltYXBMYXlvdXRJbnB1dC50eXBpY2FsSGFsZndpZHRoQ2hhcmFjdGVyV2lkdGggJiYgaW5wdXQucGl4ZWxSYXRpbyA9PT0gc3RhYmxlTWluaW1hcExheW91dElucHV0LnBpeGVsUmF0aW8gJiYgaW5wdXQuc2Nyb2xsQmV5b25kTGFzdExpbmUgPT09IHN0YWJsZU1pbmltYXBMYXlvdXRJbnB1dC5zY3JvbGxCZXlvbmRMYXN0TGluZSAmJiBpbnB1dC5taW5pbWFwLmVuYWJsZWQgPT09IHN0YWJsZU1pbmltYXBMYXlvdXRJbnB1dC5taW5pbWFwLmVuYWJsZWQgJiYgaW5wdXQubWluaW1hcC5zaWRlID09PSBzdGFibGVNaW5pbWFwTGF5b3V0SW5wdXQubWluaW1hcC5zaWRlICYmIGlucHV0Lm1pbmltYXAuc2l6ZSA9PT0gc3RhYmxlTWluaW1hcExheW91dElucHV0Lm1pbmltYXAuc2l6ZSAmJiBpbnB1dC5taW5pbWFwLnNob3dTbGlkZXIgPT09IHN0YWJsZU1pbmltYXBMYXlvdXRJbnB1dC5taW5pbWFwLnNob3dTbGlkZXIgJiYgaW5wdXQubWluaW1hcC5yZW5kZXJDaGFyYWN0ZXJzID09PSBzdGFibGVNaW5pbWFwTGF5b3V0SW5wdXQubWluaW1hcC5yZW5kZXJDaGFyYWN0ZXJzICYmIGlucHV0Lm1pbmltYXAubWF4Q29sdW1uID09PSBzdGFibGVNaW5pbWFwTGF5b3V0SW5wdXQubWluaW1hcC5tYXhDb2x1bW4gJiYgaW5wdXQubWluaW1hcC5zY2FsZSA9PT0gc3RhYmxlTWluaW1hcExheW91dElucHV0Lm1pbmltYXAuc2NhbGUgJiYgaW5wdXQudmVydGljYWxTY3JvbGxiYXJXaWR0aCA9PT0gc3RhYmxlTWluaW1hcExheW91dElucHV0LnZlcnRpY2FsU2Nyb2xsYmFyV2lkdGgKICAgICAgLy8gJiYgaW5wdXQudmlld0xpbmVDb3VudCA9PT0gbGFzdE1pbmltYXBMYXlvdXRJbnB1dC52aWV3TGluZUNvdW50ICEhISBJTlRFTlRJT05BTCBPTUlUVEVECiAgICAgIC8vICYmIGlucHV0LnJlbWFpbmluZ1dpZHRoID09PSBsYXN0TWluaW1hcExheW91dElucHV0LnJlbWFpbmluZ1dpZHRoICEhISBJTlRFTlRJT05BTCBPTUlUVEVECiAgICAgICYmIGlucHV0LmlzVmlld3BvcnRXcmFwcGluZyA9PT0gc3RhYmxlTWluaW1hcExheW91dElucHV0LmlzVmlld3BvcnRXcmFwcGluZzsKICAgICAgdmFyIGxpbmVIZWlnaHQgPSBpbnB1dC5saW5lSGVpZ2h0OwogICAgICB2YXIgdHlwaWNhbEhhbGZ3aWR0aENoYXJhY3RlcldpZHRoID0gaW5wdXQudHlwaWNhbEhhbGZ3aWR0aENoYXJhY3RlcldpZHRoOwogICAgICB2YXIgc2Nyb2xsQmV5b25kTGFzdExpbmUgPSBpbnB1dC5zY3JvbGxCZXlvbmRMYXN0TGluZTsKICAgICAgdmFyIG1pbmltYXBSZW5kZXJDaGFyYWN0ZXJzID0gaW5wdXQubWluaW1hcC5yZW5kZXJDaGFyYWN0ZXJzOwogICAgICB2YXIgbWluaW1hcFNjYWxlID0gcGl4ZWxSYXRpbyA+PSAyID8gTWF0aC5yb3VuZChpbnB1dC5taW5pbWFwLnNjYWxlICogMikgOiBpbnB1dC5taW5pbWFwLnNjYWxlOwogICAgICB2YXIgbWluaW1hcE1heENvbHVtbiA9IGlucHV0Lm1pbmltYXAubWF4Q29sdW1uOwogICAgICB2YXIgbWluaW1hcFNpemUgPSBpbnB1dC5taW5pbWFwLnNpemU7CiAgICAgIHZhciBtaW5pbWFwU2lkZSA9IGlucHV0Lm1pbmltYXAuc2lkZTsKICAgICAgdmFyIHZlcnRpY2FsU2Nyb2xsYmFyV2lkdGggPSBpbnB1dC52ZXJ0aWNhbFNjcm9sbGJhcldpZHRoOwogICAgICB2YXIgdmlld0xpbmVDb3VudCA9IGlucHV0LnZpZXdMaW5lQ291bnQ7CiAgICAgIHZhciByZW1haW5pbmdXaWR0aCA9IGlucHV0LnJlbWFpbmluZ1dpZHRoOwogICAgICB2YXIgaXNWaWV3cG9ydFdyYXBwaW5nID0gaW5wdXQuaXNWaWV3cG9ydFdyYXBwaW5nOwogICAgICB2YXIgYmFzZUNoYXJIZWlnaHQgPSBtaW5pbWFwUmVuZGVyQ2hhcmFjdGVycyA/IDIgOiAzOwogICAgICB2YXIgbWluaW1hcENhbnZhc0lubmVySGVpZ2h0ID0gTWF0aC5mbG9vcihwaXhlbFJhdGlvICogb3V0ZXJIZWlnaHQpOwogICAgICB2YXIgbWluaW1hcENhbnZhc091dGVySGVpZ2h0ID0gbWluaW1hcENhbnZhc0lubmVySGVpZ2h0IC8gcGl4ZWxSYXRpbzsKICAgICAgdmFyIG1pbmltYXBIZWlnaHRJc0VkaXRvckhlaWdodCA9IGZhbHNlOwogICAgICB2YXIgbWluaW1hcElzU2FtcGxpbmcgPSBmYWxzZTsKICAgICAgdmFyIG1pbmltYXBMaW5lSGVpZ2h0ID0gYmFzZUNoYXJIZWlnaHQgKiBtaW5pbWFwU2NhbGU7CiAgICAgIHZhciBtaW5pbWFwQ2hhcldpZHRoID0gbWluaW1hcFNjYWxlIC8gcGl4ZWxSYXRpbzsKICAgICAgdmFyIG1pbmltYXBXaWR0aE11bHRpcGxpZXIgPSAxOwogICAgICBpZiAobWluaW1hcFNpemUgPT09ICdmaWxsJyB8fCBtaW5pbWFwU2l6ZSA9PT0gJ2ZpdCcpIHsKICAgICAgICB2YXIgX0VkaXRvckxheW91dEluZm9Db21wID0gRWRpdG9yTGF5b3V0SW5mb0NvbXB1dGVyLmNvbXB1dGVDb250YWluZWRNaW5pbWFwTGluZUNvdW50KHsKICAgICAgICAgICAgdmlld0xpbmVDb3VudDogdmlld0xpbmVDb3VudCwKICAgICAgICAgICAgc2Nyb2xsQmV5b25kTGFzdExpbmU6IHNjcm9sbEJleW9uZExhc3RMaW5lLAogICAgICAgICAgICBoZWlnaHQ6IG91dGVySGVpZ2h0LAogICAgICAgICAgICBsaW5lSGVpZ2h0OiBsaW5lSGVpZ2h0LAogICAgICAgICAgICBwaXhlbFJhdGlvOiBwaXhlbFJhdGlvCiAgICAgICAgICB9KSwKICAgICAgICAgIHR5cGljYWxWaWV3cG9ydExpbmVDb3VudCA9IF9FZGl0b3JMYXlvdXRJbmZvQ29tcC50eXBpY2FsVmlld3BvcnRMaW5lQ291bnQsCiAgICAgICAgICBleHRyYUxpbmVzQmV5b25kTGFzdExpbmUgPSBfRWRpdG9yTGF5b3V0SW5mb0NvbXAuZXh0cmFMaW5lc0JleW9uZExhc3RMaW5lLAogICAgICAgICAgZGVzaXJlZFJhdGlvID0gX0VkaXRvckxheW91dEluZm9Db21wLmRlc2lyZWRSYXRpbywKICAgICAgICAgIG1pbmltYXBMaW5lQ291bnQgPSBfRWRpdG9yTGF5b3V0SW5mb0NvbXAubWluaW1hcExpbmVDb3VudDsKICAgICAgICAvLyByYXRpbyBpcyBpbnRlbnRpb25hbGx5IG5vdCBwYXJ0IG9mIHRoZSBsYXlvdXQgdG8gYXZvaWQgdGhlIGxheW91dCBjaGFuZ2luZyBhbGwgdGhlIHRpbWUKICAgICAgICAvLyB3aGVuIGRvaW5nIHNhbXBsaW5nCiAgICAgICAgdmFyIHJhdGlvID0gdmlld0xpbmVDb3VudCAvIG1pbmltYXBMaW5lQ291bnQ7CiAgICAgICAgaWYgKHJhdGlvID4gMSkgewogICAgICAgICAgbWluaW1hcEhlaWdodElzRWRpdG9ySGVpZ2h0ID0gdHJ1ZTsKICAgICAgICAgIG1pbmltYXBJc1NhbXBsaW5nID0gdHJ1ZTsKICAgICAgICAgIG1pbmltYXBTY2FsZSA9IDE7CiAgICAgICAgICBtaW5pbWFwTGluZUhlaWdodCA9IDE7CiAgICAgICAgICBtaW5pbWFwQ2hhcldpZHRoID0gbWluaW1hcFNjYWxlIC8gcGl4ZWxSYXRpbzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIGZpdEJlY29tZXNGaWxsID0gZmFsc2U7CiAgICAgICAgICB2YXIgbWF4TWluaW1hcFNjYWxlID0gbWluaW1hcFNjYWxlICsgMTsKICAgICAgICAgIGlmIChtaW5pbWFwU2l6ZSA9PT0gJ2ZpdCcpIHsKICAgICAgICAgICAgdmFyIGVmZmVjdGl2ZU1pbmltYXBIZWlnaHQgPSBNYXRoLmNlaWwoKHZpZXdMaW5lQ291bnQgKyBleHRyYUxpbmVzQmV5b25kTGFzdExpbmUpICogbWluaW1hcExpbmVIZWlnaHQpOwogICAgICAgICAgICBpZiAoaXNWaWV3cG9ydFdyYXBwaW5nICYmIGNvdWxkVXNlTWVtb3J5ICYmIHJlbWFpbmluZ1dpZHRoIDw9IG1lbW9yeS5zdGFibGVGaXRSZW1haW5pbmdXaWR0aCkgewogICAgICAgICAgICAgIC8vIFRoZXJlIGlzIGEgbG9vcCB3aGVuIHVzaW5nIGBmaXRgIGFuZCB2aWV3cG9ydCB3cmFwcGluZzoKICAgICAgICAgICAgICAvLyAtIHZpZXcgbGluZSBjb3VudCBpbXBhY3RzIG1pbmltYXAgbGF5b3V0CiAgICAgICAgICAgICAgLy8gLSBtaW5pbWFwIGxheW91dCBpbXBhY3RzIHZpZXdwb3J0IHdpZHRoCiAgICAgICAgICAgICAgLy8gLSB2aWV3cG9ydCB3aWR0aCBpbXBhY3RzIHZpZXcgbGluZSBjb3VudAogICAgICAgICAgICAgIC8vIFRvIGJyZWFrIHRoZSBsb29wLCBvbmNlIHdlIGdvIHRvIGEgc21hbGxlciBtaW5pbWFwIHNjYWxlLCB3ZSB0cnkgdG8gc3RpY2sgd2l0aCBpdC4KICAgICAgICAgICAgICBmaXRCZWNvbWVzRmlsbCA9IHRydWU7CiAgICAgICAgICAgICAgbWF4TWluaW1hcFNjYWxlID0gbWVtb3J5LnN0YWJsZUZpdE1heE1pbmltYXBTY2FsZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBmaXRCZWNvbWVzRmlsbCA9IGVmZmVjdGl2ZU1pbmltYXBIZWlnaHQgPiBtaW5pbWFwQ2FudmFzSW5uZXJIZWlnaHQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChtaW5pbWFwU2l6ZSA9PT0gJ2ZpbGwnIHx8IGZpdEJlY29tZXNGaWxsKSB7CiAgICAgICAgICAgIG1pbmltYXBIZWlnaHRJc0VkaXRvckhlaWdodCA9IHRydWU7CiAgICAgICAgICAgIHZhciBjb25maWd1cmVkTWluaW1hcFNjYWxlID0gbWluaW1hcFNjYWxlOwogICAgICAgICAgICBtaW5pbWFwTGluZUhlaWdodCA9IE1hdGgubWluKGxpbmVIZWlnaHQgKiBwaXhlbFJhdGlvLCBNYXRoLm1heCgxLCBNYXRoLmZsb29yKDEgLyBkZXNpcmVkUmF0aW8pKSk7CiAgICAgICAgICAgIGlmIChpc1ZpZXdwb3J0V3JhcHBpbmcgJiYgY291bGRVc2VNZW1vcnkgJiYgcmVtYWluaW5nV2lkdGggPD0gbWVtb3J5LnN0YWJsZUZpdFJlbWFpbmluZ1dpZHRoKSB7CiAgICAgICAgICAgICAgLy8gVGhlcmUgaXMgYSBsb29wIHdoZW4gdXNpbmcgYGZpbGxgIGFuZCB2aWV3cG9ydCB3cmFwcGluZzoKICAgICAgICAgICAgICAvLyAtIHZpZXcgbGluZSBjb3VudCBpbXBhY3RzIG1pbmltYXAgbGF5b3V0CiAgICAgICAgICAgICAgLy8gLSBtaW5pbWFwIGxheW91dCBpbXBhY3RzIHZpZXdwb3J0IHdpZHRoCiAgICAgICAgICAgICAgLy8gLSB2aWV3cG9ydCB3aWR0aCBpbXBhY3RzIHZpZXcgbGluZSBjb3VudAogICAgICAgICAgICAgIC8vIFRvIGJyZWFrIHRoZSBsb29wLCBvbmNlIHdlIGdvIHRvIGEgc21hbGxlciBtaW5pbWFwIHNjYWxlLCB3ZSB0cnkgdG8gc3RpY2sgd2l0aCBpdC4KICAgICAgICAgICAgICBtYXhNaW5pbWFwU2NhbGUgPSBtZW1vcnkuc3RhYmxlRml0TWF4TWluaW1hcFNjYWxlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIG1pbmltYXBTY2FsZSA9IE1hdGgubWluKG1heE1pbmltYXBTY2FsZSwgTWF0aC5tYXgoMSwgTWF0aC5mbG9vcihtaW5pbWFwTGluZUhlaWdodCAvIGJhc2VDaGFySGVpZ2h0KSkpOwogICAgICAgICAgICBpZiAobWluaW1hcFNjYWxlID4gY29uZmlndXJlZE1pbmltYXBTY2FsZSkgewogICAgICAgICAgICAgIG1pbmltYXBXaWR0aE11bHRpcGxpZXIgPSBNYXRoLm1pbigyLCBtaW5pbWFwU2NhbGUgLyBjb25maWd1cmVkTWluaW1hcFNjYWxlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBtaW5pbWFwQ2hhcldpZHRoID0gbWluaW1hcFNjYWxlIC8gcGl4ZWxSYXRpbyAvIG1pbmltYXBXaWR0aE11bHRpcGxpZXI7CiAgICAgICAgICAgIG1pbmltYXBDYW52YXNJbm5lckhlaWdodCA9IE1hdGguY2VpbChNYXRoLm1heCh0eXBpY2FsVmlld3BvcnRMaW5lQ291bnQsIHZpZXdMaW5lQ291bnQgKyBleHRyYUxpbmVzQmV5b25kTGFzdExpbmUpICogbWluaW1hcExpbmVIZWlnaHQpOwogICAgICAgICAgICBpZiAoaXNWaWV3cG9ydFdyYXBwaW5nKSB7CiAgICAgICAgICAgICAgLy8gcmVtZW1iZXIgZm9yIG5leHQgdGltZQogICAgICAgICAgICAgIG1lbW9yeS5zdGFibGVNaW5pbWFwTGF5b3V0SW5wdXQgPSBpbnB1dDsKICAgICAgICAgICAgICBtZW1vcnkuc3RhYmxlRml0UmVtYWluaW5nV2lkdGggPSByZW1haW5pbmdXaWR0aDsKICAgICAgICAgICAgICBtZW1vcnkuc3RhYmxlRml0TWF4TWluaW1hcFNjYWxlID0gbWluaW1hcFNjYWxlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG1lbW9yeS5zdGFibGVNaW5pbWFwTGF5b3V0SW5wdXQgPSBudWxsOwogICAgICAgICAgICAgIG1lbW9yeS5zdGFibGVGaXRSZW1haW5pbmdXaWR0aCA9IDA7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgLy8gR2l2ZW46CiAgICAgIC8vIChsZWF2aW5nIDJweCBmb3IgdGhlIGN1cnNvciB0byBoYXZlIHNwYWNlIGFmdGVyIHRoZSBsYXN0IGNoYXJhY3RlcikKICAgICAgLy8gdmlld3BvcnRDb2x1bW4gPSAoY29udGVudFdpZHRoIC0gdmVydGljYWxTY3JvbGxiYXJXaWR0aCAtIDIpIC8gdHlwaWNhbEhhbGZ3aWR0aENoYXJhY3RlcldpZHRoCiAgICAgIC8vIG1pbmltYXBXaWR0aCA9IHZpZXdwb3J0Q29sdW1uICogbWluaW1hcENoYXJXaWR0aAogICAgICAvLyBjb250ZW50V2lkdGggPSByZW1haW5pbmdXaWR0aCAtIG1pbmltYXBXaWR0aAogICAgICAvLyBXaGF0IGFyZSBnb29kIHZhbHVlcyBmb3IgY29udGVudFdpZHRoIGFuZCBtaW5pbWFwV2lkdGggPwogICAgICAvLyBtaW5pbWFwV2lkdGggPSAoKGNvbnRlbnRXaWR0aCAtIHZlcnRpY2FsU2Nyb2xsYmFyV2lkdGggLSAyKSAvIHR5cGljYWxIYWxmd2lkdGhDaGFyYWN0ZXJXaWR0aCkgKiBtaW5pbWFwQ2hhcldpZHRoCiAgICAgIC8vIHR5cGljYWxIYWxmd2lkdGhDaGFyYWN0ZXJXaWR0aCAqIG1pbmltYXBXaWR0aCA9IChjb250ZW50V2lkdGggLSB2ZXJ0aWNhbFNjcm9sbGJhcldpZHRoIC0gMikgKiBtaW5pbWFwQ2hhcldpZHRoCiAgICAgIC8vIHR5cGljYWxIYWxmd2lkdGhDaGFyYWN0ZXJXaWR0aCAqIG1pbmltYXBXaWR0aCA9IChyZW1haW5pbmdXaWR0aCAtIG1pbmltYXBXaWR0aCAtIHZlcnRpY2FsU2Nyb2xsYmFyV2lkdGggLSAyKSAqIG1pbmltYXBDaGFyV2lkdGgKICAgICAgLy8gKHR5cGljYWxIYWxmd2lkdGhDaGFyYWN0ZXJXaWR0aCArIG1pbmltYXBDaGFyV2lkdGgpICogbWluaW1hcFdpZHRoID0gKHJlbWFpbmluZ1dpZHRoIC0gdmVydGljYWxTY3JvbGxiYXJXaWR0aCAtIDIpICogbWluaW1hcENoYXJXaWR0aAogICAgICAvLyBtaW5pbWFwV2lkdGggPSAoKHJlbWFpbmluZ1dpZHRoIC0gdmVydGljYWxTY3JvbGxiYXJXaWR0aCAtIDIpICogbWluaW1hcENoYXJXaWR0aCkgLyAodHlwaWNhbEhhbGZ3aWR0aENoYXJhY3RlcldpZHRoICsgbWluaW1hcENoYXJXaWR0aCkKICAgICAgdmFyIG1pbmltYXBNYXhXaWR0aCA9IE1hdGguZmxvb3IobWluaW1hcE1heENvbHVtbiAqIG1pbmltYXBDaGFyV2lkdGgpOwogICAgICB2YXIgbWluaW1hcFdpZHRoID0gTWF0aC5taW4obWluaW1hcE1heFdpZHRoLCBNYXRoLm1heCgwLCBNYXRoLmZsb29yKChyZW1haW5pbmdXaWR0aCAtIHZlcnRpY2FsU2Nyb2xsYmFyV2lkdGggLSAyKSAqIG1pbmltYXBDaGFyV2lkdGggLyAodHlwaWNhbEhhbGZ3aWR0aENoYXJhY3RlcldpZHRoICsgbWluaW1hcENoYXJXaWR0aCkpKSArIE1JTklNQVBfR1VUVEVSX1dJRFRIKTsKICAgICAgdmFyIG1pbmltYXBDYW52YXNJbm5lcldpZHRoID0gTWF0aC5mbG9vcihwaXhlbFJhdGlvICogbWluaW1hcFdpZHRoKTsKICAgICAgdmFyIG1pbmltYXBDYW52YXNPdXRlcldpZHRoID0gbWluaW1hcENhbnZhc0lubmVyV2lkdGggLyBwaXhlbFJhdGlvOwogICAgICBtaW5pbWFwQ2FudmFzSW5uZXJXaWR0aCA9IE1hdGguZmxvb3IobWluaW1hcENhbnZhc0lubmVyV2lkdGggKiBtaW5pbWFwV2lkdGhNdWx0aXBsaWVyKTsKICAgICAgdmFyIHJlbmRlck1pbmltYXAgPSBtaW5pbWFwUmVuZGVyQ2hhcmFjdGVycyA/IDEgLyogUmVuZGVyTWluaW1hcC5UZXh0ICovIDogMiAvKiBSZW5kZXJNaW5pbWFwLkJsb2NrcyAqLzsKICAgICAgdmFyIG1pbmltYXBMZWZ0ID0gbWluaW1hcFNpZGUgPT09ICdsZWZ0JyA/IDAgOiBvdXRlcldpZHRoIC0gbWluaW1hcFdpZHRoIC0gdmVydGljYWxTY3JvbGxiYXJXaWR0aDsKICAgICAgcmV0dXJuIHsKICAgICAgICByZW5kZXJNaW5pbWFwOiByZW5kZXJNaW5pbWFwLAogICAgICAgIG1pbmltYXBMZWZ0OiBtaW5pbWFwTGVmdCwKICAgICAgICBtaW5pbWFwV2lkdGg6IG1pbmltYXBXaWR0aCwKICAgICAgICBtaW5pbWFwSGVpZ2h0SXNFZGl0b3JIZWlnaHQ6IG1pbmltYXBIZWlnaHRJc0VkaXRvckhlaWdodCwKICAgICAgICBtaW5pbWFwSXNTYW1wbGluZzogbWluaW1hcElzU2FtcGxpbmcsCiAgICAgICAgbWluaW1hcFNjYWxlOiBtaW5pbWFwU2NhbGUsCiAgICAgICAgbWluaW1hcExpbmVIZWlnaHQ6IG1pbmltYXBMaW5lSGVpZ2h0LAogICAgICAgIG1pbmltYXBDYW52YXNJbm5lcldpZHRoOiBtaW5pbWFwQ2FudmFzSW5uZXJXaWR0aCwKICAgICAgICBtaW5pbWFwQ2FudmFzSW5uZXJIZWlnaHQ6IG1pbmltYXBDYW52YXNJbm5lckhlaWdodCwKICAgICAgICBtaW5pbWFwQ2FudmFzT3V0ZXJXaWR0aDogbWluaW1hcENhbnZhc091dGVyV2lkdGgsCiAgICAgICAgbWluaW1hcENhbnZhc091dGVySGVpZ2h0OiBtaW5pbWFwQ2FudmFzT3V0ZXJIZWlnaHQKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wdXRlTGF5b3V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wdXRlTGF5b3V0KG9wdGlvbnMsIGVudikgewogICAgICB2YXIgb3V0ZXJXaWR0aCA9IGVudi5vdXRlcldpZHRoIHwgMDsKICAgICAgdmFyIG91dGVySGVpZ2h0ID0gZW52Lm91dGVySGVpZ2h0IHwgMDsKICAgICAgdmFyIGxpbmVIZWlnaHQgPSBlbnYubGluZUhlaWdodCB8IDA7CiAgICAgIHZhciBsaW5lTnVtYmVyc0RpZ2l0Q291bnQgPSBlbnYubGluZU51bWJlcnNEaWdpdENvdW50IHwgMDsKICAgICAgdmFyIHR5cGljYWxIYWxmd2lkdGhDaGFyYWN0ZXJXaWR0aCA9IGVudi50eXBpY2FsSGFsZndpZHRoQ2hhcmFjdGVyV2lkdGg7CiAgICAgIHZhciBtYXhEaWdpdFdpZHRoID0gZW52Lm1heERpZ2l0V2lkdGg7CiAgICAgIHZhciBwaXhlbFJhdGlvID0gZW52LnBpeGVsUmF0aW87CiAgICAgIHZhciB2aWV3TGluZUNvdW50ID0gZW52LnZpZXdMaW5lQ291bnQ7CiAgICAgIHZhciB3b3JkV3JhcE92ZXJyaWRlMiA9IG9wdGlvbnMuZ2V0KDEyNSAvKiBFZGl0b3JPcHRpb24ud29yZFdyYXBPdmVycmlkZTIgKi8pOwogICAgICB2YXIgd29yZFdyYXBPdmVycmlkZTEgPSB3b3JkV3JhcE92ZXJyaWRlMiA9PT0gJ2luaGVyaXQnID8gb3B0aW9ucy5nZXQoMTI0IC8qIEVkaXRvck9wdGlvbi53b3JkV3JhcE92ZXJyaWRlMSAqLykgOiB3b3JkV3JhcE92ZXJyaWRlMjsKICAgICAgdmFyIHdvcmRXcmFwID0gd29yZFdyYXBPdmVycmlkZTEgPT09ICdpbmhlcml0JyA/IG9wdGlvbnMuZ2V0KDEyMCAvKiBFZGl0b3JPcHRpb24ud29yZFdyYXAgKi8pIDogd29yZFdyYXBPdmVycmlkZTE7CiAgICAgIHZhciB3b3JkV3JhcENvbHVtbiA9IG9wdGlvbnMuZ2V0KDEyMyAvKiBFZGl0b3JPcHRpb24ud29yZFdyYXBDb2x1bW4gKi8pOwogICAgICB2YXIgYWNjZXNzaWJpbGl0eVN1cHBvcnQgPSBvcHRpb25zLmdldCgyIC8qIEVkaXRvck9wdGlvbi5hY2Nlc3NpYmlsaXR5U3VwcG9ydCAqLyk7CiAgICAgIHZhciBpc0RvbWluYXRlZEJ5TG9uZ0xpbmVzID0gZW52LmlzRG9taW5hdGVkQnlMb25nTGluZXM7CiAgICAgIHZhciBzaG93R2x5cGhNYXJnaW4gPSBvcHRpb25zLmdldCg1MiAvKiBFZGl0b3JPcHRpb24uZ2x5cGhNYXJnaW4gKi8pOwogICAgICB2YXIgc2hvd0xpbmVOdW1iZXJzID0gb3B0aW9ucy5nZXQoNjIgLyogRWRpdG9yT3B0aW9uLmxpbmVOdW1iZXJzICovKS5yZW5kZXJUeXBlICE9PSAwIC8qIFJlbmRlckxpbmVOdW1iZXJzVHlwZS5PZmYgKi87CiAgICAgIHZhciBsaW5lTnVtYmVyc01pbkNoYXJzID0gb3B0aW9ucy5nZXQoNjMgLyogRWRpdG9yT3B0aW9uLmxpbmVOdW1iZXJzTWluQ2hhcnMgKi8pOwogICAgICB2YXIgc2Nyb2xsQmV5b25kTGFzdExpbmUgPSBvcHRpb25zLmdldCg5NiAvKiBFZGl0b3JPcHRpb24uc2Nyb2xsQmV5b25kTGFzdExpbmUgKi8pOwogICAgICB2YXIgbWluaW1hcCA9IG9wdGlvbnMuZ2V0KDY3IC8qIEVkaXRvck9wdGlvbi5taW5pbWFwICovKTsKICAgICAgdmFyIHNjcm9sbGJhciA9IG9wdGlvbnMuZ2V0KDk0IC8qIEVkaXRvck9wdGlvbi5zY3JvbGxiYXIgKi8pOwogICAgICB2YXIgdmVydGljYWxTY3JvbGxiYXJXaWR0aCA9IHNjcm9sbGJhci52ZXJ0aWNhbFNjcm9sbGJhclNpemU7CiAgICAgIHZhciB2ZXJ0aWNhbFNjcm9sbGJhckhhc0Fycm93cyA9IHNjcm9sbGJhci52ZXJ0aWNhbEhhc0Fycm93czsKICAgICAgdmFyIHNjcm9sbGJhckFycm93U2l6ZSA9IHNjcm9sbGJhci5hcnJvd1NpemU7CiAgICAgIHZhciBob3Jpem9udGFsU2Nyb2xsYmFySGVpZ2h0ID0gc2Nyb2xsYmFyLmhvcml6b250YWxTY3JvbGxiYXJTaXplOwogICAgICB2YXIgcmF3TGluZURlY29yYXRpb25zV2lkdGggPSBvcHRpb25zLmdldCg2MCAvKiBFZGl0b3JPcHRpb24ubGluZURlY29yYXRpb25zV2lkdGggKi8pOwogICAgICB2YXIgZm9sZGluZyA9IG9wdGlvbnMuZ2V0KDM5IC8qIEVkaXRvck9wdGlvbi5mb2xkaW5nICovKTsKICAgICAgdmFyIHNob3dGb2xkaW5nRGVjb3JhdGlvbiA9IG9wdGlvbnMuZ2V0KDEwMSAvKiBFZGl0b3JPcHRpb24uc2hvd0ZvbGRpbmdDb250cm9scyAqLykgIT09ICduZXZlcic7CiAgICAgIHZhciBsaW5lRGVjb3JhdGlvbnNXaWR0aDsKICAgICAgaWYgKHR5cGVvZiByYXdMaW5lRGVjb3JhdGlvbnNXaWR0aCA9PT0gJ3N0cmluZycgJiYgL15cZCsoXC5cZCspP2NoJC8udGVzdChyYXdMaW5lRGVjb3JhdGlvbnNXaWR0aCkpIHsKICAgICAgICB2YXIgbXVsdGlwbGUgPSBwYXJzZUZsb2F0KHJhd0xpbmVEZWNvcmF0aW9uc1dpZHRoLnN1YnN0cigwLCByYXdMaW5lRGVjb3JhdGlvbnNXaWR0aC5sZW5ndGggLSAyKSk7CiAgICAgICAgbGluZURlY29yYXRpb25zV2lkdGggPSBFZGl0b3JJbnRPcHRpb24uY2xhbXBlZEludChtdWx0aXBsZSAqIHR5cGljYWxIYWxmd2lkdGhDaGFyYWN0ZXJXaWR0aCwgMCwgMCwgMTAwMCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGluZURlY29yYXRpb25zV2lkdGggPSBFZGl0b3JJbnRPcHRpb24uY2xhbXBlZEludChyYXdMaW5lRGVjb3JhdGlvbnNXaWR0aCwgMCwgMCwgMTAwMCk7CiAgICAgIH0KICAgICAgaWYgKGZvbGRpbmcgJiYgc2hvd0ZvbGRpbmdEZWNvcmF0aW9uKSB7CiAgICAgICAgbGluZURlY29yYXRpb25zV2lkdGggKz0gMTY7CiAgICAgIH0KICAgICAgdmFyIGxpbmVOdW1iZXJzV2lkdGggPSAwOwogICAgICBpZiAoc2hvd0xpbmVOdW1iZXJzKSB7CiAgICAgICAgdmFyIGRpZ2l0Q291bnQgPSBNYXRoLm1heChsaW5lTnVtYmVyc0RpZ2l0Q291bnQsIGxpbmVOdW1iZXJzTWluQ2hhcnMpOwogICAgICAgIGxpbmVOdW1iZXJzV2lkdGggPSBNYXRoLnJvdW5kKGRpZ2l0Q291bnQgKiBtYXhEaWdpdFdpZHRoKTsKICAgICAgfQogICAgICB2YXIgZ2x5cGhNYXJnaW5XaWR0aCA9IDA7CiAgICAgIGlmIChzaG93R2x5cGhNYXJnaW4pIHsKICAgICAgICBnbHlwaE1hcmdpbldpZHRoID0gbGluZUhlaWdodDsKICAgICAgfQogICAgICB2YXIgZ2x5cGhNYXJnaW5MZWZ0ID0gMDsKICAgICAgdmFyIGxpbmVOdW1iZXJzTGVmdCA9IGdseXBoTWFyZ2luTGVmdCArIGdseXBoTWFyZ2luV2lkdGg7CiAgICAgIHZhciBkZWNvcmF0aW9uc0xlZnQgPSBsaW5lTnVtYmVyc0xlZnQgKyBsaW5lTnVtYmVyc1dpZHRoOwogICAgICB2YXIgY29udGVudExlZnQgPSBkZWNvcmF0aW9uc0xlZnQgKyBsaW5lRGVjb3JhdGlvbnNXaWR0aDsKICAgICAgdmFyIHJlbWFpbmluZ1dpZHRoID0gb3V0ZXJXaWR0aCAtIGdseXBoTWFyZ2luV2lkdGggLSBsaW5lTnVtYmVyc1dpZHRoIC0gbGluZURlY29yYXRpb25zV2lkdGg7CiAgICAgIHZhciBpc1dvcmRXcmFwTWluaWZpZWQgPSBmYWxzZTsKICAgICAgdmFyIGlzVmlld3BvcnRXcmFwcGluZyA9IGZhbHNlOwogICAgICB2YXIgd3JhcHBpbmdDb2x1bW4gPSAtMTsKICAgICAgaWYgKGFjY2Vzc2liaWxpdHlTdXBwb3J0ICE9PSAyIC8qIEFjY2Vzc2liaWxpdHlTdXBwb3J0LkVuYWJsZWQgKi8pIHsKICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC92c2NvZGUvaXNzdWVzLzI3NzY2CiAgICAgICAgLy8gTmV2ZXIgZW5hYmxlIHdyYXBwaW5nIHdoZW4gYSBzY3JlZW4gcmVhZGVyIGlzIGF0dGFjaGVkCiAgICAgICAgLy8gYmVjYXVzZSBhcnJvdyBkb3duIGV0Yy4gd2lsbCBub3QgbW92ZSB0aGUgY3Vyc29yIGluIHRoZSB3YXkKICAgICAgICAvLyBhIHNjcmVlbiByZWFkZXIgZXhwZWN0cy4KICAgICAgICBpZiAod29yZFdyYXBPdmVycmlkZTEgPT09ICdpbmhlcml0JyAmJiBpc0RvbWluYXRlZEJ5TG9uZ0xpbmVzKSB7CiAgICAgICAgICAvLyBGb3JjZSB2aWV3cG9ydCB3aWR0aCB3cmFwcGluZyBpZiBtb2RlbCBpcyBkb21pbmF0ZWQgYnkgbG9uZyBsaW5lcwogICAgICAgICAgaXNXb3JkV3JhcE1pbmlmaWVkID0gdHJ1ZTsKICAgICAgICAgIGlzVmlld3BvcnRXcmFwcGluZyA9IHRydWU7CiAgICAgICAgfSBlbHNlIGlmICh3b3JkV3JhcCA9PT0gJ29uJyB8fCB3b3JkV3JhcCA9PT0gJ2JvdW5kZWQnKSB7CiAgICAgICAgICBpc1ZpZXdwb3J0V3JhcHBpbmcgPSB0cnVlOwogICAgICAgIH0gZWxzZSBpZiAod29yZFdyYXAgPT09ICd3b3JkV3JhcENvbHVtbicpIHsKICAgICAgICAgIHdyYXBwaW5nQ29sdW1uID0gd29yZFdyYXBDb2x1bW47CiAgICAgICAgfQogICAgICB9CiAgICAgIHZhciBtaW5pbWFwTGF5b3V0ID0gRWRpdG9yTGF5b3V0SW5mb0NvbXB1dGVyLl9jb21wdXRlTWluaW1hcExheW91dCh7CiAgICAgICAgb3V0ZXJXaWR0aDogb3V0ZXJXaWR0aCwKICAgICAgICBvdXRlckhlaWdodDogb3V0ZXJIZWlnaHQsCiAgICAgICAgbGluZUhlaWdodDogbGluZUhlaWdodCwKICAgICAgICB0eXBpY2FsSGFsZndpZHRoQ2hhcmFjdGVyV2lkdGg6IHR5cGljYWxIYWxmd2lkdGhDaGFyYWN0ZXJXaWR0aCwKICAgICAgICBwaXhlbFJhdGlvOiBwaXhlbFJhdGlvLAogICAgICAgIHNjcm9sbEJleW9uZExhc3RMaW5lOiBzY3JvbGxCZXlvbmRMYXN0TGluZSwKICAgICAgICBtaW5pbWFwOiBtaW5pbWFwLAogICAgICAgIHZlcnRpY2FsU2Nyb2xsYmFyV2lkdGg6IHZlcnRpY2FsU2Nyb2xsYmFyV2lkdGgsCiAgICAgICAgdmlld0xpbmVDb3VudDogdmlld0xpbmVDb3VudCwKICAgICAgICByZW1haW5pbmdXaWR0aDogcmVtYWluaW5nV2lkdGgsCiAgICAgICAgaXNWaWV3cG9ydFdyYXBwaW5nOiBpc1ZpZXdwb3J0V3JhcHBpbmcKICAgICAgfSwgZW52Lm1lbW9yeSB8fCBuZXcgQ29tcHV0ZU9wdGlvbnNNZW1vcnkoKSk7CiAgICAgIGlmIChtaW5pbWFwTGF5b3V0LnJlbmRlck1pbmltYXAgIT09IDAgLyogUmVuZGVyTWluaW1hcC5Ob25lICovICYmIG1pbmltYXBMYXlvdXQubWluaW1hcExlZnQgPT09IDApIHsKICAgICAgICAvLyB0aGUgbWluaW1hcCBpcyByZW5kZXJlZCB0byB0aGUgbGVmdCwgc28gbW92ZSBldmVyeXRoaW5nIHRvIHRoZSByaWdodAogICAgICAgIGdseXBoTWFyZ2luTGVmdCArPSBtaW5pbWFwTGF5b3V0Lm1pbmltYXBXaWR0aDsKICAgICAgICBsaW5lTnVtYmVyc0xlZnQgKz0gbWluaW1hcExheW91dC5taW5pbWFwV2lkdGg7CiAgICAgICAgZGVjb3JhdGlvbnNMZWZ0ICs9IG1pbmltYXBMYXlvdXQubWluaW1hcFdpZHRoOwogICAgICAgIGNvbnRlbnRMZWZ0ICs9IG1pbmltYXBMYXlvdXQubWluaW1hcFdpZHRoOwogICAgICB9CiAgICAgIHZhciBjb250ZW50V2lkdGggPSByZW1haW5pbmdXaWR0aCAtIG1pbmltYXBMYXlvdXQubWluaW1hcFdpZHRoOwogICAgICAvLyAobGVhdmluZyAycHggZm9yIHRoZSBjdXJzb3IgdG8gaGF2ZSBzcGFjZSBhZnRlciB0aGUgbGFzdCBjaGFyYWN0ZXIpCiAgICAgIHZhciB2aWV3cG9ydENvbHVtbiA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IoKGNvbnRlbnRXaWR0aCAtIHZlcnRpY2FsU2Nyb2xsYmFyV2lkdGggLSAyKSAvIHR5cGljYWxIYWxmd2lkdGhDaGFyYWN0ZXJXaWR0aCkpOwogICAgICB2YXIgdmVydGljYWxBcnJvd1NpemUgPSB2ZXJ0aWNhbFNjcm9sbGJhckhhc0Fycm93cyA/IHNjcm9sbGJhckFycm93U2l6ZSA6IDA7CiAgICAgIGlmIChpc1ZpZXdwb3J0V3JhcHBpbmcpIHsKICAgICAgICAvLyBjb21wdXRlIHRoZSBhY3R1YWwgd3JhcHBpbmdDb2x1bW4KICAgICAgICB3cmFwcGluZ0NvbHVtbiA9IE1hdGgubWF4KDEsIHZpZXdwb3J0Q29sdW1uKTsKICAgICAgICBpZiAod29yZFdyYXAgPT09ICdib3VuZGVkJykgewogICAgICAgICAgd3JhcHBpbmdDb2x1bW4gPSBNYXRoLm1pbih3cmFwcGluZ0NvbHVtbiwgd29yZFdyYXBDb2x1bW4pOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gewogICAgICAgIHdpZHRoOiBvdXRlcldpZHRoLAogICAgICAgIGhlaWdodDogb3V0ZXJIZWlnaHQsCiAgICAgICAgZ2x5cGhNYXJnaW5MZWZ0OiBnbHlwaE1hcmdpbkxlZnQsCiAgICAgICAgZ2x5cGhNYXJnaW5XaWR0aDogZ2x5cGhNYXJnaW5XaWR0aCwKICAgICAgICBsaW5lTnVtYmVyc0xlZnQ6IGxpbmVOdW1iZXJzTGVmdCwKICAgICAgICBsaW5lTnVtYmVyc1dpZHRoOiBsaW5lTnVtYmVyc1dpZHRoLAogICAgICAgIGRlY29yYXRpb25zTGVmdDogZGVjb3JhdGlvbnNMZWZ0LAogICAgICAgIGRlY29yYXRpb25zV2lkdGg6IGxpbmVEZWNvcmF0aW9uc1dpZHRoLAogICAgICAgIGNvbnRlbnRMZWZ0OiBjb250ZW50TGVmdCwKICAgICAgICBjb250ZW50V2lkdGg6IGNvbnRlbnRXaWR0aCwKICAgICAgICBtaW5pbWFwOiBtaW5pbWFwTGF5b3V0LAogICAgICAgIHZpZXdwb3J0Q29sdW1uOiB2aWV3cG9ydENvbHVtbiwKICAgICAgICBpc1dvcmRXcmFwTWluaWZpZWQ6IGlzV29yZFdyYXBNaW5pZmllZCwKICAgICAgICBpc1ZpZXdwb3J0V3JhcHBpbmc6IGlzVmlld3BvcnRXcmFwcGluZywKICAgICAgICB3cmFwcGluZ0NvbHVtbjogd3JhcHBpbmdDb2x1bW4sCiAgICAgICAgdmVydGljYWxTY3JvbGxiYXJXaWR0aDogdmVydGljYWxTY3JvbGxiYXJXaWR0aCwKICAgICAgICBob3Jpem9udGFsU2Nyb2xsYmFySGVpZ2h0OiBob3Jpem9udGFsU2Nyb2xsYmFySGVpZ2h0LAogICAgICAgIG92ZXJ2aWV3UnVsZXI6IHsKICAgICAgICAgIHRvcDogdmVydGljYWxBcnJvd1NpemUsCiAgICAgICAgICB3aWR0aDogdmVydGljYWxTY3JvbGxiYXJXaWR0aCwKICAgICAgICAgIGhlaWdodDogb3V0ZXJIZWlnaHQgLSAyICogdmVydGljYWxBcnJvd1NpemUsCiAgICAgICAgICByaWdodDogMAogICAgICAgIH0KICAgICAgfTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIEVkaXRvckxheW91dEluZm9Db21wdXRlcjsKfShDb21wdXRlZEVkaXRvck9wdGlvbik7CnZhciBFZGl0b3JMaWdodGJ1bGIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9CYXNlRWRpdG9yT3B0aW9uOSkgewogIF9pbmhlcml0cyhFZGl0b3JMaWdodGJ1bGIsIF9CYXNlRWRpdG9yT3B0aW9uOSk7CiAgdmFyIF9zdXBlcjE5ID0gX2NyZWF0ZVN1cGVyKEVkaXRvckxpZ2h0YnVsYik7CiAgZnVuY3Rpb24gRWRpdG9yTGlnaHRidWxiKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVkaXRvckxpZ2h0YnVsYik7CiAgICB2YXIgZGVmYXVsdHMgPSB7CiAgICAgIGVuYWJsZWQ6IHRydWUKICAgIH07CiAgICByZXR1cm4gX3N1cGVyMTkuY2FsbCh0aGlzLCA1OSAvKiBFZGl0b3JPcHRpb24ubGlnaHRidWxiICovLCAnbGlnaHRidWxiJywgZGVmYXVsdHMsIHsKICAgICAgJ2VkaXRvci5saWdodGJ1bGIuZW5hYmxlZCc6IHsKICAgICAgICB0eXBlOiAnYm9vbGVhbicsCiAgICAgICAgZGVmYXVsdDogZGVmYXVsdHMuZW5hYmxlZCwKICAgICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdjb2RlQWN0aW9ucycsICJFbmFibGVzIHRoZSBjb2RlIGFjdGlvbiBsaWdodGJ1bGIgaW4gdGhlIGVkaXRvci4iKQogICAgICB9CiAgICB9KTsKICB9CiAgX2NyZWF0ZUNsYXNzKEVkaXRvckxpZ2h0YnVsYiwgW3sKICAgIGtleTogInZhbGlkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZShfaW5wdXQpIHsKICAgICAgaWYgKCFfaW5wdXQgfHwgX3R5cGVvZihfaW5wdXQpICE9PSAnb2JqZWN0JykgewogICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRWYWx1ZTsKICAgICAgfQogICAgICB2YXIgaW5wdXQgPSBfaW5wdXQ7CiAgICAgIHJldHVybiB7CiAgICAgICAgZW5hYmxlZDogYm9vbGVhbihpbnB1dC5lbmFibGVkLCB0aGlzLmRlZmF1bHRWYWx1ZS5lbmFibGVkKQogICAgICB9OwogICAgfQogIH1dKTsKICByZXR1cm4gRWRpdG9yTGlnaHRidWxiOwp9KEJhc2VFZGl0b3JPcHRpb24pOwp2YXIgRWRpdG9yRXhwZXJpbWVudGFsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZUVkaXRvck9wdGlvbjEwKSB7CiAgX2luaGVyaXRzKEVkaXRvckV4cGVyaW1lbnRhbCwgX0Jhc2VFZGl0b3JPcHRpb24xMCk7CiAgdmFyIF9zdXBlcjIwID0gX2NyZWF0ZVN1cGVyKEVkaXRvckV4cGVyaW1lbnRhbCk7CiAgZnVuY3Rpb24gRWRpdG9yRXhwZXJpbWVudGFsKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVkaXRvckV4cGVyaW1lbnRhbCk7CiAgICB2YXIgZGVmYXVsdHMgPSB7CiAgICAgIHN0aWNreVNjcm9sbDogewogICAgICAgIGVuYWJsZWQ6IGZhbHNlCiAgICAgIH0KICAgIH07CiAgICByZXR1cm4gX3N1cGVyMjAuY2FsbCh0aGlzLCAzNCAvKiBFZGl0b3JPcHRpb24uZXhwZXJpbWVudGFsICovLCAnZXhwZXJpbWVudGFsJywgZGVmYXVsdHMsIHsKICAgICAgJ2VkaXRvci5leHBlcmltZW50YWwuc3RpY2t5U2Nyb2xsLmVuYWJsZWQnOiB7CiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLnN0aWNreVNjcm9sbC5lbmFibGVkLAogICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2VkaXRvci5leHBlcmltZW50YWwuc3RpY2t5U2Nyb2xsJywgIlNob3dzIHRoZSBuZXN0ZWQgY3VycmVudCBzY29wZXMgZHVyaW5nIHRoZSBzY3JvbGwgYXQgdGhlIHRvcCBvZiB0aGUgZWRpdG9yLiIpCiAgICAgIH0KICAgIH0pOwogIH0KICBfY3JlYXRlQ2xhc3MoRWRpdG9yRXhwZXJpbWVudGFsLCBbewogICAga2V5OiAidmFsaWRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlKF9pbnB1dCkgewogICAgICB2YXIgX2E7CiAgICAgIGlmICghX2lucHV0IHx8IF90eXBlb2YoX2lucHV0KSAhPT0gJ29iamVjdCcpIHsKICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0VmFsdWU7CiAgICAgIH0KICAgICAgdmFyIGlucHV0ID0gX2lucHV0OwogICAgICByZXR1cm4gewogICAgICAgIHN0aWNreVNjcm9sbDogewogICAgICAgICAgZW5hYmxlZDogYm9vbGVhbigoX2EgPSBpbnB1dC5zdGlja3lTY3JvbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbmFibGVkLCB0aGlzLmRlZmF1bHRWYWx1ZS5zdGlja3lTY3JvbGwuZW5hYmxlZCkKICAgICAgICB9CiAgICAgIH07CiAgICB9CiAgfV0pOwogIHJldHVybiBFZGl0b3JFeHBlcmltZW50YWw7Cn0oQmFzZUVkaXRvck9wdGlvbik7CnZhciBFZGl0b3JJbmxheUhpbnRzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZUVkaXRvck9wdGlvbjExKSB7CiAgX2luaGVyaXRzKEVkaXRvcklubGF5SGludHMsIF9CYXNlRWRpdG9yT3B0aW9uMTEpOwogIHZhciBfc3VwZXIyMSA9IF9jcmVhdGVTdXBlcihFZGl0b3JJbmxheUhpbnRzKTsKICBmdW5jdGlvbiBFZGl0b3JJbmxheUhpbnRzKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVkaXRvcklubGF5SGludHMpOwogICAgdmFyIGRlZmF1bHRzID0gewogICAgICBlbmFibGVkOiAnb24nLAogICAgICBmb250U2l6ZTogMCwKICAgICAgZm9udEZhbWlseTogJycsCiAgICAgIHBhZGRpbmc6IGZhbHNlCiAgICB9OwogICAgcmV0dXJuIF9zdXBlcjIxLmNhbGwodGhpcywgMTI5IC8qIEVkaXRvck9wdGlvbi5pbmxheUhpbnRzICovLCAnaW5sYXlIaW50cycsIGRlZmF1bHRzLCB7CiAgICAgICdlZGl0b3IuaW5sYXlIaW50cy5lbmFibGVkJzogewogICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLmVuYWJsZWQsCiAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnaW5sYXlIaW50cy5lbmFibGUnLCAiRW5hYmxlcyB0aGUgaW5sYXkgaGludHMgaW4gdGhlIGVkaXRvci4iKSwKICAgICAgICBlbnVtOiBbJ29uJywgJ29uVW5sZXNzUHJlc3NlZCcsICdvZmZVbmxlc3NQcmVzc2VkJywgJ29mZiddLAogICAgICAgIG1hcmtkb3duRW51bURlc2NyaXB0aW9uczogW25scy5sb2NhbGl6ZSgnZWRpdG9yLmlubGF5SGludHMub24nLCAiSW5sYXkgaGludHMgYXJlIGVuYWJsZWQiKSwgbmxzLmxvY2FsaXplKCdlZGl0b3IuaW5sYXlIaW50cy5vblVubGVzc1ByZXNzZWQnLCAiSW5sYXkgaGludHMgYXJlIHNob3dpbmcgYnkgZGVmYXVsdCBhbmQgaGlkZSB3aGVuIGhvbGRpbmcgYEN0cmwrQWx0YCIpLCBubHMubG9jYWxpemUoJ2VkaXRvci5pbmxheUhpbnRzLm9mZlVubGVzc1ByZXNzZWQnLCAiSW5sYXkgaGludHMgYXJlIGhpZGRlbiBieSBkZWZhdWx0IGFuZCBzaG93IHdoZW4gaG9sZGluZyBgQ3RybCtBbHRgIiksIG5scy5sb2NhbGl6ZSgnZWRpdG9yLmlubGF5SGludHMub2ZmJywgIklubGF5IGhpbnRzIGFyZSBkaXNhYmxlZCIpXQogICAgICB9LAogICAgICAnZWRpdG9yLmlubGF5SGludHMuZm9udFNpemUnOiB7CiAgICAgICAgdHlwZTogJ251bWJlcicsCiAgICAgICAgZGVmYXVsdDogZGVmYXVsdHMuZm9udFNpemUsCiAgICAgICAgbWFya2Rvd25EZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdpbmxheUhpbnRzLmZvbnRTaXplJywgIkNvbnRyb2xzIGZvbnQgc2l6ZSBvZiBpbmxheSBoaW50cyBpbiB0aGUgZWRpdG9yLiBBcyBkZWZhdWx0IHRoZSB7MH0gaXMgdXNlZCB3aGVuIHRoZSBjb25maWd1cmVkIHZhbHVlIGlzIGxlc3MgdGhhbiB7MX0gb3IgZ3JlYXRlciB0aGFuIHRoZSBlZGl0b3IgZm9udCBzaXplLiIsICdgI2VkaXRvci5mb250U2l6ZSNgJywgJ2A1YCcpCiAgICAgIH0sCiAgICAgICdlZGl0b3IuaW5sYXlIaW50cy5mb250RmFtaWx5JzogewogICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLmZvbnRGYW1pbHksCiAgICAgICAgbWFya2Rvd25EZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdpbmxheUhpbnRzLmZvbnRGYW1pbHknLCAiQ29udHJvbHMgZm9udCBmYW1pbHkgb2YgaW5sYXkgaGludHMgaW4gdGhlIGVkaXRvci4gV2hlbiBzZXQgdG8gZW1wdHksIHRoZSB7MH0gaXMgdXNlZC4iLCAnYCNlZGl0b3IuZm9udEZhbWlseSNgJykKICAgICAgfSwKICAgICAgJ2VkaXRvci5pbmxheUhpbnRzLnBhZGRpbmcnOiB7CiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLnBhZGRpbmcsCiAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnaW5sYXlIaW50cy5wYWRkaW5nJywgIkVuYWJsZXMgdGhlIHBhZGRpbmcgYXJvdW5kIHRoZSBpbmxheSBoaW50cyBpbiB0aGUgZWRpdG9yLiIpCiAgICAgIH0KICAgIH0pOwogIH0KICBfY3JlYXRlQ2xhc3MoRWRpdG9ySW5sYXlIaW50cywgW3sKICAgIGtleTogInZhbGlkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZShfaW5wdXQpIHsKICAgICAgaWYgKCFfaW5wdXQgfHwgX3R5cGVvZihfaW5wdXQpICE9PSAnb2JqZWN0JykgewogICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRWYWx1ZTsKICAgICAgfQogICAgICB2YXIgaW5wdXQgPSBfaW5wdXQ7CiAgICAgIGlmICh0eXBlb2YgaW5wdXQuZW5hYmxlZCA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgICAgaW5wdXQuZW5hYmxlZCA9IGlucHV0LmVuYWJsZWQgPyAnb24nIDogJ29mZic7CiAgICAgIH0KICAgICAgcmV0dXJuIHsKICAgICAgICBlbmFibGVkOiBzdHJpbmdTZXQoaW5wdXQuZW5hYmxlZCwgdGhpcy5kZWZhdWx0VmFsdWUuZW5hYmxlZCwgWydvbicsICdvZmYnLCAnb2ZmVW5sZXNzUHJlc3NlZCcsICdvblVubGVzc1ByZXNzZWQnXSksCiAgICAgICAgZm9udFNpemU6IEVkaXRvckludE9wdGlvbi5jbGFtcGVkSW50KGlucHV0LmZvbnRTaXplLCB0aGlzLmRlZmF1bHRWYWx1ZS5mb250U2l6ZSwgMCwgMTAwKSwKICAgICAgICBmb250RmFtaWx5OiBFZGl0b3JTdHJpbmdPcHRpb24uc3RyaW5nKGlucHV0LmZvbnRGYW1pbHksIHRoaXMuZGVmYXVsdFZhbHVlLmZvbnRGYW1pbHkpLAogICAgICAgIHBhZGRpbmc6IGJvb2xlYW4oaW5wdXQucGFkZGluZywgdGhpcy5kZWZhdWx0VmFsdWUucGFkZGluZykKICAgICAgfTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIEVkaXRvcklubGF5SGludHM7Cn0oQmFzZUVkaXRvck9wdGlvbik7IC8vI2VuZHJlZ2lvbgovLyNyZWdpb24gbGluZUhlaWdodAp2YXIgRWRpdG9yTGluZUhlaWdodCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0VkaXRvckZsb2F0T3B0aW9uKSB7CiAgX2luaGVyaXRzKEVkaXRvckxpbmVIZWlnaHQsIF9FZGl0b3JGbG9hdE9wdGlvbik7CiAgdmFyIF9zdXBlcjIyID0gX2NyZWF0ZVN1cGVyKEVkaXRvckxpbmVIZWlnaHQpOwogIGZ1bmN0aW9uIEVkaXRvckxpbmVIZWlnaHQoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRWRpdG9yTGluZUhlaWdodCk7CiAgICByZXR1cm4gX3N1cGVyMjIuY2FsbCh0aGlzLCA2MSAvKiBFZGl0b3JPcHRpb24ubGluZUhlaWdodCAqLywgJ2xpbmVIZWlnaHQnLCBFRElUT1JfRk9OVF9ERUZBVUxUUy5saW5lSGVpZ2h0LCBmdW5jdGlvbiAoeCkgewogICAgICByZXR1cm4gRWRpdG9yRmxvYXRPcHRpb24uY2xhbXAoeCwgMCwgMTUwKTsKICAgIH0sIHsKICAgICAgbWFya2Rvd25EZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdsaW5lSGVpZ2h0JywgIkNvbnRyb2xzIHRoZSBsaW5lIGhlaWdodC4gXG4gLSBVc2UgMCB0byBhdXRvbWF0aWNhbGx5IGNvbXB1dGUgdGhlIGxpbmUgaGVpZ2h0IGZyb20gdGhlIGZvbnQgc2l6ZS5cbiAtIFZhbHVlcyBiZXR3ZWVuIDAgYW5kIDggd2lsbCBiZSB1c2VkIGFzIGEgbXVsdGlwbGllciB3aXRoIHRoZSBmb250IHNpemUuXG4gLSBWYWx1ZXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDggd2lsbCBiZSB1c2VkIGFzIGVmZmVjdGl2ZSB2YWx1ZXMuIikKICAgIH0pOwogIH0KICBfY3JlYXRlQ2xhc3MoRWRpdG9yTGluZUhlaWdodCwgW3sKICAgIGtleTogImNvbXB1dGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXB1dGUoZW52LCBvcHRpb25zLCB2YWx1ZSkgewogICAgICAvLyBUaGUgbGluZUhlaWdodCBpcyBjb21wdXRlZCBmcm9tIHRoZSBmb250U2l6ZSBpZiBpdCBpcyAwLgogICAgICAvLyBNb3Jlb3ZlciwgdGhlIGZpbmFsIGxpbmVIZWlnaHQgcmVzcGVjdHMgdGhlIGVkaXRvciB6b29tIGxldmVsLgogICAgICAvLyBTbyB0YWtlIHRoZSByZXN1bHQgZnJvbSBlbnYuZm9udEluZm8KICAgICAgcmV0dXJuIGVudi5mb250SW5mby5saW5lSGVpZ2h0OwogICAgfQogIH1dKTsKICByZXR1cm4gRWRpdG9yTGluZUhlaWdodDsKfShFZGl0b3JGbG9hdE9wdGlvbik7CnZhciBFZGl0b3JNaW5pbWFwID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZUVkaXRvck9wdGlvbjEyKSB7CiAgX2luaGVyaXRzKEVkaXRvck1pbmltYXAsIF9CYXNlRWRpdG9yT3B0aW9uMTIpOwogIHZhciBfc3VwZXIyMyA9IF9jcmVhdGVTdXBlcihFZGl0b3JNaW5pbWFwKTsKICBmdW5jdGlvbiBFZGl0b3JNaW5pbWFwKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVkaXRvck1pbmltYXApOwogICAgdmFyIGRlZmF1bHRzID0gewogICAgICBlbmFibGVkOiB0cnVlLAogICAgICBzaXplOiAncHJvcG9ydGlvbmFsJywKICAgICAgc2lkZTogJ3JpZ2h0JywKICAgICAgc2hvd1NsaWRlcjogJ21vdXNlb3ZlcicsCiAgICAgIGF1dG9oaWRlOiBmYWxzZSwKICAgICAgcmVuZGVyQ2hhcmFjdGVyczogdHJ1ZSwKICAgICAgbWF4Q29sdW1uOiAxMjAsCiAgICAgIHNjYWxlOiAxCiAgICB9OwogICAgcmV0dXJuIF9zdXBlcjIzLmNhbGwodGhpcywgNjcgLyogRWRpdG9yT3B0aW9uLm1pbmltYXAgKi8sICdtaW5pbWFwJywgZGVmYXVsdHMsIHsKICAgICAgJ2VkaXRvci5taW5pbWFwLmVuYWJsZWQnOiB7CiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLmVuYWJsZWQsCiAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnbWluaW1hcC5lbmFibGVkJywgIkNvbnRyb2xzIHdoZXRoZXIgdGhlIG1pbmltYXAgaXMgc2hvd24uIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5taW5pbWFwLmF1dG9oaWRlJzogewogICAgICAgIHR5cGU6ICdib29sZWFuJywKICAgICAgICBkZWZhdWx0OiBkZWZhdWx0cy5hdXRvaGlkZSwKICAgICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdtaW5pbWFwLmF1dG9oaWRlJywgIkNvbnRyb2xzIHdoZXRoZXIgdGhlIG1pbmltYXAgaXMgaGlkZGVuIGF1dG9tYXRpY2FsbHkuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5taW5pbWFwLnNpemUnOiB7CiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgZW51bTogWydwcm9wb3J0aW9uYWwnLCAnZmlsbCcsICdmaXQnXSwKICAgICAgICBlbnVtRGVzY3JpcHRpb25zOiBbbmxzLmxvY2FsaXplKCdtaW5pbWFwLnNpemUucHJvcG9ydGlvbmFsJywgIlRoZSBtaW5pbWFwIGhhcyB0aGUgc2FtZSBzaXplIGFzIHRoZSBlZGl0b3IgY29udGVudHMgKGFuZCBtaWdodCBzY3JvbGwpLiIpLCBubHMubG9jYWxpemUoJ21pbmltYXAuc2l6ZS5maWxsJywgIlRoZSBtaW5pbWFwIHdpbGwgc3RyZXRjaCBvciBzaHJpbmsgYXMgbmVjZXNzYXJ5IHRvIGZpbGwgdGhlIGhlaWdodCBvZiB0aGUgZWRpdG9yIChubyBzY3JvbGxpbmcpLiIpLCBubHMubG9jYWxpemUoJ21pbmltYXAuc2l6ZS5maXQnLCAiVGhlIG1pbmltYXAgd2lsbCBzaHJpbmsgYXMgbmVjZXNzYXJ5IHRvIG5ldmVyIGJlIGxhcmdlciB0aGFuIHRoZSBlZGl0b3IgKG5vIHNjcm9sbGluZykuIildLAogICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLnNpemUsCiAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnbWluaW1hcC5zaXplJywgIkNvbnRyb2xzIHRoZSBzaXplIG9mIHRoZSBtaW5pbWFwLiIpCiAgICAgIH0sCiAgICAgICdlZGl0b3IubWluaW1hcC5zaWRlJzogewogICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgIGVudW06IFsnbGVmdCcsICdyaWdodCddLAogICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLnNpZGUsCiAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnbWluaW1hcC5zaWRlJywgIkNvbnRyb2xzIHRoZSBzaWRlIHdoZXJlIHRvIHJlbmRlciB0aGUgbWluaW1hcC4iKQogICAgICB9LAogICAgICAnZWRpdG9yLm1pbmltYXAuc2hvd1NsaWRlcic6IHsKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBlbnVtOiBbJ2Fsd2F5cycsICdtb3VzZW92ZXInXSwKICAgICAgICBkZWZhdWx0OiBkZWZhdWx0cy5zaG93U2xpZGVyLAogICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ21pbmltYXAuc2hvd1NsaWRlcicsICJDb250cm9scyB3aGVuIHRoZSBtaW5pbWFwIHNsaWRlciBpcyBzaG93bi4iKQogICAgICB9LAogICAgICAnZWRpdG9yLm1pbmltYXAuc2NhbGUnOiB7CiAgICAgICAgdHlwZTogJ251bWJlcicsCiAgICAgICAgZGVmYXVsdDogZGVmYXVsdHMuc2NhbGUsCiAgICAgICAgbWluaW11bTogMSwKICAgICAgICBtYXhpbXVtOiAzLAogICAgICAgIGVudW06IFsxLCAyLCAzXSwKICAgICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdtaW5pbWFwLnNjYWxlJywgIlNjYWxlIG9mIGNvbnRlbnQgZHJhd24gaW4gdGhlIG1pbmltYXA6IDEsIDIgb3IgMy4iKQogICAgICB9LAogICAgICAnZWRpdG9yLm1pbmltYXAucmVuZGVyQ2hhcmFjdGVycyc6IHsKICAgICAgICB0eXBlOiAnYm9vbGVhbicsCiAgICAgICAgZGVmYXVsdDogZGVmYXVsdHMucmVuZGVyQ2hhcmFjdGVycywKICAgICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdtaW5pbWFwLnJlbmRlckNoYXJhY3RlcnMnLCAiUmVuZGVyIHRoZSBhY3R1YWwgY2hhcmFjdGVycyBvbiBhIGxpbmUgYXMgb3Bwb3NlZCB0byBjb2xvciBibG9ja3MuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5taW5pbWFwLm1heENvbHVtbic6IHsKICAgICAgICB0eXBlOiAnbnVtYmVyJywKICAgICAgICBkZWZhdWx0OiBkZWZhdWx0cy5tYXhDb2x1bW4sCiAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnbWluaW1hcC5tYXhDb2x1bW4nLCAiTGltaXQgdGhlIHdpZHRoIG9mIHRoZSBtaW5pbWFwIHRvIHJlbmRlciBhdCBtb3N0IGEgY2VydGFpbiBudW1iZXIgb2YgY29sdW1ucy4iKQogICAgICB9CiAgICB9KTsKICB9CiAgX2NyZWF0ZUNsYXNzKEVkaXRvck1pbmltYXAsIFt7CiAgICBrZXk6ICJ2YWxpZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsaWRhdGUoX2lucHV0KSB7CiAgICAgIGlmICghX2lucHV0IHx8IF90eXBlb2YoX2lucHV0KSAhPT0gJ29iamVjdCcpIHsKICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0VmFsdWU7CiAgICAgIH0KICAgICAgdmFyIGlucHV0ID0gX2lucHV0OwogICAgICByZXR1cm4gewogICAgICAgIGVuYWJsZWQ6IGJvb2xlYW4oaW5wdXQuZW5hYmxlZCwgdGhpcy5kZWZhdWx0VmFsdWUuZW5hYmxlZCksCiAgICAgICAgYXV0b2hpZGU6IGJvb2xlYW4oaW5wdXQuYXV0b2hpZGUsIHRoaXMuZGVmYXVsdFZhbHVlLmF1dG9oaWRlKSwKICAgICAgICBzaXplOiBzdHJpbmdTZXQoaW5wdXQuc2l6ZSwgdGhpcy5kZWZhdWx0VmFsdWUuc2l6ZSwgWydwcm9wb3J0aW9uYWwnLCAnZmlsbCcsICdmaXQnXSksCiAgICAgICAgc2lkZTogc3RyaW5nU2V0KGlucHV0LnNpZGUsIHRoaXMuZGVmYXVsdFZhbHVlLnNpZGUsIFsncmlnaHQnLCAnbGVmdCddKSwKICAgICAgICBzaG93U2xpZGVyOiBzdHJpbmdTZXQoaW5wdXQuc2hvd1NsaWRlciwgdGhpcy5kZWZhdWx0VmFsdWUuc2hvd1NsaWRlciwgWydhbHdheXMnLCAnbW91c2VvdmVyJ10pLAogICAgICAgIHJlbmRlckNoYXJhY3RlcnM6IGJvb2xlYW4oaW5wdXQucmVuZGVyQ2hhcmFjdGVycywgdGhpcy5kZWZhdWx0VmFsdWUucmVuZGVyQ2hhcmFjdGVycyksCiAgICAgICAgc2NhbGU6IEVkaXRvckludE9wdGlvbi5jbGFtcGVkSW50KGlucHV0LnNjYWxlLCAxLCAxLCAzKSwKICAgICAgICBtYXhDb2x1bW46IEVkaXRvckludE9wdGlvbi5jbGFtcGVkSW50KGlucHV0Lm1heENvbHVtbiwgdGhpcy5kZWZhdWx0VmFsdWUubWF4Q29sdW1uLCAxLCAxMDAwMCkKICAgICAgfTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIEVkaXRvck1pbmltYXA7Cn0oQmFzZUVkaXRvck9wdGlvbik7IC8vI2VuZHJlZ2lvbgovLyNyZWdpb24gbXVsdGlDdXJzb3JNb2RpZmllcgpmdW5jdGlvbiBfbXVsdGlDdXJzb3JNb2RpZmllckZyb21TdHJpbmcobXVsdGlDdXJzb3JNb2RpZmllcikgewogIGlmIChtdWx0aUN1cnNvck1vZGlmaWVyID09PSAnY3RybENtZCcpIHsKICAgIHJldHVybiBwbGF0Zm9ybS5pc01hY2ludG9zaCA/ICdtZXRhS2V5JyA6ICdjdHJsS2V5JzsKICB9CiAgcmV0dXJuICdhbHRLZXknOwp9CnZhciBFZGl0b3JQYWRkaW5nID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZUVkaXRvck9wdGlvbjEzKSB7CiAgX2luaGVyaXRzKEVkaXRvclBhZGRpbmcsIF9CYXNlRWRpdG9yT3B0aW9uMTMpOwogIHZhciBfc3VwZXIyNCA9IF9jcmVhdGVTdXBlcihFZGl0b3JQYWRkaW5nKTsKICBmdW5jdGlvbiBFZGl0b3JQYWRkaW5nKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVkaXRvclBhZGRpbmcpOwogICAgcmV0dXJuIF9zdXBlcjI0LmNhbGwodGhpcywgNzcgLyogRWRpdG9yT3B0aW9uLnBhZGRpbmcgKi8sICdwYWRkaW5nJywgewogICAgICB0b3A6IDAsCiAgICAgIGJvdHRvbTogMAogICAgfSwgewogICAgICAnZWRpdG9yLnBhZGRpbmcudG9wJzogewogICAgICAgIHR5cGU6ICdudW1iZXInLAogICAgICAgIGRlZmF1bHQ6IDAsCiAgICAgICAgbWluaW11bTogMCwKICAgICAgICBtYXhpbXVtOiAxMDAwLAogICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ3BhZGRpbmcudG9wJywgIkNvbnRyb2xzIHRoZSBhbW91bnQgb2Ygc3BhY2UgYmV0d2VlbiB0aGUgdG9wIGVkZ2Ugb2YgdGhlIGVkaXRvciBhbmQgdGhlIGZpcnN0IGxpbmUuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5wYWRkaW5nLmJvdHRvbSc6IHsKICAgICAgICB0eXBlOiAnbnVtYmVyJywKICAgICAgICBkZWZhdWx0OiAwLAogICAgICAgIG1pbmltdW06IDAsCiAgICAgICAgbWF4aW11bTogMTAwMCwKICAgICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdwYWRkaW5nLmJvdHRvbScsICJDb250cm9scyB0aGUgYW1vdW50IG9mIHNwYWNlIGJldHdlZW4gdGhlIGJvdHRvbSBlZGdlIG9mIHRoZSBlZGl0b3IgYW5kIHRoZSBsYXN0IGxpbmUuIikKICAgICAgfQogICAgfSk7CiAgfQogIF9jcmVhdGVDbGFzcyhFZGl0b3JQYWRkaW5nLCBbewogICAga2V5OiAidmFsaWRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlKF9pbnB1dCkgewogICAgICBpZiAoIV9pbnB1dCB8fCBfdHlwZW9mKF9pbnB1dCkgIT09ICdvYmplY3QnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFZhbHVlOwogICAgICB9CiAgICAgIHZhciBpbnB1dCA9IF9pbnB1dDsKICAgICAgcmV0dXJuIHsKICAgICAgICB0b3A6IEVkaXRvckludE9wdGlvbi5jbGFtcGVkSW50KGlucHV0LnRvcCwgMCwgMCwgMTAwMCksCiAgICAgICAgYm90dG9tOiBFZGl0b3JJbnRPcHRpb24uY2xhbXBlZEludChpbnB1dC5ib3R0b20sIDAsIDAsIDEwMDApCiAgICAgIH07CiAgICB9CiAgfV0pOwogIHJldHVybiBFZGl0b3JQYWRkaW5nOwp9KEJhc2VFZGl0b3JPcHRpb24pOwp2YXIgRWRpdG9yUGFyYW1ldGVySGludHMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9CYXNlRWRpdG9yT3B0aW9uMTQpIHsKICBfaW5oZXJpdHMoRWRpdG9yUGFyYW1ldGVySGludHMsIF9CYXNlRWRpdG9yT3B0aW9uMTQpOwogIHZhciBfc3VwZXIyNSA9IF9jcmVhdGVTdXBlcihFZGl0b3JQYXJhbWV0ZXJIaW50cyk7CiAgZnVuY3Rpb24gRWRpdG9yUGFyYW1ldGVySGludHMoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRWRpdG9yUGFyYW1ldGVySGludHMpOwogICAgdmFyIGRlZmF1bHRzID0gewogICAgICBlbmFibGVkOiB0cnVlLAogICAgICBjeWNsZTogZmFsc2UKICAgIH07CiAgICByZXR1cm4gX3N1cGVyMjUuY2FsbCh0aGlzLCA3OCAvKiBFZGl0b3JPcHRpb24ucGFyYW1ldGVySGludHMgKi8sICdwYXJhbWV0ZXJIaW50cycsIGRlZmF1bHRzLCB7CiAgICAgICdlZGl0b3IucGFyYW1ldGVySGludHMuZW5hYmxlZCc6IHsKICAgICAgICB0eXBlOiAnYm9vbGVhbicsCiAgICAgICAgZGVmYXVsdDogZGVmYXVsdHMuZW5hYmxlZCwKICAgICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdwYXJhbWV0ZXJIaW50cy5lbmFibGVkJywgIkVuYWJsZXMgYSBwb3AtdXAgdGhhdCBzaG93cyBwYXJhbWV0ZXIgZG9jdW1lbnRhdGlvbiBhbmQgdHlwZSBpbmZvcm1hdGlvbiBhcyB5b3UgdHlwZS4iKQogICAgICB9LAogICAgICAnZWRpdG9yLnBhcmFtZXRlckhpbnRzLmN5Y2xlJzogewogICAgICAgIHR5cGU6ICdib29sZWFuJywKICAgICAgICBkZWZhdWx0OiBkZWZhdWx0cy5jeWNsZSwKICAgICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdwYXJhbWV0ZXJIaW50cy5jeWNsZScsICJDb250cm9scyB3aGV0aGVyIHRoZSBwYXJhbWV0ZXIgaGludHMgbWVudSBjeWNsZXMgb3IgY2xvc2VzIHdoZW4gcmVhY2hpbmcgdGhlIGVuZCBvZiB0aGUgbGlzdC4iKQogICAgICB9CiAgICB9KTsKICB9CiAgX2NyZWF0ZUNsYXNzKEVkaXRvclBhcmFtZXRlckhpbnRzLCBbewogICAga2V5OiAidmFsaWRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlKF9pbnB1dCkgewogICAgICBpZiAoIV9pbnB1dCB8fCBfdHlwZW9mKF9pbnB1dCkgIT09ICdvYmplY3QnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFZhbHVlOwogICAgICB9CiAgICAgIHZhciBpbnB1dCA9IF9pbnB1dDsKICAgICAgcmV0dXJuIHsKICAgICAgICBlbmFibGVkOiBib29sZWFuKGlucHV0LmVuYWJsZWQsIHRoaXMuZGVmYXVsdFZhbHVlLmVuYWJsZWQpLAogICAgICAgIGN5Y2xlOiBib29sZWFuKGlucHV0LmN5Y2xlLCB0aGlzLmRlZmF1bHRWYWx1ZS5jeWNsZSkKICAgICAgfTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIEVkaXRvclBhcmFtZXRlckhpbnRzOwp9KEJhc2VFZGl0b3JPcHRpb24pOyAvLyNlbmRyZWdpb24KLy8jcmVnaW9uIHBpeGVsUmF0aW8KdmFyIEVkaXRvclBpeGVsUmF0aW8gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wdXRlZEVkaXRvck9wdGlvbjQpIHsKICBfaW5oZXJpdHMoRWRpdG9yUGl4ZWxSYXRpbywgX0NvbXB1dGVkRWRpdG9yT3B0aW9uNCk7CiAgdmFyIF9zdXBlcjI2ID0gX2NyZWF0ZVN1cGVyKEVkaXRvclBpeGVsUmF0aW8pOwogIGZ1bmN0aW9uIEVkaXRvclBpeGVsUmF0aW8oKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRWRpdG9yUGl4ZWxSYXRpbyk7CiAgICByZXR1cm4gX3N1cGVyMjYuY2FsbCh0aGlzLCAxMzEgLyogRWRpdG9yT3B0aW9uLnBpeGVsUmF0aW8gKi8pOwogIH0KICBfY3JlYXRlQ2xhc3MoRWRpdG9yUGl4ZWxSYXRpbywgW3sKICAgIGtleTogImNvbXB1dGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXB1dGUoZW52LCBvcHRpb25zLCBfKSB7CiAgICAgIHJldHVybiBlbnYucGl4ZWxSYXRpbzsKICAgIH0KICB9XSk7CiAgcmV0dXJuIEVkaXRvclBpeGVsUmF0aW87Cn0oQ29tcHV0ZWRFZGl0b3JPcHRpb24pOwp2YXIgRWRpdG9yUXVpY2tTdWdnZXN0aW9ucyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Jhc2VFZGl0b3JPcHRpb24xNSkgewogIF9pbmhlcml0cyhFZGl0b3JRdWlja1N1Z2dlc3Rpb25zLCBfQmFzZUVkaXRvck9wdGlvbjE1KTsKICB2YXIgX3N1cGVyMjcgPSBfY3JlYXRlU3VwZXIoRWRpdG9yUXVpY2tTdWdnZXN0aW9ucyk7CiAgZnVuY3Rpb24gRWRpdG9yUXVpY2tTdWdnZXN0aW9ucygpIHsKICAgIHZhciBfdGhpczU7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRWRpdG9yUXVpY2tTdWdnZXN0aW9ucyk7CiAgICB2YXIgZGVmYXVsdHMgPSB7CiAgICAgIG90aGVyOiAnb24nLAogICAgICBjb21tZW50czogJ29mZicsCiAgICAgIHN0cmluZ3M6ICdvZmYnCiAgICB9OwogICAgdmFyIHR5cGVzID0gW3sKICAgICAgdHlwZTogJ2Jvb2xlYW4nCiAgICB9LCB7CiAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICBlbnVtOiBbJ29uJywgJ2lubGluZScsICdvZmYnXSwKICAgICAgZW51bURlc2NyaXB0aW9uczogW25scy5sb2NhbGl6ZSgnb24nLCAiUXVpY2sgc3VnZ2VzdGlvbnMgc2hvdyBpbnNpZGUgdGhlIHN1Z2dlc3Qgd2lkZ2V0IiksIG5scy5sb2NhbGl6ZSgnaW5saW5lJywgIlF1aWNrIHN1Z2dlc3Rpb25zIHNob3cgYXMgZ2hvc3QgdGV4dCIpLCBubHMubG9jYWxpemUoJ29mZicsICJRdWljayBzdWdnZXN0aW9ucyBhcmUgZGlzYWJsZWQiKV0KICAgIH1dOwogICAgX3RoaXM1ID0gX3N1cGVyMjcuY2FsbCh0aGlzLCA4MSAvKiBFZGl0b3JPcHRpb24ucXVpY2tTdWdnZXN0aW9ucyAqLywgJ3F1aWNrU3VnZ2VzdGlvbnMnLCBkZWZhdWx0cywgewogICAgICB0eXBlOiAnb2JqZWN0JywKICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLAogICAgICBwcm9wZXJ0aWVzOiB7CiAgICAgICAgc3RyaW5nczogewogICAgICAgICAgYW55T2Y6IHR5cGVzLAogICAgICAgICAgZGVmYXVsdDogZGVmYXVsdHMuc3RyaW5ncywKICAgICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ3F1aWNrU3VnZ2VzdGlvbnMuc3RyaW5ncycsICJFbmFibGUgcXVpY2sgc3VnZ2VzdGlvbnMgaW5zaWRlIHN0cmluZ3MuIikKICAgICAgICB9LAogICAgICAgIGNvbW1lbnRzOiB7CiAgICAgICAgICBhbnlPZjogdHlwZXMsCiAgICAgICAgICBkZWZhdWx0OiBkZWZhdWx0cy5jb21tZW50cywKICAgICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ3F1aWNrU3VnZ2VzdGlvbnMuY29tbWVudHMnLCAiRW5hYmxlIHF1aWNrIHN1Z2dlc3Rpb25zIGluc2lkZSBjb21tZW50cy4iKQogICAgICAgIH0sCiAgICAgICAgb3RoZXI6IHsKICAgICAgICAgIGFueU9mOiB0eXBlcywKICAgICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLm90aGVyLAogICAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgncXVpY2tTdWdnZXN0aW9ucy5vdGhlcicsICJFbmFibGUgcXVpY2sgc3VnZ2VzdGlvbnMgb3V0c2lkZSBvZiBzdHJpbmdzIGFuZCBjb21tZW50cy4iKQogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVmYXVsdDogZGVmYXVsdHMsCiAgICAgIG1hcmtkb3duRGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgncXVpY2tTdWdnZXN0aW9ucycsICJDb250cm9scyB3aGV0aGVyIHN1Z2dlc3Rpb25zIHNob3VsZCBhdXRvbWF0aWNhbGx5IHNob3cgdXAgd2hpbGUgdHlwaW5nLiBUaGlzIGNhbiBiZSBjb250cm9sbGVkIGZvciB0eXBpbmcgaW4gY29tbWVudHMsIHN0cmluZ3MsIGFuZCBvdGhlciBjb2RlLiBRdWljayBzdWdnZXN0aW9uIGNhbiBiZSBjb25maWd1cmVkIHRvIHNob3cgYXMgZ2hvc3QgdGV4dCBvciB3aXRoIHRoZSBzdWdnZXN0IHdpZGdldC4gQWxzbyBiZSBhd2FyZSBvZiB0aGUgJ3swfSctc2V0dGluZyB3aGljaCBjb250cm9scyBpZiBzdWdnZXN0aW9ucyBhcmUgdHJpZ2dlcmVkIGJ5IHNwZWNpYWwgY2hhcmFjdGVycy4iLCAiI2VkaXRvci5zdWdnZXN0T25UcmlnZ2VyQ2hhcmFjdGVycyMiKQogICAgfSk7CiAgICBfdGhpczUuZGVmYXVsdFZhbHVlID0gZGVmYXVsdHM7CiAgICByZXR1cm4gX3RoaXM1OwogIH0KICBfY3JlYXRlQ2xhc3MoRWRpdG9yUXVpY2tTdWdnZXN0aW9ucywgW3sKICAgIGtleTogInZhbGlkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZShpbnB1dCkgewogICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnYm9vbGVhbicpIHsKICAgICAgICAvLyBib29sZWFuIC0+IGFsbCBvbi9vZmYKICAgICAgICB2YXIgdmFsdWUgPSBpbnB1dCA/ICdvbicgOiAnb2ZmJzsKICAgICAgICByZXR1cm4gewogICAgICAgICAgY29tbWVudHM6IHZhbHVlLAogICAgICAgICAgc3RyaW5nczogdmFsdWUsCiAgICAgICAgICBvdGhlcjogdmFsdWUKICAgICAgICB9OwogICAgICB9CiAgICAgIGlmICghaW5wdXQgfHwgX3R5cGVvZihpbnB1dCkgIT09ICdvYmplY3QnKSB7CiAgICAgICAgLy8gaW52YWxpZCBvYmplY3QKICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0VmFsdWU7CiAgICAgIH0KICAgICAgdmFyIG90aGVyID0gaW5wdXQub3RoZXIsCiAgICAgICAgY29tbWVudHMgPSBpbnB1dC5jb21tZW50cywKICAgICAgICBzdHJpbmdzID0gaW5wdXQuc3RyaW5nczsKICAgICAgdmFyIGFsbG93ZWRWYWx1ZXMgPSBbJ29uJywgJ2lubGluZScsICdvZmYnXTsKICAgICAgdmFyIHZhbGlkYXRlZE90aGVyOwogICAgICB2YXIgdmFsaWRhdGVkQ29tbWVudHM7CiAgICAgIHZhciB2YWxpZGF0ZWRTdHJpbmdzOwogICAgICBpZiAodHlwZW9mIG90aGVyID09PSAnYm9vbGVhbicpIHsKICAgICAgICB2YWxpZGF0ZWRPdGhlciA9IG90aGVyID8gJ29uJyA6ICdvZmYnOwogICAgICB9IGVsc2UgewogICAgICAgIHZhbGlkYXRlZE90aGVyID0gc3RyaW5nU2V0KG90aGVyLCB0aGlzLmRlZmF1bHRWYWx1ZS5vdGhlciwgYWxsb3dlZFZhbHVlcyk7CiAgICAgIH0KICAgICAgaWYgKHR5cGVvZiBjb21tZW50cyA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgICAgdmFsaWRhdGVkQ29tbWVudHMgPSBjb21tZW50cyA/ICdvbicgOiAnb2ZmJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YWxpZGF0ZWRDb21tZW50cyA9IHN0cmluZ1NldChjb21tZW50cywgdGhpcy5kZWZhdWx0VmFsdWUuY29tbWVudHMsIGFsbG93ZWRWYWx1ZXMpOwogICAgICB9CiAgICAgIGlmICh0eXBlb2Ygc3RyaW5ncyA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgICAgdmFsaWRhdGVkU3RyaW5ncyA9IHN0cmluZ3MgPyAnb24nIDogJ29mZic7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFsaWRhdGVkU3RyaW5ncyA9IHN0cmluZ1NldChzdHJpbmdzLCB0aGlzLmRlZmF1bHRWYWx1ZS5zdHJpbmdzLCBhbGxvd2VkVmFsdWVzKTsKICAgICAgfQogICAgICByZXR1cm4gewogICAgICAgIG90aGVyOiB2YWxpZGF0ZWRPdGhlciwKICAgICAgICBjb21tZW50czogdmFsaWRhdGVkQ29tbWVudHMsCiAgICAgICAgc3RyaW5nczogdmFsaWRhdGVkU3RyaW5ncwogICAgICB9OwogICAgfQogIH1dKTsKICByZXR1cm4gRWRpdG9yUXVpY2tTdWdnZXN0aW9uczsKfShCYXNlRWRpdG9yT3B0aW9uKTsKdmFyIEVkaXRvclJlbmRlckxpbmVOdW1iZXJzT3B0aW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZUVkaXRvck9wdGlvbjE2KSB7CiAgX2luaGVyaXRzKEVkaXRvclJlbmRlckxpbmVOdW1iZXJzT3B0aW9uLCBfQmFzZUVkaXRvck9wdGlvbjE2KTsKICB2YXIgX3N1cGVyMjggPSBfY3JlYXRlU3VwZXIoRWRpdG9yUmVuZGVyTGluZU51bWJlcnNPcHRpb24pOwogIGZ1bmN0aW9uIEVkaXRvclJlbmRlckxpbmVOdW1iZXJzT3B0aW9uKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVkaXRvclJlbmRlckxpbmVOdW1iZXJzT3B0aW9uKTsKICAgIHJldHVybiBfc3VwZXIyOC5jYWxsKHRoaXMsIDYyIC8qIEVkaXRvck9wdGlvbi5saW5lTnVtYmVycyAqLywgJ2xpbmVOdW1iZXJzJywgewogICAgICByZW5kZXJUeXBlOiAxIC8qIFJlbmRlckxpbmVOdW1iZXJzVHlwZS5PbiAqLywKICAgICAgcmVuZGVyRm46IG51bGwKICAgIH0sIHsKICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgIGVudW06IFsnb2ZmJywgJ29uJywgJ3JlbGF0aXZlJywgJ2ludGVydmFsJ10sCiAgICAgIGVudW1EZXNjcmlwdGlvbnM6IFtubHMubG9jYWxpemUoJ2xpbmVOdW1iZXJzLm9mZicsICJMaW5lIG51bWJlcnMgYXJlIG5vdCByZW5kZXJlZC4iKSwgbmxzLmxvY2FsaXplKCdsaW5lTnVtYmVycy5vbicsICJMaW5lIG51bWJlcnMgYXJlIHJlbmRlcmVkIGFzIGFic29sdXRlIG51bWJlci4iKSwgbmxzLmxvY2FsaXplKCdsaW5lTnVtYmVycy5yZWxhdGl2ZScsICJMaW5lIG51bWJlcnMgYXJlIHJlbmRlcmVkIGFzIGRpc3RhbmNlIGluIGxpbmVzIHRvIGN1cnNvciBwb3NpdGlvbi4iKSwgbmxzLmxvY2FsaXplKCdsaW5lTnVtYmVycy5pbnRlcnZhbCcsICJMaW5lIG51bWJlcnMgYXJlIHJlbmRlcmVkIGV2ZXJ5IDEwIGxpbmVzLiIpXSwKICAgICAgZGVmYXVsdDogJ29uJywKICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnbGluZU51bWJlcnMnLCAiQ29udHJvbHMgdGhlIGRpc3BsYXkgb2YgbGluZSBudW1iZXJzLiIpCiAgICB9KTsKICB9CiAgX2NyZWF0ZUNsYXNzKEVkaXRvclJlbmRlckxpbmVOdW1iZXJzT3B0aW9uLCBbewogICAga2V5OiAidmFsaWRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlKGxpbmVOdW1iZXJzKSB7CiAgICAgIHZhciByZW5kZXJUeXBlID0gdGhpcy5kZWZhdWx0VmFsdWUucmVuZGVyVHlwZTsKICAgICAgdmFyIHJlbmRlckZuID0gdGhpcy5kZWZhdWx0VmFsdWUucmVuZGVyRm47CiAgICAgIGlmICh0eXBlb2YgbGluZU51bWJlcnMgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgaWYgKHR5cGVvZiBsaW5lTnVtYmVycyA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgcmVuZGVyVHlwZSA9IDQgLyogUmVuZGVyTGluZU51bWJlcnNUeXBlLkN1c3RvbSAqLzsKICAgICAgICAgIHJlbmRlckZuID0gbGluZU51bWJlcnM7CiAgICAgICAgfSBlbHNlIGlmIChsaW5lTnVtYmVycyA9PT0gJ2ludGVydmFsJykgewogICAgICAgICAgcmVuZGVyVHlwZSA9IDMgLyogUmVuZGVyTGluZU51bWJlcnNUeXBlLkludGVydmFsICovOwogICAgICAgIH0gZWxzZSBpZiAobGluZU51bWJlcnMgPT09ICdyZWxhdGl2ZScpIHsKICAgICAgICAgIHJlbmRlclR5cGUgPSAyIC8qIFJlbmRlckxpbmVOdW1iZXJzVHlwZS5SZWxhdGl2ZSAqLzsKICAgICAgICB9IGVsc2UgaWYgKGxpbmVOdW1iZXJzID09PSAnb24nKSB7CiAgICAgICAgICByZW5kZXJUeXBlID0gMSAvKiBSZW5kZXJMaW5lTnVtYmVyc1R5cGUuT24gKi87CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJlbmRlclR5cGUgPSAwIC8qIFJlbmRlckxpbmVOdW1iZXJzVHlwZS5PZmYgKi87CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIHJlbmRlclR5cGU6IHJlbmRlclR5cGUsCiAgICAgICAgcmVuZGVyRm46IHJlbmRlckZuCiAgICAgIH07CiAgICB9CiAgfV0pOwogIHJldHVybiBFZGl0b3JSZW5kZXJMaW5lTnVtYmVyc09wdGlvbjsKfShCYXNlRWRpdG9yT3B0aW9uKTsgLy8jZW5kcmVnaW9uCi8vI3JlZ2lvbiByZW5kZXJWYWxpZGF0aW9uRGVjb3JhdGlvbnMKLyoqCiAqIEBpbnRlcm5hbAogKi8KZXhwb3J0IGZ1bmN0aW9uIGZpbHRlclZhbGlkYXRpb25EZWNvcmF0aW9ucyhvcHRpb25zKSB7CiAgdmFyIHJlbmRlclZhbGlkYXRpb25EZWNvcmF0aW9ucyA9IG9wdGlvbnMuZ2V0KDg5IC8qIEVkaXRvck9wdGlvbi5yZW5kZXJWYWxpZGF0aW9uRGVjb3JhdGlvbnMgKi8pOwogIGlmIChyZW5kZXJWYWxpZGF0aW9uRGVjb3JhdGlvbnMgPT09ICdlZGl0YWJsZScpIHsKICAgIHJldHVybiBvcHRpb25zLmdldCg4MyAvKiBFZGl0b3JPcHRpb24ucmVhZE9ubHkgKi8pOwogIH0KCiAgcmV0dXJuIHJlbmRlclZhbGlkYXRpb25EZWNvcmF0aW9ucyA9PT0gJ29uJyA/IGZhbHNlIDogdHJ1ZTsKfQp2YXIgRWRpdG9yUnVsZXJzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZUVkaXRvck9wdGlvbjE3KSB7CiAgX2luaGVyaXRzKEVkaXRvclJ1bGVycywgX0Jhc2VFZGl0b3JPcHRpb24xNyk7CiAgdmFyIF9zdXBlcjI5ID0gX2NyZWF0ZVN1cGVyKEVkaXRvclJ1bGVycyk7CiAgZnVuY3Rpb24gRWRpdG9yUnVsZXJzKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVkaXRvclJ1bGVycyk7CiAgICB2YXIgZGVmYXVsdHMgPSBbXTsKICAgIHZhciBjb2x1bW5TY2hlbWEgPSB7CiAgICAgIHR5cGU6ICdudW1iZXInLAogICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdydWxlcnMuc2l6ZScsICJOdW1iZXIgb2YgbW9ub3NwYWNlIGNoYXJhY3RlcnMgYXQgd2hpY2ggdGhpcyBlZGl0b3IgcnVsZXIgd2lsbCByZW5kZXIuIikKICAgIH07CiAgICByZXR1cm4gX3N1cGVyMjkuY2FsbCh0aGlzLCA5MyAvKiBFZGl0b3JPcHRpb24ucnVsZXJzICovLCAncnVsZXJzJywgZGVmYXVsdHMsIHsKICAgICAgdHlwZTogJ2FycmF5JywKICAgICAgaXRlbXM6IHsKICAgICAgICBhbnlPZjogW2NvbHVtblNjaGVtYSwgewogICAgICAgICAgdHlwZTogWydvYmplY3QnXSwKICAgICAgICAgIHByb3BlcnRpZXM6IHsKICAgICAgICAgICAgY29sdW1uOiBjb2x1bW5TY2hlbWEsCiAgICAgICAgICAgIGNvbG9yOiB7CiAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgncnVsZXJzLmNvbG9yJywgIkNvbG9yIG9mIHRoaXMgZWRpdG9yIHJ1bGVyLiIpLAogICAgICAgICAgICAgIGZvcm1hdDogJ2NvbG9yLWhleCcKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLAogICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdydWxlcnMnLCAiUmVuZGVyIHZlcnRpY2FsIHJ1bGVycyBhZnRlciBhIGNlcnRhaW4gbnVtYmVyIG9mIG1vbm9zcGFjZSBjaGFyYWN0ZXJzLiBVc2UgbXVsdGlwbGUgdmFsdWVzIGZvciBtdWx0aXBsZSBydWxlcnMuIE5vIHJ1bGVycyBhcmUgZHJhd24gaWYgYXJyYXkgaXMgZW1wdHkuIikKICAgIH0pOwogIH0KICBfY3JlYXRlQ2xhc3MoRWRpdG9yUnVsZXJzLCBbewogICAga2V5OiAidmFsaWRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlKGlucHV0KSB7CiAgICAgIGlmIChBcnJheS5pc0FycmF5KGlucHV0KSkgewogICAgICAgIHZhciBydWxlcnMgPSBbXTsKICAgICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoaW5wdXQpLAogICAgICAgICAgX3N0ZXA7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBfZWxlbWVudCA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICBpZiAodHlwZW9mIF9lbGVtZW50ID09PSAnbnVtYmVyJykgewogICAgICAgICAgICAgIHJ1bGVycy5wdXNoKHsKICAgICAgICAgICAgICAgIGNvbHVtbjogRWRpdG9ySW50T3B0aW9uLmNsYW1wZWRJbnQoX2VsZW1lbnQsIDAsIDAsIDEwMDAwKSwKICAgICAgICAgICAgICAgIGNvbG9yOiBudWxsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoX2VsZW1lbnQgJiYgX3R5cGVvZihfZWxlbWVudCkgPT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBfZWxlbWVudDsKICAgICAgICAgICAgICBydWxlcnMucHVzaCh7CiAgICAgICAgICAgICAgICBjb2x1bW46IEVkaXRvckludE9wdGlvbi5jbGFtcGVkSW50KGVsZW1lbnQuY29sdW1uLCAwLCAwLCAxMDAwMCksCiAgICAgICAgICAgICAgICBjb2xvcjogZWxlbWVudC5jb2xvcgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgIH0KICAgICAgICBydWxlcnMuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgcmV0dXJuIGEuY29sdW1uIC0gYi5jb2x1bW47CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHJ1bGVyczsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5kZWZhdWx0VmFsdWU7CiAgICB9CiAgfV0pOwogIHJldHVybiBFZGl0b3JSdWxlcnM7Cn0oQmFzZUVkaXRvck9wdGlvbik7CmZ1bmN0aW9uIF9zY3JvbGxiYXJWaXNpYmlsaXR5RnJvbVN0cmluZyh2aXNpYmlsaXR5LCBkZWZhdWx0VmFsdWUpIHsKICBpZiAodHlwZW9mIHZpc2liaWxpdHkgIT09ICdzdHJpbmcnKSB7CiAgICByZXR1cm4gZGVmYXVsdFZhbHVlOwogIH0KICBzd2l0Y2ggKHZpc2liaWxpdHkpIHsKICAgIGNhc2UgJ2hpZGRlbic6CiAgICAgIHJldHVybiAyIC8qIFNjcm9sbGJhclZpc2liaWxpdHkuSGlkZGVuICovOwogICAgY2FzZSAndmlzaWJsZSc6CiAgICAgIHJldHVybiAzIC8qIFNjcm9sbGJhclZpc2liaWxpdHkuVmlzaWJsZSAqLzsKICAgIGRlZmF1bHQ6CiAgICAgIHJldHVybiAxIC8qIFNjcm9sbGJhclZpc2liaWxpdHkuQXV0byAqLzsKICB9Cn0KdmFyIEVkaXRvclNjcm9sbGJhciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Jhc2VFZGl0b3JPcHRpb24xOCkgewogIF9pbmhlcml0cyhFZGl0b3JTY3JvbGxiYXIsIF9CYXNlRWRpdG9yT3B0aW9uMTgpOwogIHZhciBfc3VwZXIzMCA9IF9jcmVhdGVTdXBlcihFZGl0b3JTY3JvbGxiYXIpOwogIGZ1bmN0aW9uIEVkaXRvclNjcm9sbGJhcigpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFZGl0b3JTY3JvbGxiYXIpOwogICAgdmFyIGRlZmF1bHRzID0gewogICAgICB2ZXJ0aWNhbDogMSAvKiBTY3JvbGxiYXJWaXNpYmlsaXR5LkF1dG8gKi8sCiAgICAgIGhvcml6b250YWw6IDEgLyogU2Nyb2xsYmFyVmlzaWJpbGl0eS5BdXRvICovLAogICAgICBhcnJvd1NpemU6IDExLAogICAgICB1c2VTaGFkb3dzOiB0cnVlLAogICAgICB2ZXJ0aWNhbEhhc0Fycm93czogZmFsc2UsCiAgICAgIGhvcml6b250YWxIYXNBcnJvd3M6IGZhbHNlLAogICAgICBob3Jpem9udGFsU2Nyb2xsYmFyU2l6ZTogMTIsCiAgICAgIGhvcml6b250YWxTbGlkZXJTaXplOiAxMiwKICAgICAgdmVydGljYWxTY3JvbGxiYXJTaXplOiAxNCwKICAgICAgdmVydGljYWxTbGlkZXJTaXplOiAxNCwKICAgICAgaGFuZGxlTW91c2VXaGVlbDogdHJ1ZSwKICAgICAgYWx3YXlzQ29uc3VtZU1vdXNlV2hlZWw6IHRydWUsCiAgICAgIHNjcm9sbEJ5UGFnZTogZmFsc2UKICAgIH07CiAgICByZXR1cm4gX3N1cGVyMzAuY2FsbCh0aGlzLCA5NCAvKiBFZGl0b3JPcHRpb24uc2Nyb2xsYmFyICovLCAnc2Nyb2xsYmFyJywgZGVmYXVsdHMsIHsKICAgICAgJ2VkaXRvci5zY3JvbGxiYXIudmVydGljYWwnOiB7CiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgZW51bTogWydhdXRvJywgJ3Zpc2libGUnLCAnaGlkZGVuJ10sCiAgICAgICAgZW51bURlc2NyaXB0aW9uczogW25scy5sb2NhbGl6ZSgnc2Nyb2xsYmFyLnZlcnRpY2FsLmF1dG8nLCAiVGhlIHZlcnRpY2FsIHNjcm9sbGJhciB3aWxsIGJlIHZpc2libGUgb25seSB3aGVuIG5lY2Vzc2FyeS4iKSwgbmxzLmxvY2FsaXplKCdzY3JvbGxiYXIudmVydGljYWwudmlzaWJsZScsICJUaGUgdmVydGljYWwgc2Nyb2xsYmFyIHdpbGwgYWx3YXlzIGJlIHZpc2libGUuIiksIG5scy5sb2NhbGl6ZSgnc2Nyb2xsYmFyLnZlcnRpY2FsLmZpdCcsICJUaGUgdmVydGljYWwgc2Nyb2xsYmFyIHdpbGwgYWx3YXlzIGJlIGhpZGRlbi4iKV0sCiAgICAgICAgZGVmYXVsdDogJ2F1dG8nLAogICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ3Njcm9sbGJhci52ZXJ0aWNhbCcsICJDb250cm9scyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgdmVydGljYWwgc2Nyb2xsYmFyLiIpCiAgICAgIH0sCiAgICAgICdlZGl0b3Iuc2Nyb2xsYmFyLmhvcml6b250YWwnOiB7CiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgZW51bTogWydhdXRvJywgJ3Zpc2libGUnLCAnaGlkZGVuJ10sCiAgICAgICAgZW51bURlc2NyaXB0aW9uczogW25scy5sb2NhbGl6ZSgnc2Nyb2xsYmFyLmhvcml6b250YWwuYXV0bycsICJUaGUgaG9yaXpvbnRhbCBzY3JvbGxiYXIgd2lsbCBiZSB2aXNpYmxlIG9ubHkgd2hlbiBuZWNlc3NhcnkuIiksIG5scy5sb2NhbGl6ZSgnc2Nyb2xsYmFyLmhvcml6b250YWwudmlzaWJsZScsICJUaGUgaG9yaXpvbnRhbCBzY3JvbGxiYXIgd2lsbCBhbHdheXMgYmUgdmlzaWJsZS4iKSwgbmxzLmxvY2FsaXplKCdzY3JvbGxiYXIuaG9yaXpvbnRhbC5maXQnLCAiVGhlIGhvcml6b250YWwgc2Nyb2xsYmFyIHdpbGwgYWx3YXlzIGJlIGhpZGRlbi4iKV0sCiAgICAgICAgZGVmYXVsdDogJ2F1dG8nLAogICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ3Njcm9sbGJhci5ob3Jpem9udGFsJywgIkNvbnRyb2xzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBob3Jpem9udGFsIHNjcm9sbGJhci4iKQogICAgICB9LAogICAgICAnZWRpdG9yLnNjcm9sbGJhci52ZXJ0aWNhbFNjcm9sbGJhclNpemUnOiB7CiAgICAgICAgdHlwZTogJ251bWJlcicsCiAgICAgICAgZGVmYXVsdDogZGVmYXVsdHMudmVydGljYWxTY3JvbGxiYXJTaXplLAogICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ3Njcm9sbGJhci52ZXJ0aWNhbFNjcm9sbGJhclNpemUnLCAiVGhlIHdpZHRoIG9mIHRoZSB2ZXJ0aWNhbCBzY3JvbGxiYXIuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5zY3JvbGxiYXIuaG9yaXpvbnRhbFNjcm9sbGJhclNpemUnOiB7CiAgICAgICAgdHlwZTogJ251bWJlcicsCiAgICAgICAgZGVmYXVsdDogZGVmYXVsdHMuaG9yaXpvbnRhbFNjcm9sbGJhclNpemUsCiAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnc2Nyb2xsYmFyLmhvcml6b250YWxTY3JvbGxiYXJTaXplJywgIlRoZSBoZWlnaHQgb2YgdGhlIGhvcml6b250YWwgc2Nyb2xsYmFyLiIpCiAgICAgIH0sCiAgICAgICdlZGl0b3Iuc2Nyb2xsYmFyLnNjcm9sbEJ5UGFnZSc6IHsKICAgICAgICB0eXBlOiAnYm9vbGVhbicsCiAgICAgICAgZGVmYXVsdDogZGVmYXVsdHMuc2Nyb2xsQnlQYWdlLAogICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ3Njcm9sbGJhci5zY3JvbGxCeVBhZ2UnLCAiQ29udHJvbHMgd2hldGhlciBjbGlja3Mgc2Nyb2xsIGJ5IHBhZ2Ugb3IganVtcCB0byBjbGljayBwb3NpdGlvbi4iKQogICAgICB9CiAgICB9KTsKICB9CiAgX2NyZWF0ZUNsYXNzKEVkaXRvclNjcm9sbGJhciwgW3sKICAgIGtleTogInZhbGlkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZShfaW5wdXQpIHsKICAgICAgaWYgKCFfaW5wdXQgfHwgX3R5cGVvZihfaW5wdXQpICE9PSAnb2JqZWN0JykgewogICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRWYWx1ZTsKICAgICAgfQogICAgICB2YXIgaW5wdXQgPSBfaW5wdXQ7CiAgICAgIHZhciBob3Jpem9udGFsU2Nyb2xsYmFyU2l6ZSA9IEVkaXRvckludE9wdGlvbi5jbGFtcGVkSW50KGlucHV0Lmhvcml6b250YWxTY3JvbGxiYXJTaXplLCB0aGlzLmRlZmF1bHRWYWx1ZS5ob3Jpem9udGFsU2Nyb2xsYmFyU2l6ZSwgMCwgMTAwMCk7CiAgICAgIHZhciB2ZXJ0aWNhbFNjcm9sbGJhclNpemUgPSBFZGl0b3JJbnRPcHRpb24uY2xhbXBlZEludChpbnB1dC52ZXJ0aWNhbFNjcm9sbGJhclNpemUsIHRoaXMuZGVmYXVsdFZhbHVlLnZlcnRpY2FsU2Nyb2xsYmFyU2l6ZSwgMCwgMTAwMCk7CiAgICAgIHJldHVybiB7CiAgICAgICAgYXJyb3dTaXplOiBFZGl0b3JJbnRPcHRpb24uY2xhbXBlZEludChpbnB1dC5hcnJvd1NpemUsIHRoaXMuZGVmYXVsdFZhbHVlLmFycm93U2l6ZSwgMCwgMTAwMCksCiAgICAgICAgdmVydGljYWw6IF9zY3JvbGxiYXJWaXNpYmlsaXR5RnJvbVN0cmluZyhpbnB1dC52ZXJ0aWNhbCwgdGhpcy5kZWZhdWx0VmFsdWUudmVydGljYWwpLAogICAgICAgIGhvcml6b250YWw6IF9zY3JvbGxiYXJWaXNpYmlsaXR5RnJvbVN0cmluZyhpbnB1dC5ob3Jpem9udGFsLCB0aGlzLmRlZmF1bHRWYWx1ZS5ob3Jpem9udGFsKSwKICAgICAgICB1c2VTaGFkb3dzOiBib29sZWFuKGlucHV0LnVzZVNoYWRvd3MsIHRoaXMuZGVmYXVsdFZhbHVlLnVzZVNoYWRvd3MpLAogICAgICAgIHZlcnRpY2FsSGFzQXJyb3dzOiBib29sZWFuKGlucHV0LnZlcnRpY2FsSGFzQXJyb3dzLCB0aGlzLmRlZmF1bHRWYWx1ZS52ZXJ0aWNhbEhhc0Fycm93cyksCiAgICAgICAgaG9yaXpvbnRhbEhhc0Fycm93czogYm9vbGVhbihpbnB1dC5ob3Jpem9udGFsSGFzQXJyb3dzLCB0aGlzLmRlZmF1bHRWYWx1ZS5ob3Jpem9udGFsSGFzQXJyb3dzKSwKICAgICAgICBoYW5kbGVNb3VzZVdoZWVsOiBib29sZWFuKGlucHV0LmhhbmRsZU1vdXNlV2hlZWwsIHRoaXMuZGVmYXVsdFZhbHVlLmhhbmRsZU1vdXNlV2hlZWwpLAogICAgICAgIGFsd2F5c0NvbnN1bWVNb3VzZVdoZWVsOiBib29sZWFuKGlucHV0LmFsd2F5c0NvbnN1bWVNb3VzZVdoZWVsLCB0aGlzLmRlZmF1bHRWYWx1ZS5hbHdheXNDb25zdW1lTW91c2VXaGVlbCksCiAgICAgICAgaG9yaXpvbnRhbFNjcm9sbGJhclNpemU6IGhvcml6b250YWxTY3JvbGxiYXJTaXplLAogICAgICAgIGhvcml6b250YWxTbGlkZXJTaXplOiBFZGl0b3JJbnRPcHRpb24uY2xhbXBlZEludChpbnB1dC5ob3Jpem9udGFsU2xpZGVyU2l6ZSwgaG9yaXpvbnRhbFNjcm9sbGJhclNpemUsIDAsIDEwMDApLAogICAgICAgIHZlcnRpY2FsU2Nyb2xsYmFyU2l6ZTogdmVydGljYWxTY3JvbGxiYXJTaXplLAogICAgICAgIHZlcnRpY2FsU2xpZGVyU2l6ZTogRWRpdG9ySW50T3B0aW9uLmNsYW1wZWRJbnQoaW5wdXQudmVydGljYWxTbGlkZXJTaXplLCB2ZXJ0aWNhbFNjcm9sbGJhclNpemUsIDAsIDEwMDApLAogICAgICAgIHNjcm9sbEJ5UGFnZTogYm9vbGVhbihpbnB1dC5zY3JvbGxCeVBhZ2UsIHRoaXMuZGVmYXVsdFZhbHVlLnNjcm9sbEJ5UGFnZSkKICAgICAgfTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIEVkaXRvclNjcm9sbGJhcjsKfShCYXNlRWRpdG9yT3B0aW9uKTsKLyoqCiAqIEBpbnRlcm5hbAoqLwpleHBvcnQgdmFyIGluVW50cnVzdGVkV29ya3NwYWNlID0gJ2luVW50cnVzdGVkV29ya3NwYWNlJzsKLyoqCiAqIEBpbnRlcm5hbAogKi8KZXhwb3J0IHZhciB1bmljb2RlSGlnaGxpZ2h0Q29uZmlnS2V5cyA9IHsKICBhbGxvd2VkQ2hhcmFjdGVyczogJ2VkaXRvci51bmljb2RlSGlnaGxpZ2h0LmFsbG93ZWRDaGFyYWN0ZXJzJywKICBpbnZpc2libGVDaGFyYWN0ZXJzOiAnZWRpdG9yLnVuaWNvZGVIaWdobGlnaHQuaW52aXNpYmxlQ2hhcmFjdGVycycsCiAgbm9uQmFzaWNBU0NJSTogJ2VkaXRvci51bmljb2RlSGlnaGxpZ2h0Lm5vbkJhc2ljQVNDSUknLAogIGFtYmlndW91c0NoYXJhY3RlcnM6ICdlZGl0b3IudW5pY29kZUhpZ2hsaWdodC5hbWJpZ3VvdXNDaGFyYWN0ZXJzJywKICBpbmNsdWRlQ29tbWVudHM6ICdlZGl0b3IudW5pY29kZUhpZ2hsaWdodC5pbmNsdWRlQ29tbWVudHMnLAogIGluY2x1ZGVTdHJpbmdzOiAnZWRpdG9yLnVuaWNvZGVIaWdobGlnaHQuaW5jbHVkZVN0cmluZ3MnLAogIGFsbG93ZWRMb2NhbGVzOiAnZWRpdG9yLnVuaWNvZGVIaWdobGlnaHQuYWxsb3dlZExvY2FsZXMnCn07CnZhciBVbmljb2RlSGlnaGxpZ2h0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZUVkaXRvck9wdGlvbjE5KSB7CiAgX2luaGVyaXRzKFVuaWNvZGVIaWdobGlnaHQsIF9CYXNlRWRpdG9yT3B0aW9uMTkpOwogIHZhciBfc3VwZXIzMSA9IF9jcmVhdGVTdXBlcihVbmljb2RlSGlnaGxpZ2h0KTsKICBmdW5jdGlvbiBVbmljb2RlSGlnaGxpZ2h0KCkgewogICAgdmFyIF9zdXBlcjMxJGNhbGw7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVW5pY29kZUhpZ2hsaWdodCk7CiAgICB2YXIgZGVmYXVsdHMgPSB7CiAgICAgIG5vbkJhc2ljQVNDSUk6IGluVW50cnVzdGVkV29ya3NwYWNlLAogICAgICBpbnZpc2libGVDaGFyYWN0ZXJzOiB0cnVlLAogICAgICBhbWJpZ3VvdXNDaGFyYWN0ZXJzOiB0cnVlLAogICAgICBpbmNsdWRlQ29tbWVudHM6IGluVW50cnVzdGVkV29ya3NwYWNlLAogICAgICBpbmNsdWRlU3RyaW5nczogdHJ1ZSwKICAgICAgYWxsb3dlZENoYXJhY3RlcnM6IHt9LAogICAgICBhbGxvd2VkTG9jYWxlczogewogICAgICAgIF9vczogdHJ1ZSwKICAgICAgICBfdnNjb2RlOiB0cnVlCiAgICAgIH0KICAgIH07CiAgICByZXR1cm4gX3N1cGVyMzEuY2FsbCh0aGlzLCAxMTUgLyogRWRpdG9yT3B0aW9uLnVuaWNvZGVIaWdobGlnaHRpbmcgKi8sICd1bmljb2RlSGlnaGxpZ2h0JywgZGVmYXVsdHMsIChfc3VwZXIzMSRjYWxsID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfc3VwZXIzMSRjYWxsLCB1bmljb2RlSGlnaGxpZ2h0Q29uZmlnS2V5cy5ub25CYXNpY0FTQ0lJLCB7CiAgICAgIHJlc3RyaWN0ZWQ6IHRydWUsCiAgICAgIHR5cGU6IFsnYm9vbGVhbicsICdzdHJpbmcnXSwKICAgICAgZW51bTogW3RydWUsIGZhbHNlLCBpblVudHJ1c3RlZFdvcmtzcGFjZV0sCiAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLm5vbkJhc2ljQVNDSUksCiAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ3VuaWNvZGVIaWdobGlnaHQubm9uQmFzaWNBU0NJSScsICJDb250cm9scyB3aGV0aGVyIGFsbCBub24tYmFzaWMgQVNDSUkgY2hhcmFjdGVycyBhcmUgaGlnaGxpZ2h0ZWQuIE9ubHkgY2hhcmFjdGVycyBiZXR3ZWVuIFUrMDAyMCBhbmQgVSswMDdFLCB0YWIsIGxpbmUtZmVlZCBhbmQgY2FycmlhZ2UtcmV0dXJuIGFyZSBjb25zaWRlcmVkIGJhc2ljIEFTQ0lJLiIpCiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9zdXBlcjMxJGNhbGwsIHVuaWNvZGVIaWdobGlnaHRDb25maWdLZXlzLmludmlzaWJsZUNoYXJhY3RlcnMsIHsKICAgICAgcmVzdHJpY3RlZDogdHJ1ZSwKICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICBkZWZhdWx0OiBkZWZhdWx0cy5pbnZpc2libGVDaGFyYWN0ZXJzLAogICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCd1bmljb2RlSGlnaGxpZ2h0LmludmlzaWJsZUNoYXJhY3RlcnMnLCAiQ29udHJvbHMgd2hldGhlciBjaGFyYWN0ZXJzIHRoYXQganVzdCByZXNlcnZlIHNwYWNlIG9yIGhhdmUgbm8gd2lkdGggYXQgYWxsIGFyZSBoaWdobGlnaHRlZC4iKQogICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfc3VwZXIzMSRjYWxsLCB1bmljb2RlSGlnaGxpZ2h0Q29uZmlnS2V5cy5hbWJpZ3VvdXNDaGFyYWN0ZXJzLCB7CiAgICAgIHJlc3RyaWN0ZWQ6IHRydWUsCiAgICAgIHR5cGU6ICdib29sZWFuJywKICAgICAgZGVmYXVsdDogZGVmYXVsdHMuYW1iaWd1b3VzQ2hhcmFjdGVycywKICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgndW5pY29kZUhpZ2hsaWdodC5hbWJpZ3VvdXNDaGFyYWN0ZXJzJywgIkNvbnRyb2xzIHdoZXRoZXIgY2hhcmFjdGVycyBhcmUgaGlnaGxpZ2h0ZWQgdGhhdCBjYW4gYmUgY29uZnVzZWQgd2l0aCBiYXNpYyBBU0NJSSBjaGFyYWN0ZXJzLCBleGNlcHQgdGhvc2UgdGhhdCBhcmUgY29tbW9uIGluIHRoZSBjdXJyZW50IHVzZXIgbG9jYWxlLiIpCiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9zdXBlcjMxJGNhbGwsIHVuaWNvZGVIaWdobGlnaHRDb25maWdLZXlzLmluY2x1ZGVDb21tZW50cywgewogICAgICByZXN0cmljdGVkOiB0cnVlLAogICAgICB0eXBlOiBbJ2Jvb2xlYW4nLCAnc3RyaW5nJ10sCiAgICAgIGVudW06IFt0cnVlLCBmYWxzZSwgaW5VbnRydXN0ZWRXb3Jrc3BhY2VdLAogICAgICBkZWZhdWx0OiBkZWZhdWx0cy5pbmNsdWRlQ29tbWVudHMsCiAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ3VuaWNvZGVIaWdobGlnaHQuaW5jbHVkZUNvbW1lbnRzJywgIkNvbnRyb2xzIHdoZXRoZXIgY2hhcmFjdGVycyBpbiBjb21tZW50cyBzaG91bGQgYWxzbyBiZSBzdWJqZWN0IHRvIHVuaWNvZGUgaGlnaGxpZ2h0aW5nLiIpCiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9zdXBlcjMxJGNhbGwsIHVuaWNvZGVIaWdobGlnaHRDb25maWdLZXlzLmluY2x1ZGVTdHJpbmdzLCB7CiAgICAgIHJlc3RyaWN0ZWQ6IHRydWUsCiAgICAgIHR5cGU6IFsnYm9vbGVhbicsICdzdHJpbmcnXSwKICAgICAgZW51bTogW3RydWUsIGZhbHNlLCBpblVudHJ1c3RlZFdvcmtzcGFjZV0sCiAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLmluY2x1ZGVTdHJpbmdzLAogICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCd1bmljb2RlSGlnaGxpZ2h0LmluY2x1ZGVTdHJpbmdzJywgIkNvbnRyb2xzIHdoZXRoZXIgY2hhcmFjdGVycyBpbiBzdHJpbmdzIHNob3VsZCBhbHNvIGJlIHN1YmplY3QgdG8gdW5pY29kZSBoaWdobGlnaHRpbmcuIikKICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3N1cGVyMzEkY2FsbCwgdW5pY29kZUhpZ2hsaWdodENvbmZpZ0tleXMuYWxsb3dlZENoYXJhY3RlcnMsIHsKICAgICAgcmVzdHJpY3RlZDogdHJ1ZSwKICAgICAgdHlwZTogJ29iamVjdCcsCiAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLmFsbG93ZWRDaGFyYWN0ZXJzLAogICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCd1bmljb2RlSGlnaGxpZ2h0LmFsbG93ZWRDaGFyYWN0ZXJzJywgIkRlZmluZXMgYWxsb3dlZCBjaGFyYWN0ZXJzIHRoYXQgYXJlIG5vdCBiZWluZyBoaWdobGlnaHRlZC4iKSwKICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IHsKICAgICAgICB0eXBlOiAnYm9vbGVhbicKICAgICAgfQogICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfc3VwZXIzMSRjYWxsLCB1bmljb2RlSGlnaGxpZ2h0Q29uZmlnS2V5cy5hbGxvd2VkTG9jYWxlcywgewogICAgICByZXN0cmljdGVkOiB0cnVlLAogICAgICB0eXBlOiAnb2JqZWN0JywKICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IHsKICAgICAgICB0eXBlOiAnYm9vbGVhbicKICAgICAgfSwKICAgICAgZGVmYXVsdDogZGVmYXVsdHMuYWxsb3dlZExvY2FsZXMsCiAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ3VuaWNvZGVIaWdobGlnaHQuYWxsb3dlZExvY2FsZXMnLCAiVW5pY29kZSBjaGFyYWN0ZXJzIHRoYXQgYXJlIGNvbW1vbiBpbiBhbGxvd2VkIGxvY2FsZXMgYXJlIG5vdCBiZWluZyBoaWdobGlnaHRlZC4iKQogICAgfSksIF9zdXBlcjMxJGNhbGwpKTsKICB9CiAgX2NyZWF0ZUNsYXNzKFVuaWNvZGVIaWdobGlnaHQsIFt7CiAgICBrZXk6ICJhcHBseVVwZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYXBwbHlVcGRhdGUodmFsdWUsIHVwZGF0ZSkgewogICAgICB2YXIgZGlkQ2hhbmdlID0gZmFsc2U7CiAgICAgIGlmICh1cGRhdGUuYWxsb3dlZENoYXJhY3RlcnMgJiYgdmFsdWUpIHsKICAgICAgICAvLyBUcmVhdCBhbGxvd2VkQ2hhcmFjdGVycyBhdG9taWNhbGx5CiAgICAgICAgaWYgKCFvYmplY3RzLmVxdWFscyh2YWx1ZS5hbGxvd2VkQ2hhcmFjdGVycywgdXBkYXRlLmFsbG93ZWRDaGFyYWN0ZXJzKSkgewogICAgICAgICAgdmFsdWUgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHZhbHVlKSwgewogICAgICAgICAgICBhbGxvd2VkQ2hhcmFjdGVyczogdXBkYXRlLmFsbG93ZWRDaGFyYWN0ZXJzCiAgICAgICAgICB9KTsKICAgICAgICAgIGRpZENoYW5nZSA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICh1cGRhdGUuYWxsb3dlZExvY2FsZXMgJiYgdmFsdWUpIHsKICAgICAgICAvLyBUcmVhdCBhbGxvd2VkTG9jYWxlcyBhdG9taWNhbGx5CiAgICAgICAgaWYgKCFvYmplY3RzLmVxdWFscyh2YWx1ZS5hbGxvd2VkTG9jYWxlcywgdXBkYXRlLmFsbG93ZWRMb2NhbGVzKSkgewogICAgICAgICAgdmFsdWUgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHZhbHVlKSwgewogICAgICAgICAgICBhbGxvd2VkTG9jYWxlczogdXBkYXRlLmFsbG93ZWRMb2NhbGVzCiAgICAgICAgICB9KTsKICAgICAgICAgIGRpZENoYW5nZSA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICAgIHZhciByZXN1bHQgPSBfZ2V0KF9nZXRQcm90b3R5cGVPZihVbmljb2RlSGlnaGxpZ2h0LnByb3RvdHlwZSksICJhcHBseVVwZGF0ZSIsIHRoaXMpLmNhbGwodGhpcywgdmFsdWUsIHVwZGF0ZSk7CiAgICAgIGlmIChkaWRDaGFuZ2UpIHsKICAgICAgICByZXR1cm4gbmV3IEFwcGx5VXBkYXRlUmVzdWx0KHJlc3VsdC5uZXdWYWx1ZSwgdHJ1ZSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ2YWxpZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsaWRhdGUoX2lucHV0KSB7CiAgICAgIGlmICghX2lucHV0IHx8IF90eXBlb2YoX2lucHV0KSAhPT0gJ29iamVjdCcpIHsKICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0VmFsdWU7CiAgICAgIH0KICAgICAgdmFyIGlucHV0ID0gX2lucHV0OwogICAgICByZXR1cm4gewogICAgICAgIG5vbkJhc2ljQVNDSUk6IHByaW1pdGl2ZVNldChpbnB1dC5ub25CYXNpY0FTQ0lJLCBpblVudHJ1c3RlZFdvcmtzcGFjZSwgW3RydWUsIGZhbHNlLCBpblVudHJ1c3RlZFdvcmtzcGFjZV0pLAogICAgICAgIGludmlzaWJsZUNoYXJhY3RlcnM6IGJvb2xlYW4oaW5wdXQuaW52aXNpYmxlQ2hhcmFjdGVycywgdGhpcy5kZWZhdWx0VmFsdWUuaW52aXNpYmxlQ2hhcmFjdGVycyksCiAgICAgICAgYW1iaWd1b3VzQ2hhcmFjdGVyczogYm9vbGVhbihpbnB1dC5hbWJpZ3VvdXNDaGFyYWN0ZXJzLCB0aGlzLmRlZmF1bHRWYWx1ZS5hbWJpZ3VvdXNDaGFyYWN0ZXJzKSwKICAgICAgICBpbmNsdWRlQ29tbWVudHM6IHByaW1pdGl2ZVNldChpbnB1dC5pbmNsdWRlQ29tbWVudHMsIGluVW50cnVzdGVkV29ya3NwYWNlLCBbdHJ1ZSwgZmFsc2UsIGluVW50cnVzdGVkV29ya3NwYWNlXSksCiAgICAgICAgaW5jbHVkZVN0cmluZ3M6IHByaW1pdGl2ZVNldChpbnB1dC5pbmNsdWRlU3RyaW5ncywgaW5VbnRydXN0ZWRXb3Jrc3BhY2UsIFt0cnVlLCBmYWxzZSwgaW5VbnRydXN0ZWRXb3Jrc3BhY2VdKSwKICAgICAgICBhbGxvd2VkQ2hhcmFjdGVyczogdGhpcy52YWxpZGF0ZUJvb2xlYW5NYXAoX2lucHV0LmFsbG93ZWRDaGFyYWN0ZXJzLCB0aGlzLmRlZmF1bHRWYWx1ZS5hbGxvd2VkQ2hhcmFjdGVycyksCiAgICAgICAgYWxsb3dlZExvY2FsZXM6IHRoaXMudmFsaWRhdGVCb29sZWFuTWFwKF9pbnB1dC5hbGxvd2VkTG9jYWxlcywgdGhpcy5kZWZhdWx0VmFsdWUuYWxsb3dlZExvY2FsZXMpCiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAidmFsaWRhdGVCb29sZWFuTWFwIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZUJvb2xlYW5NYXAobWFwLCBkZWZhdWx0VmFsdWUpIHsKICAgICAgaWYgKF90eXBlb2YobWFwKSAhPT0gJ29iamVjdCcgfHwgIW1hcCkgewogICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7CiAgICAgIH0KICAgICAgdmFyIHJlc3VsdCA9IHt9OwogICAgICBmb3IgKHZhciBfaSA9IDAsIF9PYmplY3QkZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKG1hcCk7IF9pIDwgX09iamVjdCRlbnRyaWVzLmxlbmd0aDsgX2krKykgewogICAgICAgIHZhciBfT2JqZWN0JGVudHJpZXMkX2kgPSBfc2xpY2VkVG9BcnJheShfT2JqZWN0JGVudHJpZXNbX2ldLCAyKSwKICAgICAgICAgIGtleSA9IF9PYmplY3QkZW50cmllcyRfaVswXSwKICAgICAgICAgIHZhbHVlID0gX09iamVjdCRlbnRyaWVzJF9pWzFdOwogICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSkgewogICAgICAgICAgcmVzdWx0W2tleV0gPSB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQogIH1dKTsKICByZXR1cm4gVW5pY29kZUhpZ2hsaWdodDsKfShCYXNlRWRpdG9yT3B0aW9uKTsKLyoqCiAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgaW5saW5lIHN1Z2dlc3Rpb25zCiAqLwp2YXIgSW5saW5lRWRpdG9yU3VnZ2VzdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Jhc2VFZGl0b3JPcHRpb24yMCkgewogIF9pbmhlcml0cyhJbmxpbmVFZGl0b3JTdWdnZXN0LCBfQmFzZUVkaXRvck9wdGlvbjIwKTsKICB2YXIgX3N1cGVyMzIgPSBfY3JlYXRlU3VwZXIoSW5saW5lRWRpdG9yU3VnZ2VzdCk7CiAgZnVuY3Rpb24gSW5saW5lRWRpdG9yU3VnZ2VzdCgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbmxpbmVFZGl0b3JTdWdnZXN0KTsKICAgIHZhciBkZWZhdWx0cyA9IHsKICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgbW9kZTogJ3N1YndvcmRTbWFydCcKICAgIH07CiAgICByZXR1cm4gX3N1cGVyMzIuY2FsbCh0aGlzLCA1NyAvKiBFZGl0b3JPcHRpb24uaW5saW5lU3VnZ2VzdCAqLywgJ2lubGluZVN1Z2dlc3QnLCBkZWZhdWx0cywgewogICAgICAnZWRpdG9yLmlubGluZVN1Z2dlc3QuZW5hYmxlZCc6IHsKICAgICAgICB0eXBlOiAnYm9vbGVhbicsCiAgICAgICAgZGVmYXVsdDogZGVmYXVsdHMuZW5hYmxlZCwKICAgICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdpbmxpbmVTdWdnZXN0LmVuYWJsZWQnLCAiQ29udHJvbHMgd2hldGhlciB0byBhdXRvbWF0aWNhbGx5IHNob3cgaW5saW5lIHN1Z2dlc3Rpb25zIGluIHRoZSBlZGl0b3IuIikKICAgICAgfQogICAgfSk7CiAgfQogIF9jcmVhdGVDbGFzcyhJbmxpbmVFZGl0b3JTdWdnZXN0LCBbewogICAga2V5OiAidmFsaWRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlKF9pbnB1dCkgewogICAgICBpZiAoIV9pbnB1dCB8fCBfdHlwZW9mKF9pbnB1dCkgIT09ICdvYmplY3QnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFZhbHVlOwogICAgICB9CiAgICAgIHZhciBpbnB1dCA9IF9pbnB1dDsKICAgICAgcmV0dXJuIHsKICAgICAgICBlbmFibGVkOiBib29sZWFuKGlucHV0LmVuYWJsZWQsIHRoaXMuZGVmYXVsdFZhbHVlLmVuYWJsZWQpLAogICAgICAgIG1vZGU6IHN0cmluZ1NldChpbnB1dC5tb2RlLCB0aGlzLmRlZmF1bHRWYWx1ZS5tb2RlLCBbJ3ByZWZpeCcsICdzdWJ3b3JkJywgJ3N1YndvcmRTbWFydCddKQogICAgICB9OwogICAgfQogIH1dKTsKICByZXR1cm4gSW5saW5lRWRpdG9yU3VnZ2VzdDsKfShCYXNlRWRpdG9yT3B0aW9uKTsKLyoqCiAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgaW5saW5lIHN1Z2dlc3Rpb25zCiAqLwp2YXIgQnJhY2tldFBhaXJDb2xvcml6YXRpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9CYXNlRWRpdG9yT3B0aW9uMjEpIHsKICBfaW5oZXJpdHMoQnJhY2tldFBhaXJDb2xvcml6YXRpb24sIF9CYXNlRWRpdG9yT3B0aW9uMjEpOwogIHZhciBfc3VwZXIzMyA9IF9jcmVhdGVTdXBlcihCcmFja2V0UGFpckNvbG9yaXphdGlvbik7CiAgZnVuY3Rpb24gQnJhY2tldFBhaXJDb2xvcml6YXRpb24oKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQnJhY2tldFBhaXJDb2xvcml6YXRpb24pOwogICAgdmFyIGRlZmF1bHRzID0gewogICAgICBlbmFibGVkOiBFRElUT1JfTU9ERUxfREVGQVVMVFMuYnJhY2tldFBhaXJDb2xvcml6YXRpb25PcHRpb25zLmVuYWJsZWQsCiAgICAgIGluZGVwZW5kZW50Q29sb3JQb29sUGVyQnJhY2tldFR5cGU6IEVESVRPUl9NT0RFTF9ERUZBVUxUUy5icmFja2V0UGFpckNvbG9yaXphdGlvbk9wdGlvbnMuaW5kZXBlbmRlbnRDb2xvclBvb2xQZXJCcmFja2V0VHlwZQogICAgfTsKICAgIHJldHVybiBfc3VwZXIzMy5jYWxsKHRoaXMsIDEyIC8qIEVkaXRvck9wdGlvbi5icmFja2V0UGFpckNvbG9yaXphdGlvbiAqLywgJ2JyYWNrZXRQYWlyQ29sb3JpemF0aW9uJywgZGVmYXVsdHMsIHsKICAgICAgJ2VkaXRvci5icmFja2V0UGFpckNvbG9yaXphdGlvbi5lbmFibGVkJzogewogICAgICAgIHR5cGU6ICdib29sZWFuJywKICAgICAgICBkZWZhdWx0OiBkZWZhdWx0cy5lbmFibGVkLAogICAgICAgIG1hcmtkb3duRGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnYnJhY2tldFBhaXJDb2xvcml6YXRpb24uZW5hYmxlZCcsICJDb250cm9scyB3aGV0aGVyIGJyYWNrZXQgcGFpciBjb2xvcml6YXRpb24gaXMgZW5hYmxlZCBvciBub3QuIFVzZSB7MH0gdG8gb3ZlcnJpZGUgdGhlIGJyYWNrZXQgaGlnaGxpZ2h0IGNvbG9ycy4iLCAnYCN3b3JrYmVuY2guY29sb3JDdXN0b21pemF0aW9ucyNgJykKICAgICAgfSwKICAgICAgJ2VkaXRvci5icmFja2V0UGFpckNvbG9yaXphdGlvbi5pbmRlcGVuZGVudENvbG9yUG9vbFBlckJyYWNrZXRUeXBlJzogewogICAgICAgIHR5cGU6ICdib29sZWFuJywKICAgICAgICBkZWZhdWx0OiBkZWZhdWx0cy5pbmRlcGVuZGVudENvbG9yUG9vbFBlckJyYWNrZXRUeXBlLAogICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2JyYWNrZXRQYWlyQ29sb3JpemF0aW9uLmluZGVwZW5kZW50Q29sb3JQb29sUGVyQnJhY2tldFR5cGUnLCAiQ29udHJvbHMgd2hldGhlciBlYWNoIGJyYWNrZXQgdHlwZSBoYXMgaXRzIG93biBpbmRlcGVuZGVudCBjb2xvciBwb29sLiIpCiAgICAgIH0KICAgIH0pOwogIH0KICBfY3JlYXRlQ2xhc3MoQnJhY2tldFBhaXJDb2xvcml6YXRpb24sIFt7CiAgICBrZXk6ICJ2YWxpZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsaWRhdGUoX2lucHV0KSB7CiAgICAgIGlmICghX2lucHV0IHx8IF90eXBlb2YoX2lucHV0KSAhPT0gJ29iamVjdCcpIHsKICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0VmFsdWU7CiAgICAgIH0KICAgICAgdmFyIGlucHV0ID0gX2lucHV0OwogICAgICByZXR1cm4gewogICAgICAgIGVuYWJsZWQ6IGJvb2xlYW4oaW5wdXQuZW5hYmxlZCwgdGhpcy5kZWZhdWx0VmFsdWUuZW5hYmxlZCksCiAgICAgICAgaW5kZXBlbmRlbnRDb2xvclBvb2xQZXJCcmFja2V0VHlwZTogYm9vbGVhbihpbnB1dC5pbmRlcGVuZGVudENvbG9yUG9vbFBlckJyYWNrZXRUeXBlLCB0aGlzLmRlZmF1bHRWYWx1ZS5pbmRlcGVuZGVudENvbG9yUG9vbFBlckJyYWNrZXRUeXBlKQogICAgICB9OwogICAgfQogIH1dKTsKICByZXR1cm4gQnJhY2tldFBhaXJDb2xvcml6YXRpb247Cn0oQmFzZUVkaXRvck9wdGlvbik7Ci8qKgogKiBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIGlubGluZSBzdWdnZXN0aW9ucwogKi8KdmFyIEd1aWRlT3B0aW9ucyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Jhc2VFZGl0b3JPcHRpb24yMikgewogIF9pbmhlcml0cyhHdWlkZU9wdGlvbnMsIF9CYXNlRWRpdG9yT3B0aW9uMjIpOwogIHZhciBfc3VwZXIzNCA9IF9jcmVhdGVTdXBlcihHdWlkZU9wdGlvbnMpOwogIGZ1bmN0aW9uIEd1aWRlT3B0aW9ucygpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHdWlkZU9wdGlvbnMpOwogICAgdmFyIGRlZmF1bHRzID0gewogICAgICBicmFja2V0UGFpcnM6IGZhbHNlLAogICAgICBicmFja2V0UGFpcnNIb3Jpem9udGFsOiAnYWN0aXZlJywKICAgICAgaGlnaGxpZ2h0QWN0aXZlQnJhY2tldFBhaXI6IHRydWUsCiAgICAgIGluZGVudGF0aW9uOiB0cnVlLAogICAgICBoaWdobGlnaHRBY3RpdmVJbmRlbnRhdGlvbjogdHJ1ZQogICAgfTsKICAgIHJldHVybiBfc3VwZXIzNC5jYWxsKHRoaXMsIDEzIC8qIEVkaXRvck9wdGlvbi5ndWlkZXMgKi8sICdndWlkZXMnLCBkZWZhdWx0cywgewogICAgICAnZWRpdG9yLmd1aWRlcy5icmFja2V0UGFpcnMnOiB7CiAgICAgICAgdHlwZTogWydib29sZWFuJywgJ3N0cmluZyddLAogICAgICAgIGVudW06IFt0cnVlLCAnYWN0aXZlJywgZmFsc2VdLAogICAgICAgIGVudW1EZXNjcmlwdGlvbnM6IFtubHMubG9jYWxpemUoJ2VkaXRvci5ndWlkZXMuYnJhY2tldFBhaXJzLnRydWUnLCAiRW5hYmxlcyBicmFja2V0IHBhaXIgZ3VpZGVzLiIpLCBubHMubG9jYWxpemUoJ2VkaXRvci5ndWlkZXMuYnJhY2tldFBhaXJzLmFjdGl2ZScsICJFbmFibGVzIGJyYWNrZXQgcGFpciBndWlkZXMgb25seSBmb3IgdGhlIGFjdGl2ZSBicmFja2V0IHBhaXIuIiksIG5scy5sb2NhbGl6ZSgnZWRpdG9yLmd1aWRlcy5icmFja2V0UGFpcnMuZmFsc2UnLCAiRGlzYWJsZXMgYnJhY2tldCBwYWlyIGd1aWRlcy4iKV0sCiAgICAgICAgZGVmYXVsdDogZGVmYXVsdHMuYnJhY2tldFBhaXJzLAogICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2VkaXRvci5ndWlkZXMuYnJhY2tldFBhaXJzJywgIkNvbnRyb2xzIHdoZXRoZXIgYnJhY2tldCBwYWlyIGd1aWRlcyBhcmUgZW5hYmxlZCBvciBub3QuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5ndWlkZXMuYnJhY2tldFBhaXJzSG9yaXpvbnRhbCc6IHsKICAgICAgICB0eXBlOiBbJ2Jvb2xlYW4nLCAnc3RyaW5nJ10sCiAgICAgICAgZW51bTogW3RydWUsICdhY3RpdmUnLCBmYWxzZV0sCiAgICAgICAgZW51bURlc2NyaXB0aW9uczogW25scy5sb2NhbGl6ZSgnZWRpdG9yLmd1aWRlcy5icmFja2V0UGFpcnNIb3Jpem9udGFsLnRydWUnLCAiRW5hYmxlcyBob3Jpem9udGFsIGd1aWRlcyBhcyBhZGRpdGlvbiB0byB2ZXJ0aWNhbCBicmFja2V0IHBhaXIgZ3VpZGVzLiIpLCBubHMubG9jYWxpemUoJ2VkaXRvci5ndWlkZXMuYnJhY2tldFBhaXJzSG9yaXpvbnRhbC5hY3RpdmUnLCAiRW5hYmxlcyBob3Jpem9udGFsIGd1aWRlcyBvbmx5IGZvciB0aGUgYWN0aXZlIGJyYWNrZXQgcGFpci4iKSwgbmxzLmxvY2FsaXplKCdlZGl0b3IuZ3VpZGVzLmJyYWNrZXRQYWlyc0hvcml6b250YWwuZmFsc2UnLCAiRGlzYWJsZXMgaG9yaXpvbnRhbCBicmFja2V0IHBhaXIgZ3VpZGVzLiIpXSwKICAgICAgICBkZWZhdWx0OiBkZWZhdWx0cy5icmFja2V0UGFpcnNIb3Jpem9udGFsLAogICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2VkaXRvci5ndWlkZXMuYnJhY2tldFBhaXJzSG9yaXpvbnRhbCcsICJDb250cm9scyB3aGV0aGVyIGhvcml6b250YWwgYnJhY2tldCBwYWlyIGd1aWRlcyBhcmUgZW5hYmxlZCBvciBub3QuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5ndWlkZXMuaGlnaGxpZ2h0QWN0aXZlQnJhY2tldFBhaXInOiB7CiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLmhpZ2hsaWdodEFjdGl2ZUJyYWNrZXRQYWlyLAogICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2VkaXRvci5ndWlkZXMuaGlnaGxpZ2h0QWN0aXZlQnJhY2tldFBhaXInLCAiQ29udHJvbHMgd2hldGhlciB0aGUgZWRpdG9yIHNob3VsZCBoaWdobGlnaHQgdGhlIGFjdGl2ZSBicmFja2V0IHBhaXIuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5ndWlkZXMuaW5kZW50YXRpb24nOiB7CiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLmluZGVudGF0aW9uLAogICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2VkaXRvci5ndWlkZXMuaW5kZW50YXRpb24nLCAiQ29udHJvbHMgd2hldGhlciB0aGUgZWRpdG9yIHNob3VsZCByZW5kZXIgaW5kZW50IGd1aWRlcy4iKQogICAgICB9LAogICAgICAnZWRpdG9yLmd1aWRlcy5oaWdobGlnaHRBY3RpdmVJbmRlbnRhdGlvbic6IHsKICAgICAgICB0eXBlOiBbJ2Jvb2xlYW4nLCAnc3RyaW5nJ10sCiAgICAgICAgZW51bTogW3RydWUsICdhbHdheXMnLCBmYWxzZV0sCiAgICAgICAgZW51bURlc2NyaXB0aW9uczogW25scy5sb2NhbGl6ZSgnZWRpdG9yLmd1aWRlcy5oaWdobGlnaHRBY3RpdmVJbmRlbnRhdGlvbi50cnVlJywgIkhpZ2hsaWdodHMgdGhlIGFjdGl2ZSBpbmRlbnQgZ3VpZGUuIiksIG5scy5sb2NhbGl6ZSgnZWRpdG9yLmd1aWRlcy5oaWdobGlnaHRBY3RpdmVJbmRlbnRhdGlvbi5hbHdheXMnLCAiSGlnaGxpZ2h0cyB0aGUgYWN0aXZlIGluZGVudCBndWlkZSBldmVuIGlmIGJyYWNrZXQgZ3VpZGVzIGFyZSBoaWdobGlnaHRlZC4iKSwgbmxzLmxvY2FsaXplKCdlZGl0b3IuZ3VpZGVzLmhpZ2hsaWdodEFjdGl2ZUluZGVudGF0aW9uLmZhbHNlJywgIkRvIG5vdCBoaWdobGlnaHQgdGhlIGFjdGl2ZSBpbmRlbnQgZ3VpZGUuIildLAogICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLmhpZ2hsaWdodEFjdGl2ZUluZGVudGF0aW9uLAogICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2VkaXRvci5ndWlkZXMuaGlnaGxpZ2h0QWN0aXZlSW5kZW50YXRpb24nLCAiQ29udHJvbHMgd2hldGhlciB0aGUgZWRpdG9yIHNob3VsZCBoaWdobGlnaHQgdGhlIGFjdGl2ZSBpbmRlbnQgZ3VpZGUuIikKICAgICAgfQogICAgfSk7CiAgfQogIF9jcmVhdGVDbGFzcyhHdWlkZU9wdGlvbnMsIFt7CiAgICBrZXk6ICJ2YWxpZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsaWRhdGUoX2lucHV0KSB7CiAgICAgIGlmICghX2lucHV0IHx8IF90eXBlb2YoX2lucHV0KSAhPT0gJ29iamVjdCcpIHsKICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0VmFsdWU7CiAgICAgIH0KICAgICAgdmFyIGlucHV0ID0gX2lucHV0OwogICAgICByZXR1cm4gewogICAgICAgIGJyYWNrZXRQYWlyczogcHJpbWl0aXZlU2V0KGlucHV0LmJyYWNrZXRQYWlycywgdGhpcy5kZWZhdWx0VmFsdWUuYnJhY2tldFBhaXJzLCBbdHJ1ZSwgZmFsc2UsICdhY3RpdmUnXSksCiAgICAgICAgYnJhY2tldFBhaXJzSG9yaXpvbnRhbDogcHJpbWl0aXZlU2V0KGlucHV0LmJyYWNrZXRQYWlyc0hvcml6b250YWwsIHRoaXMuZGVmYXVsdFZhbHVlLmJyYWNrZXRQYWlyc0hvcml6b250YWwsIFt0cnVlLCBmYWxzZSwgJ2FjdGl2ZSddKSwKICAgICAgICBoaWdobGlnaHRBY3RpdmVCcmFja2V0UGFpcjogYm9vbGVhbihpbnB1dC5oaWdobGlnaHRBY3RpdmVCcmFja2V0UGFpciwgdGhpcy5kZWZhdWx0VmFsdWUuaGlnaGxpZ2h0QWN0aXZlQnJhY2tldFBhaXIpLAogICAgICAgIGluZGVudGF0aW9uOiBib29sZWFuKGlucHV0LmluZGVudGF0aW9uLCB0aGlzLmRlZmF1bHRWYWx1ZS5pbmRlbnRhdGlvbiksCiAgICAgICAgaGlnaGxpZ2h0QWN0aXZlSW5kZW50YXRpb246IHByaW1pdGl2ZVNldChpbnB1dC5oaWdobGlnaHRBY3RpdmVJbmRlbnRhdGlvbiwgdGhpcy5kZWZhdWx0VmFsdWUuaGlnaGxpZ2h0QWN0aXZlSW5kZW50YXRpb24sIFt0cnVlLCBmYWxzZSwgJ2Fsd2F5cyddKQogICAgICB9OwogICAgfQogIH1dKTsKICByZXR1cm4gR3VpZGVPcHRpb25zOwp9KEJhc2VFZGl0b3JPcHRpb24pOwpmdW5jdGlvbiBwcmltaXRpdmVTZXQodmFsdWUsIGRlZmF1bHRWYWx1ZSwgYWxsb3dlZFZhbHVlcykgewogIHZhciBpZHggPSBhbGxvd2VkVmFsdWVzLmluZGV4T2YodmFsdWUpOwogIGlmIChpZHggPT09IC0xKSB7CiAgICByZXR1cm4gZGVmYXVsdFZhbHVlOwogIH0KICByZXR1cm4gYWxsb3dlZFZhbHVlc1tpZHhdOwp9CnZhciBFZGl0b3JTdWdnZXN0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZUVkaXRvck9wdGlvbjIzKSB7CiAgX2luaGVyaXRzKEVkaXRvclN1Z2dlc3QsIF9CYXNlRWRpdG9yT3B0aW9uMjMpOwogIHZhciBfc3VwZXIzNSA9IF9jcmVhdGVTdXBlcihFZGl0b3JTdWdnZXN0KTsKICBmdW5jdGlvbiBFZGl0b3JTdWdnZXN0KCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVkaXRvclN1Z2dlc3QpOwogICAgdmFyIGRlZmF1bHRzID0gewogICAgICBpbnNlcnRNb2RlOiAnaW5zZXJ0JywKICAgICAgZmlsdGVyR3JhY2VmdWw6IHRydWUsCiAgICAgIHNuaXBwZXRzUHJldmVudFF1aWNrU3VnZ2VzdGlvbnM6IHRydWUsCiAgICAgIGxvY2FsaXR5Qm9udXM6IGZhbHNlLAogICAgICBzaGFyZVN1Z2dlc3RTZWxlY3Rpb25zOiBmYWxzZSwKICAgICAgc2hvd0ljb25zOiB0cnVlLAogICAgICBzaG93U3RhdHVzQmFyOiBmYWxzZSwKICAgICAgcHJldmlldzogZmFsc2UsCiAgICAgIHByZXZpZXdNb2RlOiAnc3Vid29yZFNtYXJ0JywKICAgICAgc2hvd0lubGluZURldGFpbHM6IHRydWUsCiAgICAgIHNob3dNZXRob2RzOiB0cnVlLAogICAgICBzaG93RnVuY3Rpb25zOiB0cnVlLAogICAgICBzaG93Q29uc3RydWN0b3JzOiB0cnVlLAogICAgICBzaG93RGVwcmVjYXRlZDogdHJ1ZSwKICAgICAgc2hvd0ZpZWxkczogdHJ1ZSwKICAgICAgc2hvd1ZhcmlhYmxlczogdHJ1ZSwKICAgICAgc2hvd0NsYXNzZXM6IHRydWUsCiAgICAgIHNob3dTdHJ1Y3RzOiB0cnVlLAogICAgICBzaG93SW50ZXJmYWNlczogdHJ1ZSwKICAgICAgc2hvd01vZHVsZXM6IHRydWUsCiAgICAgIHNob3dQcm9wZXJ0aWVzOiB0cnVlLAogICAgICBzaG93RXZlbnRzOiB0cnVlLAogICAgICBzaG93T3BlcmF0b3JzOiB0cnVlLAogICAgICBzaG93VW5pdHM6IHRydWUsCiAgICAgIHNob3dWYWx1ZXM6IHRydWUsCiAgICAgIHNob3dDb25zdGFudHM6IHRydWUsCiAgICAgIHNob3dFbnVtczogdHJ1ZSwKICAgICAgc2hvd0VudW1NZW1iZXJzOiB0cnVlLAogICAgICBzaG93S2V5d29yZHM6IHRydWUsCiAgICAgIHNob3dXb3JkczogdHJ1ZSwKICAgICAgc2hvd0NvbG9yczogdHJ1ZSwKICAgICAgc2hvd0ZpbGVzOiB0cnVlLAogICAgICBzaG93UmVmZXJlbmNlczogdHJ1ZSwKICAgICAgc2hvd0ZvbGRlcnM6IHRydWUsCiAgICAgIHNob3dUeXBlUGFyYW1ldGVyczogdHJ1ZSwKICAgICAgc2hvd1NuaXBwZXRzOiB0cnVlLAogICAgICBzaG93VXNlcnM6IHRydWUsCiAgICAgIHNob3dJc3N1ZXM6IHRydWUKICAgIH07CiAgICByZXR1cm4gX3N1cGVyMzUuY2FsbCh0aGlzLCAxMDggLyogRWRpdG9yT3B0aW9uLnN1Z2dlc3QgKi8sICdzdWdnZXN0JywgZGVmYXVsdHMsIHsKICAgICAgJ2VkaXRvci5zdWdnZXN0Lmluc2VydE1vZGUnOiB7CiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgZW51bTogWydpbnNlcnQnLCAncmVwbGFjZSddLAogICAgICAgIGVudW1EZXNjcmlwdGlvbnM6IFtubHMubG9jYWxpemUoJ3N1Z2dlc3QuaW5zZXJ0TW9kZS5pbnNlcnQnLCAiSW5zZXJ0IHN1Z2dlc3Rpb24gd2l0aG91dCBvdmVyd3JpdGluZyB0ZXh0IHJpZ2h0IG9mIHRoZSBjdXJzb3IuIiksIG5scy5sb2NhbGl6ZSgnc3VnZ2VzdC5pbnNlcnRNb2RlLnJlcGxhY2UnLCAiSW5zZXJ0IHN1Z2dlc3Rpb24gYW5kIG92ZXJ3cml0ZSB0ZXh0IHJpZ2h0IG9mIHRoZSBjdXJzb3IuIildLAogICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLmluc2VydE1vZGUsCiAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnc3VnZ2VzdC5pbnNlcnRNb2RlJywgIkNvbnRyb2xzIHdoZXRoZXIgd29yZHMgYXJlIG92ZXJ3cml0dGVuIHdoZW4gYWNjZXB0aW5nIGNvbXBsZXRpb25zLiBOb3RlIHRoYXQgdGhpcyBkZXBlbmRzIG9uIGV4dGVuc2lvbnMgb3B0aW5nIGludG8gdGhpcyBmZWF0dXJlLiIpCiAgICAgIH0sCiAgICAgICdlZGl0b3Iuc3VnZ2VzdC5maWx0ZXJHcmFjZWZ1bCc6IHsKICAgICAgICB0eXBlOiAnYm9vbGVhbicsCiAgICAgICAgZGVmYXVsdDogZGVmYXVsdHMuZmlsdGVyR3JhY2VmdWwsCiAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnc3VnZ2VzdC5maWx0ZXJHcmFjZWZ1bCcsICJDb250cm9scyB3aGV0aGVyIGZpbHRlcmluZyBhbmQgc29ydGluZyBzdWdnZXN0aW9ucyBhY2NvdW50cyBmb3Igc21hbGwgdHlwb3MuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5zdWdnZXN0LmxvY2FsaXR5Qm9udXMnOiB7CiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLmxvY2FsaXR5Qm9udXMsCiAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnc3VnZ2VzdC5sb2NhbGl0eUJvbnVzJywgIkNvbnRyb2xzIHdoZXRoZXIgc29ydGluZyBmYXZvcnMgd29yZHMgdGhhdCBhcHBlYXIgY2xvc2UgdG8gdGhlIGN1cnNvci4iKQogICAgICB9LAogICAgICAnZWRpdG9yLnN1Z2dlc3Quc2hhcmVTdWdnZXN0U2VsZWN0aW9ucyc6IHsKICAgICAgICB0eXBlOiAnYm9vbGVhbicsCiAgICAgICAgZGVmYXVsdDogZGVmYXVsdHMuc2hhcmVTdWdnZXN0U2VsZWN0aW9ucywKICAgICAgICBtYXJrZG93bkRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ3N1Z2dlc3Quc2hhcmVTdWdnZXN0U2VsZWN0aW9ucycsICJDb250cm9scyB3aGV0aGVyIHJlbWVtYmVyZWQgc3VnZ2VzdGlvbiBzZWxlY3Rpb25zIGFyZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSB3b3Jrc3BhY2VzIGFuZCB3aW5kb3dzIChuZWVkcyBgI2VkaXRvci5zdWdnZXN0U2VsZWN0aW9uI2ApLiIpCiAgICAgIH0sCiAgICAgICdlZGl0b3Iuc3VnZ2VzdC5zbmlwcGV0c1ByZXZlbnRRdWlja1N1Z2dlc3Rpb25zJzogewogICAgICAgIHR5cGU6ICdib29sZWFuJywKICAgICAgICBkZWZhdWx0OiBkZWZhdWx0cy5zbmlwcGV0c1ByZXZlbnRRdWlja1N1Z2dlc3Rpb25zLAogICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ3N1Z2dlc3Quc25pcHBldHNQcmV2ZW50UXVpY2tTdWdnZXN0aW9ucycsICJDb250cm9scyB3aGV0aGVyIGFuIGFjdGl2ZSBzbmlwcGV0IHByZXZlbnRzIHF1aWNrIHN1Z2dlc3Rpb25zLiIpCiAgICAgIH0sCiAgICAgICdlZGl0b3Iuc3VnZ2VzdC5zaG93SWNvbnMnOiB7CiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLnNob3dJY29ucywKICAgICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdzdWdnZXN0LnNob3dJY29ucycsICJDb250cm9scyB3aGV0aGVyIHRvIHNob3cgb3IgaGlkZSBpY29ucyBpbiBzdWdnZXN0aW9ucy4iKQogICAgICB9LAogICAgICAnZWRpdG9yLnN1Z2dlc3Quc2hvd1N0YXR1c0Jhcic6IHsKICAgICAgICB0eXBlOiAnYm9vbGVhbicsCiAgICAgICAgZGVmYXVsdDogZGVmYXVsdHMuc2hvd1N0YXR1c0JhciwKICAgICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdzdWdnZXN0LnNob3dTdGF0dXNCYXInLCAiQ29udHJvbHMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIHN0YXR1cyBiYXIgYXQgdGhlIGJvdHRvbSBvZiB0aGUgc3VnZ2VzdCB3aWRnZXQuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5zdWdnZXN0LnByZXZpZXcnOiB7CiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLnByZXZpZXcsCiAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnc3VnZ2VzdC5wcmV2aWV3JywgIkNvbnRyb2xzIHdoZXRoZXIgdG8gcHJldmlldyB0aGUgc3VnZ2VzdGlvbiBvdXRjb21lIGluIHRoZSBlZGl0b3IuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5zdWdnZXN0LnNob3dJbmxpbmVEZXRhaWxzJzogewogICAgICAgIHR5cGU6ICdib29sZWFuJywKICAgICAgICBkZWZhdWx0OiBkZWZhdWx0cy5zaG93SW5saW5lRGV0YWlscywKICAgICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdzdWdnZXN0LnNob3dJbmxpbmVEZXRhaWxzJywgIkNvbnRyb2xzIHdoZXRoZXIgc3VnZ2VzdCBkZXRhaWxzIHNob3cgaW5saW5lIHdpdGggdGhlIGxhYmVsIG9yIG9ubHkgaW4gdGhlIGRldGFpbHMgd2lkZ2V0IikKICAgICAgfSwKICAgICAgJ2VkaXRvci5zdWdnZXN0Lm1heFZpc2libGVTdWdnZXN0aW9ucyc6IHsKICAgICAgICB0eXBlOiAnbnVtYmVyJywKICAgICAgICBkZXByZWNhdGlvbk1lc3NhZ2U6IG5scy5sb2NhbGl6ZSgnc3VnZ2VzdC5tYXhWaXNpYmxlU3VnZ2VzdGlvbnMuZGVwJywgIlRoaXMgc2V0dGluZyBpcyBkZXByZWNhdGVkLiBUaGUgc3VnZ2VzdCB3aWRnZXQgY2FuIG5vdyBiZSByZXNpemVkLiIpCiAgICAgIH0sCiAgICAgICdlZGl0b3Iuc3VnZ2VzdC5maWx0ZXJlZFR5cGVzJzogewogICAgICAgIHR5cGU6ICdvYmplY3QnLAogICAgICAgIGRlcHJlY2F0aW9uTWVzc2FnZTogbmxzLmxvY2FsaXplKCdkZXByZWNhdGVkJywgIlRoaXMgc2V0dGluZyBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHNlcGFyYXRlIHNldHRpbmdzIGxpa2UgJ2VkaXRvci5zdWdnZXN0LnNob3dLZXl3b3Jkcycgb3IgJ2VkaXRvci5zdWdnZXN0LnNob3dTbmlwcGV0cycgaW5zdGVhZC4iKQogICAgICB9LAogICAgICAnZWRpdG9yLnN1Z2dlc3Quc2hvd01ldGhvZHMnOiB7CiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICAgIGRlZmF1bHQ6IHRydWUsCiAgICAgICAgbWFya2Rvd25EZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdlZGl0b3Iuc3VnZ2VzdC5zaG93TWV0aG9kcycsICJXaGVuIGVuYWJsZWQgSW50ZWxsaVNlbnNlIHNob3dzIGBtZXRob2RgLXN1Z2dlc3Rpb25zLiIpCiAgICAgIH0sCiAgICAgICdlZGl0b3Iuc3VnZ2VzdC5zaG93RnVuY3Rpb25zJzogewogICAgICAgIHR5cGU6ICdib29sZWFuJywKICAgICAgICBkZWZhdWx0OiB0cnVlLAogICAgICAgIG1hcmtkb3duRGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnZWRpdG9yLnN1Z2dlc3Quc2hvd0Z1bmN0aW9ucycsICJXaGVuIGVuYWJsZWQgSW50ZWxsaVNlbnNlIHNob3dzIGBmdW5jdGlvbmAtc3VnZ2VzdGlvbnMuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5zdWdnZXN0LnNob3dDb25zdHJ1Y3RvcnMnOiB7CiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICAgIGRlZmF1bHQ6IHRydWUsCiAgICAgICAgbWFya2Rvd25EZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdlZGl0b3Iuc3VnZ2VzdC5zaG93Q29uc3RydWN0b3JzJywgIldoZW4gZW5hYmxlZCBJbnRlbGxpU2Vuc2Ugc2hvd3MgYGNvbnN0cnVjdG9yYC1zdWdnZXN0aW9ucy4iKQogICAgICB9LAogICAgICAnZWRpdG9yLnN1Z2dlc3Quc2hvd0RlcHJlY2F0ZWQnOiB7CiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICAgIGRlZmF1bHQ6IHRydWUsCiAgICAgICAgbWFya2Rvd25EZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdlZGl0b3Iuc3VnZ2VzdC5zaG93RGVwcmVjYXRlZCcsICJXaGVuIGVuYWJsZWQgSW50ZWxsaVNlbnNlIHNob3dzIGBkZXByZWNhdGVkYC1zdWdnZXN0aW9ucy4iKQogICAgICB9LAogICAgICAnZWRpdG9yLnN1Z2dlc3Quc2hvd0ZpZWxkcyc6IHsKICAgICAgICB0eXBlOiAnYm9vbGVhbicsCiAgICAgICAgZGVmYXVsdDogdHJ1ZSwKICAgICAgICBtYXJrZG93bkRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2VkaXRvci5zdWdnZXN0LnNob3dGaWVsZHMnLCAiV2hlbiBlbmFibGVkIEludGVsbGlTZW5zZSBzaG93cyBgZmllbGRgLXN1Z2dlc3Rpb25zLiIpCiAgICAgIH0sCiAgICAgICdlZGl0b3Iuc3VnZ2VzdC5zaG93VmFyaWFibGVzJzogewogICAgICAgIHR5cGU6ICdib29sZWFuJywKICAgICAgICBkZWZhdWx0OiB0cnVlLAogICAgICAgIG1hcmtkb3duRGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnZWRpdG9yLnN1Z2dlc3Quc2hvd1ZhcmlhYmxlcycsICJXaGVuIGVuYWJsZWQgSW50ZWxsaVNlbnNlIHNob3dzIGB2YXJpYWJsZWAtc3VnZ2VzdGlvbnMuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5zdWdnZXN0LnNob3dDbGFzc2VzJzogewogICAgICAgIHR5cGU6ICdib29sZWFuJywKICAgICAgICBkZWZhdWx0OiB0cnVlLAogICAgICAgIG1hcmtkb3duRGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnZWRpdG9yLnN1Z2dlc3Quc2hvd0NsYXNzcycsICJXaGVuIGVuYWJsZWQgSW50ZWxsaVNlbnNlIHNob3dzIGBjbGFzc2Atc3VnZ2VzdGlvbnMuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5zdWdnZXN0LnNob3dTdHJ1Y3RzJzogewogICAgICAgIHR5cGU6ICdib29sZWFuJywKICAgICAgICBkZWZhdWx0OiB0cnVlLAogICAgICAgIG1hcmtkb3duRGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnZWRpdG9yLnN1Z2dlc3Quc2hvd1N0cnVjdHMnLCAiV2hlbiBlbmFibGVkIEludGVsbGlTZW5zZSBzaG93cyBgc3RydWN0YC1zdWdnZXN0aW9ucy4iKQogICAgICB9LAogICAgICAnZWRpdG9yLnN1Z2dlc3Quc2hvd0ludGVyZmFjZXMnOiB7CiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICAgIGRlZmF1bHQ6IHRydWUsCiAgICAgICAgbWFya2Rvd25EZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdlZGl0b3Iuc3VnZ2VzdC5zaG93SW50ZXJmYWNlcycsICJXaGVuIGVuYWJsZWQgSW50ZWxsaVNlbnNlIHNob3dzIGBpbnRlcmZhY2VgLXN1Z2dlc3Rpb25zLiIpCiAgICAgIH0sCiAgICAgICdlZGl0b3Iuc3VnZ2VzdC5zaG93TW9kdWxlcyc6IHsKICAgICAgICB0eXBlOiAnYm9vbGVhbicsCiAgICAgICAgZGVmYXVsdDogdHJ1ZSwKICAgICAgICBtYXJrZG93bkRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2VkaXRvci5zdWdnZXN0LnNob3dNb2R1bGVzJywgIldoZW4gZW5hYmxlZCBJbnRlbGxpU2Vuc2Ugc2hvd3MgYG1vZHVsZWAtc3VnZ2VzdGlvbnMuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5zdWdnZXN0LnNob3dQcm9wZXJ0aWVzJzogewogICAgICAgIHR5cGU6ICdib29sZWFuJywKICAgICAgICBkZWZhdWx0OiB0cnVlLAogICAgICAgIG1hcmtkb3duRGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnZWRpdG9yLnN1Z2dlc3Quc2hvd1Byb3BlcnR5cycsICJXaGVuIGVuYWJsZWQgSW50ZWxsaVNlbnNlIHNob3dzIGBwcm9wZXJ0eWAtc3VnZ2VzdGlvbnMuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5zdWdnZXN0LnNob3dFdmVudHMnOiB7CiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICAgIGRlZmF1bHQ6IHRydWUsCiAgICAgICAgbWFya2Rvd25EZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdlZGl0b3Iuc3VnZ2VzdC5zaG93RXZlbnRzJywgIldoZW4gZW5hYmxlZCBJbnRlbGxpU2Vuc2Ugc2hvd3MgYGV2ZW50YC1zdWdnZXN0aW9ucy4iKQogICAgICB9LAogICAgICAnZWRpdG9yLnN1Z2dlc3Quc2hvd09wZXJhdG9ycyc6IHsKICAgICAgICB0eXBlOiAnYm9vbGVhbicsCiAgICAgICAgZGVmYXVsdDogdHJ1ZSwKICAgICAgICBtYXJrZG93bkRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2VkaXRvci5zdWdnZXN0LnNob3dPcGVyYXRvcnMnLCAiV2hlbiBlbmFibGVkIEludGVsbGlTZW5zZSBzaG93cyBgb3BlcmF0b3JgLXN1Z2dlc3Rpb25zLiIpCiAgICAgIH0sCiAgICAgICdlZGl0b3Iuc3VnZ2VzdC5zaG93VW5pdHMnOiB7CiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICAgIGRlZmF1bHQ6IHRydWUsCiAgICAgICAgbWFya2Rvd25EZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdlZGl0b3Iuc3VnZ2VzdC5zaG93VW5pdHMnLCAiV2hlbiBlbmFibGVkIEludGVsbGlTZW5zZSBzaG93cyBgdW5pdGAtc3VnZ2VzdGlvbnMuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5zdWdnZXN0LnNob3dWYWx1ZXMnOiB7CiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICAgIGRlZmF1bHQ6IHRydWUsCiAgICAgICAgbWFya2Rvd25EZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdlZGl0b3Iuc3VnZ2VzdC5zaG93VmFsdWVzJywgIldoZW4gZW5hYmxlZCBJbnRlbGxpU2Vuc2Ugc2hvd3MgYHZhbHVlYC1zdWdnZXN0aW9ucy4iKQogICAgICB9LAogICAgICAnZWRpdG9yLnN1Z2dlc3Quc2hvd0NvbnN0YW50cyc6IHsKICAgICAgICB0eXBlOiAnYm9vbGVhbicsCiAgICAgICAgZGVmYXVsdDogdHJ1ZSwKICAgICAgICBtYXJrZG93bkRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2VkaXRvci5zdWdnZXN0LnNob3dDb25zdGFudHMnLCAiV2hlbiBlbmFibGVkIEludGVsbGlTZW5zZSBzaG93cyBgY29uc3RhbnRgLXN1Z2dlc3Rpb25zLiIpCiAgICAgIH0sCiAgICAgICdlZGl0b3Iuc3VnZ2VzdC5zaG93RW51bXMnOiB7CiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICAgIGRlZmF1bHQ6IHRydWUsCiAgICAgICAgbWFya2Rvd25EZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdlZGl0b3Iuc3VnZ2VzdC5zaG93RW51bXMnLCAiV2hlbiBlbmFibGVkIEludGVsbGlTZW5zZSBzaG93cyBgZW51bWAtc3VnZ2VzdGlvbnMuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5zdWdnZXN0LnNob3dFbnVtTWVtYmVycyc6IHsKICAgICAgICB0eXBlOiAnYm9vbGVhbicsCiAgICAgICAgZGVmYXVsdDogdHJ1ZSwKICAgICAgICBtYXJrZG93bkRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2VkaXRvci5zdWdnZXN0LnNob3dFbnVtTWVtYmVycycsICJXaGVuIGVuYWJsZWQgSW50ZWxsaVNlbnNlIHNob3dzIGBlbnVtTWVtYmVyYC1zdWdnZXN0aW9ucy4iKQogICAgICB9LAogICAgICAnZWRpdG9yLnN1Z2dlc3Quc2hvd0tleXdvcmRzJzogewogICAgICAgIHR5cGU6ICdib29sZWFuJywKICAgICAgICBkZWZhdWx0OiB0cnVlLAogICAgICAgIG1hcmtkb3duRGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnZWRpdG9yLnN1Z2dlc3Quc2hvd0tleXdvcmRzJywgIldoZW4gZW5hYmxlZCBJbnRlbGxpU2Vuc2Ugc2hvd3MgYGtleXdvcmRgLXN1Z2dlc3Rpb25zLiIpCiAgICAgIH0sCiAgICAgICdlZGl0b3Iuc3VnZ2VzdC5zaG93V29yZHMnOiB7CiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICAgIGRlZmF1bHQ6IHRydWUsCiAgICAgICAgbWFya2Rvd25EZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdlZGl0b3Iuc3VnZ2VzdC5zaG93VGV4dHMnLCAiV2hlbiBlbmFibGVkIEludGVsbGlTZW5zZSBzaG93cyBgdGV4dGAtc3VnZ2VzdGlvbnMuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5zdWdnZXN0LnNob3dDb2xvcnMnOiB7CiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICAgIGRlZmF1bHQ6IHRydWUsCiAgICAgICAgbWFya2Rvd25EZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdlZGl0b3Iuc3VnZ2VzdC5zaG93Q29sb3JzJywgIldoZW4gZW5hYmxlZCBJbnRlbGxpU2Vuc2Ugc2hvd3MgYGNvbG9yYC1zdWdnZXN0aW9ucy4iKQogICAgICB9LAogICAgICAnZWRpdG9yLnN1Z2dlc3Quc2hvd0ZpbGVzJzogewogICAgICAgIHR5cGU6ICdib29sZWFuJywKICAgICAgICBkZWZhdWx0OiB0cnVlLAogICAgICAgIG1hcmtkb3duRGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnZWRpdG9yLnN1Z2dlc3Quc2hvd0ZpbGVzJywgIldoZW4gZW5hYmxlZCBJbnRlbGxpU2Vuc2Ugc2hvd3MgYGZpbGVgLXN1Z2dlc3Rpb25zLiIpCiAgICAgIH0sCiAgICAgICdlZGl0b3Iuc3VnZ2VzdC5zaG93UmVmZXJlbmNlcyc6IHsKICAgICAgICB0eXBlOiAnYm9vbGVhbicsCiAgICAgICAgZGVmYXVsdDogdHJ1ZSwKICAgICAgICBtYXJrZG93bkRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2VkaXRvci5zdWdnZXN0LnNob3dSZWZlcmVuY2VzJywgIldoZW4gZW5hYmxlZCBJbnRlbGxpU2Vuc2Ugc2hvd3MgYHJlZmVyZW5jZWAtc3VnZ2VzdGlvbnMuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5zdWdnZXN0LnNob3dDdXN0b21jb2xvcnMnOiB7CiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICAgIGRlZmF1bHQ6IHRydWUsCiAgICAgICAgbWFya2Rvd25EZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdlZGl0b3Iuc3VnZ2VzdC5zaG93Q3VzdG9tY29sb3JzJywgIldoZW4gZW5hYmxlZCBJbnRlbGxpU2Vuc2Ugc2hvd3MgYGN1c3RvbWNvbG9yYC1zdWdnZXN0aW9ucy4iKQogICAgICB9LAogICAgICAnZWRpdG9yLnN1Z2dlc3Quc2hvd0ZvbGRlcnMnOiB7CiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICAgIGRlZmF1bHQ6IHRydWUsCiAgICAgICAgbWFya2Rvd25EZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdlZGl0b3Iuc3VnZ2VzdC5zaG93Rm9sZGVycycsICJXaGVuIGVuYWJsZWQgSW50ZWxsaVNlbnNlIHNob3dzIGBmb2xkZXJgLXN1Z2dlc3Rpb25zLiIpCiAgICAgIH0sCiAgICAgICdlZGl0b3Iuc3VnZ2VzdC5zaG93VHlwZVBhcmFtZXRlcnMnOiB7CiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICAgIGRlZmF1bHQ6IHRydWUsCiAgICAgICAgbWFya2Rvd25EZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdlZGl0b3Iuc3VnZ2VzdC5zaG93VHlwZVBhcmFtZXRlcnMnLCAiV2hlbiBlbmFibGVkIEludGVsbGlTZW5zZSBzaG93cyBgdHlwZVBhcmFtZXRlcmAtc3VnZ2VzdGlvbnMuIikKICAgICAgfSwKICAgICAgJ2VkaXRvci5zdWdnZXN0LnNob3dTbmlwcGV0cyc6IHsKICAgICAgICB0eXBlOiAnYm9vbGVhbicsCiAgICAgICAgZGVmYXVsdDogdHJ1ZSwKICAgICAgICBtYXJrZG93bkRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2VkaXRvci5zdWdnZXN0LnNob3dTbmlwcGV0cycsICJXaGVuIGVuYWJsZWQgSW50ZWxsaVNlbnNlIHNob3dzIGBzbmlwcGV0YC1zdWdnZXN0aW9ucy4iKQogICAgICB9LAogICAgICAnZWRpdG9yLnN1Z2dlc3Quc2hvd1VzZXJzJzogewogICAgICAgIHR5cGU6ICdib29sZWFuJywKICAgICAgICBkZWZhdWx0OiB0cnVlLAogICAgICAgIG1hcmtkb3duRGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnZWRpdG9yLnN1Z2dlc3Quc2hvd1VzZXJzJywgIldoZW4gZW5hYmxlZCBJbnRlbGxpU2Vuc2Ugc2hvd3MgYHVzZXJgLXN1Z2dlc3Rpb25zLiIpCiAgICAgIH0sCiAgICAgICdlZGl0b3Iuc3VnZ2VzdC5zaG93SXNzdWVzJzogewogICAgICAgIHR5cGU6ICdib29sZWFuJywKICAgICAgICBkZWZhdWx0OiB0cnVlLAogICAgICAgIG1hcmtkb3duRGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnZWRpdG9yLnN1Z2dlc3Quc2hvd0lzc3VlcycsICJXaGVuIGVuYWJsZWQgSW50ZWxsaVNlbnNlIHNob3dzIGBpc3N1ZXNgLXN1Z2dlc3Rpb25zLiIpCiAgICAgIH0KICAgIH0pOwogIH0KICBfY3JlYXRlQ2xhc3MoRWRpdG9yU3VnZ2VzdCwgW3sKICAgIGtleTogInZhbGlkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZShfaW5wdXQpIHsKICAgICAgaWYgKCFfaW5wdXQgfHwgX3R5cGVvZihfaW5wdXQpICE9PSAnb2JqZWN0JykgewogICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRWYWx1ZTsKICAgICAgfQogICAgICB2YXIgaW5wdXQgPSBfaW5wdXQ7CiAgICAgIHJldHVybiB7CiAgICAgICAgaW5zZXJ0TW9kZTogc3RyaW5nU2V0KGlucHV0Lmluc2VydE1vZGUsIHRoaXMuZGVmYXVsdFZhbHVlLmluc2VydE1vZGUsIFsnaW5zZXJ0JywgJ3JlcGxhY2UnXSksCiAgICAgICAgZmlsdGVyR3JhY2VmdWw6IGJvb2xlYW4oaW5wdXQuZmlsdGVyR3JhY2VmdWwsIHRoaXMuZGVmYXVsdFZhbHVlLmZpbHRlckdyYWNlZnVsKSwKICAgICAgICBzbmlwcGV0c1ByZXZlbnRRdWlja1N1Z2dlc3Rpb25zOiBib29sZWFuKGlucHV0LnNuaXBwZXRzUHJldmVudFF1aWNrU3VnZ2VzdGlvbnMsIHRoaXMuZGVmYXVsdFZhbHVlLmZpbHRlckdyYWNlZnVsKSwKICAgICAgICBsb2NhbGl0eUJvbnVzOiBib29sZWFuKGlucHV0LmxvY2FsaXR5Qm9udXMsIHRoaXMuZGVmYXVsdFZhbHVlLmxvY2FsaXR5Qm9udXMpLAogICAgICAgIHNoYXJlU3VnZ2VzdFNlbGVjdGlvbnM6IGJvb2xlYW4oaW5wdXQuc2hhcmVTdWdnZXN0U2VsZWN0aW9ucywgdGhpcy5kZWZhdWx0VmFsdWUuc2hhcmVTdWdnZXN0U2VsZWN0aW9ucyksCiAgICAgICAgc2hvd0ljb25zOiBib29sZWFuKGlucHV0LnNob3dJY29ucywgdGhpcy5kZWZhdWx0VmFsdWUuc2hvd0ljb25zKSwKICAgICAgICBzaG93U3RhdHVzQmFyOiBib29sZWFuKGlucHV0LnNob3dTdGF0dXNCYXIsIHRoaXMuZGVmYXVsdFZhbHVlLnNob3dTdGF0dXNCYXIpLAogICAgICAgIHByZXZpZXc6IGJvb2xlYW4oaW5wdXQucHJldmlldywgdGhpcy5kZWZhdWx0VmFsdWUucHJldmlldyksCiAgICAgICAgcHJldmlld01vZGU6IHN0cmluZ1NldChpbnB1dC5wcmV2aWV3TW9kZSwgdGhpcy5kZWZhdWx0VmFsdWUucHJldmlld01vZGUsIFsncHJlZml4JywgJ3N1YndvcmQnLCAnc3Vid29yZFNtYXJ0J10pLAogICAgICAgIHNob3dJbmxpbmVEZXRhaWxzOiBib29sZWFuKGlucHV0LnNob3dJbmxpbmVEZXRhaWxzLCB0aGlzLmRlZmF1bHRWYWx1ZS5zaG93SW5saW5lRGV0YWlscyksCiAgICAgICAgc2hvd01ldGhvZHM6IGJvb2xlYW4oaW5wdXQuc2hvd01ldGhvZHMsIHRoaXMuZGVmYXVsdFZhbHVlLnNob3dNZXRob2RzKSwKICAgICAgICBzaG93RnVuY3Rpb25zOiBib29sZWFuKGlucHV0LnNob3dGdW5jdGlvbnMsIHRoaXMuZGVmYXVsdFZhbHVlLnNob3dGdW5jdGlvbnMpLAogICAgICAgIHNob3dDb25zdHJ1Y3RvcnM6IGJvb2xlYW4oaW5wdXQuc2hvd0NvbnN0cnVjdG9ycywgdGhpcy5kZWZhdWx0VmFsdWUuc2hvd0NvbnN0cnVjdG9ycyksCiAgICAgICAgc2hvd0RlcHJlY2F0ZWQ6IGJvb2xlYW4oaW5wdXQuc2hvd0RlcHJlY2F0ZWQsIHRoaXMuZGVmYXVsdFZhbHVlLnNob3dEZXByZWNhdGVkKSwKICAgICAgICBzaG93RmllbGRzOiBib29sZWFuKGlucHV0LnNob3dGaWVsZHMsIHRoaXMuZGVmYXVsdFZhbHVlLnNob3dGaWVsZHMpLAogICAgICAgIHNob3dWYXJpYWJsZXM6IGJvb2xlYW4oaW5wdXQuc2hvd1ZhcmlhYmxlcywgdGhpcy5kZWZhdWx0VmFsdWUuc2hvd1ZhcmlhYmxlcyksCiAgICAgICAgc2hvd0NsYXNzZXM6IGJvb2xlYW4oaW5wdXQuc2hvd0NsYXNzZXMsIHRoaXMuZGVmYXVsdFZhbHVlLnNob3dDbGFzc2VzKSwKICAgICAgICBzaG93U3RydWN0czogYm9vbGVhbihpbnB1dC5zaG93U3RydWN0cywgdGhpcy5kZWZhdWx0VmFsdWUuc2hvd1N0cnVjdHMpLAogICAgICAgIHNob3dJbnRlcmZhY2VzOiBib29sZWFuKGlucHV0LnNob3dJbnRlcmZhY2VzLCB0aGlzLmRlZmF1bHRWYWx1ZS5zaG93SW50ZXJmYWNlcyksCiAgICAgICAgc2hvd01vZHVsZXM6IGJvb2xlYW4oaW5wdXQuc2hvd01vZHVsZXMsIHRoaXMuZGVmYXVsdFZhbHVlLnNob3dNb2R1bGVzKSwKICAgICAgICBzaG93UHJvcGVydGllczogYm9vbGVhbihpbnB1dC5zaG93UHJvcGVydGllcywgdGhpcy5kZWZhdWx0VmFsdWUuc2hvd1Byb3BlcnRpZXMpLAogICAgICAgIHNob3dFdmVudHM6IGJvb2xlYW4oaW5wdXQuc2hvd0V2ZW50cywgdGhpcy5kZWZhdWx0VmFsdWUuc2hvd0V2ZW50cyksCiAgICAgICAgc2hvd09wZXJhdG9yczogYm9vbGVhbihpbnB1dC5zaG93T3BlcmF0b3JzLCB0aGlzLmRlZmF1bHRWYWx1ZS5zaG93T3BlcmF0b3JzKSwKICAgICAgICBzaG93VW5pdHM6IGJvb2xlYW4oaW5wdXQuc2hvd1VuaXRzLCB0aGlzLmRlZmF1bHRWYWx1ZS5zaG93VW5pdHMpLAogICAgICAgIHNob3dWYWx1ZXM6IGJvb2xlYW4oaW5wdXQuc2hvd1ZhbHVlcywgdGhpcy5kZWZhdWx0VmFsdWUuc2hvd1ZhbHVlcyksCiAgICAgICAgc2hvd0NvbnN0YW50czogYm9vbGVhbihpbnB1dC5zaG93Q29uc3RhbnRzLCB0aGlzLmRlZmF1bHRWYWx1ZS5zaG93Q29uc3RhbnRzKSwKICAgICAgICBzaG93RW51bXM6IGJvb2xlYW4oaW5wdXQuc2hvd0VudW1zLCB0aGlzLmRlZmF1bHRWYWx1ZS5zaG93RW51bXMpLAogICAgICAgIHNob3dFbnVtTWVtYmVyczogYm9vbGVhbihpbnB1dC5zaG93RW51bU1lbWJlcnMsIHRoaXMuZGVmYXVsdFZhbHVlLnNob3dFbnVtTWVtYmVycyksCiAgICAgICAgc2hvd0tleXdvcmRzOiBib29sZWFuKGlucHV0LnNob3dLZXl3b3JkcywgdGhpcy5kZWZhdWx0VmFsdWUuc2hvd0tleXdvcmRzKSwKICAgICAgICBzaG93V29yZHM6IGJvb2xlYW4oaW5wdXQuc2hvd1dvcmRzLCB0aGlzLmRlZmF1bHRWYWx1ZS5zaG93V29yZHMpLAogICAgICAgIHNob3dDb2xvcnM6IGJvb2xlYW4oaW5wdXQuc2hvd0NvbG9ycywgdGhpcy5kZWZhdWx0VmFsdWUuc2hvd0NvbG9ycyksCiAgICAgICAgc2hvd0ZpbGVzOiBib29sZWFuKGlucHV0LnNob3dGaWxlcywgdGhpcy5kZWZhdWx0VmFsdWUuc2hvd0ZpbGVzKSwKICAgICAgICBzaG93UmVmZXJlbmNlczogYm9vbGVhbihpbnB1dC5zaG93UmVmZXJlbmNlcywgdGhpcy5kZWZhdWx0VmFsdWUuc2hvd1JlZmVyZW5jZXMpLAogICAgICAgIHNob3dGb2xkZXJzOiBib29sZWFuKGlucHV0LnNob3dGb2xkZXJzLCB0aGlzLmRlZmF1bHRWYWx1ZS5zaG93Rm9sZGVycyksCiAgICAgICAgc2hvd1R5cGVQYXJhbWV0ZXJzOiBib29sZWFuKGlucHV0LnNob3dUeXBlUGFyYW1ldGVycywgdGhpcy5kZWZhdWx0VmFsdWUuc2hvd1R5cGVQYXJhbWV0ZXJzKSwKICAgICAgICBzaG93U25pcHBldHM6IGJvb2xlYW4oaW5wdXQuc2hvd1NuaXBwZXRzLCB0aGlzLmRlZmF1bHRWYWx1ZS5zaG93U25pcHBldHMpLAogICAgICAgIHNob3dVc2VyczogYm9vbGVhbihpbnB1dC5zaG93VXNlcnMsIHRoaXMuZGVmYXVsdFZhbHVlLnNob3dVc2VycyksCiAgICAgICAgc2hvd0lzc3VlczogYm9vbGVhbihpbnB1dC5zaG93SXNzdWVzLCB0aGlzLmRlZmF1bHRWYWx1ZS5zaG93SXNzdWVzKQogICAgICB9OwogICAgfQogIH1dKTsKICByZXR1cm4gRWRpdG9yU3VnZ2VzdDsKfShCYXNlRWRpdG9yT3B0aW9uKTsKdmFyIFNtYXJ0U2VsZWN0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZUVkaXRvck9wdGlvbjI0KSB7CiAgX2luaGVyaXRzKFNtYXJ0U2VsZWN0LCBfQmFzZUVkaXRvck9wdGlvbjI0KTsKICB2YXIgX3N1cGVyMzYgPSBfY3JlYXRlU3VwZXIoU21hcnRTZWxlY3QpOwogIGZ1bmN0aW9uIFNtYXJ0U2VsZWN0KCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNtYXJ0U2VsZWN0KTsKICAgIHJldHVybiBfc3VwZXIzNi5jYWxsKHRoaXMsIDEwNCAvKiBFZGl0b3JPcHRpb24uc21hcnRTZWxlY3QgKi8sICdzbWFydFNlbGVjdCcsIHsKICAgICAgc2VsZWN0TGVhZGluZ0FuZFRyYWlsaW5nV2hpdGVzcGFjZTogdHJ1ZQogICAgfSwgewogICAgICAnZWRpdG9yLnNtYXJ0U2VsZWN0LnNlbGVjdExlYWRpbmdBbmRUcmFpbGluZ1doaXRlc3BhY2UnOiB7CiAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnc2VsZWN0TGVhZGluZ0FuZFRyYWlsaW5nV2hpdGVzcGFjZScsICJXaGV0aGVyIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2Ugc2hvdWxkIGFsd2F5cyBiZSBzZWxlY3RlZC4iKSwKICAgICAgICBkZWZhdWx0OiB0cnVlLAogICAgICAgIHR5cGU6ICdib29sZWFuJwogICAgICB9CiAgICB9KTsKICB9CiAgX2NyZWF0ZUNsYXNzKFNtYXJ0U2VsZWN0LCBbewogICAga2V5OiAidmFsaWRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlKGlucHV0KSB7CiAgICAgIGlmICghaW5wdXQgfHwgX3R5cGVvZihpbnB1dCkgIT09ICdvYmplY3QnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFZhbHVlOwogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgc2VsZWN0TGVhZGluZ0FuZFRyYWlsaW5nV2hpdGVzcGFjZTogYm9vbGVhbihpbnB1dC5zZWxlY3RMZWFkaW5nQW5kVHJhaWxpbmdXaGl0ZXNwYWNlLCB0aGlzLmRlZmF1bHRWYWx1ZS5zZWxlY3RMZWFkaW5nQW5kVHJhaWxpbmdXaGl0ZXNwYWNlKQogICAgICB9OwogICAgfQogIH1dKTsKICByZXR1cm4gU21hcnRTZWxlY3Q7Cn0oQmFzZUVkaXRvck9wdGlvbik7IC8vI2VuZHJlZ2lvbgovLyNyZWdpb24gdGFiRm9jdXNNb2RlCnZhciBFZGl0b3JUYWJGb2N1c01vZGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wdXRlZEVkaXRvck9wdGlvbjUpIHsKICBfaW5oZXJpdHMoRWRpdG9yVGFiRm9jdXNNb2RlLCBfQ29tcHV0ZWRFZGl0b3JPcHRpb241KTsKICB2YXIgX3N1cGVyMzcgPSBfY3JlYXRlU3VwZXIoRWRpdG9yVGFiRm9jdXNNb2RlKTsKICBmdW5jdGlvbiBFZGl0b3JUYWJGb2N1c01vZGUoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRWRpdG9yVGFiRm9jdXNNb2RlKTsKICAgIHJldHVybiBfc3VwZXIzNy5jYWxsKHRoaXMsIDEzMiAvKiBFZGl0b3JPcHRpb24udGFiRm9jdXNNb2RlICovKTsKICB9CiAgX2NyZWF0ZUNsYXNzKEVkaXRvclRhYkZvY3VzTW9kZSwgW3sKICAgIGtleTogImNvbXB1dGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXB1dGUoZW52LCBvcHRpb25zLCBfKSB7CiAgICAgIHZhciByZWFkT25seSA9IG9wdGlvbnMuZ2V0KDgzIC8qIEVkaXRvck9wdGlvbi5yZWFkT25seSAqLyk7CiAgICAgIHJldHVybiByZWFkT25seSA/IHRydWUgOiBlbnYudGFiRm9jdXNNb2RlOwogICAgfQogIH1dKTsKICByZXR1cm4gRWRpdG9yVGFiRm9jdXNNb2RlOwp9KENvbXB1dGVkRWRpdG9yT3B0aW9uKTsKZnVuY3Rpb24gX3dyYXBwaW5nSW5kZW50RnJvbVN0cmluZyh3cmFwcGluZ0luZGVudCkgewogIHN3aXRjaCAod3JhcHBpbmdJbmRlbnQpIHsKICAgIGNhc2UgJ25vbmUnOgogICAgICByZXR1cm4gMCAvKiBXcmFwcGluZ0luZGVudC5Ob25lICovOwogICAgY2FzZSAnc2FtZSc6CiAgICAgIHJldHVybiAxIC8qIFdyYXBwaW5nSW5kZW50LlNhbWUgKi87CiAgICBjYXNlICdpbmRlbnQnOgogICAgICByZXR1cm4gMiAvKiBXcmFwcGluZ0luZGVudC5JbmRlbnQgKi87CiAgICBjYXNlICdkZWVwSW5kZW50JzoKICAgICAgcmV0dXJuIDMgLyogV3JhcHBpbmdJbmRlbnQuRGVlcEluZGVudCAqLzsKICB9Cn0KdmFyIEVkaXRvcldyYXBwaW5nSW5mb0NvbXB1dGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29tcHV0ZWRFZGl0b3JPcHRpb242KSB7CiAgX2luaGVyaXRzKEVkaXRvcldyYXBwaW5nSW5mb0NvbXB1dGVyLCBfQ29tcHV0ZWRFZGl0b3JPcHRpb242KTsKICB2YXIgX3N1cGVyMzggPSBfY3JlYXRlU3VwZXIoRWRpdG9yV3JhcHBpbmdJbmZvQ29tcHV0ZXIpOwogIGZ1bmN0aW9uIEVkaXRvcldyYXBwaW5nSW5mb0NvbXB1dGVyKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVkaXRvcldyYXBwaW5nSW5mb0NvbXB1dGVyKTsKICAgIHJldHVybiBfc3VwZXIzOC5jYWxsKHRoaXMsIDEzNCAvKiBFZGl0b3JPcHRpb24ud3JhcHBpbmdJbmZvICovKTsKICB9CiAgX2NyZWF0ZUNsYXNzKEVkaXRvcldyYXBwaW5nSW5mb0NvbXB1dGVyLCBbewogICAga2V5OiAiY29tcHV0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcHV0ZShlbnYsIG9wdGlvbnMsIF8pIHsKICAgICAgdmFyIGxheW91dEluZm8gPSBvcHRpb25zLmdldCgxMzMgLyogRWRpdG9yT3B0aW9uLmxheW91dEluZm8gKi8pOwogICAgICByZXR1cm4gewogICAgICAgIGlzRG9taW5hdGVkQnlMb25nTGluZXM6IGVudi5pc0RvbWluYXRlZEJ5TG9uZ0xpbmVzLAogICAgICAgIGlzV29yZFdyYXBNaW5pZmllZDogbGF5b3V0SW5mby5pc1dvcmRXcmFwTWluaWZpZWQsCiAgICAgICAgaXNWaWV3cG9ydFdyYXBwaW5nOiBsYXlvdXRJbmZvLmlzVmlld3BvcnRXcmFwcGluZywKICAgICAgICB3cmFwcGluZ0NvbHVtbjogbGF5b3V0SW5mby53cmFwcGluZ0NvbHVtbgogICAgICB9OwogICAgfQogIH1dKTsKICByZXR1cm4gRWRpdG9yV3JhcHBpbmdJbmZvQ29tcHV0ZXI7Cn0oQ29tcHV0ZWRFZGl0b3JPcHRpb24pOwp2YXIgRWRpdG9yRHJvcEludG9FZGl0b3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9CYXNlRWRpdG9yT3B0aW9uMjUpIHsKICBfaW5oZXJpdHMoRWRpdG9yRHJvcEludG9FZGl0b3IsIF9CYXNlRWRpdG9yT3B0aW9uMjUpOwogIHZhciBfc3VwZXIzOSA9IF9jcmVhdGVTdXBlcihFZGl0b3JEcm9wSW50b0VkaXRvcik7CiAgZnVuY3Rpb24gRWRpdG9yRHJvcEludG9FZGl0b3IoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRWRpdG9yRHJvcEludG9FZGl0b3IpOwogICAgdmFyIGRlZmF1bHRzID0gewogICAgICBlbmFibGVkOiB0cnVlCiAgICB9OwogICAgcmV0dXJuIF9zdXBlcjM5LmNhbGwodGhpcywgMzIgLyogRWRpdG9yT3B0aW9uLmRyb3BJbnRvRWRpdG9yICovLCAnZHJvcEludG9FZGl0b3InLCBkZWZhdWx0cywgewogICAgICAnZWRpdG9yLmRyb3BJbnRvRWRpdG9yLmVuYWJsZWQnOiB7CiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLAogICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLmVuYWJsZWQsCiAgICAgICAgbWFya2Rvd25EZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdkcm9wSW50b0VkaXRvci5lbmFibGVkJywgIkNvbnRyb2xzIHdoZXRoZXIgeW91IGNhbiBkcmFnIGFuZCBkcm9wIGEgZmlsZSBpbnRvIGEgdGV4dCBlZGl0b3IgYnkgaG9sZGluZyBkb3duIGBzaGlmdGAgKGluc3RlYWQgb2Ygb3BlbmluZyB0aGUgZmlsZSBpbiBhbiBlZGl0b3IpLiIpCiAgICAgIH0KICAgIH0pOwogIH0KICBfY3JlYXRlQ2xhc3MoRWRpdG9yRHJvcEludG9FZGl0b3IsIFt7CiAgICBrZXk6ICJ2YWxpZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsaWRhdGUoX2lucHV0KSB7CiAgICAgIGlmICghX2lucHV0IHx8IF90eXBlb2YoX2lucHV0KSAhPT0gJ29iamVjdCcpIHsKICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0VmFsdWU7CiAgICAgIH0KICAgICAgdmFyIGlucHV0ID0gX2lucHV0OwogICAgICByZXR1cm4gewogICAgICAgIGVuYWJsZWQ6IGJvb2xlYW4oaW5wdXQuZW5hYmxlZCwgdGhpcy5kZWZhdWx0VmFsdWUuZW5hYmxlZCkKICAgICAgfTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIEVkaXRvckRyb3BJbnRvRWRpdG9yOwp9KEJhc2VFZGl0b3JPcHRpb24pOyAvLyNlbmRyZWdpb24KdmFyIERFRkFVTFRfV0lORE9XU19GT05UX0ZBTUlMWSA9ICdDb25zb2xhcywgXCdDb3VyaWVyIE5ld1wnLCBtb25vc3BhY2UnOwp2YXIgREVGQVVMVF9NQUNfRk9OVF9GQU1JTFkgPSAnTWVubG8sIE1vbmFjbywgXCdDb3VyaWVyIE5ld1wnLCBtb25vc3BhY2UnOwp2YXIgREVGQVVMVF9MSU5VWF9GT05UX0ZBTUlMWSA9ICdcJ0Ryb2lkIFNhbnMgTW9ub1wnLCBcJ21vbm9zcGFjZVwnLCBtb25vc3BhY2UnOwovKioKICogQGludGVybmFsCiAqLwpleHBvcnQgdmFyIEVESVRPUl9GT05UX0RFRkFVTFRTID0gewogIGZvbnRGYW1pbHk6IHBsYXRmb3JtLmlzTWFjaW50b3NoID8gREVGQVVMVF9NQUNfRk9OVF9GQU1JTFkgOiBwbGF0Zm9ybS5pc0xpbnV4ID8gREVGQVVMVF9MSU5VWF9GT05UX0ZBTUlMWSA6IERFRkFVTFRfV0lORE9XU19GT05UX0ZBTUlMWSwKICBmb250V2VpZ2h0OiAnbm9ybWFsJywKICBmb250U2l6ZTogcGxhdGZvcm0uaXNNYWNpbnRvc2ggPyAxMiA6IDE0LAogIGxpbmVIZWlnaHQ6IDAsCiAgbGV0dGVyU3BhY2luZzogMAp9OwovKioKICogQGludGVybmFsCiAqLwpleHBvcnQgdmFyIGVkaXRvck9wdGlvbnNSZWdpc3RyeSA9IFtdOwpmdW5jdGlvbiByZWdpc3RlcihvcHRpb24pIHsKICBlZGl0b3JPcHRpb25zUmVnaXN0cnlbb3B0aW9uLmlkXSA9IG9wdGlvbjsKICByZXR1cm4gb3B0aW9uOwp9CmV4cG9ydCB2YXIgRWRpdG9yT3B0aW9ucyA9IHsKICBhY2NlcHRTdWdnZXN0aW9uT25Db21taXRDaGFyYWN0ZXI6IHJlZ2lzdGVyKG5ldyBFZGl0b3JCb29sZWFuT3B0aW9uKDAgLyogRWRpdG9yT3B0aW9uLmFjY2VwdFN1Z2dlc3Rpb25PbkNvbW1pdENoYXJhY3RlciAqLywgJ2FjY2VwdFN1Z2dlc3Rpb25PbkNvbW1pdENoYXJhY3RlcicsIHRydWUsIHsKICAgIG1hcmtkb3duRGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnYWNjZXB0U3VnZ2VzdGlvbk9uQ29tbWl0Q2hhcmFjdGVyJywgIkNvbnRyb2xzIHdoZXRoZXIgc3VnZ2VzdGlvbnMgc2hvdWxkIGJlIGFjY2VwdGVkIG9uIGNvbW1pdCBjaGFyYWN0ZXJzLiBGb3IgZXhhbXBsZSwgaW4gSmF2YVNjcmlwdCwgdGhlIHNlbWktY29sb24gKGA7IGApIGNhbiBiZSBhIGNvbW1pdCBjaGFyYWN0ZXIgdGhhdCBhY2NlcHRzIGEgc3VnZ2VzdGlvbiBhbmQgdHlwZXMgdGhhdCBjaGFyYWN0ZXIuIikKICB9KSksCiAgYWNjZXB0U3VnZ2VzdGlvbk9uRW50ZXI6IHJlZ2lzdGVyKG5ldyBFZGl0b3JTdHJpbmdFbnVtT3B0aW9uKDEgLyogRWRpdG9yT3B0aW9uLmFjY2VwdFN1Z2dlc3Rpb25PbkVudGVyICovLCAnYWNjZXB0U3VnZ2VzdGlvbk9uRW50ZXInLCAnb24nLCBbJ29uJywgJ3NtYXJ0JywgJ29mZiddLCB7CiAgICBtYXJrZG93bkVudW1EZXNjcmlwdGlvbnM6IFsnJywgbmxzLmxvY2FsaXplKCdhY2NlcHRTdWdnZXN0aW9uT25FbnRlclNtYXJ0JywgIk9ubHkgYWNjZXB0IGEgc3VnZ2VzdGlvbiB3aXRoIGBFbnRlcmAgd2hlbiBpdCBtYWtlcyBhIHRleHR1YWwgY2hhbmdlLiIpLCAnJ10sCiAgICBtYXJrZG93bkRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2FjY2VwdFN1Z2dlc3Rpb25PbkVudGVyJywgIkNvbnRyb2xzIHdoZXRoZXIgc3VnZ2VzdGlvbnMgc2hvdWxkIGJlIGFjY2VwdGVkIG9uIGBFbnRlcmAsIGluIGFkZGl0aW9uIHRvIGBUYWJgLiBIZWxwcyB0byBhdm9pZCBhbWJpZ3VpdHkgYmV0d2VlbiBpbnNlcnRpbmcgbmV3IGxpbmVzIG9yIGFjY2VwdGluZyBzdWdnZXN0aW9ucy4iKQogIH0pKSwKICBhY2Nlc3NpYmlsaXR5U3VwcG9ydDogcmVnaXN0ZXIobmV3IEVkaXRvckFjY2Vzc2liaWxpdHlTdXBwb3J0KCkpLAogIGFjY2Vzc2liaWxpdHlQYWdlU2l6ZTogcmVnaXN0ZXIobmV3IEVkaXRvckludE9wdGlvbigzIC8qIEVkaXRvck9wdGlvbi5hY2Nlc3NpYmlsaXR5UGFnZVNpemUgKi8sICdhY2Nlc3NpYmlsaXR5UGFnZVNpemUnLCAxMCwgMSwgMTA3Mzc0MTgyNCAvKiBDb25zdGFudHMuTUFYX1NBRkVfU01BTExfSU5URUdFUiAqLywgewogICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnYWNjZXNzaWJpbGl0eVBhZ2VTaXplJywgIkNvbnRyb2xzIHRoZSBudW1iZXIgb2YgbGluZXMgaW4gdGhlIGVkaXRvciB0aGF0IGNhbiBiZSByZWFkIG91dCBieSBhIHNjcmVlbiByZWFkZXIgYXQgb25jZS4gV2hlbiB3ZSBkZXRlY3QgYSBzY3JlZW4gcmVhZGVyIHdlIGF1dG9tYXRpY2FsbHkgc2V0IHRoZSBkZWZhdWx0IHRvIGJlIDUwMC4gV2FybmluZzogdGhpcyBoYXMgYSBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbiBmb3IgbnVtYmVycyBsYXJnZXIgdGhhbiB0aGUgZGVmYXVsdC4iKQogIH0pKSwKICBhcmlhTGFiZWw6IHJlZ2lzdGVyKG5ldyBFZGl0b3JTdHJpbmdPcHRpb24oNCAvKiBFZGl0b3JPcHRpb24uYXJpYUxhYmVsICovLCAnYXJpYUxhYmVsJywgbmxzLmxvY2FsaXplKCdlZGl0b3JWaWV3QWNjZXNzaWJsZUxhYmVsJywgIkVkaXRvciBjb250ZW50IikpKSwKICBhdXRvQ2xvc2luZ0JyYWNrZXRzOiByZWdpc3RlcihuZXcgRWRpdG9yU3RyaW5nRW51bU9wdGlvbig1IC8qIEVkaXRvck9wdGlvbi5hdXRvQ2xvc2luZ0JyYWNrZXRzICovLCAnYXV0b0Nsb3NpbmdCcmFja2V0cycsICdsYW5ndWFnZURlZmluZWQnLCBbJ2Fsd2F5cycsICdsYW5ndWFnZURlZmluZWQnLCAnYmVmb3JlV2hpdGVzcGFjZScsICduZXZlciddLCB7CiAgICBlbnVtRGVzY3JpcHRpb25zOiBbJycsIG5scy5sb2NhbGl6ZSgnZWRpdG9yLmF1dG9DbG9zaW5nQnJhY2tldHMubGFuZ3VhZ2VEZWZpbmVkJywgIlVzZSBsYW5ndWFnZSBjb25maWd1cmF0aW9ucyB0byBkZXRlcm1pbmUgd2hlbiB0byBhdXRvY2xvc2UgYnJhY2tldHMuIiksIG5scy5sb2NhbGl6ZSgnZWRpdG9yLmF1dG9DbG9zaW5nQnJhY2tldHMuYmVmb3JlV2hpdGVzcGFjZScsICJBdXRvY2xvc2UgYnJhY2tldHMgb25seSB3aGVuIHRoZSBjdXJzb3IgaXMgdG8gdGhlIGxlZnQgb2Ygd2hpdGVzcGFjZS4iKSwgJyddLAogICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnYXV0b0Nsb3NpbmdCcmFja2V0cycsICJDb250cm9scyB3aGV0aGVyIHRoZSBlZGl0b3Igc2hvdWxkIGF1dG9tYXRpY2FsbHkgY2xvc2UgYnJhY2tldHMgYWZ0ZXIgdGhlIHVzZXIgYWRkcyBhbiBvcGVuaW5nIGJyYWNrZXQuIikKICB9KSksCiAgYXV0b0Nsb3NpbmdEZWxldGU6IHJlZ2lzdGVyKG5ldyBFZGl0b3JTdHJpbmdFbnVtT3B0aW9uKDYgLyogRWRpdG9yT3B0aW9uLmF1dG9DbG9zaW5nRGVsZXRlICovLCAnYXV0b0Nsb3NpbmdEZWxldGUnLCAnYXV0bycsIFsnYWx3YXlzJywgJ2F1dG8nLCAnbmV2ZXInXSwgewogICAgZW51bURlc2NyaXB0aW9uczogWycnLCBubHMubG9jYWxpemUoJ2VkaXRvci5hdXRvQ2xvc2luZ0RlbGV0ZS5hdXRvJywgIlJlbW92ZSBhZGphY2VudCBjbG9zaW5nIHF1b3RlcyBvciBicmFja2V0cyBvbmx5IGlmIHRoZXkgd2VyZSBhdXRvbWF0aWNhbGx5IGluc2VydGVkLiIpLCAnJ10sCiAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdhdXRvQ2xvc2luZ0RlbGV0ZScsICJDb250cm9scyB3aGV0aGVyIHRoZSBlZGl0b3Igc2hvdWxkIHJlbW92ZSBhZGphY2VudCBjbG9zaW5nIHF1b3RlcyBvciBicmFja2V0cyB3aGVuIGRlbGV0aW5nLiIpCiAgfSkpLAogIGF1dG9DbG9zaW5nT3ZlcnR5cGU6IHJlZ2lzdGVyKG5ldyBFZGl0b3JTdHJpbmdFbnVtT3B0aW9uKDcgLyogRWRpdG9yT3B0aW9uLmF1dG9DbG9zaW5nT3ZlcnR5cGUgKi8sICdhdXRvQ2xvc2luZ092ZXJ0eXBlJywgJ2F1dG8nLCBbJ2Fsd2F5cycsICdhdXRvJywgJ25ldmVyJ10sIHsKICAgIGVudW1EZXNjcmlwdGlvbnM6IFsnJywgbmxzLmxvY2FsaXplKCdlZGl0b3IuYXV0b0Nsb3NpbmdPdmVydHlwZS5hdXRvJywgIlR5cGUgb3ZlciBjbG9zaW5nIHF1b3RlcyBvciBicmFja2V0cyBvbmx5IGlmIHRoZXkgd2VyZSBhdXRvbWF0aWNhbGx5IGluc2VydGVkLiIpLCAnJ10sCiAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdhdXRvQ2xvc2luZ092ZXJ0eXBlJywgIkNvbnRyb2xzIHdoZXRoZXIgdGhlIGVkaXRvciBzaG91bGQgdHlwZSBvdmVyIGNsb3NpbmcgcXVvdGVzIG9yIGJyYWNrZXRzLiIpCiAgfSkpLAogIGF1dG9DbG9zaW5nUXVvdGVzOiByZWdpc3RlcihuZXcgRWRpdG9yU3RyaW5nRW51bU9wdGlvbig4IC8qIEVkaXRvck9wdGlvbi5hdXRvQ2xvc2luZ1F1b3RlcyAqLywgJ2F1dG9DbG9zaW5nUXVvdGVzJywgJ2xhbmd1YWdlRGVmaW5lZCcsIFsnYWx3YXlzJywgJ2xhbmd1YWdlRGVmaW5lZCcsICdiZWZvcmVXaGl0ZXNwYWNlJywgJ25ldmVyJ10sIHsKICAgIGVudW1EZXNjcmlwdGlvbnM6IFsnJywgbmxzLmxvY2FsaXplKCdlZGl0b3IuYXV0b0Nsb3NpbmdRdW90ZXMubGFuZ3VhZ2VEZWZpbmVkJywgIlVzZSBsYW5ndWFnZSBjb25maWd1cmF0aW9ucyB0byBkZXRlcm1pbmUgd2hlbiB0byBhdXRvY2xvc2UgcXVvdGVzLiIpLCBubHMubG9jYWxpemUoJ2VkaXRvci5hdXRvQ2xvc2luZ1F1b3Rlcy5iZWZvcmVXaGl0ZXNwYWNlJywgIkF1dG9jbG9zZSBxdW90ZXMgb25seSB3aGVuIHRoZSBjdXJzb3IgaXMgdG8gdGhlIGxlZnQgb2Ygd2hpdGVzcGFjZS4iKSwgJyddLAogICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnYXV0b0Nsb3NpbmdRdW90ZXMnLCAiQ29udHJvbHMgd2hldGhlciB0aGUgZWRpdG9yIHNob3VsZCBhdXRvbWF0aWNhbGx5IGNsb3NlIHF1b3RlcyBhZnRlciB0aGUgdXNlciBhZGRzIGFuIG9wZW5pbmcgcXVvdGUuIikKICB9KSksCiAgYXV0b0luZGVudDogcmVnaXN0ZXIobmV3IEVkaXRvckVudW1PcHRpb24oOSAvKiBFZGl0b3JPcHRpb24uYXV0b0luZGVudCAqLywgJ2F1dG9JbmRlbnQnLCA0IC8qIEVkaXRvckF1dG9JbmRlbnRTdHJhdGVneS5GdWxsICovLCAnZnVsbCcsIFsnbm9uZScsICdrZWVwJywgJ2JyYWNrZXRzJywgJ2FkdmFuY2VkJywgJ2Z1bGwnXSwgX2F1dG9JbmRlbnRGcm9tU3RyaW5nLCB7CiAgICBlbnVtRGVzY3JpcHRpb25zOiBbbmxzLmxvY2FsaXplKCdlZGl0b3IuYXV0b0luZGVudC5ub25lJywgIlRoZSBlZGl0b3Igd2lsbCBub3QgaW5zZXJ0IGluZGVudGF0aW9uIGF1dG9tYXRpY2FsbHkuIiksIG5scy5sb2NhbGl6ZSgnZWRpdG9yLmF1dG9JbmRlbnQua2VlcCcsICJUaGUgZWRpdG9yIHdpbGwga2VlcCB0aGUgY3VycmVudCBsaW5lJ3MgaW5kZW50YXRpb24uIiksIG5scy5sb2NhbGl6ZSgnZWRpdG9yLmF1dG9JbmRlbnQuYnJhY2tldHMnLCAiVGhlIGVkaXRvciB3aWxsIGtlZXAgdGhlIGN1cnJlbnQgbGluZSdzIGluZGVudGF0aW9uIGFuZCBob25vciBsYW5ndWFnZSBkZWZpbmVkIGJyYWNrZXRzLiIpLCBubHMubG9jYWxpemUoJ2VkaXRvci5hdXRvSW5kZW50LmFkdmFuY2VkJywgIlRoZSBlZGl0b3Igd2lsbCBrZWVwIHRoZSBjdXJyZW50IGxpbmUncyBpbmRlbnRhdGlvbiwgaG9ub3IgbGFuZ3VhZ2UgZGVmaW5lZCBicmFja2V0cyBhbmQgaW52b2tlIHNwZWNpYWwgb25FbnRlclJ1bGVzIGRlZmluZWQgYnkgbGFuZ3VhZ2VzLiIpLCBubHMubG9jYWxpemUoJ2VkaXRvci5hdXRvSW5kZW50LmZ1bGwnLCAiVGhlIGVkaXRvciB3aWxsIGtlZXAgdGhlIGN1cnJlbnQgbGluZSdzIGluZGVudGF0aW9uLCBob25vciBsYW5ndWFnZSBkZWZpbmVkIGJyYWNrZXRzLCBpbnZva2Ugc3BlY2lhbCBvbkVudGVyUnVsZXMgZGVmaW5lZCBieSBsYW5ndWFnZXMsIGFuZCBob25vciBpbmRlbnRhdGlvblJ1bGVzIGRlZmluZWQgYnkgbGFuZ3VhZ2VzLiIpXSwKICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2F1dG9JbmRlbnQnLCAiQ29udHJvbHMgd2hldGhlciB0aGUgZWRpdG9yIHNob3VsZCBhdXRvbWF0aWNhbGx5IGFkanVzdCB0aGUgaW5kZW50YXRpb24gd2hlbiB1c2VycyB0eXBlLCBwYXN0ZSwgbW92ZSBvciBpbmRlbnQgbGluZXMuIikKICB9KSksCiAgYXV0b21hdGljTGF5b3V0OiByZWdpc3RlcihuZXcgRWRpdG9yQm9vbGVhbk9wdGlvbigxMCAvKiBFZGl0b3JPcHRpb24uYXV0b21hdGljTGF5b3V0ICovLCAnYXV0b21hdGljTGF5b3V0JywgZmFsc2UpKSwKICBhdXRvU3Vycm91bmQ6IHJlZ2lzdGVyKG5ldyBFZGl0b3JTdHJpbmdFbnVtT3B0aW9uKDExIC8qIEVkaXRvck9wdGlvbi5hdXRvU3Vycm91bmQgKi8sICdhdXRvU3Vycm91bmQnLCAnbGFuZ3VhZ2VEZWZpbmVkJywgWydsYW5ndWFnZURlZmluZWQnLCAncXVvdGVzJywgJ2JyYWNrZXRzJywgJ25ldmVyJ10sIHsKICAgIGVudW1EZXNjcmlwdGlvbnM6IFtubHMubG9jYWxpemUoJ2VkaXRvci5hdXRvU3Vycm91bmQubGFuZ3VhZ2VEZWZpbmVkJywgIlVzZSBsYW5ndWFnZSBjb25maWd1cmF0aW9ucyB0byBkZXRlcm1pbmUgd2hlbiB0byBhdXRvbWF0aWNhbGx5IHN1cnJvdW5kIHNlbGVjdGlvbnMuIiksIG5scy5sb2NhbGl6ZSgnZWRpdG9yLmF1dG9TdXJyb3VuZC5xdW90ZXMnLCAiU3Vycm91bmQgd2l0aCBxdW90ZXMgYnV0IG5vdCBicmFja2V0cy4iKSwgbmxzLmxvY2FsaXplKCdlZGl0b3IuYXV0b1N1cnJvdW5kLmJyYWNrZXRzJywgIlN1cnJvdW5kIHdpdGggYnJhY2tldHMgYnV0IG5vdCBxdW90ZXMuIiksICcnXSwKICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2F1dG9TdXJyb3VuZCcsICJDb250cm9scyB3aGV0aGVyIHRoZSBlZGl0b3Igc2hvdWxkIGF1dG9tYXRpY2FsbHkgc3Vycm91bmQgc2VsZWN0aW9ucyB3aGVuIHR5cGluZyBxdW90ZXMgb3IgYnJhY2tldHMuIikKICB9KSksCiAgYnJhY2tldFBhaXJDb2xvcml6YXRpb246IHJlZ2lzdGVyKG5ldyBCcmFja2V0UGFpckNvbG9yaXphdGlvbigpKSwKICBicmFja2V0UGFpckd1aWRlczogcmVnaXN0ZXIobmV3IEd1aWRlT3B0aW9ucygpKSwKICBzdGlja3lUYWJTdG9wczogcmVnaXN0ZXIobmV3IEVkaXRvckJvb2xlYW5PcHRpb24oMTA2IC8qIEVkaXRvck9wdGlvbi5zdGlja3lUYWJTdG9wcyAqLywgJ3N0aWNreVRhYlN0b3BzJywgZmFsc2UsIHsKICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ3N0aWNreVRhYlN0b3BzJywgIkVtdWxhdGUgc2VsZWN0aW9uIGJlaGF2aW9yIG9mIHRhYiBjaGFyYWN0ZXJzIHdoZW4gdXNpbmcgc3BhY2VzIGZvciBpbmRlbnRhdGlvbi4gU2VsZWN0aW9uIHdpbGwgc3RpY2sgdG8gdGFiIHN0b3BzLiIpCiAgfSkpLAogIGNvZGVMZW5zOiByZWdpc3RlcihuZXcgRWRpdG9yQm9vbGVhbk9wdGlvbigxNCAvKiBFZGl0b3JPcHRpb24uY29kZUxlbnMgKi8sICdjb2RlTGVucycsIHRydWUsIHsKICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2NvZGVMZW5zJywgIkNvbnRyb2xzIHdoZXRoZXIgdGhlIGVkaXRvciBzaG93cyBDb2RlTGVucy4iKQogIH0pKSwKICBjb2RlTGVuc0ZvbnRGYW1pbHk6IHJlZ2lzdGVyKG5ldyBFZGl0b3JTdHJpbmdPcHRpb24oMTUgLyogRWRpdG9yT3B0aW9uLmNvZGVMZW5zRm9udEZhbWlseSAqLywgJ2NvZGVMZW5zRm9udEZhbWlseScsICcnLCB7CiAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdjb2RlTGVuc0ZvbnRGYW1pbHknLCAiQ29udHJvbHMgdGhlIGZvbnQgZmFtaWx5IGZvciBDb2RlTGVucy4iKQogIH0pKSwKICBjb2RlTGVuc0ZvbnRTaXplOiByZWdpc3RlcihuZXcgRWRpdG9ySW50T3B0aW9uKDE2IC8qIEVkaXRvck9wdGlvbi5jb2RlTGVuc0ZvbnRTaXplICovLCAnY29kZUxlbnNGb250U2l6ZScsIDAsIDAsIDEwMCwgewogICAgdHlwZTogJ251bWJlcicsCiAgICBkZWZhdWx0OiAwLAogICAgbWluaW11bTogMCwKICAgIG1heGltdW06IDEwMCwKICAgIG1hcmtkb3duRGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnY29kZUxlbnNGb250U2l6ZScsICJDb250cm9scyB0aGUgZm9udCBzaXplIGluIHBpeGVscyBmb3IgQ29kZUxlbnMuIFdoZW4gc2V0IHRvIGAwYCwgOTAlIG9mIGAjZWRpdG9yLmZvbnRTaXplI2AgaXMgdXNlZC4iKQogIH0pKSwKICBjb2xvckRlY29yYXRvcnM6IHJlZ2lzdGVyKG5ldyBFZGl0b3JCb29sZWFuT3B0aW9uKDE3IC8qIEVkaXRvck9wdGlvbi5jb2xvckRlY29yYXRvcnMgKi8sICdjb2xvckRlY29yYXRvcnMnLCB0cnVlLCB7CiAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdjb2xvckRlY29yYXRvcnMnLCAiQ29udHJvbHMgd2hldGhlciB0aGUgZWRpdG9yIHNob3VsZCByZW5kZXIgdGhlIGlubGluZSBjb2xvciBkZWNvcmF0b3JzIGFuZCBjb2xvciBwaWNrZXIuIikKICB9KSksCiAgY29sdW1uU2VsZWN0aW9uOiByZWdpc3RlcihuZXcgRWRpdG9yQm9vbGVhbk9wdGlvbigxOCAvKiBFZGl0b3JPcHRpb24uY29sdW1uU2VsZWN0aW9uICovLCAnY29sdW1uU2VsZWN0aW9uJywgZmFsc2UsIHsKICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2NvbHVtblNlbGVjdGlvbicsICJFbmFibGUgdGhhdCB0aGUgc2VsZWN0aW9uIHdpdGggdGhlIG1vdXNlIGFuZCBrZXlzIGlzIGRvaW5nIGNvbHVtbiBzZWxlY3Rpb24uIikKICB9KSksCiAgY29tbWVudHM6IHJlZ2lzdGVyKG5ldyBFZGl0b3JDb21tZW50cygpKSwKICBjb250ZXh0bWVudTogcmVnaXN0ZXIobmV3IEVkaXRvckJvb2xlYW5PcHRpb24oMjAgLyogRWRpdG9yT3B0aW9uLmNvbnRleHRtZW51ICovLCAnY29udGV4dG1lbnUnLCB0cnVlKSksCiAgY29weVdpdGhTeW50YXhIaWdobGlnaHRpbmc6IHJlZ2lzdGVyKG5ldyBFZGl0b3JCb29sZWFuT3B0aW9uKDIxIC8qIEVkaXRvck9wdGlvbi5jb3B5V2l0aFN5bnRheEhpZ2hsaWdodGluZyAqLywgJ2NvcHlXaXRoU3ludGF4SGlnaGxpZ2h0aW5nJywgdHJ1ZSwgewogICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnY29weVdpdGhTeW50YXhIaWdobGlnaHRpbmcnLCAiQ29udHJvbHMgd2hldGhlciBzeW50YXggaGlnaGxpZ2h0aW5nIHNob3VsZCBiZSBjb3BpZWQgaW50byB0aGUgY2xpcGJvYXJkLiIpCiAgfSkpLAogIGN1cnNvckJsaW5raW5nOiByZWdpc3RlcihuZXcgRWRpdG9yRW51bU9wdGlvbigyMiAvKiBFZGl0b3JPcHRpb24uY3Vyc29yQmxpbmtpbmcgKi8sICdjdXJzb3JCbGlua2luZycsIDEgLyogVGV4dEVkaXRvckN1cnNvckJsaW5raW5nU3R5bGUuQmxpbmsgKi8sICdibGluaycsIFsnYmxpbmsnLCAnc21vb3RoJywgJ3BoYXNlJywgJ2V4cGFuZCcsICdzb2xpZCddLCBfY3Vyc29yQmxpbmtpbmdTdHlsZUZyb21TdHJpbmcsIHsKICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2N1cnNvckJsaW5raW5nJywgIkNvbnRyb2wgdGhlIGN1cnNvciBhbmltYXRpb24gc3R5bGUuIikKICB9KSksCiAgY3Vyc29yU21vb3RoQ2FyZXRBbmltYXRpb246IHJlZ2lzdGVyKG5ldyBFZGl0b3JCb29sZWFuT3B0aW9uKDIzIC8qIEVkaXRvck9wdGlvbi5jdXJzb3JTbW9vdGhDYXJldEFuaW1hdGlvbiAqLywgJ2N1cnNvclNtb290aENhcmV0QW5pbWF0aW9uJywgZmFsc2UsIHsKICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2N1cnNvclNtb290aENhcmV0QW5pbWF0aW9uJywgIkNvbnRyb2xzIHdoZXRoZXIgdGhlIHNtb290aCBjYXJldCBhbmltYXRpb24gc2hvdWxkIGJlIGVuYWJsZWQuIikKICB9KSksCiAgY3Vyc29yU3R5bGU6IHJlZ2lzdGVyKG5ldyBFZGl0b3JFbnVtT3B0aW9uKDI0IC8qIEVkaXRvck9wdGlvbi5jdXJzb3JTdHlsZSAqLywgJ2N1cnNvclN0eWxlJywgVGV4dEVkaXRvckN1cnNvclN0eWxlLkxpbmUsICdsaW5lJywgWydsaW5lJywgJ2Jsb2NrJywgJ3VuZGVybGluZScsICdsaW5lLXRoaW4nLCAnYmxvY2stb3V0bGluZScsICd1bmRlcmxpbmUtdGhpbiddLCBfY3Vyc29yU3R5bGVGcm9tU3RyaW5nLCB7CiAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdjdXJzb3JTdHlsZScsICJDb250cm9scyB0aGUgY3Vyc29yIHN0eWxlLiIpCiAgfSkpLAogIGN1cnNvclN1cnJvdW5kaW5nTGluZXM6IHJlZ2lzdGVyKG5ldyBFZGl0b3JJbnRPcHRpb24oMjUgLyogRWRpdG9yT3B0aW9uLmN1cnNvclN1cnJvdW5kaW5nTGluZXMgKi8sICdjdXJzb3JTdXJyb3VuZGluZ0xpbmVzJywgMCwgMCwgMTA3Mzc0MTgyNCAvKiBDb25zdGFudHMuTUFYX1NBRkVfU01BTExfSU5URUdFUiAqLywgewogICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnY3Vyc29yU3Vycm91bmRpbmdMaW5lcycsICJDb250cm9scyB0aGUgbWluaW1hbCBudW1iZXIgb2YgdmlzaWJsZSBsZWFkaW5nIGFuZCB0cmFpbGluZyBsaW5lcyBzdXJyb3VuZGluZyB0aGUgY3Vyc29yLiBLbm93biBhcyAnc2Nyb2xsT2ZmJyBvciAnc2Nyb2xsT2Zmc2V0JyBpbiBzb21lIG90aGVyIGVkaXRvcnMuIikKICB9KSksCiAgY3Vyc29yU3Vycm91bmRpbmdMaW5lc1N0eWxlOiByZWdpc3RlcihuZXcgRWRpdG9yU3RyaW5nRW51bU9wdGlvbigyNiAvKiBFZGl0b3JPcHRpb24uY3Vyc29yU3Vycm91bmRpbmdMaW5lc1N0eWxlICovLCAnY3Vyc29yU3Vycm91bmRpbmdMaW5lc1N0eWxlJywgJ2RlZmF1bHQnLCBbJ2RlZmF1bHQnLCAnYWxsJ10sIHsKICAgIGVudW1EZXNjcmlwdGlvbnM6IFtubHMubG9jYWxpemUoJ2N1cnNvclN1cnJvdW5kaW5nTGluZXNTdHlsZS5kZWZhdWx0JywgImBjdXJzb3JTdXJyb3VuZGluZ0xpbmVzYCBpcyBlbmZvcmNlZCBvbmx5IHdoZW4gdHJpZ2dlcmVkIHZpYSB0aGUga2V5Ym9hcmQgb3IgQVBJLiIpLCBubHMubG9jYWxpemUoJ2N1cnNvclN1cnJvdW5kaW5nTGluZXNTdHlsZS5hbGwnLCAiYGN1cnNvclN1cnJvdW5kaW5nTGluZXNgIGlzIGVuZm9yY2VkIGFsd2F5cy4iKV0sCiAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdjdXJzb3JTdXJyb3VuZGluZ0xpbmVzU3R5bGUnLCAiQ29udHJvbHMgd2hlbiBgY3Vyc29yU3Vycm91bmRpbmdMaW5lc2Agc2hvdWxkIGJlIGVuZm9yY2VkLiIpCiAgfSkpLAogIGN1cnNvcldpZHRoOiByZWdpc3RlcihuZXcgRWRpdG9ySW50T3B0aW9uKDI3IC8qIEVkaXRvck9wdGlvbi5jdXJzb3JXaWR0aCAqLywgJ2N1cnNvcldpZHRoJywgMCwgMCwgMTA3Mzc0MTgyNCAvKiBDb25zdGFudHMuTUFYX1NBRkVfU01BTExfSU5URUdFUiAqLywgewogICAgbWFya2Rvd25EZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdjdXJzb3JXaWR0aCcsICJDb250cm9scyB0aGUgd2lkdGggb2YgdGhlIGN1cnNvciB3aGVuIGAjZWRpdG9yLmN1cnNvclN0eWxlI2AgaXMgc2V0IHRvIGBsaW5lYC4iKQogIH0pKSwKICBkaXNhYmxlTGF5ZXJIaW50aW5nOiByZWdpc3RlcihuZXcgRWRpdG9yQm9vbGVhbk9wdGlvbigyOCAvKiBFZGl0b3JPcHRpb24uZGlzYWJsZUxheWVySGludGluZyAqLywgJ2Rpc2FibGVMYXllckhpbnRpbmcnLCBmYWxzZSkpLAogIGRpc2FibGVNb25vc3BhY2VPcHRpbWl6YXRpb25zOiByZWdpc3RlcihuZXcgRWRpdG9yQm9vbGVhbk9wdGlvbigyOSAvKiBFZGl0b3JPcHRpb24uZGlzYWJsZU1vbm9zcGFjZU9wdGltaXphdGlvbnMgKi8sICdkaXNhYmxlTW9ub3NwYWNlT3B0aW1pemF0aW9ucycsIGZhbHNlKSksCiAgZG9tUmVhZE9ubHk6IHJlZ2lzdGVyKG5ldyBFZGl0b3JCb29sZWFuT3B0aW9uKDMwIC8qIEVkaXRvck9wdGlvbi5kb21SZWFkT25seSAqLywgJ2RvbVJlYWRPbmx5JywgZmFsc2UpKSwKICBkcmFnQW5kRHJvcDogcmVnaXN0ZXIobmV3IEVkaXRvckJvb2xlYW5PcHRpb24oMzEgLyogRWRpdG9yT3B0aW9uLmRyYWdBbmREcm9wICovLCAnZHJhZ0FuZERyb3AnLCB0cnVlLCB7CiAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdkcmFnQW5kRHJvcCcsICJDb250cm9scyB3aGV0aGVyIHRoZSBlZGl0b3Igc2hvdWxkIGFsbG93IG1vdmluZyBzZWxlY3Rpb25zIHZpYSBkcmFnIGFuZCBkcm9wLiIpCiAgfSkpLAogIGVtcHR5U2VsZWN0aW9uQ2xpcGJvYXJkOiByZWdpc3RlcihuZXcgRWRpdG9yRW1wdHlTZWxlY3Rpb25DbGlwYm9hcmQoKSksCiAgZHJvcEludG9FZGl0b3I6IHJlZ2lzdGVyKG5ldyBFZGl0b3JEcm9wSW50b0VkaXRvcigpKSwKICBleHBlcmltZW50YWw6IHJlZ2lzdGVyKG5ldyBFZGl0b3JFeHBlcmltZW50YWwoKSksCiAgZXh0cmFFZGl0b3JDbGFzc05hbWU6IHJlZ2lzdGVyKG5ldyBFZGl0b3JTdHJpbmdPcHRpb24oMzUgLyogRWRpdG9yT3B0aW9uLmV4dHJhRWRpdG9yQ2xhc3NOYW1lICovLCAnZXh0cmFFZGl0b3JDbGFzc05hbWUnLCAnJykpLAogIGZhc3RTY3JvbGxTZW5zaXRpdml0eTogcmVnaXN0ZXIobmV3IEVkaXRvckZsb2F0T3B0aW9uKDM2IC8qIEVkaXRvck9wdGlvbi5mYXN0U2Nyb2xsU2Vuc2l0aXZpdHkgKi8sICdmYXN0U2Nyb2xsU2Vuc2l0aXZpdHknLCA1LCBmdW5jdGlvbiAoeCkgewogICAgcmV0dXJuIHggPD0gMCA/IDUgOiB4OwogIH0sIHsKICAgIG1hcmtkb3duRGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnZmFzdFNjcm9sbFNlbnNpdGl2aXR5JywgIlNjcm9sbGluZyBzcGVlZCBtdWx0aXBsaWVyIHdoZW4gcHJlc3NpbmcgYEFsdGAuIikKICB9KSksCiAgZmluZDogcmVnaXN0ZXIobmV3IEVkaXRvckZpbmQoKSksCiAgZml4ZWRPdmVyZmxvd1dpZGdldHM6IHJlZ2lzdGVyKG5ldyBFZGl0b3JCb29sZWFuT3B0aW9uKDM4IC8qIEVkaXRvck9wdGlvbi5maXhlZE92ZXJmbG93V2lkZ2V0cyAqLywgJ2ZpeGVkT3ZlcmZsb3dXaWRnZXRzJywgZmFsc2UpKSwKICBmb2xkaW5nOiByZWdpc3RlcihuZXcgRWRpdG9yQm9vbGVhbk9wdGlvbigzOSAvKiBFZGl0b3JPcHRpb24uZm9sZGluZyAqLywgJ2ZvbGRpbmcnLCB0cnVlLCB7CiAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdmb2xkaW5nJywgIkNvbnRyb2xzIHdoZXRoZXIgdGhlIGVkaXRvciBoYXMgY29kZSBmb2xkaW5nIGVuYWJsZWQuIikKICB9KSksCiAgZm9sZGluZ1N0cmF0ZWd5OiByZWdpc3RlcihuZXcgRWRpdG9yU3RyaW5nRW51bU9wdGlvbig0MCAvKiBFZGl0b3JPcHRpb24uZm9sZGluZ1N0cmF0ZWd5ICovLCAnZm9sZGluZ1N0cmF0ZWd5JywgJ2F1dG8nLCBbJ2F1dG8nLCAnaW5kZW50YXRpb24nXSwgewogICAgZW51bURlc2NyaXB0aW9uczogW25scy5sb2NhbGl6ZSgnZm9sZGluZ1N0cmF0ZWd5LmF1dG8nLCAiVXNlIGEgbGFuZ3VhZ2Utc3BlY2lmaWMgZm9sZGluZyBzdHJhdGVneSBpZiBhdmFpbGFibGUsIGVsc2UgdGhlIGluZGVudGF0aW9uLWJhc2VkIG9uZS4iKSwgbmxzLmxvY2FsaXplKCdmb2xkaW5nU3RyYXRlZ3kuaW5kZW50YXRpb24nLCAiVXNlIHRoZSBpbmRlbnRhdGlvbi1iYXNlZCBmb2xkaW5nIHN0cmF0ZWd5LiIpXSwKICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2ZvbGRpbmdTdHJhdGVneScsICJDb250cm9scyB0aGUgc3RyYXRlZ3kgZm9yIGNvbXB1dGluZyBmb2xkaW5nIHJhbmdlcy4iKQogIH0pKSwKICBmb2xkaW5nSGlnaGxpZ2h0OiByZWdpc3RlcihuZXcgRWRpdG9yQm9vbGVhbk9wdGlvbig0MSAvKiBFZGl0b3JPcHRpb24uZm9sZGluZ0hpZ2hsaWdodCAqLywgJ2ZvbGRpbmdIaWdobGlnaHQnLCB0cnVlLCB7CiAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdmb2xkaW5nSGlnaGxpZ2h0JywgIkNvbnRyb2xzIHdoZXRoZXIgdGhlIGVkaXRvciBzaG91bGQgaGlnaGxpZ2h0IGZvbGRlZCByYW5nZXMuIikKICB9KSksCiAgZm9sZGluZ0ltcG9ydHNCeURlZmF1bHQ6IHJlZ2lzdGVyKG5ldyBFZGl0b3JCb29sZWFuT3B0aW9uKDQyIC8qIEVkaXRvck9wdGlvbi5mb2xkaW5nSW1wb3J0c0J5RGVmYXVsdCAqLywgJ2ZvbGRpbmdJbXBvcnRzQnlEZWZhdWx0JywgZmFsc2UsIHsKICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2ZvbGRpbmdJbXBvcnRzQnlEZWZhdWx0JywgIkNvbnRyb2xzIHdoZXRoZXIgdGhlIGVkaXRvciBhdXRvbWF0aWNhbGx5IGNvbGxhcHNlcyBpbXBvcnQgcmFuZ2VzLiIpCiAgfSkpLAogIGZvbGRpbmdNYXhpbXVtUmVnaW9uczogcmVnaXN0ZXIobmV3IEVkaXRvckludE9wdGlvbig0MyAvKiBFZGl0b3JPcHRpb24uZm9sZGluZ01heGltdW1SZWdpb25zICovLCAnZm9sZGluZ01heGltdW1SZWdpb25zJywgNTAwMCwgMTAsIDY1MDAwLAogIC8vIGxpbWl0IG11c3QgYmUgbGVzcyB0aGFuIGZvbGRpbmdSYW5nZXMgTUFYX0ZPTERJTkdfUkVHSU9OUwogIHsKICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2ZvbGRpbmdNYXhpbXVtUmVnaW9ucycsICJUaGUgbWF4aW11bSBudW1iZXIgb2YgZm9sZGFibGUgcmVnaW9ucy4gSW5jcmVhc2luZyB0aGlzIHZhbHVlIG1heSByZXN1bHQgaW4gdGhlIGVkaXRvciBiZWNvbWluZyBsZXNzIHJlc3BvbnNpdmUgd2hlbiB0aGUgY3VycmVudCBzb3VyY2UgaGFzIGEgbGFyZ2UgbnVtYmVyIG9mIGZvbGRhYmxlIHJlZ2lvbnMuIikKICB9KSksCiAgdW5mb2xkT25DbGlja0FmdGVyRW5kT2ZMaW5lOiByZWdpc3RlcihuZXcgRWRpdG9yQm9vbGVhbk9wdGlvbig0NCAvKiBFZGl0b3JPcHRpb24udW5mb2xkT25DbGlja0FmdGVyRW5kT2ZMaW5lICovLCAndW5mb2xkT25DbGlja0FmdGVyRW5kT2ZMaW5lJywgZmFsc2UsIHsKICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ3VuZm9sZE9uQ2xpY2tBZnRlckVuZE9mTGluZScsICJDb250cm9scyB3aGV0aGVyIGNsaWNraW5nIG9uIHRoZSBlbXB0eSBjb250ZW50IGFmdGVyIGEgZm9sZGVkIGxpbmUgd2lsbCB1bmZvbGQgdGhlIGxpbmUuIikKICB9KSksCiAgZm9udEZhbWlseTogcmVnaXN0ZXIobmV3IEVkaXRvclN0cmluZ09wdGlvbig0NSAvKiBFZGl0b3JPcHRpb24uZm9udEZhbWlseSAqLywgJ2ZvbnRGYW1pbHknLCBFRElUT1JfRk9OVF9ERUZBVUxUUy5mb250RmFtaWx5LCB7CiAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdmb250RmFtaWx5JywgIkNvbnRyb2xzIHRoZSBmb250IGZhbWlseS4iKQogIH0pKSwKICBmb250SW5mbzogcmVnaXN0ZXIobmV3IEVkaXRvckZvbnRJbmZvKCkpLAogIGZvbnRMaWdhdHVyZXMyOiByZWdpc3RlcihuZXcgRWRpdG9yRm9udExpZ2F0dXJlcygpKSwKICBmb250U2l6ZTogcmVnaXN0ZXIobmV3IEVkaXRvckZvbnRTaXplKCkpLAogIGZvbnRXZWlnaHQ6IHJlZ2lzdGVyKG5ldyBFZGl0b3JGb250V2VpZ2h0KCkpLAogIGZvcm1hdE9uUGFzdGU6IHJlZ2lzdGVyKG5ldyBFZGl0b3JCb29sZWFuT3B0aW9uKDUwIC8qIEVkaXRvck9wdGlvbi5mb3JtYXRPblBhc3RlICovLCAnZm9ybWF0T25QYXN0ZScsIGZhbHNlLCB7CiAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdmb3JtYXRPblBhc3RlJywgIkNvbnRyb2xzIHdoZXRoZXIgdGhlIGVkaXRvciBzaG91bGQgYXV0b21hdGljYWxseSBmb3JtYXQgdGhlIHBhc3RlZCBjb250ZW50LiBBIGZvcm1hdHRlciBtdXN0IGJlIGF2YWlsYWJsZSBhbmQgdGhlIGZvcm1hdHRlciBzaG91bGQgYmUgYWJsZSB0byBmb3JtYXQgYSByYW5nZSBpbiBhIGRvY3VtZW50LiIpCiAgfSkpLAogIGZvcm1hdE9uVHlwZTogcmVnaXN0ZXIobmV3IEVkaXRvckJvb2xlYW5PcHRpb24oNTEgLyogRWRpdG9yT3B0aW9uLmZvcm1hdE9uVHlwZSAqLywgJ2Zvcm1hdE9uVHlwZScsIGZhbHNlLCB7CiAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdmb3JtYXRPblR5cGUnLCAiQ29udHJvbHMgd2hldGhlciB0aGUgZWRpdG9yIHNob3VsZCBhdXRvbWF0aWNhbGx5IGZvcm1hdCB0aGUgbGluZSBhZnRlciB0eXBpbmcuIikKICB9KSksCiAgZ2x5cGhNYXJnaW46IHJlZ2lzdGVyKG5ldyBFZGl0b3JCb29sZWFuT3B0aW9uKDUyIC8qIEVkaXRvck9wdGlvbi5nbHlwaE1hcmdpbiAqLywgJ2dseXBoTWFyZ2luJywgdHJ1ZSwgewogICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnZ2x5cGhNYXJnaW4nLCAiQ29udHJvbHMgd2hldGhlciB0aGUgZWRpdG9yIHNob3VsZCByZW5kZXIgdGhlIHZlcnRpY2FsIGdseXBoIG1hcmdpbi4gR2x5cGggbWFyZ2luIGlzIG1vc3RseSB1c2VkIGZvciBkZWJ1Z2dpbmcuIikKICB9KSksCiAgZ290b0xvY2F0aW9uOiByZWdpc3RlcihuZXcgRWRpdG9yR29Ub0xvY2F0aW9uKCkpLAogIGhpZGVDdXJzb3JJbk92ZXJ2aWV3UnVsZXI6IHJlZ2lzdGVyKG5ldyBFZGl0b3JCb29sZWFuT3B0aW9uKDU0IC8qIEVkaXRvck9wdGlvbi5oaWRlQ3Vyc29ySW5PdmVydmlld1J1bGVyICovLCAnaGlkZUN1cnNvckluT3ZlcnZpZXdSdWxlcicsIGZhbHNlLCB7CiAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdoaWRlQ3Vyc29ySW5PdmVydmlld1J1bGVyJywgIkNvbnRyb2xzIHdoZXRoZXIgdGhlIGN1cnNvciBzaG91bGQgYmUgaGlkZGVuIGluIHRoZSBvdmVydmlldyBydWxlci4iKQogIH0pKSwKICBob3ZlcjogcmVnaXN0ZXIobmV3IEVkaXRvckhvdmVyKCkpLAogIGluRGlmZkVkaXRvcjogcmVnaXN0ZXIobmV3IEVkaXRvckJvb2xlYW5PcHRpb24oNTYgLyogRWRpdG9yT3B0aW9uLmluRGlmZkVkaXRvciAqLywgJ2luRGlmZkVkaXRvcicsIGZhbHNlKSksCiAgbGV0dGVyU3BhY2luZzogcmVnaXN0ZXIobmV3IEVkaXRvckZsb2F0T3B0aW9uKDU4IC8qIEVkaXRvck9wdGlvbi5sZXR0ZXJTcGFjaW5nICovLCAnbGV0dGVyU3BhY2luZycsIEVESVRPUl9GT05UX0RFRkFVTFRTLmxldHRlclNwYWNpbmcsIGZ1bmN0aW9uICh4KSB7CiAgICByZXR1cm4gRWRpdG9yRmxvYXRPcHRpb24uY2xhbXAoeCwgLTUsIDIwKTsKICB9LCB7CiAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdsZXR0ZXJTcGFjaW5nJywgIkNvbnRyb2xzIHRoZSBsZXR0ZXIgc3BhY2luZyBpbiBwaXhlbHMuIikKICB9KSksCiAgbGlnaHRidWxiOiByZWdpc3RlcihuZXcgRWRpdG9yTGlnaHRidWxiKCkpLAogIGxpbmVEZWNvcmF0aW9uc1dpZHRoOiByZWdpc3RlcihuZXcgU2ltcGxlRWRpdG9yT3B0aW9uKDYwIC8qIEVkaXRvck9wdGlvbi5saW5lRGVjb3JhdGlvbnNXaWR0aCAqLywgJ2xpbmVEZWNvcmF0aW9uc1dpZHRoJywgMTApKSwKICBsaW5lSGVpZ2h0OiByZWdpc3RlcihuZXcgRWRpdG9yTGluZUhlaWdodCgpKSwKICBsaW5lTnVtYmVyczogcmVnaXN0ZXIobmV3IEVkaXRvclJlbmRlckxpbmVOdW1iZXJzT3B0aW9uKCkpLAogIGxpbmVOdW1iZXJzTWluQ2hhcnM6IHJlZ2lzdGVyKG5ldyBFZGl0b3JJbnRPcHRpb24oNjMgLyogRWRpdG9yT3B0aW9uLmxpbmVOdW1iZXJzTWluQ2hhcnMgKi8sICdsaW5lTnVtYmVyc01pbkNoYXJzJywgNSwgMSwgMzAwKSksCiAgbGlua2VkRWRpdGluZzogcmVnaXN0ZXIobmV3IEVkaXRvckJvb2xlYW5PcHRpb24oNjQgLyogRWRpdG9yT3B0aW9uLmxpbmtlZEVkaXRpbmcgKi8sICdsaW5rZWRFZGl0aW5nJywgZmFsc2UsIHsKICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2xpbmtlZEVkaXRpbmcnLCAiQ29udHJvbHMgd2hldGhlciB0aGUgZWRpdG9yIGhhcyBsaW5rZWQgZWRpdGluZyBlbmFibGVkLiBEZXBlbmRpbmcgb24gdGhlIGxhbmd1YWdlLCByZWxhdGVkIHN5bWJvbHMsIGUuZy4gSFRNTCB0YWdzLCBhcmUgdXBkYXRlZCB3aGlsZSBlZGl0aW5nLiIpCiAgfSkpLAogIGxpbmtzOiByZWdpc3RlcihuZXcgRWRpdG9yQm9vbGVhbk9wdGlvbig2NSAvKiBFZGl0b3JPcHRpb24ubGlua3MgKi8sICdsaW5rcycsIHRydWUsIHsKICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2xpbmtzJywgIkNvbnRyb2xzIHdoZXRoZXIgdGhlIGVkaXRvciBzaG91bGQgZGV0ZWN0IGxpbmtzIGFuZCBtYWtlIHRoZW0gY2xpY2thYmxlLiIpCiAgfSkpLAogIG1hdGNoQnJhY2tldHM6IHJlZ2lzdGVyKG5ldyBFZGl0b3JTdHJpbmdFbnVtT3B0aW9uKDY2IC8qIEVkaXRvck9wdGlvbi5tYXRjaEJyYWNrZXRzICovLCAnbWF0Y2hCcmFja2V0cycsICdhbHdheXMnLCBbJ2Fsd2F5cycsICduZWFyJywgJ25ldmVyJ10sIHsKICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ21hdGNoQnJhY2tldHMnLCAiSGlnaGxpZ2h0IG1hdGNoaW5nIGJyYWNrZXRzLiIpCiAgfSkpLAogIG1pbmltYXA6IHJlZ2lzdGVyKG5ldyBFZGl0b3JNaW5pbWFwKCkpLAogIG1vdXNlU3R5bGU6IHJlZ2lzdGVyKG5ldyBFZGl0b3JTdHJpbmdFbnVtT3B0aW9uKDY4IC8qIEVkaXRvck9wdGlvbi5tb3VzZVN0eWxlICovLCAnbW91c2VTdHlsZScsICd0ZXh0JywgWyd0ZXh0JywgJ2RlZmF1bHQnLCAnY29weSddKSksCiAgbW91c2VXaGVlbFNjcm9sbFNlbnNpdGl2aXR5OiByZWdpc3RlcihuZXcgRWRpdG9yRmxvYXRPcHRpb24oNjkgLyogRWRpdG9yT3B0aW9uLm1vdXNlV2hlZWxTY3JvbGxTZW5zaXRpdml0eSAqLywgJ21vdXNlV2hlZWxTY3JvbGxTZW5zaXRpdml0eScsIDEsIGZ1bmN0aW9uICh4KSB7CiAgICByZXR1cm4geCA9PT0gMCA/IDEgOiB4OwogIH0sIHsKICAgIG1hcmtkb3duRGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnbW91c2VXaGVlbFNjcm9sbFNlbnNpdGl2aXR5JywgIkEgbXVsdGlwbGllciB0byBiZSB1c2VkIG9uIHRoZSBgZGVsdGFYYCBhbmQgYGRlbHRhWWAgb2YgbW91c2Ugd2hlZWwgc2Nyb2xsIGV2ZW50cy4iKQogIH0pKSwKICBtb3VzZVdoZWVsWm9vbTogcmVnaXN0ZXIobmV3IEVkaXRvckJvb2xlYW5PcHRpb24oNzAgLyogRWRpdG9yT3B0aW9uLm1vdXNlV2hlZWxab29tICovLCAnbW91c2VXaGVlbFpvb20nLCBmYWxzZSwgewogICAgbWFya2Rvd25EZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdtb3VzZVdoZWVsWm9vbScsICJab29tIHRoZSBmb250IG9mIHRoZSBlZGl0b3Igd2hlbiB1c2luZyBtb3VzZSB3aGVlbCBhbmQgaG9sZGluZyBgQ3RybGAuIikKICB9KSksCiAgbXVsdGlDdXJzb3JNZXJnZU92ZXJsYXBwaW5nOiByZWdpc3RlcihuZXcgRWRpdG9yQm9vbGVhbk9wdGlvbig3MSAvKiBFZGl0b3JPcHRpb24ubXVsdGlDdXJzb3JNZXJnZU92ZXJsYXBwaW5nICovLCAnbXVsdGlDdXJzb3JNZXJnZU92ZXJsYXBwaW5nJywgdHJ1ZSwgewogICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnbXVsdGlDdXJzb3JNZXJnZU92ZXJsYXBwaW5nJywgIk1lcmdlIG11bHRpcGxlIGN1cnNvcnMgd2hlbiB0aGV5IGFyZSBvdmVybGFwcGluZy4iKQogIH0pKSwKICBtdWx0aUN1cnNvck1vZGlmaWVyOiByZWdpc3RlcihuZXcgRWRpdG9yRW51bU9wdGlvbig3MiAvKiBFZGl0b3JPcHRpb24ubXVsdGlDdXJzb3JNb2RpZmllciAqLywgJ211bHRpQ3Vyc29yTW9kaWZpZXInLCAnYWx0S2V5JywgJ2FsdCcsIFsnY3RybENtZCcsICdhbHQnXSwgX211bHRpQ3Vyc29yTW9kaWZpZXJGcm9tU3RyaW5nLCB7CiAgICBtYXJrZG93bkVudW1EZXNjcmlwdGlvbnM6IFtubHMubG9jYWxpemUoJ211bHRpQ3Vyc29yTW9kaWZpZXIuY3RybENtZCcsICJNYXBzIHRvIGBDb250cm9sYCBvbiBXaW5kb3dzIGFuZCBMaW51eCBhbmQgdG8gYENvbW1hbmRgIG9uIG1hY09TLiIpLCBubHMubG9jYWxpemUoJ211bHRpQ3Vyc29yTW9kaWZpZXIuYWx0JywgIk1hcHMgdG8gYEFsdGAgb24gV2luZG93cyBhbmQgTGludXggYW5kIHRvIGBPcHRpb25gIG9uIG1hY09TLiIpXSwKICAgIG1hcmtkb3duRGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSh7CiAgICAgIGtleTogJ211bHRpQ3Vyc29yTW9kaWZpZXInLAogICAgICBjb21tZW50OiBbJy0gYGN0cmxDbWRgIHJlZmVycyB0byBhIHZhbHVlIHRoZSBzZXR0aW5nIGNhbiB0YWtlIGFuZCBzaG91bGQgbm90IGJlIGxvY2FsaXplZC4nLCAnLSBgQ29udHJvbGAgYW5kIGBDb21tYW5kYCByZWZlciB0byB0aGUgbW9kaWZpZXIga2V5cyBDdHJsIG9yIENtZCBvbiB0aGUga2V5Ym9hcmQgYW5kIGNhbiBiZSBsb2NhbGl6ZWQuJ10KICAgIH0sICJUaGUgbW9kaWZpZXIgdG8gYmUgdXNlZCB0byBhZGQgbXVsdGlwbGUgY3Vyc29ycyB3aXRoIHRoZSBtb3VzZS4gVGhlIEdvIHRvIERlZmluaXRpb24gYW5kIE9wZW4gTGluayBtb3VzZSBnZXN0dXJlcyB3aWxsIGFkYXB0IHN1Y2ggdGhhdCB0aGV5IGRvIG5vdCBjb25mbGljdCB3aXRoIHRoZSBbbXVsdGljdXJzb3IgbW9kaWZpZXJdKGh0dHBzOi8vY29kZS52aXN1YWxzdHVkaW8uY29tL2RvY3MvZWRpdG9yL2NvZGViYXNpY3MjX211bHRpY3Vyc29yLW1vZGlmaWVyKS4iKQogIH0pKSwKICBtdWx0aUN1cnNvclBhc3RlOiByZWdpc3RlcihuZXcgRWRpdG9yU3RyaW5nRW51bU9wdGlvbig3MyAvKiBFZGl0b3JPcHRpb24ubXVsdGlDdXJzb3JQYXN0ZSAqLywgJ211bHRpQ3Vyc29yUGFzdGUnLCAnc3ByZWFkJywgWydzcHJlYWQnLCAnZnVsbCddLCB7CiAgICBtYXJrZG93bkVudW1EZXNjcmlwdGlvbnM6IFtubHMubG9jYWxpemUoJ211bHRpQ3Vyc29yUGFzdGUuc3ByZWFkJywgIkVhY2ggY3Vyc29yIHBhc3RlcyBhIHNpbmdsZSBsaW5lIG9mIHRoZSB0ZXh0LiIpLCBubHMubG9jYWxpemUoJ211bHRpQ3Vyc29yUGFzdGUuZnVsbCcsICJFYWNoIGN1cnNvciBwYXN0ZXMgdGhlIGZ1bGwgdGV4dC4iKV0sCiAgICBtYXJrZG93bkRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ211bHRpQ3Vyc29yUGFzdGUnLCAiQ29udHJvbHMgcGFzdGluZyB3aGVuIHRoZSBsaW5lIGNvdW50IG9mIHRoZSBwYXN0ZWQgdGV4dCBtYXRjaGVzIHRoZSBjdXJzb3IgY291bnQuIikKICB9KSksCiAgb2NjdXJyZW5jZXNIaWdobGlnaHQ6IHJlZ2lzdGVyKG5ldyBFZGl0b3JCb29sZWFuT3B0aW9uKDc0IC8qIEVkaXRvck9wdGlvbi5vY2N1cnJlbmNlc0hpZ2hsaWdodCAqLywgJ29jY3VycmVuY2VzSGlnaGxpZ2h0JywgdHJ1ZSwgewogICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnb2NjdXJyZW5jZXNIaWdobGlnaHQnLCAiQ29udHJvbHMgd2hldGhlciB0aGUgZWRpdG9yIHNob3VsZCBoaWdobGlnaHQgc2VtYW50aWMgc3ltYm9sIG9jY3VycmVuY2VzLiIpCiAgfSkpLAogIG92ZXJ2aWV3UnVsZXJCb3JkZXI6IHJlZ2lzdGVyKG5ldyBFZGl0b3JCb29sZWFuT3B0aW9uKDc1IC8qIEVkaXRvck9wdGlvbi5vdmVydmlld1J1bGVyQm9yZGVyICovLCAnb3ZlcnZpZXdSdWxlckJvcmRlcicsIHRydWUsIHsKICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ292ZXJ2aWV3UnVsZXJCb3JkZXInLCAiQ29udHJvbHMgd2hldGhlciBhIGJvcmRlciBzaG91bGQgYmUgZHJhd24gYXJvdW5kIHRoZSBvdmVydmlldyBydWxlci4iKQogIH0pKSwKICBvdmVydmlld1J1bGVyTGFuZXM6IHJlZ2lzdGVyKG5ldyBFZGl0b3JJbnRPcHRpb24oNzYgLyogRWRpdG9yT3B0aW9uLm92ZXJ2aWV3UnVsZXJMYW5lcyAqLywgJ292ZXJ2aWV3UnVsZXJMYW5lcycsIDMsIDAsIDMpKSwKICBwYWRkaW5nOiByZWdpc3RlcihuZXcgRWRpdG9yUGFkZGluZygpKSwKICBwYXJhbWV0ZXJIaW50czogcmVnaXN0ZXIobmV3IEVkaXRvclBhcmFtZXRlckhpbnRzKCkpLAogIHBlZWtXaWRnZXREZWZhdWx0Rm9jdXM6IHJlZ2lzdGVyKG5ldyBFZGl0b3JTdHJpbmdFbnVtT3B0aW9uKDc5IC8qIEVkaXRvck9wdGlvbi5wZWVrV2lkZ2V0RGVmYXVsdEZvY3VzICovLCAncGVla1dpZGdldERlZmF1bHRGb2N1cycsICd0cmVlJywgWyd0cmVlJywgJ2VkaXRvciddLCB7CiAgICBlbnVtRGVzY3JpcHRpb25zOiBbbmxzLmxvY2FsaXplKCdwZWVrV2lkZ2V0RGVmYXVsdEZvY3VzLnRyZWUnLCAiRm9jdXMgdGhlIHRyZWUgd2hlbiBvcGVuaW5nIHBlZWsiKSwgbmxzLmxvY2FsaXplKCdwZWVrV2lkZ2V0RGVmYXVsdEZvY3VzLmVkaXRvcicsICJGb2N1cyB0aGUgZWRpdG9yIHdoZW4gb3BlbmluZyBwZWVrIildLAogICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgncGVla1dpZGdldERlZmF1bHRGb2N1cycsICJDb250cm9scyB3aGV0aGVyIHRvIGZvY3VzIHRoZSBpbmxpbmUgZWRpdG9yIG9yIHRoZSB0cmVlIGluIHRoZSBwZWVrIHdpZGdldC4iKQogIH0pKSwKICBkZWZpbml0aW9uTGlua09wZW5zSW5QZWVrOiByZWdpc3RlcihuZXcgRWRpdG9yQm9vbGVhbk9wdGlvbig4MCAvKiBFZGl0b3JPcHRpb24uZGVmaW5pdGlvbkxpbmtPcGVuc0luUGVlayAqLywgJ2RlZmluaXRpb25MaW5rT3BlbnNJblBlZWsnLCBmYWxzZSwgewogICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnZGVmaW5pdGlvbkxpbmtPcGVuc0luUGVlaycsICJDb250cm9scyB3aGV0aGVyIHRoZSBHbyB0byBEZWZpbml0aW9uIG1vdXNlIGdlc3R1cmUgYWx3YXlzIG9wZW5zIHRoZSBwZWVrIHdpZGdldC4iKQogIH0pKSwKICBxdWlja1N1Z2dlc3Rpb25zOiByZWdpc3RlcihuZXcgRWRpdG9yUXVpY2tTdWdnZXN0aW9ucygpKSwKICBxdWlja1N1Z2dlc3Rpb25zRGVsYXk6IHJlZ2lzdGVyKG5ldyBFZGl0b3JJbnRPcHRpb24oODIgLyogRWRpdG9yT3B0aW9uLnF1aWNrU3VnZ2VzdGlvbnNEZWxheSAqLywgJ3F1aWNrU3VnZ2VzdGlvbnNEZWxheScsIDEwLCAwLCAxMDczNzQxODI0IC8qIENvbnN0YW50cy5NQVhfU0FGRV9TTUFMTF9JTlRFR0VSICovLCB7CiAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdxdWlja1N1Z2dlc3Rpb25zRGVsYXknLCAiQ29udHJvbHMgdGhlIGRlbGF5IGluIG1pbGxpc2Vjb25kcyBhZnRlciB3aGljaCBxdWljayBzdWdnZXN0aW9ucyB3aWxsIHNob3cgdXAuIikKICB9KSksCiAgcmVhZE9ubHk6IHJlZ2lzdGVyKG5ldyBFZGl0b3JCb29sZWFuT3B0aW9uKDgzIC8qIEVkaXRvck9wdGlvbi5yZWFkT25seSAqLywgJ3JlYWRPbmx5JywgZmFsc2UpKSwKICByZW5hbWVPblR5cGU6IHJlZ2lzdGVyKG5ldyBFZGl0b3JCb29sZWFuT3B0aW9uKDg0IC8qIEVkaXRvck9wdGlvbi5yZW5hbWVPblR5cGUgKi8sICdyZW5hbWVPblR5cGUnLCBmYWxzZSwgewogICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgncmVuYW1lT25UeXBlJywgIkNvbnRyb2xzIHdoZXRoZXIgdGhlIGVkaXRvciBhdXRvIHJlbmFtZXMgb24gdHlwZS4iKSwKICAgIG1hcmtkb3duRGVwcmVjYXRpb25NZXNzYWdlOiBubHMubG9jYWxpemUoJ3JlbmFtZU9uVHlwZURlcHJlY2F0ZScsICJEZXByZWNhdGVkLCB1c2UgYGVkaXRvci5saW5rZWRFZGl0aW5nYCBpbnN0ZWFkLiIpCiAgfSkpLAogIHJlbmRlckNvbnRyb2xDaGFyYWN0ZXJzOiByZWdpc3RlcihuZXcgRWRpdG9yQm9vbGVhbk9wdGlvbig4NSAvKiBFZGl0b3JPcHRpb24ucmVuZGVyQ29udHJvbENoYXJhY3RlcnMgKi8sICdyZW5kZXJDb250cm9sQ2hhcmFjdGVycycsIHRydWUsIHsKICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ3JlbmRlckNvbnRyb2xDaGFyYWN0ZXJzJywgIkNvbnRyb2xzIHdoZXRoZXIgdGhlIGVkaXRvciBzaG91bGQgcmVuZGVyIGNvbnRyb2wgY2hhcmFjdGVycy4iKSwKICAgIHJlc3RyaWN0ZWQ6IHRydWUKICB9KSksCiAgcmVuZGVyRmluYWxOZXdsaW5lOiByZWdpc3RlcihuZXcgRWRpdG9yQm9vbGVhbk9wdGlvbig4NiAvKiBFZGl0b3JPcHRpb24ucmVuZGVyRmluYWxOZXdsaW5lICovLCAncmVuZGVyRmluYWxOZXdsaW5lJywgdHJ1ZSwgewogICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgncmVuZGVyRmluYWxOZXdsaW5lJywgIlJlbmRlciBsYXN0IGxpbmUgbnVtYmVyIHdoZW4gdGhlIGZpbGUgZW5kcyB3aXRoIGEgbmV3bGluZS4iKQogIH0pKSwKICByZW5kZXJMaW5lSGlnaGxpZ2h0OiByZWdpc3RlcihuZXcgRWRpdG9yU3RyaW5nRW51bU9wdGlvbig4NyAvKiBFZGl0b3JPcHRpb24ucmVuZGVyTGluZUhpZ2hsaWdodCAqLywgJ3JlbmRlckxpbmVIaWdobGlnaHQnLCAnbGluZScsIFsnbm9uZScsICdndXR0ZXInLCAnbGluZScsICdhbGwnXSwgewogICAgZW51bURlc2NyaXB0aW9uczogWycnLCAnJywgJycsIG5scy5sb2NhbGl6ZSgncmVuZGVyTGluZUhpZ2hsaWdodC5hbGwnLCAiSGlnaGxpZ2h0cyBib3RoIHRoZSBndXR0ZXIgYW5kIHRoZSBjdXJyZW50IGxpbmUuIildLAogICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgncmVuZGVyTGluZUhpZ2hsaWdodCcsICJDb250cm9scyBob3cgdGhlIGVkaXRvciBzaG91bGQgcmVuZGVyIHRoZSBjdXJyZW50IGxpbmUgaGlnaGxpZ2h0LiIpCiAgfSkpLAogIHJlbmRlckxpbmVIaWdobGlnaHRPbmx5V2hlbkZvY3VzOiByZWdpc3RlcihuZXcgRWRpdG9yQm9vbGVhbk9wdGlvbig4OCAvKiBFZGl0b3JPcHRpb24ucmVuZGVyTGluZUhpZ2hsaWdodE9ubHlXaGVuRm9jdXMgKi8sICdyZW5kZXJMaW5lSGlnaGxpZ2h0T25seVdoZW5Gb2N1cycsIGZhbHNlLCB7CiAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdyZW5kZXJMaW5lSGlnaGxpZ2h0T25seVdoZW5Gb2N1cycsICJDb250cm9scyBpZiB0aGUgZWRpdG9yIHNob3VsZCByZW5kZXIgdGhlIGN1cnJlbnQgbGluZSBoaWdobGlnaHQgb25seSB3aGVuIHRoZSBlZGl0b3IgaXMgZm9jdXNlZC4iKQogIH0pKSwKICByZW5kZXJWYWxpZGF0aW9uRGVjb3JhdGlvbnM6IHJlZ2lzdGVyKG5ldyBFZGl0b3JTdHJpbmdFbnVtT3B0aW9uKDg5IC8qIEVkaXRvck9wdGlvbi5yZW5kZXJWYWxpZGF0aW9uRGVjb3JhdGlvbnMgKi8sICdyZW5kZXJWYWxpZGF0aW9uRGVjb3JhdGlvbnMnLCAnZWRpdGFibGUnLCBbJ2VkaXRhYmxlJywgJ29uJywgJ29mZiddKSksCiAgcmVuZGVyV2hpdGVzcGFjZTogcmVnaXN0ZXIobmV3IEVkaXRvclN0cmluZ0VudW1PcHRpb24oOTAgLyogRWRpdG9yT3B0aW9uLnJlbmRlcldoaXRlc3BhY2UgKi8sICdyZW5kZXJXaGl0ZXNwYWNlJywgJ3NlbGVjdGlvbicsIFsnbm9uZScsICdib3VuZGFyeScsICdzZWxlY3Rpb24nLCAndHJhaWxpbmcnLCAnYWxsJ10sIHsKICAgIGVudW1EZXNjcmlwdGlvbnM6IFsnJywgbmxzLmxvY2FsaXplKCdyZW5kZXJXaGl0ZXNwYWNlLmJvdW5kYXJ5JywgIlJlbmRlciB3aGl0ZXNwYWNlIGNoYXJhY3RlcnMgZXhjZXB0IGZvciBzaW5nbGUgc3BhY2VzIGJldHdlZW4gd29yZHMuIiksIG5scy5sb2NhbGl6ZSgncmVuZGVyV2hpdGVzcGFjZS5zZWxlY3Rpb24nLCAiUmVuZGVyIHdoaXRlc3BhY2UgY2hhcmFjdGVycyBvbmx5IG9uIHNlbGVjdGVkIHRleHQuIiksIG5scy5sb2NhbGl6ZSgncmVuZGVyV2hpdGVzcGFjZS50cmFpbGluZycsICJSZW5kZXIgb25seSB0cmFpbGluZyB3aGl0ZXNwYWNlIGNoYXJhY3RlcnMuIiksICcnXSwKICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ3JlbmRlcldoaXRlc3BhY2UnLCAiQ29udHJvbHMgaG93IHRoZSBlZGl0b3Igc2hvdWxkIHJlbmRlciB3aGl0ZXNwYWNlIGNoYXJhY3RlcnMuIikKICB9KSksCiAgcmV2ZWFsSG9yaXpvbnRhbFJpZ2h0UGFkZGluZzogcmVnaXN0ZXIobmV3IEVkaXRvckludE9wdGlvbig5MSAvKiBFZGl0b3JPcHRpb24ucmV2ZWFsSG9yaXpvbnRhbFJpZ2h0UGFkZGluZyAqLywgJ3JldmVhbEhvcml6b250YWxSaWdodFBhZGRpbmcnLCAzMCwgMCwgMTAwMCkpLAogIHJvdW5kZWRTZWxlY3Rpb246IHJlZ2lzdGVyKG5ldyBFZGl0b3JCb29sZWFuT3B0aW9uKDkyIC8qIEVkaXRvck9wdGlvbi5yb3VuZGVkU2VsZWN0aW9uICovLCAncm91bmRlZFNlbGVjdGlvbicsIHRydWUsIHsKICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ3JvdW5kZWRTZWxlY3Rpb24nLCAiQ29udHJvbHMgd2hldGhlciBzZWxlY3Rpb25zIHNob3VsZCBoYXZlIHJvdW5kZWQgY29ybmVycy4iKQogIH0pKSwKICBydWxlcnM6IHJlZ2lzdGVyKG5ldyBFZGl0b3JSdWxlcnMoKSksCiAgc2Nyb2xsYmFyOiByZWdpc3RlcihuZXcgRWRpdG9yU2Nyb2xsYmFyKCkpLAogIHNjcm9sbEJleW9uZExhc3RDb2x1bW46IHJlZ2lzdGVyKG5ldyBFZGl0b3JJbnRPcHRpb24oOTUgLyogRWRpdG9yT3B0aW9uLnNjcm9sbEJleW9uZExhc3RDb2x1bW4gKi8sICdzY3JvbGxCZXlvbmRMYXN0Q29sdW1uJywgNCwgMCwgMTA3Mzc0MTgyNCAvKiBDb25zdGFudHMuTUFYX1NBRkVfU01BTExfSU5URUdFUiAqLywgewogICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnc2Nyb2xsQmV5b25kTGFzdENvbHVtbicsICJDb250cm9scyB0aGUgbnVtYmVyIG9mIGV4dHJhIGNoYXJhY3RlcnMgYmV5b25kIHdoaWNoIHRoZSBlZGl0b3Igd2lsbCBzY3JvbGwgaG9yaXpvbnRhbGx5LiIpCiAgfSkpLAogIHNjcm9sbEJleW9uZExhc3RMaW5lOiByZWdpc3RlcihuZXcgRWRpdG9yQm9vbGVhbk9wdGlvbig5NiAvKiBFZGl0b3JPcHRpb24uc2Nyb2xsQmV5b25kTGFzdExpbmUgKi8sICdzY3JvbGxCZXlvbmRMYXN0TGluZScsIHRydWUsIHsKICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ3Njcm9sbEJleW9uZExhc3RMaW5lJywgIkNvbnRyb2xzIHdoZXRoZXIgdGhlIGVkaXRvciB3aWxsIHNjcm9sbCBiZXlvbmQgdGhlIGxhc3QgbGluZS4iKQogIH0pKSwKICBzY3JvbGxQcmVkb21pbmFudEF4aXM6IHJlZ2lzdGVyKG5ldyBFZGl0b3JCb29sZWFuT3B0aW9uKDk3IC8qIEVkaXRvck9wdGlvbi5zY3JvbGxQcmVkb21pbmFudEF4aXMgKi8sICdzY3JvbGxQcmVkb21pbmFudEF4aXMnLCB0cnVlLCB7CiAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdzY3JvbGxQcmVkb21pbmFudEF4aXMnLCAiU2Nyb2xsIG9ubHkgYWxvbmcgdGhlIHByZWRvbWluYW50IGF4aXMgd2hlbiBzY3JvbGxpbmcgYm90aCB2ZXJ0aWNhbGx5IGFuZCBob3Jpem9udGFsbHkgYXQgdGhlIHNhbWUgdGltZS4gUHJldmVudHMgaG9yaXpvbnRhbCBkcmlmdCB3aGVuIHNjcm9sbGluZyB2ZXJ0aWNhbGx5IG9uIGEgdHJhY2twYWQuIikKICB9KSksCiAgc2VsZWN0aW9uQ2xpcGJvYXJkOiByZWdpc3RlcihuZXcgRWRpdG9yQm9vbGVhbk9wdGlvbig5OCAvKiBFZGl0b3JPcHRpb24uc2VsZWN0aW9uQ2xpcGJvYXJkICovLCAnc2VsZWN0aW9uQ2xpcGJvYXJkJywgdHJ1ZSwgewogICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnc2VsZWN0aW9uQ2xpcGJvYXJkJywgIkNvbnRyb2xzIHdoZXRoZXIgdGhlIExpbnV4IHByaW1hcnkgY2xpcGJvYXJkIHNob3VsZCBiZSBzdXBwb3J0ZWQuIiksCiAgICBpbmNsdWRlZDogcGxhdGZvcm0uaXNMaW51eAogIH0pKSwKICBzZWxlY3Rpb25IaWdobGlnaHQ6IHJlZ2lzdGVyKG5ldyBFZGl0b3JCb29sZWFuT3B0aW9uKDk5IC8qIEVkaXRvck9wdGlvbi5zZWxlY3Rpb25IaWdobGlnaHQgKi8sICdzZWxlY3Rpb25IaWdobGlnaHQnLCB0cnVlLCB7CiAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdzZWxlY3Rpb25IaWdobGlnaHQnLCAiQ29udHJvbHMgd2hldGhlciB0aGUgZWRpdG9yIHNob3VsZCBoaWdobGlnaHQgbWF0Y2hlcyBzaW1pbGFyIHRvIHRoZSBzZWxlY3Rpb24uIikKICB9KSksCiAgc2VsZWN0T25MaW5lTnVtYmVyczogcmVnaXN0ZXIobmV3IEVkaXRvckJvb2xlYW5PcHRpb24oMTAwIC8qIEVkaXRvck9wdGlvbi5zZWxlY3RPbkxpbmVOdW1iZXJzICovLCAnc2VsZWN0T25MaW5lTnVtYmVycycsIHRydWUpKSwKICBzaG93Rm9sZGluZ0NvbnRyb2xzOiByZWdpc3RlcihuZXcgRWRpdG9yU3RyaW5nRW51bU9wdGlvbigxMDEgLyogRWRpdG9yT3B0aW9uLnNob3dGb2xkaW5nQ29udHJvbHMgKi8sICdzaG93Rm9sZGluZ0NvbnRyb2xzJywgJ21vdXNlb3ZlcicsIFsnYWx3YXlzJywgJ25ldmVyJywgJ21vdXNlb3ZlciddLCB7CiAgICBlbnVtRGVzY3JpcHRpb25zOiBbbmxzLmxvY2FsaXplKCdzaG93Rm9sZGluZ0NvbnRyb2xzLmFsd2F5cycsICJBbHdheXMgc2hvdyB0aGUgZm9sZGluZyBjb250cm9scy4iKSwgbmxzLmxvY2FsaXplKCdzaG93Rm9sZGluZ0NvbnRyb2xzLm5ldmVyJywgIk5ldmVyIHNob3cgdGhlIGZvbGRpbmcgY29udHJvbHMgYW5kIHJlZHVjZSB0aGUgZ3V0dGVyIHNpemUuIiksIG5scy5sb2NhbGl6ZSgnc2hvd0ZvbGRpbmdDb250cm9scy5tb3VzZW92ZXInLCAiT25seSBzaG93IHRoZSBmb2xkaW5nIGNvbnRyb2xzIHdoZW4gdGhlIG1vdXNlIGlzIG92ZXIgdGhlIGd1dHRlci4iKV0sCiAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdzaG93Rm9sZGluZ0NvbnRyb2xzJywgIkNvbnRyb2xzIHdoZW4gdGhlIGZvbGRpbmcgY29udHJvbHMgb24gdGhlIGd1dHRlciBhcmUgc2hvd24uIikKICB9KSksCiAgc2hvd1VudXNlZDogcmVnaXN0ZXIobmV3IEVkaXRvckJvb2xlYW5PcHRpb24oMTAyIC8qIEVkaXRvck9wdGlvbi5zaG93VW51c2VkICovLCAnc2hvd1VudXNlZCcsIHRydWUsIHsKICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ3Nob3dVbnVzZWQnLCAiQ29udHJvbHMgZmFkaW5nIG91dCBvZiB1bnVzZWQgY29kZS4iKQogIH0pKSwKICBzaG93RGVwcmVjYXRlZDogcmVnaXN0ZXIobmV3IEVkaXRvckJvb2xlYW5PcHRpb24oMTI4IC8qIEVkaXRvck9wdGlvbi5zaG93RGVwcmVjYXRlZCAqLywgJ3Nob3dEZXByZWNhdGVkJywgdHJ1ZSwgewogICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnc2hvd0RlcHJlY2F0ZWQnLCAiQ29udHJvbHMgc3RyaWtldGhyb3VnaCBkZXByZWNhdGVkIHZhcmlhYmxlcy4iKQogIH0pKSwKICBpbmxheUhpbnRzOiByZWdpc3RlcihuZXcgRWRpdG9ySW5sYXlIaW50cygpKSwKICBzbmlwcGV0U3VnZ2VzdGlvbnM6IHJlZ2lzdGVyKG5ldyBFZGl0b3JTdHJpbmdFbnVtT3B0aW9uKDEwMyAvKiBFZGl0b3JPcHRpb24uc25pcHBldFN1Z2dlc3Rpb25zICovLCAnc25pcHBldFN1Z2dlc3Rpb25zJywgJ2lubGluZScsIFsndG9wJywgJ2JvdHRvbScsICdpbmxpbmUnLCAnbm9uZSddLCB7CiAgICBlbnVtRGVzY3JpcHRpb25zOiBbbmxzLmxvY2FsaXplKCdzbmlwcGV0U3VnZ2VzdGlvbnMudG9wJywgIlNob3cgc25pcHBldCBzdWdnZXN0aW9ucyBvbiB0b3Agb2Ygb3RoZXIgc3VnZ2VzdGlvbnMuIiksIG5scy5sb2NhbGl6ZSgnc25pcHBldFN1Z2dlc3Rpb25zLmJvdHRvbScsICJTaG93IHNuaXBwZXQgc3VnZ2VzdGlvbnMgYmVsb3cgb3RoZXIgc3VnZ2VzdGlvbnMuIiksIG5scy5sb2NhbGl6ZSgnc25pcHBldFN1Z2dlc3Rpb25zLmlubGluZScsICJTaG93IHNuaXBwZXRzIHN1Z2dlc3Rpb25zIHdpdGggb3RoZXIgc3VnZ2VzdGlvbnMuIiksIG5scy5sb2NhbGl6ZSgnc25pcHBldFN1Z2dlc3Rpb25zLm5vbmUnLCAiRG8gbm90IHNob3cgc25pcHBldCBzdWdnZXN0aW9ucy4iKV0sCiAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdzbmlwcGV0U3VnZ2VzdGlvbnMnLCAiQ29udHJvbHMgd2hldGhlciBzbmlwcGV0cyBhcmUgc2hvd24gd2l0aCBvdGhlciBzdWdnZXN0aW9ucyBhbmQgaG93IHRoZXkgYXJlIHNvcnRlZC4iKQogIH0pKSwKICBzbWFydFNlbGVjdDogcmVnaXN0ZXIobmV3IFNtYXJ0U2VsZWN0KCkpLAogIHNtb290aFNjcm9sbGluZzogcmVnaXN0ZXIobmV3IEVkaXRvckJvb2xlYW5PcHRpb24oMTA1IC8qIEVkaXRvck9wdGlvbi5zbW9vdGhTY3JvbGxpbmcgKi8sICdzbW9vdGhTY3JvbGxpbmcnLCBmYWxzZSwgewogICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnc21vb3RoU2Nyb2xsaW5nJywgIkNvbnRyb2xzIHdoZXRoZXIgdGhlIGVkaXRvciB3aWxsIHNjcm9sbCB1c2luZyBhbiBhbmltYXRpb24uIikKICB9KSksCiAgc3RvcFJlbmRlcmluZ0xpbmVBZnRlcjogcmVnaXN0ZXIobmV3IEVkaXRvckludE9wdGlvbigxMDcgLyogRWRpdG9yT3B0aW9uLnN0b3BSZW5kZXJpbmdMaW5lQWZ0ZXIgKi8sICdzdG9wUmVuZGVyaW5nTGluZUFmdGVyJywgMTAwMDAsIC0xLCAxMDczNzQxODI0IC8qIENvbnN0YW50cy5NQVhfU0FGRV9TTUFMTF9JTlRFR0VSICovKSksCiAgc3VnZ2VzdDogcmVnaXN0ZXIobmV3IEVkaXRvclN1Z2dlc3QoKSksCiAgaW5saW5lU3VnZ2VzdDogcmVnaXN0ZXIobmV3IElubGluZUVkaXRvclN1Z2dlc3QoKSksCiAgc3VnZ2VzdEZvbnRTaXplOiByZWdpc3RlcihuZXcgRWRpdG9ySW50T3B0aW9uKDEwOSAvKiBFZGl0b3JPcHRpb24uc3VnZ2VzdEZvbnRTaXplICovLCAnc3VnZ2VzdEZvbnRTaXplJywgMCwgMCwgMTAwMCwgewogICAgbWFya2Rvd25EZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdzdWdnZXN0Rm9udFNpemUnLCAiRm9udCBzaXplIGZvciB0aGUgc3VnZ2VzdCB3aWRnZXQuIFdoZW4gc2V0IHRvIHswfSwgdGhlIHZhbHVlIG9mIHsxfSBpcyB1c2VkLiIsICdgMGAnLCAnYCNlZGl0b3IuZm9udFNpemUjYCcpCiAgfSkpLAogIHN1Z2dlc3RMaW5lSGVpZ2h0OiByZWdpc3RlcihuZXcgRWRpdG9ySW50T3B0aW9uKDExMCAvKiBFZGl0b3JPcHRpb24uc3VnZ2VzdExpbmVIZWlnaHQgKi8sICdzdWdnZXN0TGluZUhlaWdodCcsIDAsIDAsIDEwMDAsIHsKICAgIG1hcmtkb3duRGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnc3VnZ2VzdExpbmVIZWlnaHQnLCAiTGluZSBoZWlnaHQgZm9yIHRoZSBzdWdnZXN0IHdpZGdldC4gV2hlbiBzZXQgdG8gezB9LCB0aGUgdmFsdWUgb2YgezF9IGlzIHVzZWQuIFRoZSBtaW5pbXVtIHZhbHVlIGlzIDguIiwgJ2AwYCcsICdgI2VkaXRvci5saW5lSGVpZ2h0I2AnKQogIH0pKSwKICBzdWdnZXN0T25UcmlnZ2VyQ2hhcmFjdGVyczogcmVnaXN0ZXIobmV3IEVkaXRvckJvb2xlYW5PcHRpb24oMTExIC8qIEVkaXRvck9wdGlvbi5zdWdnZXN0T25UcmlnZ2VyQ2hhcmFjdGVycyAqLywgJ3N1Z2dlc3RPblRyaWdnZXJDaGFyYWN0ZXJzJywgdHJ1ZSwgewogICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnc3VnZ2VzdE9uVHJpZ2dlckNoYXJhY3RlcnMnLCAiQ29udHJvbHMgd2hldGhlciBzdWdnZXN0aW9ucyBzaG91bGQgYXV0b21hdGljYWxseSBzaG93IHVwIHdoZW4gdHlwaW5nIHRyaWdnZXIgY2hhcmFjdGVycy4iKQogIH0pKSwKICBzdWdnZXN0U2VsZWN0aW9uOiByZWdpc3RlcihuZXcgRWRpdG9yU3RyaW5nRW51bU9wdGlvbigxMTIgLyogRWRpdG9yT3B0aW9uLnN1Z2dlc3RTZWxlY3Rpb24gKi8sICdzdWdnZXN0U2VsZWN0aW9uJywgJ2ZpcnN0JywgWydmaXJzdCcsICdyZWNlbnRseVVzZWQnLCAncmVjZW50bHlVc2VkQnlQcmVmaXgnXSwgewogICAgbWFya2Rvd25FbnVtRGVzY3JpcHRpb25zOiBbbmxzLmxvY2FsaXplKCdzdWdnZXN0U2VsZWN0aW9uLmZpcnN0JywgIkFsd2F5cyBzZWxlY3QgdGhlIGZpcnN0IHN1Z2dlc3Rpb24uIiksIG5scy5sb2NhbGl6ZSgnc3VnZ2VzdFNlbGVjdGlvbi5yZWNlbnRseVVzZWQnLCAiU2VsZWN0IHJlY2VudCBzdWdnZXN0aW9ucyB1bmxlc3MgZnVydGhlciB0eXBpbmcgc2VsZWN0cyBvbmUsIGUuZy4gYGNvbnNvbGUufCAtPiBjb25zb2xlLmxvZ2AgYmVjYXVzZSBgbG9nYCBoYXMgYmVlbiBjb21wbGV0ZWQgcmVjZW50bHkuIiksIG5scy5sb2NhbGl6ZSgnc3VnZ2VzdFNlbGVjdGlvbi5yZWNlbnRseVVzZWRCeVByZWZpeCcsICJTZWxlY3Qgc3VnZ2VzdGlvbnMgYmFzZWQgb24gcHJldmlvdXMgcHJlZml4ZXMgdGhhdCBoYXZlIGNvbXBsZXRlZCB0aG9zZSBzdWdnZXN0aW9ucywgZS5nLiBgY28gLT4gY29uc29sZWAgYW5kIGBjb24gLT4gY29uc3RgLiIpXSwKICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ3N1Z2dlc3RTZWxlY3Rpb24nLCAiQ29udHJvbHMgaG93IHN1Z2dlc3Rpb25zIGFyZSBwcmUtc2VsZWN0ZWQgd2hlbiBzaG93aW5nIHRoZSBzdWdnZXN0IGxpc3QuIikKICB9KSksCiAgdGFiQ29tcGxldGlvbjogcmVnaXN0ZXIobmV3IEVkaXRvclN0cmluZ0VudW1PcHRpb24oMTEzIC8qIEVkaXRvck9wdGlvbi50YWJDb21wbGV0aW9uICovLCAndGFiQ29tcGxldGlvbicsICdvZmYnLCBbJ29uJywgJ29mZicsICdvbmx5U25pcHBldHMnXSwgewogICAgZW51bURlc2NyaXB0aW9uczogW25scy5sb2NhbGl6ZSgndGFiQ29tcGxldGlvbi5vbicsICJUYWIgY29tcGxldGUgd2lsbCBpbnNlcnQgdGhlIGJlc3QgbWF0Y2hpbmcgc3VnZ2VzdGlvbiB3aGVuIHByZXNzaW5nIHRhYi4iKSwgbmxzLmxvY2FsaXplKCd0YWJDb21wbGV0aW9uLm9mZicsICJEaXNhYmxlIHRhYiBjb21wbGV0aW9ucy4iKSwgbmxzLmxvY2FsaXplKCd0YWJDb21wbGV0aW9uLm9ubHlTbmlwcGV0cycsICJUYWIgY29tcGxldGUgc25pcHBldHMgd2hlbiB0aGVpciBwcmVmaXggbWF0Y2guIFdvcmtzIGJlc3Qgd2hlbiAncXVpY2tTdWdnZXN0aW9ucycgYXJlbid0IGVuYWJsZWQuIildLAogICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgndGFiQ29tcGxldGlvbicsICJFbmFibGVzIHRhYiBjb21wbGV0aW9ucy4iKQogIH0pKSwKICB0YWJJbmRleDogcmVnaXN0ZXIobmV3IEVkaXRvckludE9wdGlvbigxMTQgLyogRWRpdG9yT3B0aW9uLnRhYkluZGV4ICovLCAndGFiSW5kZXgnLCAwLCAtMSwgMTA3Mzc0MTgyNCAvKiBDb25zdGFudHMuTUFYX1NBRkVfU01BTExfSU5URUdFUiAqLykpLAogIHVuaWNvZGVIaWdobGlnaHQ6IHJlZ2lzdGVyKG5ldyBVbmljb2RlSGlnaGxpZ2h0KCkpLAogIHVudXN1YWxMaW5lVGVybWluYXRvcnM6IHJlZ2lzdGVyKG5ldyBFZGl0b3JTdHJpbmdFbnVtT3B0aW9uKDExNiAvKiBFZGl0b3JPcHRpb24udW51c3VhbExpbmVUZXJtaW5hdG9ycyAqLywgJ3VudXN1YWxMaW5lVGVybWluYXRvcnMnLCAncHJvbXB0JywgWydhdXRvJywgJ29mZicsICdwcm9tcHQnXSwgewogICAgZW51bURlc2NyaXB0aW9uczogW25scy5sb2NhbGl6ZSgndW51c3VhbExpbmVUZXJtaW5hdG9ycy5hdXRvJywgIlVudXN1YWwgbGluZSB0ZXJtaW5hdG9ycyBhcmUgYXV0b21hdGljYWxseSByZW1vdmVkLiIpLCBubHMubG9jYWxpemUoJ3VudXN1YWxMaW5lVGVybWluYXRvcnMub2ZmJywgIlVudXN1YWwgbGluZSB0ZXJtaW5hdG9ycyBhcmUgaWdub3JlZC4iKSwgbmxzLmxvY2FsaXplKCd1bnVzdWFsTGluZVRlcm1pbmF0b3JzLnByb21wdCcsICJVbnVzdWFsIGxpbmUgdGVybWluYXRvcnMgcHJvbXB0IHRvIGJlIHJlbW92ZWQuIildLAogICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgndW51c3VhbExpbmVUZXJtaW5hdG9ycycsICJSZW1vdmUgdW51c3VhbCBsaW5lIHRlcm1pbmF0b3JzIHRoYXQgbWlnaHQgY2F1c2UgcHJvYmxlbXMuIikKICB9KSksCiAgdXNlU2hhZG93RE9NOiByZWdpc3RlcihuZXcgRWRpdG9yQm9vbGVhbk9wdGlvbigxMTcgLyogRWRpdG9yT3B0aW9uLnVzZVNoYWRvd0RPTSAqLywgJ3VzZVNoYWRvd0RPTScsIHRydWUpKSwKICB1c2VUYWJTdG9wczogcmVnaXN0ZXIobmV3IEVkaXRvckJvb2xlYW5PcHRpb24oMTE4IC8qIEVkaXRvck9wdGlvbi51c2VUYWJTdG9wcyAqLywgJ3VzZVRhYlN0b3BzJywgdHJ1ZSwgewogICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgndXNlVGFiU3RvcHMnLCAiSW5zZXJ0aW5nIGFuZCBkZWxldGluZyB3aGl0ZXNwYWNlIGZvbGxvd3MgdGFiIHN0b3BzLiIpCiAgfSkpLAogIHdvcmRTZXBhcmF0b3JzOiByZWdpc3RlcihuZXcgRWRpdG9yU3RyaW5nT3B0aW9uKDExOSAvKiBFZGl0b3JPcHRpb24ud29yZFNlcGFyYXRvcnMgKi8sICd3b3JkU2VwYXJhdG9ycycsIFVTVUFMX1dPUkRfU0VQQVJBVE9SUywgewogICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnd29yZFNlcGFyYXRvcnMnLCAiQ2hhcmFjdGVycyB0aGF0IHdpbGwgYmUgdXNlZCBhcyB3b3JkIHNlcGFyYXRvcnMgd2hlbiBkb2luZyB3b3JkIHJlbGF0ZWQgbmF2aWdhdGlvbnMgb3Igb3BlcmF0aW9ucy4iKQogIH0pKSwKICB3b3JkV3JhcDogcmVnaXN0ZXIobmV3IEVkaXRvclN0cmluZ0VudW1PcHRpb24oMTIwIC8qIEVkaXRvck9wdGlvbi53b3JkV3JhcCAqLywgJ3dvcmRXcmFwJywgJ29mZicsIFsnb2ZmJywgJ29uJywgJ3dvcmRXcmFwQ29sdW1uJywgJ2JvdW5kZWQnXSwgewogICAgbWFya2Rvd25FbnVtRGVzY3JpcHRpb25zOiBbbmxzLmxvY2FsaXplKCd3b3JkV3JhcC5vZmYnLCAiTGluZXMgd2lsbCBuZXZlciB3cmFwLiIpLCBubHMubG9jYWxpemUoJ3dvcmRXcmFwLm9uJywgIkxpbmVzIHdpbGwgd3JhcCBhdCB0aGUgdmlld3BvcnQgd2lkdGguIiksIG5scy5sb2NhbGl6ZSh7CiAgICAgIGtleTogJ3dvcmRXcmFwLndvcmRXcmFwQ29sdW1uJywKICAgICAgY29tbWVudDogWyctIGBlZGl0b3Iud29yZFdyYXBDb2x1bW5gIHJlZmVycyB0byBhIGRpZmZlcmVudCBzZXR0aW5nIGFuZCBzaG91bGQgbm90IGJlIGxvY2FsaXplZC4nXQogICAgfSwgIkxpbmVzIHdpbGwgd3JhcCBhdCBgI2VkaXRvci53b3JkV3JhcENvbHVtbiNgLiIpLCBubHMubG9jYWxpemUoewogICAgICBrZXk6ICd3b3JkV3JhcC5ib3VuZGVkJywKICAgICAgY29tbWVudDogWyctIHZpZXdwb3J0IG1lYW5zIHRoZSBlZGdlIG9mIHRoZSB2aXNpYmxlIHdpbmRvdyBzaXplLicsICctIGBlZGl0b3Iud29yZFdyYXBDb2x1bW5gIHJlZmVycyB0byBhIGRpZmZlcmVudCBzZXR0aW5nIGFuZCBzaG91bGQgbm90IGJlIGxvY2FsaXplZC4nXQogICAgfSwgIkxpbmVzIHdpbGwgd3JhcCBhdCB0aGUgbWluaW11bSBvZiB2aWV3cG9ydCBhbmQgYCNlZGl0b3Iud29yZFdyYXBDb2x1bW4jYC4iKV0sCiAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKHsKICAgICAga2V5OiAnd29yZFdyYXAnLAogICAgICBjb21tZW50OiBbJy0gXCdvZmZcJywgXCdvblwnLCBcJ3dvcmRXcmFwQ29sdW1uXCcgYW5kIFwnYm91bmRlZFwnIHJlZmVyIHRvIHZhbHVlcyB0aGUgc2V0dGluZyBjYW4gdGFrZSBhbmQgc2hvdWxkIG5vdCBiZSBsb2NhbGl6ZWQuJywgJy0gYGVkaXRvci53b3JkV3JhcENvbHVtbmAgcmVmZXJzIHRvIGEgZGlmZmVyZW50IHNldHRpbmcgYW5kIHNob3VsZCBub3QgYmUgbG9jYWxpemVkLiddCiAgICB9LCAiQ29udHJvbHMgaG93IGxpbmVzIHNob3VsZCB3cmFwLiIpCiAgfSkpLAogIHdvcmRXcmFwQnJlYWtBZnRlckNoYXJhY3RlcnM6IHJlZ2lzdGVyKG5ldyBFZGl0b3JTdHJpbmdPcHRpb24oMTIxIC8qIEVkaXRvck9wdGlvbi53b3JkV3JhcEJyZWFrQWZ0ZXJDaGFyYWN0ZXJzICovLCAnd29yZFdyYXBCcmVha0FmdGVyQ2hhcmFjdGVycycsCiAgLy8gYWxsb3ctYW55LXVuaWNvZGUtbmV4dC1saW5lCiAgJyBcdH0pXT98LyYuLDvCosKw4oCy4oCz4oCw4oSD44CB44CC772h772k77+g77yM77yO77ya77yb77yf77yB77yF44O7772l44Kd44Ke44O944O+44O844Kh44Kj44Kl44Kn44Kp44OD44Oj44Ol44On44Ou44O144O244GB44GD44GF44GH44GJ44Gj44KD44KF44KH44KO44KV44KW44ew44ex44ey44ez44e044e144e244e344e444e544e644e744e844e944e+44e/44CF44C7772n772o772p772q772r772s772t772u772v772w4oCd44CJ44CL44CN44CP44CR44CV77yJ77y9772d772jJykpLAogIHdvcmRXcmFwQnJlYWtCZWZvcmVDaGFyYWN0ZXJzOiByZWdpc3RlcihuZXcgRWRpdG9yU3RyaW5nT3B0aW9uKDEyMiAvKiBFZGl0b3JPcHRpb24ud29yZFdyYXBCcmVha0JlZm9yZUNoYXJhY3RlcnMgKi8sICd3b3JkV3JhcEJyZWFrQmVmb3JlQ2hhcmFjdGVycycsCiAgLy8gYWxsb3ctYW55LXVuaWNvZGUtbmV4dC1saW5lCiAgJyhbe+KAmOKAnOOAiOOAiuOAjOOAjuOAkOOAlO+8iO+8u++9m++9osKjwqXvvITvv6Hvv6Ur77yLJykpLAogIHdvcmRXcmFwQ29sdW1uOiByZWdpc3RlcihuZXcgRWRpdG9ySW50T3B0aW9uKDEyMyAvKiBFZGl0b3JPcHRpb24ud29yZFdyYXBDb2x1bW4gKi8sICd3b3JkV3JhcENvbHVtbicsIDgwLCAxLCAxMDczNzQxODI0IC8qIENvbnN0YW50cy5NQVhfU0FGRV9TTUFMTF9JTlRFR0VSICovLCB7CiAgICBtYXJrZG93bkRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoewogICAgICBrZXk6ICd3b3JkV3JhcENvbHVtbicsCiAgICAgIGNvbW1lbnQ6IFsnLSBgZWRpdG9yLndvcmRXcmFwYCByZWZlcnMgdG8gYSBkaWZmZXJlbnQgc2V0dGluZyBhbmQgc2hvdWxkIG5vdCBiZSBsb2NhbGl6ZWQuJywgJy0gXCd3b3JkV3JhcENvbHVtblwnIGFuZCBcJ2JvdW5kZWRcJyByZWZlciB0byB2YWx1ZXMgdGhlIGRpZmZlcmVudCBzZXR0aW5nIGNhbiB0YWtlIGFuZCBzaG91bGQgbm90IGJlIGxvY2FsaXplZC4nXQogICAgfSwgIkNvbnRyb2xzIHRoZSB3cmFwcGluZyBjb2x1bW4gb2YgdGhlIGVkaXRvciB3aGVuIGAjZWRpdG9yLndvcmRXcmFwI2AgaXMgYHdvcmRXcmFwQ29sdW1uYCBvciBgYm91bmRlZGAuIikKICB9KSksCiAgd29yZFdyYXBPdmVycmlkZTE6IHJlZ2lzdGVyKG5ldyBFZGl0b3JTdHJpbmdFbnVtT3B0aW9uKDEyNCAvKiBFZGl0b3JPcHRpb24ud29yZFdyYXBPdmVycmlkZTEgKi8sICd3b3JkV3JhcE92ZXJyaWRlMScsICdpbmhlcml0JywgWydvZmYnLCAnb24nLCAnaW5oZXJpdCddKSksCiAgd29yZFdyYXBPdmVycmlkZTI6IHJlZ2lzdGVyKG5ldyBFZGl0b3JTdHJpbmdFbnVtT3B0aW9uKDEyNSAvKiBFZGl0b3JPcHRpb24ud29yZFdyYXBPdmVycmlkZTIgKi8sICd3b3JkV3JhcE92ZXJyaWRlMicsICdpbmhlcml0JywgWydvZmYnLCAnb24nLCAnaW5oZXJpdCddKSksCiAgd3JhcHBpbmdJbmRlbnQ6IHJlZ2lzdGVyKG5ldyBFZGl0b3JFbnVtT3B0aW9uKDEyNiAvKiBFZGl0b3JPcHRpb24ud3JhcHBpbmdJbmRlbnQgKi8sICd3cmFwcGluZ0luZGVudCcsIDEgLyogV3JhcHBpbmdJbmRlbnQuU2FtZSAqLywgJ3NhbWUnLCBbJ25vbmUnLCAnc2FtZScsICdpbmRlbnQnLCAnZGVlcEluZGVudCddLCBfd3JhcHBpbmdJbmRlbnRGcm9tU3RyaW5nLCB7CiAgICBlbnVtRGVzY3JpcHRpb25zOiBbbmxzLmxvY2FsaXplKCd3cmFwcGluZ0luZGVudC5ub25lJywgIk5vIGluZGVudGF0aW9uLiBXcmFwcGVkIGxpbmVzIGJlZ2luIGF0IGNvbHVtbiAxLiIpLCBubHMubG9jYWxpemUoJ3dyYXBwaW5nSW5kZW50LnNhbWUnLCAiV3JhcHBlZCBsaW5lcyBnZXQgdGhlIHNhbWUgaW5kZW50YXRpb24gYXMgdGhlIHBhcmVudC4iKSwgbmxzLmxvY2FsaXplKCd3cmFwcGluZ0luZGVudC5pbmRlbnQnLCAiV3JhcHBlZCBsaW5lcyBnZXQgKzEgaW5kZW50YXRpb24gdG93YXJkIHRoZSBwYXJlbnQuIiksIG5scy5sb2NhbGl6ZSgnd3JhcHBpbmdJbmRlbnQuZGVlcEluZGVudCcsICJXcmFwcGVkIGxpbmVzIGdldCArMiBpbmRlbnRhdGlvbiB0b3dhcmQgdGhlIHBhcmVudC4iKV0sCiAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCd3cmFwcGluZ0luZGVudCcsICJDb250cm9scyB0aGUgaW5kZW50YXRpb24gb2Ygd3JhcHBlZCBsaW5lcy4iKQogIH0pKSwKICB3cmFwcGluZ1N0cmF0ZWd5OiByZWdpc3RlcihuZXcgRWRpdG9yU3RyaW5nRW51bU9wdGlvbigxMjcgLyogRWRpdG9yT3B0aW9uLndyYXBwaW5nU3RyYXRlZ3kgKi8sICd3cmFwcGluZ1N0cmF0ZWd5JywgJ3NpbXBsZScsIFsnc2ltcGxlJywgJ2FkdmFuY2VkJ10sIHsKICAgIGVudW1EZXNjcmlwdGlvbnM6IFtubHMubG9jYWxpemUoJ3dyYXBwaW5nU3RyYXRlZ3kuc2ltcGxlJywgIkFzc3VtZXMgdGhhdCBhbGwgY2hhcmFjdGVycyBhcmUgb2YgdGhlIHNhbWUgd2lkdGguIFRoaXMgaXMgYSBmYXN0IGFsZ29yaXRobSB0aGF0IHdvcmtzIGNvcnJlY3RseSBmb3IgbW9ub3NwYWNlIGZvbnRzIGFuZCBjZXJ0YWluIHNjcmlwdHMgKGxpa2UgTGF0aW4gY2hhcmFjdGVycykgd2hlcmUgZ2x5cGhzIGFyZSBvZiBlcXVhbCB3aWR0aC4iKSwgbmxzLmxvY2FsaXplKCd3cmFwcGluZ1N0cmF0ZWd5LmFkdmFuY2VkJywgIkRlbGVnYXRlcyB3cmFwcGluZyBwb2ludHMgY29tcHV0YXRpb24gdG8gdGhlIGJyb3dzZXIuIFRoaXMgaXMgYSBzbG93IGFsZ29yaXRobSwgdGhhdCBtaWdodCBjYXVzZSBmcmVlemVzIGZvciBsYXJnZSBmaWxlcywgYnV0IGl0IHdvcmtzIGNvcnJlY3RseSBpbiBhbGwgY2FzZXMuIildLAogICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnd3JhcHBpbmdTdHJhdGVneScsICJDb250cm9scyB0aGUgYWxnb3JpdGhtIHRoYXQgY29tcHV0ZXMgd3JhcHBpbmcgcG9pbnRzLiIpCiAgfSkpLAogIC8vIExlYXZlIHRoZXNlIGF0IHRoZSBlbmQgKGJlY2F1c2UgdGhleSBoYXZlIGRlcGVuZGVuY2llcyEpCiAgZWRpdG9yQ2xhc3NOYW1lOiByZWdpc3RlcihuZXcgRWRpdG9yQ2xhc3NOYW1lKCkpLAogIHBpeGVsUmF0aW86IHJlZ2lzdGVyKG5ldyBFZGl0b3JQaXhlbFJhdGlvKCkpLAogIHRhYkZvY3VzTW9kZTogcmVnaXN0ZXIobmV3IEVkaXRvclRhYkZvY3VzTW9kZSgpKSwKICBsYXlvdXRJbmZvOiByZWdpc3RlcihuZXcgRWRpdG9yTGF5b3V0SW5mb0NvbXB1dGVyKCkpLAogIHdyYXBwaW5nSW5mbzogcmVnaXN0ZXIobmV3IEVkaXRvcldyYXBwaW5nSW5mb0NvbXB1dGVyKCkpCn07"},{"version":3,"names":["nls","platform","USUAL_WORD_SEPARATORS","arrays","objects","EDITOR_MODEL_DEFAULTS","MINIMAP_GUTTER_WIDTH","ConfigurationChangedEvent","values","_values","id","ComputeOptionsMemory","stableMinimapLayoutInput","stableFitMaxMinimapScale","stableFitRemainingWidth","BaseEditorOption","name","defaultValue","schema","value","update","applyUpdate","env","options","ApplyUpdateResult","newValue","didChange","Array","isArray","arrayEquals","equals","key","hasOwnProperty","result","ComputedEditorOption","undefined","input","SimpleEditorOption","boolean","Boolean","EditorBooleanOption","type","default","clampedInt","minimum","maximum","r","parseInt","isNaN","Math","max","min","EditorIntOption","EditorFloatOption","validationFn","float","n","parseFloat","EditorStringOption","string","stringSet","allowedValues","indexOf","EditorStringEnumOption","enum","_allowedValues","EditorEnumOption","defaultStringValue","convert","_convert","_autoIndentFromString","autoIndent","EditorAccessibilitySupport","enumDescriptions","localize","description","accessibilitySupport","EditorComments","defaults","insertSpace","ignoreEmptyLines","_input","_cursorBlinkingStyleFromString","cursorBlinkingStyle","TextEditorCursorStyle","_cursorStyleFromString","cursorStyle","Line","Block","Underline","LineThin","BlockOutline","UnderlineThin","EditorClassName","_","classNames","get","push","extraEditorClassName","join","EditorEmptySelectionClipboard","emptySelectionClipboard","EditorFind","cursorMoveOnType","seedSearchStringFromSelection","autoFindInSelection","globalFindClipboard","addExtraSpaceOnTop","loop","included","isMacintosh","EditorFontLigatures","OFF","anyOf","ON","EditorFontInfo","fontInfo","EditorFontSize","EDITOR_FONT_DEFAULTS","fontSize","clamp","EditorFontWeight","fontWeight","MINIMUM_VALUE","MAXIMUM_VALUE","errorMessage","pattern","SUGGESTION_VALUES","String","EditorGoToLocation","multiple","multipleDefinitions","multipleTypeDefinitions","multipleDeclarations","multipleImplementations","multipleReferences","alternativeDefinitionCommand","alternativeTypeDefinitionCommand","alternativeDeclarationCommand","alternativeImplementationCommand","alternativeReferenceCommand","jsonSubset","alternativeCommandOptions","deprecationMessage","Object","assign","_a","_b","_c","_d","_e","EditorHover","enabled","delay","sticky","above","EditorLayoutInfoComputer","computeLayout","memory","outerWidth","outerHeight","isDominatedByLongLines","lineHeight","viewLineCount","lineNumbersDigitCount","typicalHalfwidthCharacterWidth","maxDigitWidth","pixelRatio","typicalViewportLineCount","height","extraLinesBeyondLastLine","scrollBeyondLastLine","desiredRatio","minimapLineCount","floor","minimap","renderMinimap","minimapLeft","minimapWidth","minimapHeightIsEditorHeight","minimapIsSampling","minimapScale","minimapLineHeight","minimapCanvasInnerWidth","minimapCanvasInnerHeight","minimapCanvasOuterWidth","minimapCanvasOuterHeight","couldUseMemory","side","size","showSlider","renderCharacters","maxColumn","scale","verticalScrollbarWidth","isViewportWrapping","minimapRenderCharacters","round","minimapMaxColumn","minimapSize","minimapSide","remainingWidth","baseCharHeight","minimapCharWidth","minimapWidthMultiplier","computeContainedMinimapLineCount","ratio","fitBecomesFill","maxMinimapScale","effectiveMinimapHeight","ceil","configuredMinimapScale","minimapMaxWidth","wordWrapOverride2","wordWrapOverride1","wordWrap","wordWrapColumn","showGlyphMargin","showLineNumbers","renderType","lineNumbersMinChars","scrollbar","verticalScrollbarSize","verticalScrollbarHasArrows","verticalHasArrows","scrollbarArrowSize","arrowSize","horizontalScrollbarHeight","horizontalScrollbarSize","rawLineDecorationsWidth","folding","showFoldingDecoration","lineDecorationsWidth","test","substr","length","lineNumbersWidth","digitCount","glyphMarginWidth","glyphMarginLeft","lineNumbersLeft","decorationsLeft","contentLeft","isWordWrapMinified","wrappingColumn","minimapLayout","_computeMinimapLayout","contentWidth","viewportColumn","verticalArrowSize","width","decorationsWidth","overviewRuler","top","right","EditorLightbulb","EditorExperimental","stickyScroll","EditorInlayHints","fontFamily","padding","markdownEnumDescriptions","markdownDescription","EditorLineHeight","x","EditorMinimap","autohide","_multiCursorModifierFromString","multiCursorModifier","EditorPadding","bottom","EditorParameterHints","cycle","EditorPixelRatio","EditorQuickSuggestions","other","comments","strings","types","additionalProperties","properties","validatedOther","validatedComments","validatedStrings","EditorRenderLineNumbersOption","renderFn","lineNumbers","filterValidationDecorations","renderValidationDecorations","EditorRulers","columnSchema","items","column","color","format","rulers","_element","element","sort","a","b","_scrollbarVisibilityFromString","visibility","EditorScrollbar","vertical","horizontal","useShadows","horizontalHasArrows","horizontalSliderSize","verticalSliderSize","handleMouseWheel","alwaysConsumeMouseWheel","scrollByPage","inUntrustedWorkspace","unicodeHighlightConfigKeys","allowedCharacters","invisibleCharacters","nonBasicASCII","ambiguousCharacters","includeComments","includeStrings","allowedLocales","UnicodeHighlight","_os","_vscode","restricted","primitiveSet","validateBooleanMap","map","entries","InlineEditorSuggest","mode","BracketPairColorization","bracketPairColorizationOptions","independentColorPoolPerBracketType","GuideOptions","bracketPairs","bracketPairsHorizontal","highlightActiveBracketPair","indentation","highlightActiveIndentation","idx","EditorSuggest","insertMode","filterGraceful","snippetsPreventQuickSuggestions","localityBonus","shareSuggestSelections","showIcons","showStatusBar","preview","previewMode","showInlineDetails","showMethods","showFunctions","showConstructors","showDeprecated","showFields","showVariables","showClasses","showStructs","showInterfaces","showModules","showProperties","showEvents","showOperators","showUnits","showValues","showConstants","showEnums","showEnumMembers","showKeywords","showWords","showColors","showFiles","showReferences","showFolders","showTypeParameters","showSnippets","showUsers","showIssues","SmartSelect","selectLeadingAndTrailingWhitespace","EditorTabFocusMode","readOnly","tabFocusMode","_wrappingIndentFromString","wrappingIndent","EditorWrappingInfoComputer","layoutInfo","EditorDropIntoEditor","DEFAULT_WINDOWS_FONT_FAMILY","DEFAULT_MAC_FONT_FAMILY","DEFAULT_LINUX_FONT_FAMILY","isLinux","letterSpacing","editorOptionsRegistry","register","option","EditorOptions","acceptSuggestionOnCommitCharacter","acceptSuggestionOnEnter","accessibilityPageSize","ariaLabel","autoClosingBrackets","autoClosingDelete","autoClosingOvertype","autoClosingQuotes","automaticLayout","autoSurround","bracketPairColorization","bracketPairGuides","stickyTabStops","codeLens","codeLensFontFamily","codeLensFontSize","colorDecorators","columnSelection","contextmenu","copyWithSyntaxHighlighting","cursorBlinking","cursorSmoothCaretAnimation","cursorSurroundingLines","cursorSurroundingLinesStyle","cursorWidth","disableLayerHinting","disableMonospaceOptimizations","domReadOnly","dragAndDrop","dropIntoEditor","experimental","fastScrollSensitivity","find","fixedOverflowWidgets","foldingStrategy","foldingHighlight","foldingImportsByDefault","foldingMaximumRegions","unfoldOnClickAfterEndOfLine","fontLigatures2","formatOnPaste","formatOnType","glyphMargin","gotoLocation","hideCursorInOverviewRuler","hover","inDiffEditor","lightbulb","linkedEditing","links","matchBrackets","mouseStyle","mouseWheelScrollSensitivity","mouseWheelZoom","multiCursorMergeOverlapping","comment","multiCursorPaste","occurrencesHighlight","overviewRulerBorder","overviewRulerLanes","parameterHints","peekWidgetDefaultFocus","definitionLinkOpensInPeek","quickSuggestions","quickSuggestionsDelay","renameOnType","markdownDeprecationMessage","renderControlCharacters","renderFinalNewline","renderLineHighlight","renderLineHighlightOnlyWhenFocus","renderWhitespace","revealHorizontalRightPadding","roundedSelection","scrollBeyondLastColumn","scrollPredominantAxis","selectionClipboard","selectionHighlight","selectOnLineNumbers","showFoldingControls","showUnused","inlayHints","snippetSuggestions","smartSelect","smoothScrolling","stopRenderingLineAfter","suggest","inlineSuggest","suggestFontSize","suggestLineHeight","suggestOnTriggerCharacters","suggestSelection","tabCompletion","tabIndex","unicodeHighlight","unusualLineTerminators","useShadowDOM","useTabStops","wordSeparators","wordWrapBreakAfterCharacters","wordWrapBreakBeforeCharacters","wrappingStrategy","editorClassName","wrappingInfo"],"sources":["/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/config/editorOptions.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as nls from '../../../nls.js';\nimport * as platform from '../../../base/common/platform.js';\nimport { USUAL_WORD_SEPARATORS } from '../core/wordHelper.js';\nimport * as arrays from '../../../base/common/arrays.js';\nimport * as objects from '../../../base/common/objects.js';\nimport { EDITOR_MODEL_DEFAULTS } from '../core/textModelDefaults.js';\n/**\n * @internal\n * The width of the minimap gutter, in pixels.\n */\nexport const MINIMAP_GUTTER_WIDTH = 8;\n//#endregion\n/**\n * An event describing that the configuration of the editor has changed.\n */\nexport class ConfigurationChangedEvent {\n    /**\n     * @internal\n     */\n    constructor(values) {\n        this._values = values;\n    }\n    hasChanged(id) {\n        return this._values[id];\n    }\n}\n/**\n * @internal\n */\nexport class ComputeOptionsMemory {\n    constructor() {\n        this.stableMinimapLayoutInput = null;\n        this.stableFitMaxMinimapScale = 0;\n        this.stableFitRemainingWidth = 0;\n    }\n}\n/**\n * @internal\n */\nclass BaseEditorOption {\n    constructor(id, name, defaultValue, schema) {\n        this.id = id;\n        this.name = name;\n        this.defaultValue = defaultValue;\n        this.schema = schema;\n    }\n    applyUpdate(value, update) {\n        return applyUpdate(value, update);\n    }\n    compute(env, options, value) {\n        return value;\n    }\n}\nexport class ApplyUpdateResult {\n    constructor(newValue, didChange) {\n        this.newValue = newValue;\n        this.didChange = didChange;\n    }\n}\nfunction applyUpdate(value, update) {\n    if (typeof value !== 'object' || typeof update !== 'object' || !value || !update) {\n        return new ApplyUpdateResult(update, value !== update);\n    }\n    if (Array.isArray(value) || Array.isArray(update)) {\n        const arrayEquals = Array.isArray(value) && Array.isArray(update) && arrays.equals(value, update);\n        return new ApplyUpdateResult(update, !arrayEquals);\n    }\n    let didChange = false;\n    for (const key in update) {\n        if (update.hasOwnProperty(key)) {\n            const result = applyUpdate(value[key], update[key]);\n            if (result.didChange) {\n                value[key] = result.newValue;\n                didChange = true;\n            }\n        }\n    }\n    return new ApplyUpdateResult(value, didChange);\n}\n/**\n * @internal\n */\nclass ComputedEditorOption {\n    constructor(id) {\n        this.schema = undefined;\n        this.id = id;\n        this.name = '_never_';\n        this.defaultValue = undefined;\n    }\n    applyUpdate(value, update) {\n        return applyUpdate(value, update);\n    }\n    validate(input) {\n        return this.defaultValue;\n    }\n}\nclass SimpleEditorOption {\n    constructor(id, name, defaultValue, schema) {\n        this.id = id;\n        this.name = name;\n        this.defaultValue = defaultValue;\n        this.schema = schema;\n    }\n    applyUpdate(value, update) {\n        return applyUpdate(value, update);\n    }\n    validate(input) {\n        if (typeof input === 'undefined') {\n            return this.defaultValue;\n        }\n        return input;\n    }\n    compute(env, options, value) {\n        return value;\n    }\n}\n/**\n * @internal\n */\nexport function boolean(value, defaultValue) {\n    if (typeof value === 'undefined') {\n        return defaultValue;\n    }\n    if (value === 'false') {\n        // treat the string 'false' as false\n        return false;\n    }\n    return Boolean(value);\n}\nclass EditorBooleanOption extends SimpleEditorOption {\n    constructor(id, name, defaultValue, schema = undefined) {\n        if (typeof schema !== 'undefined') {\n            schema.type = 'boolean';\n            schema.default = defaultValue;\n        }\n        super(id, name, defaultValue, schema);\n    }\n    validate(input) {\n        return boolean(input, this.defaultValue);\n    }\n}\n/**\n * @internal\n */\nexport function clampedInt(value, defaultValue, minimum, maximum) {\n    if (typeof value === 'undefined') {\n        return defaultValue;\n    }\n    let r = parseInt(value, 10);\n    if (isNaN(r)) {\n        return defaultValue;\n    }\n    r = Math.max(minimum, r);\n    r = Math.min(maximum, r);\n    return r | 0;\n}\nclass EditorIntOption extends SimpleEditorOption {\n    constructor(id, name, defaultValue, minimum, maximum, schema = undefined) {\n        if (typeof schema !== 'undefined') {\n            schema.type = 'integer';\n            schema.default = defaultValue;\n            schema.minimum = minimum;\n            schema.maximum = maximum;\n        }\n        super(id, name, defaultValue, schema);\n        this.minimum = minimum;\n        this.maximum = maximum;\n    }\n    static clampedInt(value, defaultValue, minimum, maximum) {\n        return clampedInt(value, defaultValue, minimum, maximum);\n    }\n    validate(input) {\n        return EditorIntOption.clampedInt(input, this.defaultValue, this.minimum, this.maximum);\n    }\n}\nclass EditorFloatOption extends SimpleEditorOption {\n    constructor(id, name, defaultValue, validationFn, schema) {\n        if (typeof schema !== 'undefined') {\n            schema.type = 'number';\n            schema.default = defaultValue;\n        }\n        super(id, name, defaultValue, schema);\n        this.validationFn = validationFn;\n    }\n    static clamp(n, min, max) {\n        if (n < min) {\n            return min;\n        }\n        if (n > max) {\n            return max;\n        }\n        return n;\n    }\n    static float(value, defaultValue) {\n        if (typeof value === 'number') {\n            return value;\n        }\n        if (typeof value === 'undefined') {\n            return defaultValue;\n        }\n        const r = parseFloat(value);\n        return (isNaN(r) ? defaultValue : r);\n    }\n    validate(input) {\n        return this.validationFn(EditorFloatOption.float(input, this.defaultValue));\n    }\n}\nclass EditorStringOption extends SimpleEditorOption {\n    static string(value, defaultValue) {\n        if (typeof value !== 'string') {\n            return defaultValue;\n        }\n        return value;\n    }\n    constructor(id, name, defaultValue, schema = undefined) {\n        if (typeof schema !== 'undefined') {\n            schema.type = 'string';\n            schema.default = defaultValue;\n        }\n        super(id, name, defaultValue, schema);\n    }\n    validate(input) {\n        return EditorStringOption.string(input, this.defaultValue);\n    }\n}\n/**\n * @internal\n */\nexport function stringSet(value, defaultValue, allowedValues) {\n    if (typeof value !== 'string') {\n        return defaultValue;\n    }\n    if (allowedValues.indexOf(value) === -1) {\n        return defaultValue;\n    }\n    return value;\n}\nclass EditorStringEnumOption extends SimpleEditorOption {\n    constructor(id, name, defaultValue, allowedValues, schema = undefined) {\n        if (typeof schema !== 'undefined') {\n            schema.type = 'string';\n            schema.enum = allowedValues;\n            schema.default = defaultValue;\n        }\n        super(id, name, defaultValue, schema);\n        this._allowedValues = allowedValues;\n    }\n    validate(input) {\n        return stringSet(input, this.defaultValue, this._allowedValues);\n    }\n}\nclass EditorEnumOption extends BaseEditorOption {\n    constructor(id, name, defaultValue, defaultStringValue, allowedValues, convert, schema = undefined) {\n        if (typeof schema !== 'undefined') {\n            schema.type = 'string';\n            schema.enum = allowedValues;\n            schema.default = defaultStringValue;\n        }\n        super(id, name, defaultValue, schema);\n        this._allowedValues = allowedValues;\n        this._convert = convert;\n    }\n    validate(input) {\n        if (typeof input !== 'string') {\n            return this.defaultValue;\n        }\n        if (this._allowedValues.indexOf(input) === -1) {\n            return this.defaultValue;\n        }\n        return this._convert(input);\n    }\n}\n//#endregion\n//#region autoIndent\nfunction _autoIndentFromString(autoIndent) {\n    switch (autoIndent) {\n        case 'none': return 0 /* EditorAutoIndentStrategy.None */;\n        case 'keep': return 1 /* EditorAutoIndentStrategy.Keep */;\n        case 'brackets': return 2 /* EditorAutoIndentStrategy.Brackets */;\n        case 'advanced': return 3 /* EditorAutoIndentStrategy.Advanced */;\n        case 'full': return 4 /* EditorAutoIndentStrategy.Full */;\n    }\n}\n//#endregion\n//#region accessibilitySupport\nclass EditorAccessibilitySupport extends BaseEditorOption {\n    constructor() {\n        super(2 /* EditorOption.accessibilitySupport */, 'accessibilitySupport', 0 /* AccessibilitySupport.Unknown */, {\n            type: 'string',\n            enum: ['auto', 'on', 'off'],\n            enumDescriptions: [\n                nls.localize('accessibilitySupport.auto', \"The editor will use platform APIs to detect when a Screen Reader is attached.\"),\n                nls.localize('accessibilitySupport.on', \"The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled.\"),\n                nls.localize('accessibilitySupport.off', \"The editor will never be optimized for usage with a Screen Reader.\"),\n            ],\n            default: 'auto',\n            description: nls.localize('accessibilitySupport', \"Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.\")\n        });\n    }\n    validate(input) {\n        switch (input) {\n            case 'auto': return 0 /* AccessibilitySupport.Unknown */;\n            case 'off': return 1 /* AccessibilitySupport.Disabled */;\n            case 'on': return 2 /* AccessibilitySupport.Enabled */;\n        }\n        return this.defaultValue;\n    }\n    compute(env, options, value) {\n        if (value === 0 /* AccessibilitySupport.Unknown */) {\n            // The editor reads the `accessibilitySupport` from the environment\n            return env.accessibilitySupport;\n        }\n        return value;\n    }\n}\nclass EditorComments extends BaseEditorOption {\n    constructor() {\n        const defaults = {\n            insertSpace: true,\n            ignoreEmptyLines: true,\n        };\n        super(19 /* EditorOption.comments */, 'comments', defaults, {\n            'editor.comments.insertSpace': {\n                type: 'boolean',\n                default: defaults.insertSpace,\n                description: nls.localize('comments.insertSpace', \"Controls whether a space character is inserted when commenting.\")\n            },\n            'editor.comments.ignoreEmptyLines': {\n                type: 'boolean',\n                default: defaults.ignoreEmptyLines,\n                description: nls.localize('comments.ignoreEmptyLines', 'Controls if empty lines should be ignored with toggle, add or remove actions for line comments.')\n            },\n        });\n    }\n    validate(_input) {\n        if (!_input || typeof _input !== 'object') {\n            return this.defaultValue;\n        }\n        const input = _input;\n        return {\n            insertSpace: boolean(input.insertSpace, this.defaultValue.insertSpace),\n            ignoreEmptyLines: boolean(input.ignoreEmptyLines, this.defaultValue.ignoreEmptyLines),\n        };\n    }\n}\nfunction _cursorBlinkingStyleFromString(cursorBlinkingStyle) {\n    switch (cursorBlinkingStyle) {\n        case 'blink': return 1 /* TextEditorCursorBlinkingStyle.Blink */;\n        case 'smooth': return 2 /* TextEditorCursorBlinkingStyle.Smooth */;\n        case 'phase': return 3 /* TextEditorCursorBlinkingStyle.Phase */;\n        case 'expand': return 4 /* TextEditorCursorBlinkingStyle.Expand */;\n        case 'solid': return 5 /* TextEditorCursorBlinkingStyle.Solid */;\n    }\n}\n//#endregion\n//#region cursorStyle\n/**\n * The style in which the editor's cursor should be rendered.\n */\nexport var TextEditorCursorStyle;\n(function (TextEditorCursorStyle) {\n    /**\n     * As a vertical line (sitting between two characters).\n     */\n    TextEditorCursorStyle[TextEditorCursorStyle[\"Line\"] = 1] = \"Line\";\n    /**\n     * As a block (sitting on top of a character).\n     */\n    TextEditorCursorStyle[TextEditorCursorStyle[\"Block\"] = 2] = \"Block\";\n    /**\n     * As a horizontal line (sitting under a character).\n     */\n    TextEditorCursorStyle[TextEditorCursorStyle[\"Underline\"] = 3] = \"Underline\";\n    /**\n     * As a thin vertical line (sitting between two characters).\n     */\n    TextEditorCursorStyle[TextEditorCursorStyle[\"LineThin\"] = 4] = \"LineThin\";\n    /**\n     * As an outlined block (sitting on top of a character).\n     */\n    TextEditorCursorStyle[TextEditorCursorStyle[\"BlockOutline\"] = 5] = \"BlockOutline\";\n    /**\n     * As a thin horizontal line (sitting under a character).\n     */\n    TextEditorCursorStyle[TextEditorCursorStyle[\"UnderlineThin\"] = 6] = \"UnderlineThin\";\n})(TextEditorCursorStyle || (TextEditorCursorStyle = {}));\nfunction _cursorStyleFromString(cursorStyle) {\n    switch (cursorStyle) {\n        case 'line': return TextEditorCursorStyle.Line;\n        case 'block': return TextEditorCursorStyle.Block;\n        case 'underline': return TextEditorCursorStyle.Underline;\n        case 'line-thin': return TextEditorCursorStyle.LineThin;\n        case 'block-outline': return TextEditorCursorStyle.BlockOutline;\n        case 'underline-thin': return TextEditorCursorStyle.UnderlineThin;\n    }\n}\n//#endregion\n//#region editorClassName\nclass EditorClassName extends ComputedEditorOption {\n    constructor() {\n        super(130 /* EditorOption.editorClassName */);\n    }\n    compute(env, options, _) {\n        const classNames = ['monaco-editor'];\n        if (options.get(35 /* EditorOption.extraEditorClassName */)) {\n            classNames.push(options.get(35 /* EditorOption.extraEditorClassName */));\n        }\n        if (env.extraEditorClassName) {\n            classNames.push(env.extraEditorClassName);\n        }\n        if (options.get(68 /* EditorOption.mouseStyle */) === 'default') {\n            classNames.push('mouse-default');\n        }\n        else if (options.get(68 /* EditorOption.mouseStyle */) === 'copy') {\n            classNames.push('mouse-copy');\n        }\n        if (options.get(102 /* EditorOption.showUnused */)) {\n            classNames.push('showUnused');\n        }\n        if (options.get(128 /* EditorOption.showDeprecated */)) {\n            classNames.push('showDeprecated');\n        }\n        return classNames.join(' ');\n    }\n}\n//#endregion\n//#region emptySelectionClipboard\nclass EditorEmptySelectionClipboard extends EditorBooleanOption {\n    constructor() {\n        super(33 /* EditorOption.emptySelectionClipboard */, 'emptySelectionClipboard', true, { description: nls.localize('emptySelectionClipboard', \"Controls whether copying without a selection copies the current line.\") });\n    }\n    compute(env, options, value) {\n        return value && env.emptySelectionClipboard;\n    }\n}\nclass EditorFind extends BaseEditorOption {\n    constructor() {\n        const defaults = {\n            cursorMoveOnType: true,\n            seedSearchStringFromSelection: 'always',\n            autoFindInSelection: 'never',\n            globalFindClipboard: false,\n            addExtraSpaceOnTop: true,\n            loop: true\n        };\n        super(37 /* EditorOption.find */, 'find', defaults, {\n            'editor.find.cursorMoveOnType': {\n                type: 'boolean',\n                default: defaults.cursorMoveOnType,\n                description: nls.localize('find.cursorMoveOnType', \"Controls whether the cursor should jump to find matches while typing.\")\n            },\n            'editor.find.seedSearchStringFromSelection': {\n                type: 'string',\n                enum: ['never', 'always', 'selection'],\n                default: defaults.seedSearchStringFromSelection,\n                enumDescriptions: [\n                    nls.localize('editor.find.seedSearchStringFromSelection.never', 'Never seed search string from the editor selection.'),\n                    nls.localize('editor.find.seedSearchStringFromSelection.always', 'Always seed search string from the editor selection, including word at cursor position.'),\n                    nls.localize('editor.find.seedSearchStringFromSelection.selection', 'Only seed search string from the editor selection.')\n                ],\n                description: nls.localize('find.seedSearchStringFromSelection', \"Controls whether the search string in the Find Widget is seeded from the editor selection.\")\n            },\n            'editor.find.autoFindInSelection': {\n                type: 'string',\n                enum: ['never', 'always', 'multiline'],\n                default: defaults.autoFindInSelection,\n                enumDescriptions: [\n                    nls.localize('editor.find.autoFindInSelection.never', 'Never turn on Find in Selection automatically (default).'),\n                    nls.localize('editor.find.autoFindInSelection.always', 'Always turn on Find in Selection automatically.'),\n                    nls.localize('editor.find.autoFindInSelection.multiline', 'Turn on Find in Selection automatically when multiple lines of content are selected.')\n                ],\n                description: nls.localize('find.autoFindInSelection', \"Controls the condition for turning on Find in Selection automatically.\")\n            },\n            'editor.find.globalFindClipboard': {\n                type: 'boolean',\n                default: defaults.globalFindClipboard,\n                description: nls.localize('find.globalFindClipboard', \"Controls whether the Find Widget should read or modify the shared find clipboard on macOS.\"),\n                included: platform.isMacintosh\n            },\n            'editor.find.addExtraSpaceOnTop': {\n                type: 'boolean',\n                default: defaults.addExtraSpaceOnTop,\n                description: nls.localize('find.addExtraSpaceOnTop', \"Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.\")\n            },\n            'editor.find.loop': {\n                type: 'boolean',\n                default: defaults.loop,\n                description: nls.localize('find.loop', \"Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.\")\n            },\n        });\n    }\n    validate(_input) {\n        if (!_input || typeof _input !== 'object') {\n            return this.defaultValue;\n        }\n        const input = _input;\n        return {\n            cursorMoveOnType: boolean(input.cursorMoveOnType, this.defaultValue.cursorMoveOnType),\n            seedSearchStringFromSelection: typeof _input.seedSearchStringFromSelection === 'boolean'\n                ? (_input.seedSearchStringFromSelection ? 'always' : 'never')\n                : stringSet(input.seedSearchStringFromSelection, this.defaultValue.seedSearchStringFromSelection, ['never', 'always', 'selection']),\n            autoFindInSelection: typeof _input.autoFindInSelection === 'boolean'\n                ? (_input.autoFindInSelection ? 'always' : 'never')\n                : stringSet(input.autoFindInSelection, this.defaultValue.autoFindInSelection, ['never', 'always', 'multiline']),\n            globalFindClipboard: boolean(input.globalFindClipboard, this.defaultValue.globalFindClipboard),\n            addExtraSpaceOnTop: boolean(input.addExtraSpaceOnTop, this.defaultValue.addExtraSpaceOnTop),\n            loop: boolean(input.loop, this.defaultValue.loop),\n        };\n    }\n}\n//#endregion\n//#region fontLigatures\n/**\n * @internal\n */\nexport class EditorFontLigatures extends BaseEditorOption {\n    constructor() {\n        super(47 /* EditorOption.fontLigatures */, 'fontLigatures', EditorFontLigatures.OFF, {\n            anyOf: [\n                {\n                    type: 'boolean',\n                    description: nls.localize('fontLigatures', \"Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.\"),\n                },\n                {\n                    type: 'string',\n                    description: nls.localize('fontFeatureSettings', \"Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.\")\n                }\n            ],\n            description: nls.localize('fontLigaturesGeneral', \"Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property.\"),\n            default: false\n        });\n    }\n    validate(input) {\n        if (typeof input === 'undefined') {\n            return this.defaultValue;\n        }\n        if (typeof input === 'string') {\n            if (input === 'false') {\n                return EditorFontLigatures.OFF;\n            }\n            if (input === 'true') {\n                return EditorFontLigatures.ON;\n            }\n            return input;\n        }\n        if (Boolean(input)) {\n            return EditorFontLigatures.ON;\n        }\n        return EditorFontLigatures.OFF;\n    }\n}\nEditorFontLigatures.OFF = '\"liga\" off, \"calt\" off';\nEditorFontLigatures.ON = '\"liga\" on, \"calt\" on';\n//#endregion\n//#region fontInfo\nclass EditorFontInfo extends ComputedEditorOption {\n    constructor() {\n        super(46 /* EditorOption.fontInfo */);\n    }\n    compute(env, options, _) {\n        return env.fontInfo;\n    }\n}\n//#endregion\n//#region fontSize\nclass EditorFontSize extends SimpleEditorOption {\n    constructor() {\n        super(48 /* EditorOption.fontSize */, 'fontSize', EDITOR_FONT_DEFAULTS.fontSize, {\n            type: 'number',\n            minimum: 6,\n            maximum: 100,\n            default: EDITOR_FONT_DEFAULTS.fontSize,\n            description: nls.localize('fontSize', \"Controls the font size in pixels.\")\n        });\n    }\n    validate(input) {\n        const r = EditorFloatOption.float(input, this.defaultValue);\n        if (r === 0) {\n            return EDITOR_FONT_DEFAULTS.fontSize;\n        }\n        return EditorFloatOption.clamp(r, 6, 100);\n    }\n    compute(env, options, value) {\n        // The final fontSize respects the editor zoom level.\n        // So take the result from env.fontInfo\n        return env.fontInfo.fontSize;\n    }\n}\n//#endregion\n//#region fontWeight\nclass EditorFontWeight extends BaseEditorOption {\n    constructor() {\n        super(49 /* EditorOption.fontWeight */, 'fontWeight', EDITOR_FONT_DEFAULTS.fontWeight, {\n            anyOf: [\n                {\n                    type: 'number',\n                    minimum: EditorFontWeight.MINIMUM_VALUE,\n                    maximum: EditorFontWeight.MAXIMUM_VALUE,\n                    errorMessage: nls.localize('fontWeightErrorMessage', \"Only \\\"normal\\\" and \\\"bold\\\" keywords or numbers between 1 and 1000 are allowed.\")\n                },\n                {\n                    type: 'string',\n                    pattern: '^(normal|bold|1000|[1-9][0-9]{0,2})$'\n                },\n                {\n                    enum: EditorFontWeight.SUGGESTION_VALUES\n                }\n            ],\n            default: EDITOR_FONT_DEFAULTS.fontWeight,\n            description: nls.localize('fontWeight', \"Controls the font weight. Accepts \\\"normal\\\" and \\\"bold\\\" keywords or numbers between 1 and 1000.\")\n        });\n    }\n    validate(input) {\n        if (input === 'normal' || input === 'bold') {\n            return input;\n        }\n        return String(EditorIntOption.clampedInt(input, EDITOR_FONT_DEFAULTS.fontWeight, EditorFontWeight.MINIMUM_VALUE, EditorFontWeight.MAXIMUM_VALUE));\n    }\n}\nEditorFontWeight.SUGGESTION_VALUES = ['normal', 'bold', '100', '200', '300', '400', '500', '600', '700', '800', '900'];\nEditorFontWeight.MINIMUM_VALUE = 1;\nEditorFontWeight.MAXIMUM_VALUE = 1000;\nclass EditorGoToLocation extends BaseEditorOption {\n    constructor() {\n        const defaults = {\n            multiple: 'peek',\n            multipleDefinitions: 'peek',\n            multipleTypeDefinitions: 'peek',\n            multipleDeclarations: 'peek',\n            multipleImplementations: 'peek',\n            multipleReferences: 'peek',\n            alternativeDefinitionCommand: 'editor.action.goToReferences',\n            alternativeTypeDefinitionCommand: 'editor.action.goToReferences',\n            alternativeDeclarationCommand: 'editor.action.goToReferences',\n            alternativeImplementationCommand: '',\n            alternativeReferenceCommand: '',\n        };\n        const jsonSubset = {\n            type: 'string',\n            enum: ['peek', 'gotoAndPeek', 'goto'],\n            default: defaults.multiple,\n            enumDescriptions: [\n                nls.localize('editor.gotoLocation.multiple.peek', 'Show peek view of the results (default)'),\n                nls.localize('editor.gotoLocation.multiple.gotoAndPeek', 'Go to the primary result and show a peek view'),\n                nls.localize('editor.gotoLocation.multiple.goto', 'Go to the primary result and enable peek-less navigation to others')\n            ]\n        };\n        const alternativeCommandOptions = ['', 'editor.action.referenceSearch.trigger', 'editor.action.goToReferences', 'editor.action.peekImplementation', 'editor.action.goToImplementation', 'editor.action.peekTypeDefinition', 'editor.action.goToTypeDefinition', 'editor.action.peekDeclaration', 'editor.action.revealDeclaration', 'editor.action.peekDefinition', 'editor.action.revealDefinitionAside', 'editor.action.revealDefinition'];\n        super(53 /* EditorOption.gotoLocation */, 'gotoLocation', defaults, {\n            'editor.gotoLocation.multiple': {\n                deprecationMessage: nls.localize('editor.gotoLocation.multiple.deprecated', \"This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.\"),\n            },\n            'editor.gotoLocation.multipleDefinitions': Object.assign({ description: nls.localize('editor.editor.gotoLocation.multipleDefinitions', \"Controls the behavior the 'Go to Definition'-command when multiple target locations exist.\") }, jsonSubset),\n            'editor.gotoLocation.multipleTypeDefinitions': Object.assign({ description: nls.localize('editor.editor.gotoLocation.multipleTypeDefinitions', \"Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.\") }, jsonSubset),\n            'editor.gotoLocation.multipleDeclarations': Object.assign({ description: nls.localize('editor.editor.gotoLocation.multipleDeclarations', \"Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.\") }, jsonSubset),\n            'editor.gotoLocation.multipleImplementations': Object.assign({ description: nls.localize('editor.editor.gotoLocation.multipleImplemenattions', \"Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.\") }, jsonSubset),\n            'editor.gotoLocation.multipleReferences': Object.assign({ description: nls.localize('editor.editor.gotoLocation.multipleReferences', \"Controls the behavior the 'Go to References'-command when multiple target locations exist.\") }, jsonSubset),\n            'editor.gotoLocation.alternativeDefinitionCommand': {\n                type: 'string',\n                default: defaults.alternativeDefinitionCommand,\n                enum: alternativeCommandOptions,\n                description: nls.localize('alternativeDefinitionCommand', \"Alternative command id that is being executed when the result of 'Go to Definition' is the current location.\")\n            },\n            'editor.gotoLocation.alternativeTypeDefinitionCommand': {\n                type: 'string',\n                default: defaults.alternativeTypeDefinitionCommand,\n                enum: alternativeCommandOptions,\n                description: nls.localize('alternativeTypeDefinitionCommand', \"Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.\")\n            },\n            'editor.gotoLocation.alternativeDeclarationCommand': {\n                type: 'string',\n                default: defaults.alternativeDeclarationCommand,\n                enum: alternativeCommandOptions,\n                description: nls.localize('alternativeDeclarationCommand', \"Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.\")\n            },\n            'editor.gotoLocation.alternativeImplementationCommand': {\n                type: 'string',\n                default: defaults.alternativeImplementationCommand,\n                enum: alternativeCommandOptions,\n                description: nls.localize('alternativeImplementationCommand', \"Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.\")\n            },\n            'editor.gotoLocation.alternativeReferenceCommand': {\n                type: 'string',\n                default: defaults.alternativeReferenceCommand,\n                enum: alternativeCommandOptions,\n                description: nls.localize('alternativeReferenceCommand', \"Alternative command id that is being executed when the result of 'Go to Reference' is the current location.\")\n            },\n        });\n    }\n    validate(_input) {\n        var _a, _b, _c, _d, _e;\n        if (!_input || typeof _input !== 'object') {\n            return this.defaultValue;\n        }\n        const input = _input;\n        return {\n            multiple: stringSet(input.multiple, this.defaultValue.multiple, ['peek', 'gotoAndPeek', 'goto']),\n            multipleDefinitions: (_a = input.multipleDefinitions) !== null && _a !== void 0 ? _a : stringSet(input.multipleDefinitions, 'peek', ['peek', 'gotoAndPeek', 'goto']),\n            multipleTypeDefinitions: (_b = input.multipleTypeDefinitions) !== null && _b !== void 0 ? _b : stringSet(input.multipleTypeDefinitions, 'peek', ['peek', 'gotoAndPeek', 'goto']),\n            multipleDeclarations: (_c = input.multipleDeclarations) !== null && _c !== void 0 ? _c : stringSet(input.multipleDeclarations, 'peek', ['peek', 'gotoAndPeek', 'goto']),\n            multipleImplementations: (_d = input.multipleImplementations) !== null && _d !== void 0 ? _d : stringSet(input.multipleImplementations, 'peek', ['peek', 'gotoAndPeek', 'goto']),\n            multipleReferences: (_e = input.multipleReferences) !== null && _e !== void 0 ? _e : stringSet(input.multipleReferences, 'peek', ['peek', 'gotoAndPeek', 'goto']),\n            alternativeDefinitionCommand: EditorStringOption.string(input.alternativeDefinitionCommand, this.defaultValue.alternativeDefinitionCommand),\n            alternativeTypeDefinitionCommand: EditorStringOption.string(input.alternativeTypeDefinitionCommand, this.defaultValue.alternativeTypeDefinitionCommand),\n            alternativeDeclarationCommand: EditorStringOption.string(input.alternativeDeclarationCommand, this.defaultValue.alternativeDeclarationCommand),\n            alternativeImplementationCommand: EditorStringOption.string(input.alternativeImplementationCommand, this.defaultValue.alternativeImplementationCommand),\n            alternativeReferenceCommand: EditorStringOption.string(input.alternativeReferenceCommand, this.defaultValue.alternativeReferenceCommand),\n        };\n    }\n}\nclass EditorHover extends BaseEditorOption {\n    constructor() {\n        const defaults = {\n            enabled: true,\n            delay: 300,\n            sticky: true,\n            above: true,\n        };\n        super(55 /* EditorOption.hover */, 'hover', defaults, {\n            'editor.hover.enabled': {\n                type: 'boolean',\n                default: defaults.enabled,\n                description: nls.localize('hover.enabled', \"Controls whether the hover is shown.\")\n            },\n            'editor.hover.delay': {\n                type: 'number',\n                default: defaults.delay,\n                minimum: 0,\n                maximum: 10000,\n                description: nls.localize('hover.delay', \"Controls the delay in milliseconds after which the hover is shown.\")\n            },\n            'editor.hover.sticky': {\n                type: 'boolean',\n                default: defaults.sticky,\n                description: nls.localize('hover.sticky', \"Controls whether the hover should remain visible when mouse is moved over it.\")\n            },\n            'editor.hover.above': {\n                type: 'boolean',\n                default: defaults.above,\n                description: nls.localize('hover.above', \"Prefer showing hovers above the line, if there's space.\")\n            },\n        });\n    }\n    validate(_input) {\n        if (!_input || typeof _input !== 'object') {\n            return this.defaultValue;\n        }\n        const input = _input;\n        return {\n            enabled: boolean(input.enabled, this.defaultValue.enabled),\n            delay: EditorIntOption.clampedInt(input.delay, this.defaultValue.delay, 0, 10000),\n            sticky: boolean(input.sticky, this.defaultValue.sticky),\n            above: boolean(input.above, this.defaultValue.above),\n        };\n    }\n}\n/**\n * @internal\n */\nexport class EditorLayoutInfoComputer extends ComputedEditorOption {\n    constructor() {\n        super(133 /* EditorOption.layoutInfo */);\n    }\n    compute(env, options, _) {\n        return EditorLayoutInfoComputer.computeLayout(options, {\n            memory: env.memory,\n            outerWidth: env.outerWidth,\n            outerHeight: env.outerHeight,\n            isDominatedByLongLines: env.isDominatedByLongLines,\n            lineHeight: env.fontInfo.lineHeight,\n            viewLineCount: env.viewLineCount,\n            lineNumbersDigitCount: env.lineNumbersDigitCount,\n            typicalHalfwidthCharacterWidth: env.fontInfo.typicalHalfwidthCharacterWidth,\n            maxDigitWidth: env.fontInfo.maxDigitWidth,\n            pixelRatio: env.pixelRatio\n        });\n    }\n    static computeContainedMinimapLineCount(input) {\n        const typicalViewportLineCount = input.height / input.lineHeight;\n        const extraLinesBeyondLastLine = input.scrollBeyondLastLine ? (typicalViewportLineCount - 1) : 0;\n        const desiredRatio = (input.viewLineCount + extraLinesBeyondLastLine) / (input.pixelRatio * input.height);\n        const minimapLineCount = Math.floor(input.viewLineCount / desiredRatio);\n        return { typicalViewportLineCount, extraLinesBeyondLastLine, desiredRatio, minimapLineCount };\n    }\n    static _computeMinimapLayout(input, memory) {\n        const outerWidth = input.outerWidth;\n        const outerHeight = input.outerHeight;\n        const pixelRatio = input.pixelRatio;\n        if (!input.minimap.enabled) {\n            return {\n                renderMinimap: 0 /* RenderMinimap.None */,\n                minimapLeft: 0,\n                minimapWidth: 0,\n                minimapHeightIsEditorHeight: false,\n                minimapIsSampling: false,\n                minimapScale: 1,\n                minimapLineHeight: 1,\n                minimapCanvasInnerWidth: 0,\n                minimapCanvasInnerHeight: Math.floor(pixelRatio * outerHeight),\n                minimapCanvasOuterWidth: 0,\n                minimapCanvasOuterHeight: outerHeight,\n            };\n        }\n        // Can use memory if only the `viewLineCount` and `remainingWidth` have changed\n        const stableMinimapLayoutInput = memory.stableMinimapLayoutInput;\n        const couldUseMemory = (stableMinimapLayoutInput\n            // && input.outerWidth === lastMinimapLayoutInput.outerWidth !!! INTENTIONAL OMITTED\n            && input.outerHeight === stableMinimapLayoutInput.outerHeight\n            && input.lineHeight === stableMinimapLayoutInput.lineHeight\n            && input.typicalHalfwidthCharacterWidth === stableMinimapLayoutInput.typicalHalfwidthCharacterWidth\n            && input.pixelRatio === stableMinimapLayoutInput.pixelRatio\n            && input.scrollBeyondLastLine === stableMinimapLayoutInput.scrollBeyondLastLine\n            && input.minimap.enabled === stableMinimapLayoutInput.minimap.enabled\n            && input.minimap.side === stableMinimapLayoutInput.minimap.side\n            && input.minimap.size === stableMinimapLayoutInput.minimap.size\n            && input.minimap.showSlider === stableMinimapLayoutInput.minimap.showSlider\n            && input.minimap.renderCharacters === stableMinimapLayoutInput.minimap.renderCharacters\n            && input.minimap.maxColumn === stableMinimapLayoutInput.minimap.maxColumn\n            && input.minimap.scale === stableMinimapLayoutInput.minimap.scale\n            && input.verticalScrollbarWidth === stableMinimapLayoutInput.verticalScrollbarWidth\n            // && input.viewLineCount === lastMinimapLayoutInput.viewLineCount !!! INTENTIONAL OMITTED\n            // && input.remainingWidth === lastMinimapLayoutInput.remainingWidth !!! INTENTIONAL OMITTED\n            && input.isViewportWrapping === stableMinimapLayoutInput.isViewportWrapping);\n        const lineHeight = input.lineHeight;\n        const typicalHalfwidthCharacterWidth = input.typicalHalfwidthCharacterWidth;\n        const scrollBeyondLastLine = input.scrollBeyondLastLine;\n        const minimapRenderCharacters = input.minimap.renderCharacters;\n        let minimapScale = (pixelRatio >= 2 ? Math.round(input.minimap.scale * 2) : input.minimap.scale);\n        const minimapMaxColumn = input.minimap.maxColumn;\n        const minimapSize = input.minimap.size;\n        const minimapSide = input.minimap.side;\n        const verticalScrollbarWidth = input.verticalScrollbarWidth;\n        const viewLineCount = input.viewLineCount;\n        const remainingWidth = input.remainingWidth;\n        const isViewportWrapping = input.isViewportWrapping;\n        const baseCharHeight = minimapRenderCharacters ? 2 : 3;\n        let minimapCanvasInnerHeight = Math.floor(pixelRatio * outerHeight);\n        const minimapCanvasOuterHeight = minimapCanvasInnerHeight / pixelRatio;\n        let minimapHeightIsEditorHeight = false;\n        let minimapIsSampling = false;\n        let minimapLineHeight = baseCharHeight * minimapScale;\n        let minimapCharWidth = minimapScale / pixelRatio;\n        let minimapWidthMultiplier = 1;\n        if (minimapSize === 'fill' || minimapSize === 'fit') {\n            const { typicalViewportLineCount, extraLinesBeyondLastLine, desiredRatio, minimapLineCount } = EditorLayoutInfoComputer.computeContainedMinimapLineCount({\n                viewLineCount: viewLineCount,\n                scrollBeyondLastLine: scrollBeyondLastLine,\n                height: outerHeight,\n                lineHeight: lineHeight,\n                pixelRatio: pixelRatio\n            });\n            // ratio is intentionally not part of the layout to avoid the layout changing all the time\n            // when doing sampling\n            const ratio = viewLineCount / minimapLineCount;\n            if (ratio > 1) {\n                minimapHeightIsEditorHeight = true;\n                minimapIsSampling = true;\n                minimapScale = 1;\n                minimapLineHeight = 1;\n                minimapCharWidth = minimapScale / pixelRatio;\n            }\n            else {\n                let fitBecomesFill = false;\n                let maxMinimapScale = minimapScale + 1;\n                if (minimapSize === 'fit') {\n                    const effectiveMinimapHeight = Math.ceil((viewLineCount + extraLinesBeyondLastLine) * minimapLineHeight);\n                    if (isViewportWrapping && couldUseMemory && remainingWidth <= memory.stableFitRemainingWidth) {\n                        // There is a loop when using `fit` and viewport wrapping:\n                        // - view line count impacts minimap layout\n                        // - minimap layout impacts viewport width\n                        // - viewport width impacts view line count\n                        // To break the loop, once we go to a smaller minimap scale, we try to stick with it.\n                        fitBecomesFill = true;\n                        maxMinimapScale = memory.stableFitMaxMinimapScale;\n                    }\n                    else {\n                        fitBecomesFill = (effectiveMinimapHeight > minimapCanvasInnerHeight);\n                    }\n                }\n                if (minimapSize === 'fill' || fitBecomesFill) {\n                    minimapHeightIsEditorHeight = true;\n                    const configuredMinimapScale = minimapScale;\n                    minimapLineHeight = Math.min(lineHeight * pixelRatio, Math.max(1, Math.floor(1 / desiredRatio)));\n                    if (isViewportWrapping && couldUseMemory && remainingWidth <= memory.stableFitRemainingWidth) {\n                        // There is a loop when using `fill` and viewport wrapping:\n                        // - view line count impacts minimap layout\n                        // - minimap layout impacts viewport width\n                        // - viewport width impacts view line count\n                        // To break the loop, once we go to a smaller minimap scale, we try to stick with it.\n                        maxMinimapScale = memory.stableFitMaxMinimapScale;\n                    }\n                    minimapScale = Math.min(maxMinimapScale, Math.max(1, Math.floor(minimapLineHeight / baseCharHeight)));\n                    if (minimapScale > configuredMinimapScale) {\n                        minimapWidthMultiplier = Math.min(2, minimapScale / configuredMinimapScale);\n                    }\n                    minimapCharWidth = minimapScale / pixelRatio / minimapWidthMultiplier;\n                    minimapCanvasInnerHeight = Math.ceil((Math.max(typicalViewportLineCount, viewLineCount + extraLinesBeyondLastLine)) * minimapLineHeight);\n                    if (isViewportWrapping) {\n                        // remember for next time\n                        memory.stableMinimapLayoutInput = input;\n                        memory.stableFitRemainingWidth = remainingWidth;\n                        memory.stableFitMaxMinimapScale = minimapScale;\n                    }\n                    else {\n                        memory.stableMinimapLayoutInput = null;\n                        memory.stableFitRemainingWidth = 0;\n                    }\n                }\n            }\n        }\n        // Given:\n        // (leaving 2px for the cursor to have space after the last character)\n        // viewportColumn = (contentWidth - verticalScrollbarWidth - 2) / typicalHalfwidthCharacterWidth\n        // minimapWidth = viewportColumn * minimapCharWidth\n        // contentWidth = remainingWidth - minimapWidth\n        // What are good values for contentWidth and minimapWidth ?\n        // minimapWidth = ((contentWidth - verticalScrollbarWidth - 2) / typicalHalfwidthCharacterWidth) * minimapCharWidth\n        // typicalHalfwidthCharacterWidth * minimapWidth = (contentWidth - verticalScrollbarWidth - 2) * minimapCharWidth\n        // typicalHalfwidthCharacterWidth * minimapWidth = (remainingWidth - minimapWidth - verticalScrollbarWidth - 2) * minimapCharWidth\n        // (typicalHalfwidthCharacterWidth + minimapCharWidth) * minimapWidth = (remainingWidth - verticalScrollbarWidth - 2) * minimapCharWidth\n        // minimapWidth = ((remainingWidth - verticalScrollbarWidth - 2) * minimapCharWidth) / (typicalHalfwidthCharacterWidth + minimapCharWidth)\n        const minimapMaxWidth = Math.floor(minimapMaxColumn * minimapCharWidth);\n        const minimapWidth = Math.min(minimapMaxWidth, Math.max(0, Math.floor(((remainingWidth - verticalScrollbarWidth - 2) * minimapCharWidth) / (typicalHalfwidthCharacterWidth + minimapCharWidth))) + MINIMAP_GUTTER_WIDTH);\n        let minimapCanvasInnerWidth = Math.floor(pixelRatio * minimapWidth);\n        const minimapCanvasOuterWidth = minimapCanvasInnerWidth / pixelRatio;\n        minimapCanvasInnerWidth = Math.floor(minimapCanvasInnerWidth * minimapWidthMultiplier);\n        const renderMinimap = (minimapRenderCharacters ? 1 /* RenderMinimap.Text */ : 2 /* RenderMinimap.Blocks */);\n        const minimapLeft = (minimapSide === 'left' ? 0 : (outerWidth - minimapWidth - verticalScrollbarWidth));\n        return {\n            renderMinimap,\n            minimapLeft,\n            minimapWidth,\n            minimapHeightIsEditorHeight,\n            minimapIsSampling,\n            minimapScale,\n            minimapLineHeight,\n            minimapCanvasInnerWidth,\n            minimapCanvasInnerHeight,\n            minimapCanvasOuterWidth,\n            minimapCanvasOuterHeight,\n        };\n    }\n    static computeLayout(options, env) {\n        const outerWidth = env.outerWidth | 0;\n        const outerHeight = env.outerHeight | 0;\n        const lineHeight = env.lineHeight | 0;\n        const lineNumbersDigitCount = env.lineNumbersDigitCount | 0;\n        const typicalHalfwidthCharacterWidth = env.typicalHalfwidthCharacterWidth;\n        const maxDigitWidth = env.maxDigitWidth;\n        const pixelRatio = env.pixelRatio;\n        const viewLineCount = env.viewLineCount;\n        const wordWrapOverride2 = options.get(125 /* EditorOption.wordWrapOverride2 */);\n        const wordWrapOverride1 = (wordWrapOverride2 === 'inherit' ? options.get(124 /* EditorOption.wordWrapOverride1 */) : wordWrapOverride2);\n        const wordWrap = (wordWrapOverride1 === 'inherit' ? options.get(120 /* EditorOption.wordWrap */) : wordWrapOverride1);\n        const wordWrapColumn = options.get(123 /* EditorOption.wordWrapColumn */);\n        const accessibilitySupport = options.get(2 /* EditorOption.accessibilitySupport */);\n        const isDominatedByLongLines = env.isDominatedByLongLines;\n        const showGlyphMargin = options.get(52 /* EditorOption.glyphMargin */);\n        const showLineNumbers = (options.get(62 /* EditorOption.lineNumbers */).renderType !== 0 /* RenderLineNumbersType.Off */);\n        const lineNumbersMinChars = options.get(63 /* EditorOption.lineNumbersMinChars */);\n        const scrollBeyondLastLine = options.get(96 /* EditorOption.scrollBeyondLastLine */);\n        const minimap = options.get(67 /* EditorOption.minimap */);\n        const scrollbar = options.get(94 /* EditorOption.scrollbar */);\n        const verticalScrollbarWidth = scrollbar.verticalScrollbarSize;\n        const verticalScrollbarHasArrows = scrollbar.verticalHasArrows;\n        const scrollbarArrowSize = scrollbar.arrowSize;\n        const horizontalScrollbarHeight = scrollbar.horizontalScrollbarSize;\n        const rawLineDecorationsWidth = options.get(60 /* EditorOption.lineDecorationsWidth */);\n        const folding = options.get(39 /* EditorOption.folding */);\n        const showFoldingDecoration = options.get(101 /* EditorOption.showFoldingControls */) !== 'never';\n        let lineDecorationsWidth;\n        if (typeof rawLineDecorationsWidth === 'string' && /^\\d+(\\.\\d+)?ch$/.test(rawLineDecorationsWidth)) {\n            const multiple = parseFloat(rawLineDecorationsWidth.substr(0, rawLineDecorationsWidth.length - 2));\n            lineDecorationsWidth = EditorIntOption.clampedInt(multiple * typicalHalfwidthCharacterWidth, 0, 0, 1000);\n        }\n        else {\n            lineDecorationsWidth = EditorIntOption.clampedInt(rawLineDecorationsWidth, 0, 0, 1000);\n        }\n        if (folding && showFoldingDecoration) {\n            lineDecorationsWidth += 16;\n        }\n        let lineNumbersWidth = 0;\n        if (showLineNumbers) {\n            const digitCount = Math.max(lineNumbersDigitCount, lineNumbersMinChars);\n            lineNumbersWidth = Math.round(digitCount * maxDigitWidth);\n        }\n        let glyphMarginWidth = 0;\n        if (showGlyphMargin) {\n            glyphMarginWidth = lineHeight;\n        }\n        let glyphMarginLeft = 0;\n        let lineNumbersLeft = glyphMarginLeft + glyphMarginWidth;\n        let decorationsLeft = lineNumbersLeft + lineNumbersWidth;\n        let contentLeft = decorationsLeft + lineDecorationsWidth;\n        const remainingWidth = outerWidth - glyphMarginWidth - lineNumbersWidth - lineDecorationsWidth;\n        let isWordWrapMinified = false;\n        let isViewportWrapping = false;\n        let wrappingColumn = -1;\n        if (accessibilitySupport !== 2 /* AccessibilitySupport.Enabled */) {\n            // See https://github.com/microsoft/vscode/issues/27766\n            // Never enable wrapping when a screen reader is attached\n            // because arrow down etc. will not move the cursor in the way\n            // a screen reader expects.\n            if (wordWrapOverride1 === 'inherit' && isDominatedByLongLines) {\n                // Force viewport width wrapping if model is dominated by long lines\n                isWordWrapMinified = true;\n                isViewportWrapping = true;\n            }\n            else if (wordWrap === 'on' || wordWrap === 'bounded') {\n                isViewportWrapping = true;\n            }\n            else if (wordWrap === 'wordWrapColumn') {\n                wrappingColumn = wordWrapColumn;\n            }\n        }\n        const minimapLayout = EditorLayoutInfoComputer._computeMinimapLayout({\n            outerWidth: outerWidth,\n            outerHeight: outerHeight,\n            lineHeight: lineHeight,\n            typicalHalfwidthCharacterWidth: typicalHalfwidthCharacterWidth,\n            pixelRatio: pixelRatio,\n            scrollBeyondLastLine: scrollBeyondLastLine,\n            minimap: minimap,\n            verticalScrollbarWidth: verticalScrollbarWidth,\n            viewLineCount: viewLineCount,\n            remainingWidth: remainingWidth,\n            isViewportWrapping: isViewportWrapping,\n        }, env.memory || new ComputeOptionsMemory());\n        if (minimapLayout.renderMinimap !== 0 /* RenderMinimap.None */ && minimapLayout.minimapLeft === 0) {\n            // the minimap is rendered to the left, so move everything to the right\n            glyphMarginLeft += minimapLayout.minimapWidth;\n            lineNumbersLeft += minimapLayout.minimapWidth;\n            decorationsLeft += minimapLayout.minimapWidth;\n            contentLeft += minimapLayout.minimapWidth;\n        }\n        const contentWidth = remainingWidth - minimapLayout.minimapWidth;\n        // (leaving 2px for the cursor to have space after the last character)\n        const viewportColumn = Math.max(1, Math.floor((contentWidth - verticalScrollbarWidth - 2) / typicalHalfwidthCharacterWidth));\n        const verticalArrowSize = (verticalScrollbarHasArrows ? scrollbarArrowSize : 0);\n        if (isViewportWrapping) {\n            // compute the actual wrappingColumn\n            wrappingColumn = Math.max(1, viewportColumn);\n            if (wordWrap === 'bounded') {\n                wrappingColumn = Math.min(wrappingColumn, wordWrapColumn);\n            }\n        }\n        return {\n            width: outerWidth,\n            height: outerHeight,\n            glyphMarginLeft: glyphMarginLeft,\n            glyphMarginWidth: glyphMarginWidth,\n            lineNumbersLeft: lineNumbersLeft,\n            lineNumbersWidth: lineNumbersWidth,\n            decorationsLeft: decorationsLeft,\n            decorationsWidth: lineDecorationsWidth,\n            contentLeft: contentLeft,\n            contentWidth: contentWidth,\n            minimap: minimapLayout,\n            viewportColumn: viewportColumn,\n            isWordWrapMinified: isWordWrapMinified,\n            isViewportWrapping: isViewportWrapping,\n            wrappingColumn: wrappingColumn,\n            verticalScrollbarWidth: verticalScrollbarWidth,\n            horizontalScrollbarHeight: horizontalScrollbarHeight,\n            overviewRuler: {\n                top: verticalArrowSize,\n                width: verticalScrollbarWidth,\n                height: (outerHeight - 2 * verticalArrowSize),\n                right: 0\n            }\n        };\n    }\n}\nclass EditorLightbulb extends BaseEditorOption {\n    constructor() {\n        const defaults = { enabled: true };\n        super(59 /* EditorOption.lightbulb */, 'lightbulb', defaults, {\n            'editor.lightbulb.enabled': {\n                type: 'boolean',\n                default: defaults.enabled,\n                description: nls.localize('codeActions', \"Enables the code action lightbulb in the editor.\")\n            },\n        });\n    }\n    validate(_input) {\n        if (!_input || typeof _input !== 'object') {\n            return this.defaultValue;\n        }\n        const input = _input;\n        return {\n            enabled: boolean(input.enabled, this.defaultValue.enabled)\n        };\n    }\n}\nclass EditorExperimental extends BaseEditorOption {\n    constructor() {\n        const defaults = { stickyScroll: { enabled: false } };\n        super(34 /* EditorOption.experimental */, 'experimental', defaults, {\n            'editor.experimental.stickyScroll.enabled': {\n                type: 'boolean',\n                default: defaults.stickyScroll.enabled,\n                description: nls.localize('editor.experimental.stickyScroll', \"Shows the nested current scopes during the scroll at the top of the editor.\")\n            },\n        });\n    }\n    validate(_input) {\n        var _a;\n        if (!_input || typeof _input !== 'object') {\n            return this.defaultValue;\n        }\n        const input = _input;\n        return {\n            stickyScroll: {\n                enabled: boolean((_a = input.stickyScroll) === null || _a === void 0 ? void 0 : _a.enabled, this.defaultValue.stickyScroll.enabled)\n            }\n        };\n    }\n}\nclass EditorInlayHints extends BaseEditorOption {\n    constructor() {\n        const defaults = { enabled: 'on', fontSize: 0, fontFamily: '', padding: false };\n        super(129 /* EditorOption.inlayHints */, 'inlayHints', defaults, {\n            'editor.inlayHints.enabled': {\n                type: 'string',\n                default: defaults.enabled,\n                description: nls.localize('inlayHints.enable', \"Enables the inlay hints in the editor.\"),\n                enum: ['on', 'onUnlessPressed', 'offUnlessPressed', 'off'],\n                markdownEnumDescriptions: [\n                    nls.localize('editor.inlayHints.on', \"Inlay hints are enabled\"),\n                    nls.localize('editor.inlayHints.onUnlessPressed', \"Inlay hints are showing by default and hide when holding `Ctrl+Alt`\"),\n                    nls.localize('editor.inlayHints.offUnlessPressed', \"Inlay hints are hidden by default and show when holding `Ctrl+Alt`\"),\n                    nls.localize('editor.inlayHints.off', \"Inlay hints are disabled\"),\n                ],\n            },\n            'editor.inlayHints.fontSize': {\n                type: 'number',\n                default: defaults.fontSize,\n                markdownDescription: nls.localize('inlayHints.fontSize', \"Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.\", '`#editor.fontSize#`', '`5`')\n            },\n            'editor.inlayHints.fontFamily': {\n                type: 'string',\n                default: defaults.fontFamily,\n                markdownDescription: nls.localize('inlayHints.fontFamily', \"Controls font family of inlay hints in the editor. When set to empty, the {0} is used.\", '`#editor.fontFamily#`')\n            },\n            'editor.inlayHints.padding': {\n                type: 'boolean',\n                default: defaults.padding,\n                description: nls.localize('inlayHints.padding', \"Enables the padding around the inlay hints in the editor.\")\n            }\n        });\n    }\n    validate(_input) {\n        if (!_input || typeof _input !== 'object') {\n            return this.defaultValue;\n        }\n        const input = _input;\n        if (typeof input.enabled === 'boolean') {\n            input.enabled = input.enabled ? 'on' : 'off';\n        }\n        return {\n            enabled: stringSet(input.enabled, this.defaultValue.enabled, ['on', 'off', 'offUnlessPressed', 'onUnlessPressed']),\n            fontSize: EditorIntOption.clampedInt(input.fontSize, this.defaultValue.fontSize, 0, 100),\n            fontFamily: EditorStringOption.string(input.fontFamily, this.defaultValue.fontFamily),\n            padding: boolean(input.padding, this.defaultValue.padding)\n        };\n    }\n}\n//#endregion\n//#region lineHeight\nclass EditorLineHeight extends EditorFloatOption {\n    constructor() {\n        super(61 /* EditorOption.lineHeight */, 'lineHeight', EDITOR_FONT_DEFAULTS.lineHeight, x => EditorFloatOption.clamp(x, 0, 150), { markdownDescription: nls.localize('lineHeight', \"Controls the line height. \\n - Use 0 to automatically compute the line height from the font size.\\n - Values between 0 and 8 will be used as a multiplier with the font size.\\n - Values greater than or equal to 8 will be used as effective values.\") });\n    }\n    compute(env, options, value) {\n        // The lineHeight is computed from the fontSize if it is 0.\n        // Moreover, the final lineHeight respects the editor zoom level.\n        // So take the result from env.fontInfo\n        return env.fontInfo.lineHeight;\n    }\n}\nclass EditorMinimap extends BaseEditorOption {\n    constructor() {\n        const defaults = {\n            enabled: true,\n            size: 'proportional',\n            side: 'right',\n            showSlider: 'mouseover',\n            autohide: false,\n            renderCharacters: true,\n            maxColumn: 120,\n            scale: 1,\n        };\n        super(67 /* EditorOption.minimap */, 'minimap', defaults, {\n            'editor.minimap.enabled': {\n                type: 'boolean',\n                default: defaults.enabled,\n                description: nls.localize('minimap.enabled', \"Controls whether the minimap is shown.\")\n            },\n            'editor.minimap.autohide': {\n                type: 'boolean',\n                default: defaults.autohide,\n                description: nls.localize('minimap.autohide', \"Controls whether the minimap is hidden automatically.\")\n            },\n            'editor.minimap.size': {\n                type: 'string',\n                enum: ['proportional', 'fill', 'fit'],\n                enumDescriptions: [\n                    nls.localize('minimap.size.proportional', \"The minimap has the same size as the editor contents (and might scroll).\"),\n                    nls.localize('minimap.size.fill', \"The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling).\"),\n                    nls.localize('minimap.size.fit', \"The minimap will shrink as necessary to never be larger than the editor (no scrolling).\"),\n                ],\n                default: defaults.size,\n                description: nls.localize('minimap.size', \"Controls the size of the minimap.\")\n            },\n            'editor.minimap.side': {\n                type: 'string',\n                enum: ['left', 'right'],\n                default: defaults.side,\n                description: nls.localize('minimap.side', \"Controls the side where to render the minimap.\")\n            },\n            'editor.minimap.showSlider': {\n                type: 'string',\n                enum: ['always', 'mouseover'],\n                default: defaults.showSlider,\n                description: nls.localize('minimap.showSlider', \"Controls when the minimap slider is shown.\")\n            },\n            'editor.minimap.scale': {\n                type: 'number',\n                default: defaults.scale,\n                minimum: 1,\n                maximum: 3,\n                enum: [1, 2, 3],\n                description: nls.localize('minimap.scale', \"Scale of content drawn in the minimap: 1, 2 or 3.\")\n            },\n            'editor.minimap.renderCharacters': {\n                type: 'boolean',\n                default: defaults.renderCharacters,\n                description: nls.localize('minimap.renderCharacters', \"Render the actual characters on a line as opposed to color blocks.\")\n            },\n            'editor.minimap.maxColumn': {\n                type: 'number',\n                default: defaults.maxColumn,\n                description: nls.localize('minimap.maxColumn', \"Limit the width of the minimap to render at most a certain number of columns.\")\n            }\n        });\n    }\n    validate(_input) {\n        if (!_input || typeof _input !== 'object') {\n            return this.defaultValue;\n        }\n        const input = _input;\n        return {\n            enabled: boolean(input.enabled, this.defaultValue.enabled),\n            autohide: boolean(input.autohide, this.defaultValue.autohide),\n            size: stringSet(input.size, this.defaultValue.size, ['proportional', 'fill', 'fit']),\n            side: stringSet(input.side, this.defaultValue.side, ['right', 'left']),\n            showSlider: stringSet(input.showSlider, this.defaultValue.showSlider, ['always', 'mouseover']),\n            renderCharacters: boolean(input.renderCharacters, this.defaultValue.renderCharacters),\n            scale: EditorIntOption.clampedInt(input.scale, 1, 1, 3),\n            maxColumn: EditorIntOption.clampedInt(input.maxColumn, this.defaultValue.maxColumn, 1, 10000),\n        };\n    }\n}\n//#endregion\n//#region multiCursorModifier\nfunction _multiCursorModifierFromString(multiCursorModifier) {\n    if (multiCursorModifier === 'ctrlCmd') {\n        return (platform.isMacintosh ? 'metaKey' : 'ctrlKey');\n    }\n    return 'altKey';\n}\nclass EditorPadding extends BaseEditorOption {\n    constructor() {\n        super(77 /* EditorOption.padding */, 'padding', { top: 0, bottom: 0 }, {\n            'editor.padding.top': {\n                type: 'number',\n                default: 0,\n                minimum: 0,\n                maximum: 1000,\n                description: nls.localize('padding.top', \"Controls the amount of space between the top edge of the editor and the first line.\")\n            },\n            'editor.padding.bottom': {\n                type: 'number',\n                default: 0,\n                minimum: 0,\n                maximum: 1000,\n                description: nls.localize('padding.bottom', \"Controls the amount of space between the bottom edge of the editor and the last line.\")\n            }\n        });\n    }\n    validate(_input) {\n        if (!_input || typeof _input !== 'object') {\n            return this.defaultValue;\n        }\n        const input = _input;\n        return {\n            top: EditorIntOption.clampedInt(input.top, 0, 0, 1000),\n            bottom: EditorIntOption.clampedInt(input.bottom, 0, 0, 1000)\n        };\n    }\n}\nclass EditorParameterHints extends BaseEditorOption {\n    constructor() {\n        const defaults = {\n            enabled: true,\n            cycle: false\n        };\n        super(78 /* EditorOption.parameterHints */, 'parameterHints', defaults, {\n            'editor.parameterHints.enabled': {\n                type: 'boolean',\n                default: defaults.enabled,\n                description: nls.localize('parameterHints.enabled', \"Enables a pop-up that shows parameter documentation and type information as you type.\")\n            },\n            'editor.parameterHints.cycle': {\n                type: 'boolean',\n                default: defaults.cycle,\n                description: nls.localize('parameterHints.cycle', \"Controls whether the parameter hints menu cycles or closes when reaching the end of the list.\")\n            },\n        });\n    }\n    validate(_input) {\n        if (!_input || typeof _input !== 'object') {\n            return this.defaultValue;\n        }\n        const input = _input;\n        return {\n            enabled: boolean(input.enabled, this.defaultValue.enabled),\n            cycle: boolean(input.cycle, this.defaultValue.cycle)\n        };\n    }\n}\n//#endregion\n//#region pixelRatio\nclass EditorPixelRatio extends ComputedEditorOption {\n    constructor() {\n        super(131 /* EditorOption.pixelRatio */);\n    }\n    compute(env, options, _) {\n        return env.pixelRatio;\n    }\n}\nclass EditorQuickSuggestions extends BaseEditorOption {\n    constructor() {\n        const defaults = {\n            other: 'on',\n            comments: 'off',\n            strings: 'off'\n        };\n        const types = [\n            { type: 'boolean' },\n            {\n                type: 'string',\n                enum: ['on', 'inline', 'off'],\n                enumDescriptions: [nls.localize('on', \"Quick suggestions show inside the suggest widget\"), nls.localize('inline', \"Quick suggestions show as ghost text\"), nls.localize('off', \"Quick suggestions are disabled\")]\n            }\n        ];\n        super(81 /* EditorOption.quickSuggestions */, 'quickSuggestions', defaults, {\n            type: 'object',\n            additionalProperties: false,\n            properties: {\n                strings: {\n                    anyOf: types,\n                    default: defaults.strings,\n                    description: nls.localize('quickSuggestions.strings', \"Enable quick suggestions inside strings.\")\n                },\n                comments: {\n                    anyOf: types,\n                    default: defaults.comments,\n                    description: nls.localize('quickSuggestions.comments', \"Enable quick suggestions inside comments.\")\n                },\n                other: {\n                    anyOf: types,\n                    default: defaults.other,\n                    description: nls.localize('quickSuggestions.other', \"Enable quick suggestions outside of strings and comments.\")\n                },\n            },\n            default: defaults,\n            markdownDescription: nls.localize('quickSuggestions', \"Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.\", `#editor.suggestOnTriggerCharacters#`)\n        });\n        this.defaultValue = defaults;\n    }\n    validate(input) {\n        if (typeof input === 'boolean') {\n            // boolean -> all on/off\n            const value = input ? 'on' : 'off';\n            return { comments: value, strings: value, other: value };\n        }\n        if (!input || typeof input !== 'object') {\n            // invalid object\n            return this.defaultValue;\n        }\n        const { other, comments, strings } = input;\n        const allowedValues = ['on', 'inline', 'off'];\n        let validatedOther;\n        let validatedComments;\n        let validatedStrings;\n        if (typeof other === 'boolean') {\n            validatedOther = other ? 'on' : 'off';\n        }\n        else {\n            validatedOther = stringSet(other, this.defaultValue.other, allowedValues);\n        }\n        if (typeof comments === 'boolean') {\n            validatedComments = comments ? 'on' : 'off';\n        }\n        else {\n            validatedComments = stringSet(comments, this.defaultValue.comments, allowedValues);\n        }\n        if (typeof strings === 'boolean') {\n            validatedStrings = strings ? 'on' : 'off';\n        }\n        else {\n            validatedStrings = stringSet(strings, this.defaultValue.strings, allowedValues);\n        }\n        return {\n            other: validatedOther,\n            comments: validatedComments,\n            strings: validatedStrings\n        };\n    }\n}\nclass EditorRenderLineNumbersOption extends BaseEditorOption {\n    constructor() {\n        super(62 /* EditorOption.lineNumbers */, 'lineNumbers', { renderType: 1 /* RenderLineNumbersType.On */, renderFn: null }, {\n            type: 'string',\n            enum: ['off', 'on', 'relative', 'interval'],\n            enumDescriptions: [\n                nls.localize('lineNumbers.off', \"Line numbers are not rendered.\"),\n                nls.localize('lineNumbers.on', \"Line numbers are rendered as absolute number.\"),\n                nls.localize('lineNumbers.relative', \"Line numbers are rendered as distance in lines to cursor position.\"),\n                nls.localize('lineNumbers.interval', \"Line numbers are rendered every 10 lines.\")\n            ],\n            default: 'on',\n            description: nls.localize('lineNumbers', \"Controls the display of line numbers.\")\n        });\n    }\n    validate(lineNumbers) {\n        let renderType = this.defaultValue.renderType;\n        let renderFn = this.defaultValue.renderFn;\n        if (typeof lineNumbers !== 'undefined') {\n            if (typeof lineNumbers === 'function') {\n                renderType = 4 /* RenderLineNumbersType.Custom */;\n                renderFn = lineNumbers;\n            }\n            else if (lineNumbers === 'interval') {\n                renderType = 3 /* RenderLineNumbersType.Interval */;\n            }\n            else if (lineNumbers === 'relative') {\n                renderType = 2 /* RenderLineNumbersType.Relative */;\n            }\n            else if (lineNumbers === 'on') {\n                renderType = 1 /* RenderLineNumbersType.On */;\n            }\n            else {\n                renderType = 0 /* RenderLineNumbersType.Off */;\n            }\n        }\n        return {\n            renderType,\n            renderFn\n        };\n    }\n}\n//#endregion\n//#region renderValidationDecorations\n/**\n * @internal\n */\nexport function filterValidationDecorations(options) {\n    const renderValidationDecorations = options.get(89 /* EditorOption.renderValidationDecorations */);\n    if (renderValidationDecorations === 'editable') {\n        return options.get(83 /* EditorOption.readOnly */);\n    }\n    return renderValidationDecorations === 'on' ? false : true;\n}\nclass EditorRulers extends BaseEditorOption {\n    constructor() {\n        const defaults = [];\n        const columnSchema = { type: 'number', description: nls.localize('rulers.size', \"Number of monospace characters at which this editor ruler will render.\") };\n        super(93 /* EditorOption.rulers */, 'rulers', defaults, {\n            type: 'array',\n            items: {\n                anyOf: [\n                    columnSchema,\n                    {\n                        type: [\n                            'object'\n                        ],\n                        properties: {\n                            column: columnSchema,\n                            color: {\n                                type: 'string',\n                                description: nls.localize('rulers.color', \"Color of this editor ruler.\"),\n                                format: 'color-hex'\n                            }\n                        }\n                    }\n                ]\n            },\n            default: defaults,\n            description: nls.localize('rulers', \"Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.\")\n        });\n    }\n    validate(input) {\n        if (Array.isArray(input)) {\n            const rulers = [];\n            for (const _element of input) {\n                if (typeof _element === 'number') {\n                    rulers.push({\n                        column: EditorIntOption.clampedInt(_element, 0, 0, 10000),\n                        color: null\n                    });\n                }\n                else if (_element && typeof _element === 'object') {\n                    const element = _element;\n                    rulers.push({\n                        column: EditorIntOption.clampedInt(element.column, 0, 0, 10000),\n                        color: element.color\n                    });\n                }\n            }\n            rulers.sort((a, b) => a.column - b.column);\n            return rulers;\n        }\n        return this.defaultValue;\n    }\n}\nfunction _scrollbarVisibilityFromString(visibility, defaultValue) {\n    if (typeof visibility !== 'string') {\n        return defaultValue;\n    }\n    switch (visibility) {\n        case 'hidden': return 2 /* ScrollbarVisibility.Hidden */;\n        case 'visible': return 3 /* ScrollbarVisibility.Visible */;\n        default: return 1 /* ScrollbarVisibility.Auto */;\n    }\n}\nclass EditorScrollbar extends BaseEditorOption {\n    constructor() {\n        const defaults = {\n            vertical: 1 /* ScrollbarVisibility.Auto */,\n            horizontal: 1 /* ScrollbarVisibility.Auto */,\n            arrowSize: 11,\n            useShadows: true,\n            verticalHasArrows: false,\n            horizontalHasArrows: false,\n            horizontalScrollbarSize: 12,\n            horizontalSliderSize: 12,\n            verticalScrollbarSize: 14,\n            verticalSliderSize: 14,\n            handleMouseWheel: true,\n            alwaysConsumeMouseWheel: true,\n            scrollByPage: false\n        };\n        super(94 /* EditorOption.scrollbar */, 'scrollbar', defaults, {\n            'editor.scrollbar.vertical': {\n                type: 'string',\n                enum: ['auto', 'visible', 'hidden'],\n                enumDescriptions: [\n                    nls.localize('scrollbar.vertical.auto', \"The vertical scrollbar will be visible only when necessary.\"),\n                    nls.localize('scrollbar.vertical.visible', \"The vertical scrollbar will always be visible.\"),\n                    nls.localize('scrollbar.vertical.fit', \"The vertical scrollbar will always be hidden.\"),\n                ],\n                default: 'auto',\n                description: nls.localize('scrollbar.vertical', \"Controls the visibility of the vertical scrollbar.\")\n            },\n            'editor.scrollbar.horizontal': {\n                type: 'string',\n                enum: ['auto', 'visible', 'hidden'],\n                enumDescriptions: [\n                    nls.localize('scrollbar.horizontal.auto', \"The horizontal scrollbar will be visible only when necessary.\"),\n                    nls.localize('scrollbar.horizontal.visible', \"The horizontal scrollbar will always be visible.\"),\n                    nls.localize('scrollbar.horizontal.fit', \"The horizontal scrollbar will always be hidden.\"),\n                ],\n                default: 'auto',\n                description: nls.localize('scrollbar.horizontal', \"Controls the visibility of the horizontal scrollbar.\")\n            },\n            'editor.scrollbar.verticalScrollbarSize': {\n                type: 'number',\n                default: defaults.verticalScrollbarSize,\n                description: nls.localize('scrollbar.verticalScrollbarSize', \"The width of the vertical scrollbar.\")\n            },\n            'editor.scrollbar.horizontalScrollbarSize': {\n                type: 'number',\n                default: defaults.horizontalScrollbarSize,\n                description: nls.localize('scrollbar.horizontalScrollbarSize', \"The height of the horizontal scrollbar.\")\n            },\n            'editor.scrollbar.scrollByPage': {\n                type: 'boolean',\n                default: defaults.scrollByPage,\n                description: nls.localize('scrollbar.scrollByPage', \"Controls whether clicks scroll by page or jump to click position.\")\n            }\n        });\n    }\n    validate(_input) {\n        if (!_input || typeof _input !== 'object') {\n            return this.defaultValue;\n        }\n        const input = _input;\n        const horizontalScrollbarSize = EditorIntOption.clampedInt(input.horizontalScrollbarSize, this.defaultValue.horizontalScrollbarSize, 0, 1000);\n        const verticalScrollbarSize = EditorIntOption.clampedInt(input.verticalScrollbarSize, this.defaultValue.verticalScrollbarSize, 0, 1000);\n        return {\n            arrowSize: EditorIntOption.clampedInt(input.arrowSize, this.defaultValue.arrowSize, 0, 1000),\n            vertical: _scrollbarVisibilityFromString(input.vertical, this.defaultValue.vertical),\n            horizontal: _scrollbarVisibilityFromString(input.horizontal, this.defaultValue.horizontal),\n            useShadows: boolean(input.useShadows, this.defaultValue.useShadows),\n            verticalHasArrows: boolean(input.verticalHasArrows, this.defaultValue.verticalHasArrows),\n            horizontalHasArrows: boolean(input.horizontalHasArrows, this.defaultValue.horizontalHasArrows),\n            handleMouseWheel: boolean(input.handleMouseWheel, this.defaultValue.handleMouseWheel),\n            alwaysConsumeMouseWheel: boolean(input.alwaysConsumeMouseWheel, this.defaultValue.alwaysConsumeMouseWheel),\n            horizontalScrollbarSize: horizontalScrollbarSize,\n            horizontalSliderSize: EditorIntOption.clampedInt(input.horizontalSliderSize, horizontalScrollbarSize, 0, 1000),\n            verticalScrollbarSize: verticalScrollbarSize,\n            verticalSliderSize: EditorIntOption.clampedInt(input.verticalSliderSize, verticalScrollbarSize, 0, 1000),\n            scrollByPage: boolean(input.scrollByPage, this.defaultValue.scrollByPage),\n        };\n    }\n}\n/**\n * @internal\n*/\nexport const inUntrustedWorkspace = 'inUntrustedWorkspace';\n/**\n * @internal\n */\nexport const unicodeHighlightConfigKeys = {\n    allowedCharacters: 'editor.unicodeHighlight.allowedCharacters',\n    invisibleCharacters: 'editor.unicodeHighlight.invisibleCharacters',\n    nonBasicASCII: 'editor.unicodeHighlight.nonBasicASCII',\n    ambiguousCharacters: 'editor.unicodeHighlight.ambiguousCharacters',\n    includeComments: 'editor.unicodeHighlight.includeComments',\n    includeStrings: 'editor.unicodeHighlight.includeStrings',\n    allowedLocales: 'editor.unicodeHighlight.allowedLocales',\n};\nclass UnicodeHighlight extends BaseEditorOption {\n    constructor() {\n        const defaults = {\n            nonBasicASCII: inUntrustedWorkspace,\n            invisibleCharacters: true,\n            ambiguousCharacters: true,\n            includeComments: inUntrustedWorkspace,\n            includeStrings: true,\n            allowedCharacters: {},\n            allowedLocales: { _os: true, _vscode: true },\n        };\n        super(115 /* EditorOption.unicodeHighlighting */, 'unicodeHighlight', defaults, {\n            [unicodeHighlightConfigKeys.nonBasicASCII]: {\n                restricted: true,\n                type: ['boolean', 'string'],\n                enum: [true, false, inUntrustedWorkspace],\n                default: defaults.nonBasicASCII,\n                description: nls.localize('unicodeHighlight.nonBasicASCII', \"Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.\")\n            },\n            [unicodeHighlightConfigKeys.invisibleCharacters]: {\n                restricted: true,\n                type: 'boolean',\n                default: defaults.invisibleCharacters,\n                description: nls.localize('unicodeHighlight.invisibleCharacters', \"Controls whether characters that just reserve space or have no width at all are highlighted.\")\n            },\n            [unicodeHighlightConfigKeys.ambiguousCharacters]: {\n                restricted: true,\n                type: 'boolean',\n                default: defaults.ambiguousCharacters,\n                description: nls.localize('unicodeHighlight.ambiguousCharacters', \"Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.\")\n            },\n            [unicodeHighlightConfigKeys.includeComments]: {\n                restricted: true,\n                type: ['boolean', 'string'],\n                enum: [true, false, inUntrustedWorkspace],\n                default: defaults.includeComments,\n                description: nls.localize('unicodeHighlight.includeComments', \"Controls whether characters in comments should also be subject to unicode highlighting.\")\n            },\n            [unicodeHighlightConfigKeys.includeStrings]: {\n                restricted: true,\n                type: ['boolean', 'string'],\n                enum: [true, false, inUntrustedWorkspace],\n                default: defaults.includeStrings,\n                description: nls.localize('unicodeHighlight.includeStrings', \"Controls whether characters in strings should also be subject to unicode highlighting.\")\n            },\n            [unicodeHighlightConfigKeys.allowedCharacters]: {\n                restricted: true,\n                type: 'object',\n                default: defaults.allowedCharacters,\n                description: nls.localize('unicodeHighlight.allowedCharacters', \"Defines allowed characters that are not being highlighted.\"),\n                additionalProperties: {\n                    type: 'boolean'\n                }\n            },\n            [unicodeHighlightConfigKeys.allowedLocales]: {\n                restricted: true,\n                type: 'object',\n                additionalProperties: {\n                    type: 'boolean'\n                },\n                default: defaults.allowedLocales,\n                description: nls.localize('unicodeHighlight.allowedLocales', \"Unicode characters that are common in allowed locales are not being highlighted.\")\n            },\n        });\n    }\n    applyUpdate(value, update) {\n        let didChange = false;\n        if (update.allowedCharacters && value) {\n            // Treat allowedCharacters atomically\n            if (!objects.equals(value.allowedCharacters, update.allowedCharacters)) {\n                value = Object.assign(Object.assign({}, value), { allowedCharacters: update.allowedCharacters });\n                didChange = true;\n            }\n        }\n        if (update.allowedLocales && value) {\n            // Treat allowedLocales atomically\n            if (!objects.equals(value.allowedLocales, update.allowedLocales)) {\n                value = Object.assign(Object.assign({}, value), { allowedLocales: update.allowedLocales });\n                didChange = true;\n            }\n        }\n        const result = super.applyUpdate(value, update);\n        if (didChange) {\n            return new ApplyUpdateResult(result.newValue, true);\n        }\n        return result;\n    }\n    validate(_input) {\n        if (!_input || typeof _input !== 'object') {\n            return this.defaultValue;\n        }\n        const input = _input;\n        return {\n            nonBasicASCII: primitiveSet(input.nonBasicASCII, inUntrustedWorkspace, [true, false, inUntrustedWorkspace]),\n            invisibleCharacters: boolean(input.invisibleCharacters, this.defaultValue.invisibleCharacters),\n            ambiguousCharacters: boolean(input.ambiguousCharacters, this.defaultValue.ambiguousCharacters),\n            includeComments: primitiveSet(input.includeComments, inUntrustedWorkspace, [true, false, inUntrustedWorkspace]),\n            includeStrings: primitiveSet(input.includeStrings, inUntrustedWorkspace, [true, false, inUntrustedWorkspace]),\n            allowedCharacters: this.validateBooleanMap(_input.allowedCharacters, this.defaultValue.allowedCharacters),\n            allowedLocales: this.validateBooleanMap(_input.allowedLocales, this.defaultValue.allowedLocales),\n        };\n    }\n    validateBooleanMap(map, defaultValue) {\n        if ((typeof map !== 'object') || !map) {\n            return defaultValue;\n        }\n        const result = {};\n        for (const [key, value] of Object.entries(map)) {\n            if (value === true) {\n                result[key] = true;\n            }\n        }\n        return result;\n    }\n}\n/**\n * Configuration options for inline suggestions\n */\nclass InlineEditorSuggest extends BaseEditorOption {\n    constructor() {\n        const defaults = {\n            enabled: true,\n            mode: 'subwordSmart'\n        };\n        super(57 /* EditorOption.inlineSuggest */, 'inlineSuggest', defaults, {\n            'editor.inlineSuggest.enabled': {\n                type: 'boolean',\n                default: defaults.enabled,\n                description: nls.localize('inlineSuggest.enabled', \"Controls whether to automatically show inline suggestions in the editor.\")\n            }\n        });\n    }\n    validate(_input) {\n        if (!_input || typeof _input !== 'object') {\n            return this.defaultValue;\n        }\n        const input = _input;\n        return {\n            enabled: boolean(input.enabled, this.defaultValue.enabled),\n            mode: stringSet(input.mode, this.defaultValue.mode, ['prefix', 'subword', 'subwordSmart']),\n        };\n    }\n}\n/**\n * Configuration options for inline suggestions\n */\nclass BracketPairColorization extends BaseEditorOption {\n    constructor() {\n        const defaults = {\n            enabled: EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled,\n            independentColorPoolPerBracketType: EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.independentColorPoolPerBracketType,\n        };\n        super(12 /* EditorOption.bracketPairColorization */, 'bracketPairColorization', defaults, {\n            'editor.bracketPairColorization.enabled': {\n                type: 'boolean',\n                default: defaults.enabled,\n                markdownDescription: nls.localize('bracketPairColorization.enabled', \"Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.\", '`#workbench.colorCustomizations#`')\n            },\n            'editor.bracketPairColorization.independentColorPoolPerBracketType': {\n                type: 'boolean',\n                default: defaults.independentColorPoolPerBracketType,\n                description: nls.localize('bracketPairColorization.independentColorPoolPerBracketType', \"Controls whether each bracket type has its own independent color pool.\")\n            },\n        });\n    }\n    validate(_input) {\n        if (!_input || typeof _input !== 'object') {\n            return this.defaultValue;\n        }\n        const input = _input;\n        return {\n            enabled: boolean(input.enabled, this.defaultValue.enabled),\n            independentColorPoolPerBracketType: boolean(input.independentColorPoolPerBracketType, this.defaultValue.independentColorPoolPerBracketType),\n        };\n    }\n}\n/**\n * Configuration options for inline suggestions\n */\nclass GuideOptions extends BaseEditorOption {\n    constructor() {\n        const defaults = {\n            bracketPairs: false,\n            bracketPairsHorizontal: 'active',\n            highlightActiveBracketPair: true,\n            indentation: true,\n            highlightActiveIndentation: true\n        };\n        super(13 /* EditorOption.guides */, 'guides', defaults, {\n            'editor.guides.bracketPairs': {\n                type: ['boolean', 'string'],\n                enum: [true, 'active', false],\n                enumDescriptions: [\n                    nls.localize('editor.guides.bracketPairs.true', \"Enables bracket pair guides.\"),\n                    nls.localize('editor.guides.bracketPairs.active', \"Enables bracket pair guides only for the active bracket pair.\"),\n                    nls.localize('editor.guides.bracketPairs.false', \"Disables bracket pair guides.\"),\n                ],\n                default: defaults.bracketPairs,\n                description: nls.localize('editor.guides.bracketPairs', \"Controls whether bracket pair guides are enabled or not.\")\n            },\n            'editor.guides.bracketPairsHorizontal': {\n                type: ['boolean', 'string'],\n                enum: [true, 'active', false],\n                enumDescriptions: [\n                    nls.localize('editor.guides.bracketPairsHorizontal.true', \"Enables horizontal guides as addition to vertical bracket pair guides.\"),\n                    nls.localize('editor.guides.bracketPairsHorizontal.active', \"Enables horizontal guides only for the active bracket pair.\"),\n                    nls.localize('editor.guides.bracketPairsHorizontal.false', \"Disables horizontal bracket pair guides.\"),\n                ],\n                default: defaults.bracketPairsHorizontal,\n                description: nls.localize('editor.guides.bracketPairsHorizontal', \"Controls whether horizontal bracket pair guides are enabled or not.\")\n            },\n            'editor.guides.highlightActiveBracketPair': {\n                type: 'boolean',\n                default: defaults.highlightActiveBracketPair,\n                description: nls.localize('editor.guides.highlightActiveBracketPair', \"Controls whether the editor should highlight the active bracket pair.\")\n            },\n            'editor.guides.indentation': {\n                type: 'boolean',\n                default: defaults.indentation,\n                description: nls.localize('editor.guides.indentation', \"Controls whether the editor should render indent guides.\")\n            },\n            'editor.guides.highlightActiveIndentation': {\n                type: ['boolean', 'string'],\n                enum: [true, 'always', false],\n                enumDescriptions: [\n                    nls.localize('editor.guides.highlightActiveIndentation.true', \"Highlights the active indent guide.\"),\n                    nls.localize('editor.guides.highlightActiveIndentation.always', \"Highlights the active indent guide even if bracket guides are highlighted.\"),\n                    nls.localize('editor.guides.highlightActiveIndentation.false', \"Do not highlight the active indent guide.\"),\n                ],\n                default: defaults.highlightActiveIndentation,\n                description: nls.localize('editor.guides.highlightActiveIndentation', \"Controls whether the editor should highlight the active indent guide.\")\n            }\n        });\n    }\n    validate(_input) {\n        if (!_input || typeof _input !== 'object') {\n            return this.defaultValue;\n        }\n        const input = _input;\n        return {\n            bracketPairs: primitiveSet(input.bracketPairs, this.defaultValue.bracketPairs, [true, false, 'active']),\n            bracketPairsHorizontal: primitiveSet(input.bracketPairsHorizontal, this.defaultValue.bracketPairsHorizontal, [true, false, 'active']),\n            highlightActiveBracketPair: boolean(input.highlightActiveBracketPair, this.defaultValue.highlightActiveBracketPair),\n            indentation: boolean(input.indentation, this.defaultValue.indentation),\n            highlightActiveIndentation: primitiveSet(input.highlightActiveIndentation, this.defaultValue.highlightActiveIndentation, [true, false, 'always']),\n        };\n    }\n}\nfunction primitiveSet(value, defaultValue, allowedValues) {\n    const idx = allowedValues.indexOf(value);\n    if (idx === -1) {\n        return defaultValue;\n    }\n    return allowedValues[idx];\n}\nclass EditorSuggest extends BaseEditorOption {\n    constructor() {\n        const defaults = {\n            insertMode: 'insert',\n            filterGraceful: true,\n            snippetsPreventQuickSuggestions: true,\n            localityBonus: false,\n            shareSuggestSelections: false,\n            showIcons: true,\n            showStatusBar: false,\n            preview: false,\n            previewMode: 'subwordSmart',\n            showInlineDetails: true,\n            showMethods: true,\n            showFunctions: true,\n            showConstructors: true,\n            showDeprecated: true,\n            showFields: true,\n            showVariables: true,\n            showClasses: true,\n            showStructs: true,\n            showInterfaces: true,\n            showModules: true,\n            showProperties: true,\n            showEvents: true,\n            showOperators: true,\n            showUnits: true,\n            showValues: true,\n            showConstants: true,\n            showEnums: true,\n            showEnumMembers: true,\n            showKeywords: true,\n            showWords: true,\n            showColors: true,\n            showFiles: true,\n            showReferences: true,\n            showFolders: true,\n            showTypeParameters: true,\n            showSnippets: true,\n            showUsers: true,\n            showIssues: true,\n        };\n        super(108 /* EditorOption.suggest */, 'suggest', defaults, {\n            'editor.suggest.insertMode': {\n                type: 'string',\n                enum: ['insert', 'replace'],\n                enumDescriptions: [\n                    nls.localize('suggest.insertMode.insert', \"Insert suggestion without overwriting text right of the cursor.\"),\n                    nls.localize('suggest.insertMode.replace', \"Insert suggestion and overwrite text right of the cursor.\"),\n                ],\n                default: defaults.insertMode,\n                description: nls.localize('suggest.insertMode', \"Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.\")\n            },\n            'editor.suggest.filterGraceful': {\n                type: 'boolean',\n                default: defaults.filterGraceful,\n                description: nls.localize('suggest.filterGraceful', \"Controls whether filtering and sorting suggestions accounts for small typos.\")\n            },\n            'editor.suggest.localityBonus': {\n                type: 'boolean',\n                default: defaults.localityBonus,\n                description: nls.localize('suggest.localityBonus', \"Controls whether sorting favors words that appear close to the cursor.\")\n            },\n            'editor.suggest.shareSuggestSelections': {\n                type: 'boolean',\n                default: defaults.shareSuggestSelections,\n                markdownDescription: nls.localize('suggest.shareSuggestSelections', \"Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).\")\n            },\n            'editor.suggest.snippetsPreventQuickSuggestions': {\n                type: 'boolean',\n                default: defaults.snippetsPreventQuickSuggestions,\n                description: nls.localize('suggest.snippetsPreventQuickSuggestions', \"Controls whether an active snippet prevents quick suggestions.\")\n            },\n            'editor.suggest.showIcons': {\n                type: 'boolean',\n                default: defaults.showIcons,\n                description: nls.localize('suggest.showIcons', \"Controls whether to show or hide icons in suggestions.\")\n            },\n            'editor.suggest.showStatusBar': {\n                type: 'boolean',\n                default: defaults.showStatusBar,\n                description: nls.localize('suggest.showStatusBar', \"Controls the visibility of the status bar at the bottom of the suggest widget.\")\n            },\n            'editor.suggest.preview': {\n                type: 'boolean',\n                default: defaults.preview,\n                description: nls.localize('suggest.preview', \"Controls whether to preview the suggestion outcome in the editor.\")\n            },\n            'editor.suggest.showInlineDetails': {\n                type: 'boolean',\n                default: defaults.showInlineDetails,\n                description: nls.localize('suggest.showInlineDetails', \"Controls whether suggest details show inline with the label or only in the details widget\")\n            },\n            'editor.suggest.maxVisibleSuggestions': {\n                type: 'number',\n                deprecationMessage: nls.localize('suggest.maxVisibleSuggestions.dep', \"This setting is deprecated. The suggest widget can now be resized.\"),\n            },\n            'editor.suggest.filteredTypes': {\n                type: 'object',\n                deprecationMessage: nls.localize('deprecated', \"This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.\")\n            },\n            'editor.suggest.showMethods': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showMethods', \"When enabled IntelliSense shows `method`-suggestions.\")\n            },\n            'editor.suggest.showFunctions': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showFunctions', \"When enabled IntelliSense shows `function`-suggestions.\")\n            },\n            'editor.suggest.showConstructors': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showConstructors', \"When enabled IntelliSense shows `constructor`-suggestions.\")\n            },\n            'editor.suggest.showDeprecated': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showDeprecated', \"When enabled IntelliSense shows `deprecated`-suggestions.\")\n            },\n            'editor.suggest.showFields': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showFields', \"When enabled IntelliSense shows `field`-suggestions.\")\n            },\n            'editor.suggest.showVariables': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showVariables', \"When enabled IntelliSense shows `variable`-suggestions.\")\n            },\n            'editor.suggest.showClasses': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showClasss', \"When enabled IntelliSense shows `class`-suggestions.\")\n            },\n            'editor.suggest.showStructs': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showStructs', \"When enabled IntelliSense shows `struct`-suggestions.\")\n            },\n            'editor.suggest.showInterfaces': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showInterfaces', \"When enabled IntelliSense shows `interface`-suggestions.\")\n            },\n            'editor.suggest.showModules': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showModules', \"When enabled IntelliSense shows `module`-suggestions.\")\n            },\n            'editor.suggest.showProperties': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showPropertys', \"When enabled IntelliSense shows `property`-suggestions.\")\n            },\n            'editor.suggest.showEvents': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showEvents', \"When enabled IntelliSense shows `event`-suggestions.\")\n            },\n            'editor.suggest.showOperators': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showOperators', \"When enabled IntelliSense shows `operator`-suggestions.\")\n            },\n            'editor.suggest.showUnits': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showUnits', \"When enabled IntelliSense shows `unit`-suggestions.\")\n            },\n            'editor.suggest.showValues': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showValues', \"When enabled IntelliSense shows `value`-suggestions.\")\n            },\n            'editor.suggest.showConstants': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showConstants', \"When enabled IntelliSense shows `constant`-suggestions.\")\n            },\n            'editor.suggest.showEnums': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showEnums', \"When enabled IntelliSense shows `enum`-suggestions.\")\n            },\n            'editor.suggest.showEnumMembers': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showEnumMembers', \"When enabled IntelliSense shows `enumMember`-suggestions.\")\n            },\n            'editor.suggest.showKeywords': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showKeywords', \"When enabled IntelliSense shows `keyword`-suggestions.\")\n            },\n            'editor.suggest.showWords': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showTexts', \"When enabled IntelliSense shows `text`-suggestions.\")\n            },\n            'editor.suggest.showColors': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showColors', \"When enabled IntelliSense shows `color`-suggestions.\")\n            },\n            'editor.suggest.showFiles': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showFiles', \"When enabled IntelliSense shows `file`-suggestions.\")\n            },\n            'editor.suggest.showReferences': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showReferences', \"When enabled IntelliSense shows `reference`-suggestions.\")\n            },\n            'editor.suggest.showCustomcolors': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showCustomcolors', \"When enabled IntelliSense shows `customcolor`-suggestions.\")\n            },\n            'editor.suggest.showFolders': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showFolders', \"When enabled IntelliSense shows `folder`-suggestions.\")\n            },\n            'editor.suggest.showTypeParameters': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showTypeParameters', \"When enabled IntelliSense shows `typeParameter`-suggestions.\")\n            },\n            'editor.suggest.showSnippets': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showSnippets', \"When enabled IntelliSense shows `snippet`-suggestions.\")\n            },\n            'editor.suggest.showUsers': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showUsers', \"When enabled IntelliSense shows `user`-suggestions.\")\n            },\n            'editor.suggest.showIssues': {\n                type: 'boolean',\n                default: true,\n                markdownDescription: nls.localize('editor.suggest.showIssues', \"When enabled IntelliSense shows `issues`-suggestions.\")\n            }\n        });\n    }\n    validate(_input) {\n        if (!_input || typeof _input !== 'object') {\n            return this.defaultValue;\n        }\n        const input = _input;\n        return {\n            insertMode: stringSet(input.insertMode, this.defaultValue.insertMode, ['insert', 'replace']),\n            filterGraceful: boolean(input.filterGraceful, this.defaultValue.filterGraceful),\n            snippetsPreventQuickSuggestions: boolean(input.snippetsPreventQuickSuggestions, this.defaultValue.filterGraceful),\n            localityBonus: boolean(input.localityBonus, this.defaultValue.localityBonus),\n            shareSuggestSelections: boolean(input.shareSuggestSelections, this.defaultValue.shareSuggestSelections),\n            showIcons: boolean(input.showIcons, this.defaultValue.showIcons),\n            showStatusBar: boolean(input.showStatusBar, this.defaultValue.showStatusBar),\n            preview: boolean(input.preview, this.defaultValue.preview),\n            previewMode: stringSet(input.previewMode, this.defaultValue.previewMode, ['prefix', 'subword', 'subwordSmart']),\n            showInlineDetails: boolean(input.showInlineDetails, this.defaultValue.showInlineDetails),\n            showMethods: boolean(input.showMethods, this.defaultValue.showMethods),\n            showFunctions: boolean(input.showFunctions, this.defaultValue.showFunctions),\n            showConstructors: boolean(input.showConstructors, this.defaultValue.showConstructors),\n            showDeprecated: boolean(input.showDeprecated, this.defaultValue.showDeprecated),\n            showFields: boolean(input.showFields, this.defaultValue.showFields),\n            showVariables: boolean(input.showVariables, this.defaultValue.showVariables),\n            showClasses: boolean(input.showClasses, this.defaultValue.showClasses),\n            showStructs: boolean(input.showStructs, this.defaultValue.showStructs),\n            showInterfaces: boolean(input.showInterfaces, this.defaultValue.showInterfaces),\n            showModules: boolean(input.showModules, this.defaultValue.showModules),\n            showProperties: boolean(input.showProperties, this.defaultValue.showProperties),\n            showEvents: boolean(input.showEvents, this.defaultValue.showEvents),\n            showOperators: boolean(input.showOperators, this.defaultValue.showOperators),\n            showUnits: boolean(input.showUnits, this.defaultValue.showUnits),\n            showValues: boolean(input.showValues, this.defaultValue.showValues),\n            showConstants: boolean(input.showConstants, this.defaultValue.showConstants),\n            showEnums: boolean(input.showEnums, this.defaultValue.showEnums),\n            showEnumMembers: boolean(input.showEnumMembers, this.defaultValue.showEnumMembers),\n            showKeywords: boolean(input.showKeywords, this.defaultValue.showKeywords),\n            showWords: boolean(input.showWords, this.defaultValue.showWords),\n            showColors: boolean(input.showColors, this.defaultValue.showColors),\n            showFiles: boolean(input.showFiles, this.defaultValue.showFiles),\n            showReferences: boolean(input.showReferences, this.defaultValue.showReferences),\n            showFolders: boolean(input.showFolders, this.defaultValue.showFolders),\n            showTypeParameters: boolean(input.showTypeParameters, this.defaultValue.showTypeParameters),\n            showSnippets: boolean(input.showSnippets, this.defaultValue.showSnippets),\n            showUsers: boolean(input.showUsers, this.defaultValue.showUsers),\n            showIssues: boolean(input.showIssues, this.defaultValue.showIssues),\n        };\n    }\n}\nclass SmartSelect extends BaseEditorOption {\n    constructor() {\n        super(104 /* EditorOption.smartSelect */, 'smartSelect', {\n            selectLeadingAndTrailingWhitespace: true\n        }, {\n            'editor.smartSelect.selectLeadingAndTrailingWhitespace': {\n                description: nls.localize('selectLeadingAndTrailingWhitespace', \"Whether leading and trailing whitespace should always be selected.\"),\n                default: true,\n                type: 'boolean'\n            }\n        });\n    }\n    validate(input) {\n        if (!input || typeof input !== 'object') {\n            return this.defaultValue;\n        }\n        return {\n            selectLeadingAndTrailingWhitespace: boolean(input.selectLeadingAndTrailingWhitespace, this.defaultValue.selectLeadingAndTrailingWhitespace)\n        };\n    }\n}\n//#endregion\n//#region tabFocusMode\nclass EditorTabFocusMode extends ComputedEditorOption {\n    constructor() {\n        super(132 /* EditorOption.tabFocusMode */);\n    }\n    compute(env, options, _) {\n        const readOnly = options.get(83 /* EditorOption.readOnly */);\n        return (readOnly ? true : env.tabFocusMode);\n    }\n}\nfunction _wrappingIndentFromString(wrappingIndent) {\n    switch (wrappingIndent) {\n        case 'none': return 0 /* WrappingIndent.None */;\n        case 'same': return 1 /* WrappingIndent.Same */;\n        case 'indent': return 2 /* WrappingIndent.Indent */;\n        case 'deepIndent': return 3 /* WrappingIndent.DeepIndent */;\n    }\n}\nclass EditorWrappingInfoComputer extends ComputedEditorOption {\n    constructor() {\n        super(134 /* EditorOption.wrappingInfo */);\n    }\n    compute(env, options, _) {\n        const layoutInfo = options.get(133 /* EditorOption.layoutInfo */);\n        return {\n            isDominatedByLongLines: env.isDominatedByLongLines,\n            isWordWrapMinified: layoutInfo.isWordWrapMinified,\n            isViewportWrapping: layoutInfo.isViewportWrapping,\n            wrappingColumn: layoutInfo.wrappingColumn,\n        };\n    }\n}\nclass EditorDropIntoEditor extends BaseEditorOption {\n    constructor() {\n        const defaults = { enabled: true };\n        super(32 /* EditorOption.dropIntoEditor */, 'dropIntoEditor', defaults, {\n            'editor.dropIntoEditor.enabled': {\n                type: 'boolean',\n                default: defaults.enabled,\n                markdownDescription: nls.localize('dropIntoEditor.enabled', \"Controls whether you can drag and drop a file into a text editor by holding down `shift` (instead of opening the file in an editor).\"),\n            },\n        });\n    }\n    validate(_input) {\n        if (!_input || typeof _input !== 'object') {\n            return this.defaultValue;\n        }\n        const input = _input;\n        return {\n            enabled: boolean(input.enabled, this.defaultValue.enabled)\n        };\n    }\n}\n//#endregion\nconst DEFAULT_WINDOWS_FONT_FAMILY = 'Consolas, \\'Courier New\\', monospace';\nconst DEFAULT_MAC_FONT_FAMILY = 'Menlo, Monaco, \\'Courier New\\', monospace';\nconst DEFAULT_LINUX_FONT_FAMILY = '\\'Droid Sans Mono\\', \\'monospace\\', monospace';\n/**\n * @internal\n */\nexport const EDITOR_FONT_DEFAULTS = {\n    fontFamily: (platform.isMacintosh ? DEFAULT_MAC_FONT_FAMILY : (platform.isLinux ? DEFAULT_LINUX_FONT_FAMILY : DEFAULT_WINDOWS_FONT_FAMILY)),\n    fontWeight: 'normal',\n    fontSize: (platform.isMacintosh ? 12 : 14),\n    lineHeight: 0,\n    letterSpacing: 0,\n};\n/**\n * @internal\n */\nexport const editorOptionsRegistry = [];\nfunction register(option) {\n    editorOptionsRegistry[option.id] = option;\n    return option;\n}\nexport const EditorOptions = {\n    acceptSuggestionOnCommitCharacter: register(new EditorBooleanOption(0 /* EditorOption.acceptSuggestionOnCommitCharacter */, 'acceptSuggestionOnCommitCharacter', true, { markdownDescription: nls.localize('acceptSuggestionOnCommitCharacter', \"Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`; `) can be a commit character that accepts a suggestion and types that character.\") })),\n    acceptSuggestionOnEnter: register(new EditorStringEnumOption(1 /* EditorOption.acceptSuggestionOnEnter */, 'acceptSuggestionOnEnter', 'on', ['on', 'smart', 'off'], {\n        markdownEnumDescriptions: [\n            '',\n            nls.localize('acceptSuggestionOnEnterSmart', \"Only accept a suggestion with `Enter` when it makes a textual change.\"),\n            ''\n        ],\n        markdownDescription: nls.localize('acceptSuggestionOnEnter', \"Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.\")\n    })),\n    accessibilitySupport: register(new EditorAccessibilitySupport()),\n    accessibilityPageSize: register(new EditorIntOption(3 /* EditorOption.accessibilityPageSize */, 'accessibilityPageSize', 10, 1, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */, {\n        description: nls.localize('accessibilityPageSize', \"Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.\")\n    })),\n    ariaLabel: register(new EditorStringOption(4 /* EditorOption.ariaLabel */, 'ariaLabel', nls.localize('editorViewAccessibleLabel', \"Editor content\"))),\n    autoClosingBrackets: register(new EditorStringEnumOption(5 /* EditorOption.autoClosingBrackets */, 'autoClosingBrackets', 'languageDefined', ['always', 'languageDefined', 'beforeWhitespace', 'never'], {\n        enumDescriptions: [\n            '',\n            nls.localize('editor.autoClosingBrackets.languageDefined', \"Use language configurations to determine when to autoclose brackets.\"),\n            nls.localize('editor.autoClosingBrackets.beforeWhitespace', \"Autoclose brackets only when the cursor is to the left of whitespace.\"),\n            '',\n        ],\n        description: nls.localize('autoClosingBrackets', \"Controls whether the editor should automatically close brackets after the user adds an opening bracket.\")\n    })),\n    autoClosingDelete: register(new EditorStringEnumOption(6 /* EditorOption.autoClosingDelete */, 'autoClosingDelete', 'auto', ['always', 'auto', 'never'], {\n        enumDescriptions: [\n            '',\n            nls.localize('editor.autoClosingDelete.auto', \"Remove adjacent closing quotes or brackets only if they were automatically inserted.\"),\n            '',\n        ],\n        description: nls.localize('autoClosingDelete', \"Controls whether the editor should remove adjacent closing quotes or brackets when deleting.\")\n    })),\n    autoClosingOvertype: register(new EditorStringEnumOption(7 /* EditorOption.autoClosingOvertype */, 'autoClosingOvertype', 'auto', ['always', 'auto', 'never'], {\n        enumDescriptions: [\n            '',\n            nls.localize('editor.autoClosingOvertype.auto', \"Type over closing quotes or brackets only if they were automatically inserted.\"),\n            '',\n        ],\n        description: nls.localize('autoClosingOvertype', \"Controls whether the editor should type over closing quotes or brackets.\")\n    })),\n    autoClosingQuotes: register(new EditorStringEnumOption(8 /* EditorOption.autoClosingQuotes */, 'autoClosingQuotes', 'languageDefined', ['always', 'languageDefined', 'beforeWhitespace', 'never'], {\n        enumDescriptions: [\n            '',\n            nls.localize('editor.autoClosingQuotes.languageDefined', \"Use language configurations to determine when to autoclose quotes.\"),\n            nls.localize('editor.autoClosingQuotes.beforeWhitespace', \"Autoclose quotes only when the cursor is to the left of whitespace.\"),\n            '',\n        ],\n        description: nls.localize('autoClosingQuotes', \"Controls whether the editor should automatically close quotes after the user adds an opening quote.\")\n    })),\n    autoIndent: register(new EditorEnumOption(9 /* EditorOption.autoIndent */, 'autoIndent', 4 /* EditorAutoIndentStrategy.Full */, 'full', ['none', 'keep', 'brackets', 'advanced', 'full'], _autoIndentFromString, {\n        enumDescriptions: [\n            nls.localize('editor.autoIndent.none', \"The editor will not insert indentation automatically.\"),\n            nls.localize('editor.autoIndent.keep', \"The editor will keep the current line's indentation.\"),\n            nls.localize('editor.autoIndent.brackets', \"The editor will keep the current line's indentation and honor language defined brackets.\"),\n            nls.localize('editor.autoIndent.advanced', \"The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages.\"),\n            nls.localize('editor.autoIndent.full', \"The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.\"),\n        ],\n        description: nls.localize('autoIndent', \"Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.\")\n    })),\n    automaticLayout: register(new EditorBooleanOption(10 /* EditorOption.automaticLayout */, 'automaticLayout', false)),\n    autoSurround: register(new EditorStringEnumOption(11 /* EditorOption.autoSurround */, 'autoSurround', 'languageDefined', ['languageDefined', 'quotes', 'brackets', 'never'], {\n        enumDescriptions: [\n            nls.localize('editor.autoSurround.languageDefined', \"Use language configurations to determine when to automatically surround selections.\"),\n            nls.localize('editor.autoSurround.quotes', \"Surround with quotes but not brackets.\"),\n            nls.localize('editor.autoSurround.brackets', \"Surround with brackets but not quotes.\"),\n            ''\n        ],\n        description: nls.localize('autoSurround', \"Controls whether the editor should automatically surround selections when typing quotes or brackets.\")\n    })),\n    bracketPairColorization: register(new BracketPairColorization()),\n    bracketPairGuides: register(new GuideOptions()),\n    stickyTabStops: register(new EditorBooleanOption(106 /* EditorOption.stickyTabStops */, 'stickyTabStops', false, { description: nls.localize('stickyTabStops', \"Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.\") })),\n    codeLens: register(new EditorBooleanOption(14 /* EditorOption.codeLens */, 'codeLens', true, { description: nls.localize('codeLens', \"Controls whether the editor shows CodeLens.\") })),\n    codeLensFontFamily: register(new EditorStringOption(15 /* EditorOption.codeLensFontFamily */, 'codeLensFontFamily', '', { description: nls.localize('codeLensFontFamily', \"Controls the font family for CodeLens.\") })),\n    codeLensFontSize: register(new EditorIntOption(16 /* EditorOption.codeLensFontSize */, 'codeLensFontSize', 0, 0, 100, {\n        type: 'number',\n        default: 0,\n        minimum: 0,\n        maximum: 100,\n        markdownDescription: nls.localize('codeLensFontSize', \"Controls the font size in pixels for CodeLens. When set to `0`, 90% of `#editor.fontSize#` is used.\")\n    })),\n    colorDecorators: register(new EditorBooleanOption(17 /* EditorOption.colorDecorators */, 'colorDecorators', true, { description: nls.localize('colorDecorators', \"Controls whether the editor should render the inline color decorators and color picker.\") })),\n    columnSelection: register(new EditorBooleanOption(18 /* EditorOption.columnSelection */, 'columnSelection', false, { description: nls.localize('columnSelection', \"Enable that the selection with the mouse and keys is doing column selection.\") })),\n    comments: register(new EditorComments()),\n    contextmenu: register(new EditorBooleanOption(20 /* EditorOption.contextmenu */, 'contextmenu', true)),\n    copyWithSyntaxHighlighting: register(new EditorBooleanOption(21 /* EditorOption.copyWithSyntaxHighlighting */, 'copyWithSyntaxHighlighting', true, { description: nls.localize('copyWithSyntaxHighlighting', \"Controls whether syntax highlighting should be copied into the clipboard.\") })),\n    cursorBlinking: register(new EditorEnumOption(22 /* EditorOption.cursorBlinking */, 'cursorBlinking', 1 /* TextEditorCursorBlinkingStyle.Blink */, 'blink', ['blink', 'smooth', 'phase', 'expand', 'solid'], _cursorBlinkingStyleFromString, { description: nls.localize('cursorBlinking', \"Control the cursor animation style.\") })),\n    cursorSmoothCaretAnimation: register(new EditorBooleanOption(23 /* EditorOption.cursorSmoothCaretAnimation */, 'cursorSmoothCaretAnimation', false, { description: nls.localize('cursorSmoothCaretAnimation', \"Controls whether the smooth caret animation should be enabled.\") })),\n    cursorStyle: register(new EditorEnumOption(24 /* EditorOption.cursorStyle */, 'cursorStyle', TextEditorCursorStyle.Line, 'line', ['line', 'block', 'underline', 'line-thin', 'block-outline', 'underline-thin'], _cursorStyleFromString, { description: nls.localize('cursorStyle', \"Controls the cursor style.\") })),\n    cursorSurroundingLines: register(new EditorIntOption(25 /* EditorOption.cursorSurroundingLines */, 'cursorSurroundingLines', 0, 0, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */, { description: nls.localize('cursorSurroundingLines', \"Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.\") })),\n    cursorSurroundingLinesStyle: register(new EditorStringEnumOption(26 /* EditorOption.cursorSurroundingLinesStyle */, 'cursorSurroundingLinesStyle', 'default', ['default', 'all'], {\n        enumDescriptions: [\n            nls.localize('cursorSurroundingLinesStyle.default', \"`cursorSurroundingLines` is enforced only when triggered via the keyboard or API.\"),\n            nls.localize('cursorSurroundingLinesStyle.all', \"`cursorSurroundingLines` is enforced always.\")\n        ],\n        description: nls.localize('cursorSurroundingLinesStyle', \"Controls when `cursorSurroundingLines` should be enforced.\")\n    })),\n    cursorWidth: register(new EditorIntOption(27 /* EditorOption.cursorWidth */, 'cursorWidth', 0, 0, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */, { markdownDescription: nls.localize('cursorWidth', \"Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.\") })),\n    disableLayerHinting: register(new EditorBooleanOption(28 /* EditorOption.disableLayerHinting */, 'disableLayerHinting', false)),\n    disableMonospaceOptimizations: register(new EditorBooleanOption(29 /* EditorOption.disableMonospaceOptimizations */, 'disableMonospaceOptimizations', false)),\n    domReadOnly: register(new EditorBooleanOption(30 /* EditorOption.domReadOnly */, 'domReadOnly', false)),\n    dragAndDrop: register(new EditorBooleanOption(31 /* EditorOption.dragAndDrop */, 'dragAndDrop', true, { description: nls.localize('dragAndDrop', \"Controls whether the editor should allow moving selections via drag and drop.\") })),\n    emptySelectionClipboard: register(new EditorEmptySelectionClipboard()),\n    dropIntoEditor: register(new EditorDropIntoEditor()),\n    experimental: register(new EditorExperimental()),\n    extraEditorClassName: register(new EditorStringOption(35 /* EditorOption.extraEditorClassName */, 'extraEditorClassName', '')),\n    fastScrollSensitivity: register(new EditorFloatOption(36 /* EditorOption.fastScrollSensitivity */, 'fastScrollSensitivity', 5, x => (x <= 0 ? 5 : x), { markdownDescription: nls.localize('fastScrollSensitivity', \"Scrolling speed multiplier when pressing `Alt`.\") })),\n    find: register(new EditorFind()),\n    fixedOverflowWidgets: register(new EditorBooleanOption(38 /* EditorOption.fixedOverflowWidgets */, 'fixedOverflowWidgets', false)),\n    folding: register(new EditorBooleanOption(39 /* EditorOption.folding */, 'folding', true, { description: nls.localize('folding', \"Controls whether the editor has code folding enabled.\") })),\n    foldingStrategy: register(new EditorStringEnumOption(40 /* EditorOption.foldingStrategy */, 'foldingStrategy', 'auto', ['auto', 'indentation'], {\n        enumDescriptions: [\n            nls.localize('foldingStrategy.auto', \"Use a language-specific folding strategy if available, else the indentation-based one.\"),\n            nls.localize('foldingStrategy.indentation', \"Use the indentation-based folding strategy.\"),\n        ],\n        description: nls.localize('foldingStrategy', \"Controls the strategy for computing folding ranges.\")\n    })),\n    foldingHighlight: register(new EditorBooleanOption(41 /* EditorOption.foldingHighlight */, 'foldingHighlight', true, { description: nls.localize('foldingHighlight', \"Controls whether the editor should highlight folded ranges.\") })),\n    foldingImportsByDefault: register(new EditorBooleanOption(42 /* EditorOption.foldingImportsByDefault */, 'foldingImportsByDefault', false, { description: nls.localize('foldingImportsByDefault', \"Controls whether the editor automatically collapses import ranges.\") })),\n    foldingMaximumRegions: register(new EditorIntOption(43 /* EditorOption.foldingMaximumRegions */, 'foldingMaximumRegions', 5000, 10, 65000, // limit must be less than foldingRanges MAX_FOLDING_REGIONS\n    { description: nls.localize('foldingMaximumRegions', \"The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.\") })),\n    unfoldOnClickAfterEndOfLine: register(new EditorBooleanOption(44 /* EditorOption.unfoldOnClickAfterEndOfLine */, 'unfoldOnClickAfterEndOfLine', false, { description: nls.localize('unfoldOnClickAfterEndOfLine', \"Controls whether clicking on the empty content after a folded line will unfold the line.\") })),\n    fontFamily: register(new EditorStringOption(45 /* EditorOption.fontFamily */, 'fontFamily', EDITOR_FONT_DEFAULTS.fontFamily, { description: nls.localize('fontFamily', \"Controls the font family.\") })),\n    fontInfo: register(new EditorFontInfo()),\n    fontLigatures2: register(new EditorFontLigatures()),\n    fontSize: register(new EditorFontSize()),\n    fontWeight: register(new EditorFontWeight()),\n    formatOnPaste: register(new EditorBooleanOption(50 /* EditorOption.formatOnPaste */, 'formatOnPaste', false, { description: nls.localize('formatOnPaste', \"Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.\") })),\n    formatOnType: register(new EditorBooleanOption(51 /* EditorOption.formatOnType */, 'formatOnType', false, { description: nls.localize('formatOnType', \"Controls whether the editor should automatically format the line after typing.\") })),\n    glyphMargin: register(new EditorBooleanOption(52 /* EditorOption.glyphMargin */, 'glyphMargin', true, { description: nls.localize('glyphMargin', \"Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.\") })),\n    gotoLocation: register(new EditorGoToLocation()),\n    hideCursorInOverviewRuler: register(new EditorBooleanOption(54 /* EditorOption.hideCursorInOverviewRuler */, 'hideCursorInOverviewRuler', false, { description: nls.localize('hideCursorInOverviewRuler', \"Controls whether the cursor should be hidden in the overview ruler.\") })),\n    hover: register(new EditorHover()),\n    inDiffEditor: register(new EditorBooleanOption(56 /* EditorOption.inDiffEditor */, 'inDiffEditor', false)),\n    letterSpacing: register(new EditorFloatOption(58 /* EditorOption.letterSpacing */, 'letterSpacing', EDITOR_FONT_DEFAULTS.letterSpacing, x => EditorFloatOption.clamp(x, -5, 20), { description: nls.localize('letterSpacing', \"Controls the letter spacing in pixels.\") })),\n    lightbulb: register(new EditorLightbulb()),\n    lineDecorationsWidth: register(new SimpleEditorOption(60 /* EditorOption.lineDecorationsWidth */, 'lineDecorationsWidth', 10)),\n    lineHeight: register(new EditorLineHeight()),\n    lineNumbers: register(new EditorRenderLineNumbersOption()),\n    lineNumbersMinChars: register(new EditorIntOption(63 /* EditorOption.lineNumbersMinChars */, 'lineNumbersMinChars', 5, 1, 300)),\n    linkedEditing: register(new EditorBooleanOption(64 /* EditorOption.linkedEditing */, 'linkedEditing', false, { description: nls.localize('linkedEditing', \"Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.\") })),\n    links: register(new EditorBooleanOption(65 /* EditorOption.links */, 'links', true, { description: nls.localize('links', \"Controls whether the editor should detect links and make them clickable.\") })),\n    matchBrackets: register(new EditorStringEnumOption(66 /* EditorOption.matchBrackets */, 'matchBrackets', 'always', ['always', 'near', 'never'], { description: nls.localize('matchBrackets', \"Highlight matching brackets.\") })),\n    minimap: register(new EditorMinimap()),\n    mouseStyle: register(new EditorStringEnumOption(68 /* EditorOption.mouseStyle */, 'mouseStyle', 'text', ['text', 'default', 'copy'])),\n    mouseWheelScrollSensitivity: register(new EditorFloatOption(69 /* EditorOption.mouseWheelScrollSensitivity */, 'mouseWheelScrollSensitivity', 1, x => (x === 0 ? 1 : x), { markdownDescription: nls.localize('mouseWheelScrollSensitivity', \"A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.\") })),\n    mouseWheelZoom: register(new EditorBooleanOption(70 /* EditorOption.mouseWheelZoom */, 'mouseWheelZoom', false, { markdownDescription: nls.localize('mouseWheelZoom', \"Zoom the font of the editor when using mouse wheel and holding `Ctrl`.\") })),\n    multiCursorMergeOverlapping: register(new EditorBooleanOption(71 /* EditorOption.multiCursorMergeOverlapping */, 'multiCursorMergeOverlapping', true, { description: nls.localize('multiCursorMergeOverlapping', \"Merge multiple cursors when they are overlapping.\") })),\n    multiCursorModifier: register(new EditorEnumOption(72 /* EditorOption.multiCursorModifier */, 'multiCursorModifier', 'altKey', 'alt', ['ctrlCmd', 'alt'], _multiCursorModifierFromString, {\n        markdownEnumDescriptions: [\n            nls.localize('multiCursorModifier.ctrlCmd', \"Maps to `Control` on Windows and Linux and to `Command` on macOS.\"),\n            nls.localize('multiCursorModifier.alt', \"Maps to `Alt` on Windows and Linux and to `Option` on macOS.\")\n        ],\n        markdownDescription: nls.localize({\n            key: 'multiCursorModifier',\n            comment: [\n                '- `ctrlCmd` refers to a value the setting can take and should not be localized.',\n                '- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized.'\n            ]\n        }, \"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).\")\n    })),\n    multiCursorPaste: register(new EditorStringEnumOption(73 /* EditorOption.multiCursorPaste */, 'multiCursorPaste', 'spread', ['spread', 'full'], {\n        markdownEnumDescriptions: [\n            nls.localize('multiCursorPaste.spread', \"Each cursor pastes a single line of the text.\"),\n            nls.localize('multiCursorPaste.full', \"Each cursor pastes the full text.\")\n        ],\n        markdownDescription: nls.localize('multiCursorPaste', \"Controls pasting when the line count of the pasted text matches the cursor count.\")\n    })),\n    occurrencesHighlight: register(new EditorBooleanOption(74 /* EditorOption.occurrencesHighlight */, 'occurrencesHighlight', true, { description: nls.localize('occurrencesHighlight', \"Controls whether the editor should highlight semantic symbol occurrences.\") })),\n    overviewRulerBorder: register(new EditorBooleanOption(75 /* EditorOption.overviewRulerBorder */, 'overviewRulerBorder', true, { description: nls.localize('overviewRulerBorder', \"Controls whether a border should be drawn around the overview ruler.\") })),\n    overviewRulerLanes: register(new EditorIntOption(76 /* EditorOption.overviewRulerLanes */, 'overviewRulerLanes', 3, 0, 3)),\n    padding: register(new EditorPadding()),\n    parameterHints: register(new EditorParameterHints()),\n    peekWidgetDefaultFocus: register(new EditorStringEnumOption(79 /* EditorOption.peekWidgetDefaultFocus */, 'peekWidgetDefaultFocus', 'tree', ['tree', 'editor'], {\n        enumDescriptions: [\n            nls.localize('peekWidgetDefaultFocus.tree', \"Focus the tree when opening peek\"),\n            nls.localize('peekWidgetDefaultFocus.editor', \"Focus the editor when opening peek\")\n        ],\n        description: nls.localize('peekWidgetDefaultFocus', \"Controls whether to focus the inline editor or the tree in the peek widget.\")\n    })),\n    definitionLinkOpensInPeek: register(new EditorBooleanOption(80 /* EditorOption.definitionLinkOpensInPeek */, 'definitionLinkOpensInPeek', false, { description: nls.localize('definitionLinkOpensInPeek', \"Controls whether the Go to Definition mouse gesture always opens the peek widget.\") })),\n    quickSuggestions: register(new EditorQuickSuggestions()),\n    quickSuggestionsDelay: register(new EditorIntOption(82 /* EditorOption.quickSuggestionsDelay */, 'quickSuggestionsDelay', 10, 0, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */, { description: nls.localize('quickSuggestionsDelay', \"Controls the delay in milliseconds after which quick suggestions will show up.\") })),\n    readOnly: register(new EditorBooleanOption(83 /* EditorOption.readOnly */, 'readOnly', false)),\n    renameOnType: register(new EditorBooleanOption(84 /* EditorOption.renameOnType */, 'renameOnType', false, { description: nls.localize('renameOnType', \"Controls whether the editor auto renames on type.\"), markdownDeprecationMessage: nls.localize('renameOnTypeDeprecate', \"Deprecated, use `editor.linkedEditing` instead.\") })),\n    renderControlCharacters: register(new EditorBooleanOption(85 /* EditorOption.renderControlCharacters */, 'renderControlCharacters', true, { description: nls.localize('renderControlCharacters', \"Controls whether the editor should render control characters.\"), restricted: true })),\n    renderFinalNewline: register(new EditorBooleanOption(86 /* EditorOption.renderFinalNewline */, 'renderFinalNewline', true, { description: nls.localize('renderFinalNewline', \"Render last line number when the file ends with a newline.\") })),\n    renderLineHighlight: register(new EditorStringEnumOption(87 /* EditorOption.renderLineHighlight */, 'renderLineHighlight', 'line', ['none', 'gutter', 'line', 'all'], {\n        enumDescriptions: [\n            '',\n            '',\n            '',\n            nls.localize('renderLineHighlight.all', \"Highlights both the gutter and the current line.\"),\n        ],\n        description: nls.localize('renderLineHighlight', \"Controls how the editor should render the current line highlight.\")\n    })),\n    renderLineHighlightOnlyWhenFocus: register(new EditorBooleanOption(88 /* EditorOption.renderLineHighlightOnlyWhenFocus */, 'renderLineHighlightOnlyWhenFocus', false, { description: nls.localize('renderLineHighlightOnlyWhenFocus', \"Controls if the editor should render the current line highlight only when the editor is focused.\") })),\n    renderValidationDecorations: register(new EditorStringEnumOption(89 /* EditorOption.renderValidationDecorations */, 'renderValidationDecorations', 'editable', ['editable', 'on', 'off'])),\n    renderWhitespace: register(new EditorStringEnumOption(90 /* EditorOption.renderWhitespace */, 'renderWhitespace', 'selection', ['none', 'boundary', 'selection', 'trailing', 'all'], {\n        enumDescriptions: [\n            '',\n            nls.localize('renderWhitespace.boundary', \"Render whitespace characters except for single spaces between words.\"),\n            nls.localize('renderWhitespace.selection', \"Render whitespace characters only on selected text.\"),\n            nls.localize('renderWhitespace.trailing', \"Render only trailing whitespace characters.\"),\n            ''\n        ],\n        description: nls.localize('renderWhitespace', \"Controls how the editor should render whitespace characters.\")\n    })),\n    revealHorizontalRightPadding: register(new EditorIntOption(91 /* EditorOption.revealHorizontalRightPadding */, 'revealHorizontalRightPadding', 30, 0, 1000)),\n    roundedSelection: register(new EditorBooleanOption(92 /* EditorOption.roundedSelection */, 'roundedSelection', true, { description: nls.localize('roundedSelection', \"Controls whether selections should have rounded corners.\") })),\n    rulers: register(new EditorRulers()),\n    scrollbar: register(new EditorScrollbar()),\n    scrollBeyondLastColumn: register(new EditorIntOption(95 /* EditorOption.scrollBeyondLastColumn */, 'scrollBeyondLastColumn', 4, 0, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */, { description: nls.localize('scrollBeyondLastColumn', \"Controls the number of extra characters beyond which the editor will scroll horizontally.\") })),\n    scrollBeyondLastLine: register(new EditorBooleanOption(96 /* EditorOption.scrollBeyondLastLine */, 'scrollBeyondLastLine', true, { description: nls.localize('scrollBeyondLastLine', \"Controls whether the editor will scroll beyond the last line.\") })),\n    scrollPredominantAxis: register(new EditorBooleanOption(97 /* EditorOption.scrollPredominantAxis */, 'scrollPredominantAxis', true, { description: nls.localize('scrollPredominantAxis', \"Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.\") })),\n    selectionClipboard: register(new EditorBooleanOption(98 /* EditorOption.selectionClipboard */, 'selectionClipboard', true, {\n        description: nls.localize('selectionClipboard', \"Controls whether the Linux primary clipboard should be supported.\"),\n        included: platform.isLinux\n    })),\n    selectionHighlight: register(new EditorBooleanOption(99 /* EditorOption.selectionHighlight */, 'selectionHighlight', true, { description: nls.localize('selectionHighlight', \"Controls whether the editor should highlight matches similar to the selection.\") })),\n    selectOnLineNumbers: register(new EditorBooleanOption(100 /* EditorOption.selectOnLineNumbers */, 'selectOnLineNumbers', true)),\n    showFoldingControls: register(new EditorStringEnumOption(101 /* EditorOption.showFoldingControls */, 'showFoldingControls', 'mouseover', ['always', 'never', 'mouseover'], {\n        enumDescriptions: [\n            nls.localize('showFoldingControls.always', \"Always show the folding controls.\"),\n            nls.localize('showFoldingControls.never', \"Never show the folding controls and reduce the gutter size.\"),\n            nls.localize('showFoldingControls.mouseover', \"Only show the folding controls when the mouse is over the gutter.\"),\n        ],\n        description: nls.localize('showFoldingControls', \"Controls when the folding controls on the gutter are shown.\")\n    })),\n    showUnused: register(new EditorBooleanOption(102 /* EditorOption.showUnused */, 'showUnused', true, { description: nls.localize('showUnused', \"Controls fading out of unused code.\") })),\n    showDeprecated: register(new EditorBooleanOption(128 /* EditorOption.showDeprecated */, 'showDeprecated', true, { description: nls.localize('showDeprecated', \"Controls strikethrough deprecated variables.\") })),\n    inlayHints: register(new EditorInlayHints()),\n    snippetSuggestions: register(new EditorStringEnumOption(103 /* EditorOption.snippetSuggestions */, 'snippetSuggestions', 'inline', ['top', 'bottom', 'inline', 'none'], {\n        enumDescriptions: [\n            nls.localize('snippetSuggestions.top', \"Show snippet suggestions on top of other suggestions.\"),\n            nls.localize('snippetSuggestions.bottom', \"Show snippet suggestions below other suggestions.\"),\n            nls.localize('snippetSuggestions.inline', \"Show snippets suggestions with other suggestions.\"),\n            nls.localize('snippetSuggestions.none', \"Do not show snippet suggestions.\"),\n        ],\n        description: nls.localize('snippetSuggestions', \"Controls whether snippets are shown with other suggestions and how they are sorted.\")\n    })),\n    smartSelect: register(new SmartSelect()),\n    smoothScrolling: register(new EditorBooleanOption(105 /* EditorOption.smoothScrolling */, 'smoothScrolling', false, { description: nls.localize('smoothScrolling', \"Controls whether the editor will scroll using an animation.\") })),\n    stopRenderingLineAfter: register(new EditorIntOption(107 /* EditorOption.stopRenderingLineAfter */, 'stopRenderingLineAfter', 10000, -1, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */)),\n    suggest: register(new EditorSuggest()),\n    inlineSuggest: register(new InlineEditorSuggest()),\n    suggestFontSize: register(new EditorIntOption(109 /* EditorOption.suggestFontSize */, 'suggestFontSize', 0, 0, 1000, { markdownDescription: nls.localize('suggestFontSize', \"Font size for the suggest widget. When set to {0}, the value of {1} is used.\", '`0`', '`#editor.fontSize#`') })),\n    suggestLineHeight: register(new EditorIntOption(110 /* EditorOption.suggestLineHeight */, 'suggestLineHeight', 0, 0, 1000, { markdownDescription: nls.localize('suggestLineHeight', \"Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.\", '`0`', '`#editor.lineHeight#`') })),\n    suggestOnTriggerCharacters: register(new EditorBooleanOption(111 /* EditorOption.suggestOnTriggerCharacters */, 'suggestOnTriggerCharacters', true, { description: nls.localize('suggestOnTriggerCharacters', \"Controls whether suggestions should automatically show up when typing trigger characters.\") })),\n    suggestSelection: register(new EditorStringEnumOption(112 /* EditorOption.suggestSelection */, 'suggestSelection', 'first', ['first', 'recentlyUsed', 'recentlyUsedByPrefix'], {\n        markdownEnumDescriptions: [\n            nls.localize('suggestSelection.first', \"Always select the first suggestion.\"),\n            nls.localize('suggestSelection.recentlyUsed', \"Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently.\"),\n            nls.localize('suggestSelection.recentlyUsedByPrefix', \"Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.\"),\n        ],\n        description: nls.localize('suggestSelection', \"Controls how suggestions are pre-selected when showing the suggest list.\")\n    })),\n    tabCompletion: register(new EditorStringEnumOption(113 /* EditorOption.tabCompletion */, 'tabCompletion', 'off', ['on', 'off', 'onlySnippets'], {\n        enumDescriptions: [\n            nls.localize('tabCompletion.on', \"Tab complete will insert the best matching suggestion when pressing tab.\"),\n            nls.localize('tabCompletion.off', \"Disable tab completions.\"),\n            nls.localize('tabCompletion.onlySnippets', \"Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.\"),\n        ],\n        description: nls.localize('tabCompletion', \"Enables tab completions.\")\n    })),\n    tabIndex: register(new EditorIntOption(114 /* EditorOption.tabIndex */, 'tabIndex', 0, -1, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */)),\n    unicodeHighlight: register(new UnicodeHighlight()),\n    unusualLineTerminators: register(new EditorStringEnumOption(116 /* EditorOption.unusualLineTerminators */, 'unusualLineTerminators', 'prompt', ['auto', 'off', 'prompt'], {\n        enumDescriptions: [\n            nls.localize('unusualLineTerminators.auto', \"Unusual line terminators are automatically removed.\"),\n            nls.localize('unusualLineTerminators.off', \"Unusual line terminators are ignored.\"),\n            nls.localize('unusualLineTerminators.prompt', \"Unusual line terminators prompt to be removed.\"),\n        ],\n        description: nls.localize('unusualLineTerminators', \"Remove unusual line terminators that might cause problems.\")\n    })),\n    useShadowDOM: register(new EditorBooleanOption(117 /* EditorOption.useShadowDOM */, 'useShadowDOM', true)),\n    useTabStops: register(new EditorBooleanOption(118 /* EditorOption.useTabStops */, 'useTabStops', true, { description: nls.localize('useTabStops', \"Inserting and deleting whitespace follows tab stops.\") })),\n    wordSeparators: register(new EditorStringOption(119 /* EditorOption.wordSeparators */, 'wordSeparators', USUAL_WORD_SEPARATORS, { description: nls.localize('wordSeparators', \"Characters that will be used as word separators when doing word related navigations or operations.\") })),\n    wordWrap: register(new EditorStringEnumOption(120 /* EditorOption.wordWrap */, 'wordWrap', 'off', ['off', 'on', 'wordWrapColumn', 'bounded'], {\n        markdownEnumDescriptions: [\n            nls.localize('wordWrap.off', \"Lines will never wrap.\"),\n            nls.localize('wordWrap.on', \"Lines will wrap at the viewport width.\"),\n            nls.localize({\n                key: 'wordWrap.wordWrapColumn',\n                comment: [\n                    '- `editor.wordWrapColumn` refers to a different setting and should not be localized.'\n                ]\n            }, \"Lines will wrap at `#editor.wordWrapColumn#`.\"),\n            nls.localize({\n                key: 'wordWrap.bounded',\n                comment: [\n                    '- viewport means the edge of the visible window size.',\n                    '- `editor.wordWrapColumn` refers to a different setting and should not be localized.'\n                ]\n            }, \"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.\"),\n        ],\n        description: nls.localize({\n            key: 'wordWrap',\n            comment: [\n                '- \\'off\\', \\'on\\', \\'wordWrapColumn\\' and \\'bounded\\' refer to values the setting can take and should not be localized.',\n                '- `editor.wordWrapColumn` refers to a different setting and should not be localized.'\n            ]\n        }, \"Controls how lines should wrap.\")\n    })),\n    wordWrapBreakAfterCharacters: register(new EditorStringOption(121 /* EditorOption.wordWrapBreakAfterCharacters */, 'wordWrapBreakAfterCharacters', \n    // allow-any-unicode-next-line\n    ' \\t})]?|/&.,;')),\n    wordWrapBreakBeforeCharacters: register(new EditorStringOption(122 /* EditorOption.wordWrapBreakBeforeCharacters */, 'wordWrapBreakBeforeCharacters', \n    // allow-any-unicode-next-line\n    '([{+')),\n    wordWrapColumn: register(new EditorIntOption(123 /* EditorOption.wordWrapColumn */, 'wordWrapColumn', 80, 1, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */, {\n        markdownDescription: nls.localize({\n            key: 'wordWrapColumn',\n            comment: [\n                '- `editor.wordWrap` refers to a different setting and should not be localized.',\n                '- \\'wordWrapColumn\\' and \\'bounded\\' refer to values the different setting can take and should not be localized.'\n            ]\n        }, \"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.\")\n    })),\n    wordWrapOverride1: register(new EditorStringEnumOption(124 /* EditorOption.wordWrapOverride1 */, 'wordWrapOverride1', 'inherit', ['off', 'on', 'inherit'])),\n    wordWrapOverride2: register(new EditorStringEnumOption(125 /* EditorOption.wordWrapOverride2 */, 'wordWrapOverride2', 'inherit', ['off', 'on', 'inherit'])),\n    wrappingIndent: register(new EditorEnumOption(126 /* EditorOption.wrappingIndent */, 'wrappingIndent', 1 /* WrappingIndent.Same */, 'same', ['none', 'same', 'indent', 'deepIndent'], _wrappingIndentFromString, {\n        enumDescriptions: [\n            nls.localize('wrappingIndent.none', \"No indentation. Wrapped lines begin at column 1.\"),\n            nls.localize('wrappingIndent.same', \"Wrapped lines get the same indentation as the parent.\"),\n            nls.localize('wrappingIndent.indent', \"Wrapped lines get +1 indentation toward the parent.\"),\n            nls.localize('wrappingIndent.deepIndent', \"Wrapped lines get +2 indentation toward the parent.\"),\n        ],\n        description: nls.localize('wrappingIndent', \"Controls the indentation of wrapped lines.\"),\n    })),\n    wrappingStrategy: register(new EditorStringEnumOption(127 /* EditorOption.wrappingStrategy */, 'wrappingStrategy', 'simple', ['simple', 'advanced'], {\n        enumDescriptions: [\n            nls.localize('wrappingStrategy.simple', \"Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width.\"),\n            nls.localize('wrappingStrategy.advanced', \"Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.\")\n        ],\n        description: nls.localize('wrappingStrategy', \"Controls the algorithm that computes wrapping points.\")\n    })),\n    // Leave these at the end (because they have dependencies!)\n    editorClassName: register(new EditorClassName()),\n    pixelRatio: register(new EditorPixelRatio()),\n    tabFocusMode: register(new EditorTabFocusMode()),\n    layoutInfo: register(new EditorLayoutInfoComputer()),\n    wrappingInfo: register(new EditorWrappingInfoComputer())\n};\n"],"mappings":"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"}]}
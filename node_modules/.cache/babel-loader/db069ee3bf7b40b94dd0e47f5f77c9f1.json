{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/browser/viewParts/selections/selections.js","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/browser/viewParts/selections/selections.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheS5qcyI7CmltcG9ydCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXNzZXJ0VGhpc0luaXRpYWxpemVkLmpzIjsKaW1wb3J0IF9nZXQgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXQuanMiOwppbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YuanMiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMuanMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIuanMiOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2suanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi4KICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCmltcG9ydCAnLi9zZWxlY3Rpb25zLmNzcyc7CmltcG9ydCB7IER5bmFtaWNWaWV3T3ZlcmxheSB9IGZyb20gJy4uLy4uL3ZpZXcvZHluYW1pY1ZpZXdPdmVybGF5LmpzJzsKaW1wb3J0IHsgZWRpdG9ySW5hY3RpdmVTZWxlY3Rpb24sIGVkaXRvclNlbGVjdGlvbkJhY2tncm91bmQsIGVkaXRvclNlbGVjdGlvbkZvcmVncm91bmQgfSBmcm9tICcuLi8uLi8uLi8uLi9wbGF0Zm9ybS90aGVtZS9jb21tb24vY29sb3JSZWdpc3RyeS5qcyc7CmltcG9ydCB7IHJlZ2lzdGVyVGhlbWluZ1BhcnRpY2lwYW50IH0gZnJvbSAnLi4vLi4vLi4vLi4vcGxhdGZvcm0vdGhlbWUvY29tbW9uL3RoZW1lU2VydmljZS5qcyc7CnZhciBIb3Jpem9udGFsUmFuZ2VXaXRoU3R5bGUgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUNsYXNzKGZ1bmN0aW9uIEhvcml6b250YWxSYW5nZVdpdGhTdHlsZShvdGhlcikgewogIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIb3Jpem9udGFsUmFuZ2VXaXRoU3R5bGUpOwogIHRoaXMubGVmdCA9IG90aGVyLmxlZnQ7CiAgdGhpcy53aWR0aCA9IG90aGVyLndpZHRoOwogIHRoaXMuc3RhcnRTdHlsZSA9IG51bGw7CiAgdGhpcy5lbmRTdHlsZSA9IG51bGw7Cn0pOwp2YXIgTGluZVZpc2libGVSYW5nZXNXaXRoU3R5bGUgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUNsYXNzKGZ1bmN0aW9uIExpbmVWaXNpYmxlUmFuZ2VzV2l0aFN0eWxlKGxpbmVOdW1iZXIsIHJhbmdlcykgewogIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMaW5lVmlzaWJsZVJhbmdlc1dpdGhTdHlsZSk7CiAgdGhpcy5saW5lTnVtYmVyID0gbGluZU51bWJlcjsKICB0aGlzLnJhbmdlcyA9IHJhbmdlczsKfSk7CmZ1bmN0aW9uIHRvU3R5bGVkUmFuZ2UoaXRlbSkgewogIHJldHVybiBuZXcgSG9yaXpvbnRhbFJhbmdlV2l0aFN0eWxlKGl0ZW0pOwp9CmZ1bmN0aW9uIHRvU3R5bGVkKGl0ZW0pIHsKICByZXR1cm4gbmV3IExpbmVWaXNpYmxlUmFuZ2VzV2l0aFN0eWxlKGl0ZW0ubGluZU51bWJlciwgaXRlbS5yYW5nZXMubWFwKHRvU3R5bGVkUmFuZ2UpKTsKfQpleHBvcnQgdmFyIFNlbGVjdGlvbnNPdmVybGF5ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRHluYW1pY1ZpZXdPdmVybGF5KSB7CiAgX2luaGVyaXRzKFNlbGVjdGlvbnNPdmVybGF5LCBfRHluYW1pY1ZpZXdPdmVybGF5KTsKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFNlbGVjdGlvbnNPdmVybGF5KTsKICBmdW5jdGlvbiBTZWxlY3Rpb25zT3ZlcmxheShjb250ZXh0KSB7CiAgICB2YXIgX3RoaXM7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VsZWN0aW9uc092ZXJsYXkpOwogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKTsKICAgIF90aGlzLl9wcmV2aW91c0ZyYW1lVmlzaWJsZVJhbmdlc1dpdGhTdHlsZSA9IFtdOwogICAgX3RoaXMuX2NvbnRleHQgPSBjb250ZXh0OwogICAgdmFyIG9wdGlvbnMgPSBfdGhpcy5fY29udGV4dC5jb25maWd1cmF0aW9uLm9wdGlvbnM7CiAgICBfdGhpcy5fbGluZUhlaWdodCA9IG9wdGlvbnMuZ2V0KDYxIC8qIEVkaXRvck9wdGlvbi5saW5lSGVpZ2h0ICovKTsKICAgIF90aGlzLl9yb3VuZGVkU2VsZWN0aW9uID0gb3B0aW9ucy5nZXQoOTIgLyogRWRpdG9yT3B0aW9uLnJvdW5kZWRTZWxlY3Rpb24gKi8pOwogICAgX3RoaXMuX3R5cGljYWxIYWxmd2lkdGhDaGFyYWN0ZXJXaWR0aCA9IG9wdGlvbnMuZ2V0KDQ2IC8qIEVkaXRvck9wdGlvbi5mb250SW5mbyAqLykudHlwaWNhbEhhbGZ3aWR0aENoYXJhY3RlcldpZHRoOwogICAgX3RoaXMuX3NlbGVjdGlvbnMgPSBbXTsKICAgIF90aGlzLl9yZW5kZXJSZXN1bHQgPSBudWxsOwogICAgX3RoaXMuX2NvbnRleHQuYWRkRXZlbnRIYW5kbGVyKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgIHJldHVybiBfdGhpczsKICB9CiAgX2NyZWF0ZUNsYXNzKFNlbGVjdGlvbnNPdmVybGF5LCBbewogICAga2V5OiAiZGlzcG9zZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcG9zZSgpIHsKICAgICAgdGhpcy5fY29udGV4dC5yZW1vdmVFdmVudEhhbmRsZXIodGhpcyk7CiAgICAgIHRoaXMuX3JlbmRlclJlc3VsdCA9IG51bGw7CiAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKFNlbGVjdGlvbnNPdmVybGF5LnByb3RvdHlwZSksICJkaXNwb3NlIiwgdGhpcykuY2FsbCh0aGlzKTsKICAgIH0KICAgIC8vIC0tLSBiZWdpbiBldmVudCBoYW5kbGVycwogIH0sIHsKICAgIGtleTogIm9uQ29uZmlndXJhdGlvbkNoYW5nZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ29uZmlndXJhdGlvbkNoYW5nZWQoZSkgewogICAgICB2YXIgb3B0aW9ucyA9IHRoaXMuX2NvbnRleHQuY29uZmlndXJhdGlvbi5vcHRpb25zOwogICAgICB0aGlzLl9saW5lSGVpZ2h0ID0gb3B0aW9ucy5nZXQoNjEgLyogRWRpdG9yT3B0aW9uLmxpbmVIZWlnaHQgKi8pOwogICAgICB0aGlzLl9yb3VuZGVkU2VsZWN0aW9uID0gb3B0aW9ucy5nZXQoOTIgLyogRWRpdG9yT3B0aW9uLnJvdW5kZWRTZWxlY3Rpb24gKi8pOwogICAgICB0aGlzLl90eXBpY2FsSGFsZndpZHRoQ2hhcmFjdGVyV2lkdGggPSBvcHRpb25zLmdldCg0NiAvKiBFZGl0b3JPcHRpb24uZm9udEluZm8gKi8pLnR5cGljYWxIYWxmd2lkdGhDaGFyYWN0ZXJXaWR0aDsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAib25DdXJzb3JTdGF0ZUNoYW5nZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ3Vyc29yU3RhdGVDaGFuZ2VkKGUpIHsKICAgICAgdGhpcy5fc2VsZWN0aW9ucyA9IGUuc2VsZWN0aW9ucy5zbGljZSgwKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAib25EZWNvcmF0aW9uc0NoYW5nZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uRGVjb3JhdGlvbnNDaGFuZ2VkKGUpIHsKICAgICAgLy8gdHJ1ZSBmb3IgaW5saW5lIGRlY29yYXRpb25zIHRoYXQgY2FuIGVuZCB1cCByZWxheW91dGluZyB0ZXh0CiAgICAgIHJldHVybiB0cnVlOyAvL2UuaW5saW5lRGVjb3JhdGlvbnNDaGFuZ2VkOwogICAgfQogIH0sIHsKICAgIGtleTogIm9uRmx1c2hlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25GbHVzaGVkKGUpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAib25MaW5lc0NoYW5nZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uTGluZXNDaGFuZ2VkKGUpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAib25MaW5lc0RlbGV0ZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uTGluZXNEZWxldGVkKGUpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAib25MaW5lc0luc2VydGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvbkxpbmVzSW5zZXJ0ZWQoZSkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvblNjcm9sbENoYW5nZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2Nyb2xsQ2hhbmdlZChlKSB7CiAgICAgIHJldHVybiBlLnNjcm9sbFRvcENoYW5nZWQ7CiAgICB9CiAgfSwgewogICAga2V5OiAib25ab25lc0NoYW5nZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uWm9uZXNDaGFuZ2VkKGUpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAvLyAtLS0gZW5kIGV2ZW50IGhhbmRsZXJzCiAgfSwgewogICAga2V5OiAiX3Zpc2libGVSYW5nZXNIYXZlR2FwcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3Zpc2libGVSYW5nZXNIYXZlR2FwcyhsaW5lc1Zpc2libGVSYW5nZXMpIHsKICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxpbmVzVmlzaWJsZVJhbmdlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykgewogICAgICAgIHZhciBsaW5lVmlzaWJsZVJhbmdlcyA9IGxpbmVzVmlzaWJsZVJhbmdlc1tpXTsKICAgICAgICBpZiAobGluZVZpc2libGVSYW5nZXMucmFuZ2VzLmxlbmd0aCA+IDEpIHsKICAgICAgICAgIC8vIFRoZXJlIGFyZSB0d28gcmFuZ2VzIG9uIHRoZSBzYW1lIGxpbmUKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAiX2VucmljaFZpc2libGVSYW5nZXNXaXRoU3R5bGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9lbnJpY2hWaXNpYmxlUmFuZ2VzV2l0aFN0eWxlKHZpZXdwb3J0LCBsaW5lc1Zpc2libGVSYW5nZXMsIHByZXZpb3VzRnJhbWUpIHsKICAgICAgdmFyIGVwc2lsb24gPSB0aGlzLl90eXBpY2FsSGFsZndpZHRoQ2hhcmFjdGVyV2lkdGggLyA0OwogICAgICB2YXIgcHJldmlvdXNGcmFtZVRvcCA9IG51bGw7CiAgICAgIHZhciBwcmV2aW91c0ZyYW1lQm90dG9tID0gbnVsbDsKICAgICAgaWYgKHByZXZpb3VzRnJhbWUgJiYgcHJldmlvdXNGcmFtZS5sZW5ndGggPiAwICYmIGxpbmVzVmlzaWJsZVJhbmdlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgdmFyIHRvcExpbmVOdW1iZXIgPSBsaW5lc1Zpc2libGVSYW5nZXNbMF0ubGluZU51bWJlcjsKICAgICAgICBpZiAodG9wTGluZU51bWJlciA9PT0gdmlld3BvcnQuc3RhcnRMaW5lTnVtYmVyKSB7CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgIXByZXZpb3VzRnJhbWVUb3AgJiYgaSA8IHByZXZpb3VzRnJhbWUubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKHByZXZpb3VzRnJhbWVbaV0ubGluZU51bWJlciA9PT0gdG9wTGluZU51bWJlcikgewogICAgICAgICAgICAgIHByZXZpb3VzRnJhbWVUb3AgPSBwcmV2aW91c0ZyYW1lW2ldLnJhbmdlc1swXTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB2YXIgYm90dG9tTGluZU51bWJlciA9IGxpbmVzVmlzaWJsZVJhbmdlc1tsaW5lc1Zpc2libGVSYW5nZXMubGVuZ3RoIC0gMV0ubGluZU51bWJlcjsKICAgICAgICBpZiAoYm90dG9tTGluZU51bWJlciA9PT0gdmlld3BvcnQuZW5kTGluZU51bWJlcikgewogICAgICAgICAgZm9yICh2YXIgX2kgPSBwcmV2aW91c0ZyYW1lLmxlbmd0aCAtIDE7ICFwcmV2aW91c0ZyYW1lQm90dG9tICYmIF9pID49IDA7IF9pLS0pIHsKICAgICAgICAgICAgaWYgKHByZXZpb3VzRnJhbWVbX2ldLmxpbmVOdW1iZXIgPT09IGJvdHRvbUxpbmVOdW1iZXIpIHsKICAgICAgICAgICAgICBwcmV2aW91c0ZyYW1lQm90dG9tID0gcHJldmlvdXNGcmFtZVtfaV0ucmFuZ2VzWzBdOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChwcmV2aW91c0ZyYW1lVG9wICYmICFwcmV2aW91c0ZyYW1lVG9wLnN0YXJ0U3R5bGUpIHsKICAgICAgICAgIHByZXZpb3VzRnJhbWVUb3AgPSBudWxsOwogICAgICAgIH0KICAgICAgICBpZiAocHJldmlvdXNGcmFtZUJvdHRvbSAmJiAhcHJldmlvdXNGcmFtZUJvdHRvbS5zdGFydFN0eWxlKSB7CiAgICAgICAgICBwcmV2aW91c0ZyYW1lQm90dG9tID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0KICAgICAgZm9yICh2YXIgX2kyID0gMCwgbGVuID0gbGluZXNWaXNpYmxlUmFuZ2VzLmxlbmd0aDsgX2kyIDwgbGVuOyBfaTIrKykgewogICAgICAgIC8vIFdlIGtub3cgZm9yIGEgZmFjdCB0aGF0IHRoZXJlIGlzIHByZWNpc2VseSBvbmUgcmFuZ2Ugb24gZWFjaCBsaW5lCiAgICAgICAgdmFyIGN1ckxpbmVSYW5nZSA9IGxpbmVzVmlzaWJsZVJhbmdlc1tfaTJdLnJhbmdlc1swXTsKICAgICAgICB2YXIgY3VyTGVmdCA9IGN1ckxpbmVSYW5nZS5sZWZ0OwogICAgICAgIHZhciBjdXJSaWdodCA9IGN1ckxpbmVSYW5nZS5sZWZ0ICsgY3VyTGluZVJhbmdlLndpZHRoOwogICAgICAgIHZhciBzdGFydFN0eWxlID0gewogICAgICAgICAgdG9wOiAwIC8qIENvcm5lclN0eWxlLkVYVEVSTiAqLywKICAgICAgICAgIGJvdHRvbTogMCAvKiBDb3JuZXJTdHlsZS5FWFRFUk4gKi8KICAgICAgICB9OwoKICAgICAgICB2YXIgZW5kU3R5bGUgPSB7CiAgICAgICAgICB0b3A6IDAgLyogQ29ybmVyU3R5bGUuRVhURVJOICovLAogICAgICAgICAgYm90dG9tOiAwIC8qIENvcm5lclN0eWxlLkVYVEVSTiAqLwogICAgICAgIH07CgogICAgICAgIGlmIChfaTIgPiAwKSB7CiAgICAgICAgICAvLyBMb29rIGFib3ZlCiAgICAgICAgICB2YXIgcHJldkxlZnQgPSBsaW5lc1Zpc2libGVSYW5nZXNbX2kyIC0gMV0ucmFuZ2VzWzBdLmxlZnQ7CiAgICAgICAgICB2YXIgcHJldlJpZ2h0ID0gbGluZXNWaXNpYmxlUmFuZ2VzW19pMiAtIDFdLnJhbmdlc1swXS5sZWZ0ICsgbGluZXNWaXNpYmxlUmFuZ2VzW19pMiAtIDFdLnJhbmdlc1swXS53aWR0aDsKICAgICAgICAgIGlmIChhYnMoY3VyTGVmdCAtIHByZXZMZWZ0KSA8IGVwc2lsb24pIHsKICAgICAgICAgICAgc3RhcnRTdHlsZS50b3AgPSAyIC8qIENvcm5lclN0eWxlLkZMQVQgKi87CiAgICAgICAgICB9IGVsc2UgaWYgKGN1ckxlZnQgPiBwcmV2TGVmdCkgewogICAgICAgICAgICBzdGFydFN0eWxlLnRvcCA9IDEgLyogQ29ybmVyU3R5bGUuSU5URVJOICovOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChhYnMoY3VyUmlnaHQgLSBwcmV2UmlnaHQpIDwgZXBzaWxvbikgewogICAgICAgICAgICBlbmRTdHlsZS50b3AgPSAyIC8qIENvcm5lclN0eWxlLkZMQVQgKi87CiAgICAgICAgICB9IGVsc2UgaWYgKHByZXZMZWZ0IDwgY3VyUmlnaHQgJiYgY3VyUmlnaHQgPCBwcmV2UmlnaHQpIHsKICAgICAgICAgICAgZW5kU3R5bGUudG9wID0gMSAvKiBDb3JuZXJTdHlsZS5JTlRFUk4gKi87CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChwcmV2aW91c0ZyYW1lVG9wKSB7CiAgICAgICAgICAvLyBBY2NlcHQgc29tZSBoaWNjdXBzIG5lYXIgdGhlIHZpZXdwb3J0IGVkZ2VzIHRvIHNhdmUgb24gcmVwYWludHMKICAgICAgICAgIHN0YXJ0U3R5bGUudG9wID0gcHJldmlvdXNGcmFtZVRvcC5zdGFydFN0eWxlLnRvcDsKICAgICAgICAgIGVuZFN0eWxlLnRvcCA9IHByZXZpb3VzRnJhbWVUb3AuZW5kU3R5bGUudG9wOwogICAgICAgIH0KICAgICAgICBpZiAoX2kyICsgMSA8IGxlbikgewogICAgICAgICAgLy8gTG9vayBiZWxvdwogICAgICAgICAgdmFyIG5leHRMZWZ0ID0gbGluZXNWaXNpYmxlUmFuZ2VzW19pMiArIDFdLnJhbmdlc1swXS5sZWZ0OwogICAgICAgICAgdmFyIG5leHRSaWdodCA9IGxpbmVzVmlzaWJsZVJhbmdlc1tfaTIgKyAxXS5yYW5nZXNbMF0ubGVmdCArIGxpbmVzVmlzaWJsZVJhbmdlc1tfaTIgKyAxXS5yYW5nZXNbMF0ud2lkdGg7CiAgICAgICAgICBpZiAoYWJzKGN1ckxlZnQgLSBuZXh0TGVmdCkgPCBlcHNpbG9uKSB7CiAgICAgICAgICAgIHN0YXJ0U3R5bGUuYm90dG9tID0gMiAvKiBDb3JuZXJTdHlsZS5GTEFUICovOwogICAgICAgICAgfSBlbHNlIGlmIChuZXh0TGVmdCA8IGN1ckxlZnQgJiYgY3VyTGVmdCA8IG5leHRSaWdodCkgewogICAgICAgICAgICBzdGFydFN0eWxlLmJvdHRvbSA9IDEgLyogQ29ybmVyU3R5bGUuSU5URVJOICovOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChhYnMoY3VyUmlnaHQgLSBuZXh0UmlnaHQpIDwgZXBzaWxvbikgewogICAgICAgICAgICBlbmRTdHlsZS5ib3R0b20gPSAyIC8qIENvcm5lclN0eWxlLkZMQVQgKi87CiAgICAgICAgICB9IGVsc2UgaWYgKGN1clJpZ2h0IDwgbmV4dFJpZ2h0KSB7CiAgICAgICAgICAgIGVuZFN0eWxlLmJvdHRvbSA9IDEgLyogQ29ybmVyU3R5bGUuSU5URVJOICovOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAocHJldmlvdXNGcmFtZUJvdHRvbSkgewogICAgICAgICAgLy8gQWNjZXB0IHNvbWUgaGljY3VwcyBuZWFyIHRoZSB2aWV3cG9ydCBlZGdlcyB0byBzYXZlIG9uIHJlcGFpbnRzCiAgICAgICAgICBzdGFydFN0eWxlLmJvdHRvbSA9IHByZXZpb3VzRnJhbWVCb3R0b20uc3RhcnRTdHlsZS5ib3R0b207CiAgICAgICAgICBlbmRTdHlsZS5ib3R0b20gPSBwcmV2aW91c0ZyYW1lQm90dG9tLmVuZFN0eWxlLmJvdHRvbTsKICAgICAgICB9CiAgICAgICAgY3VyTGluZVJhbmdlLnN0YXJ0U3R5bGUgPSBzdGFydFN0eWxlOwogICAgICAgIGN1ckxpbmVSYW5nZS5lbmRTdHlsZSA9IGVuZFN0eWxlOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiX2dldFZpc2libGVSYW5nZXNXaXRoU3R5bGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRWaXNpYmxlUmFuZ2VzV2l0aFN0eWxlKHNlbGVjdGlvbiwgY3R4LCBwcmV2aW91c0ZyYW1lKSB7CiAgICAgIHZhciBfbGluZXNWaXNpYmxlUmFuZ2VzID0gY3R4LmxpbmVzVmlzaWJsZVJhbmdlc0ZvclJhbmdlKHNlbGVjdGlvbiwgdHJ1ZSkgfHwgW107CiAgICAgIHZhciBsaW5lc1Zpc2libGVSYW5nZXMgPSBfbGluZXNWaXNpYmxlUmFuZ2VzLm1hcCh0b1N0eWxlZCk7CiAgICAgIHZhciB2aXNpYmxlUmFuZ2VzSGF2ZUdhcHMgPSB0aGlzLl92aXNpYmxlUmFuZ2VzSGF2ZUdhcHMobGluZXNWaXNpYmxlUmFuZ2VzKTsKICAgICAgaWYgKCF2aXNpYmxlUmFuZ2VzSGF2ZUdhcHMgJiYgdGhpcy5fcm91bmRlZFNlbGVjdGlvbikgewogICAgICAgIHRoaXMuX2VucmljaFZpc2libGVSYW5nZXNXaXRoU3R5bGUoY3R4LnZpc2libGVSYW5nZSwgbGluZXNWaXNpYmxlUmFuZ2VzLCBwcmV2aW91c0ZyYW1lKTsKICAgICAgfQogICAgICAvLyBUaGUgdmlzaWJsZSByYW5nZXMgYXJlIHNvcnRlZCBUT1AtQk9UVE9NIGFuZCBMRUZULVJJR0hUCiAgICAgIHJldHVybiBsaW5lc1Zpc2libGVSYW5nZXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiX2NyZWF0ZVNlbGVjdGlvblBpZWNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfY3JlYXRlU2VsZWN0aW9uUGllY2UodG9wLCBoZWlnaHQsIGNsYXNzTmFtZSwgbGVmdCwgd2lkdGgpIHsKICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPSJjc2xyICcgKyBjbGFzc05hbWUgKyAnIiBzdHlsZT0idG9wOicgKyB0b3AudG9TdHJpbmcoKSArICdweDtsZWZ0OicgKyBsZWZ0LnRvU3RyaW5nKCkgKyAncHg7d2lkdGg6JyArIHdpZHRoLnRvU3RyaW5nKCkgKyAncHg7aGVpZ2h0OicgKyBoZWlnaHQgKyAncHg7Ij48L2Rpdj4nOwogICAgfQogIH0sIHsKICAgIGtleTogIl9hY3R1YWxSZW5kZXJPbmVTZWxlY3Rpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9hY3R1YWxSZW5kZXJPbmVTZWxlY3Rpb24ob3V0cHV0MiwgdmlzaWJsZVN0YXJ0TGluZU51bWJlciwgaGFzTXVsdGlwbGVTZWxlY3Rpb25zLCB2aXNpYmxlUmFuZ2VzKSB7CiAgICAgIGlmICh2aXNpYmxlUmFuZ2VzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgdmlzaWJsZVJhbmdlc0hhdmVTdHlsZSA9ICEhdmlzaWJsZVJhbmdlc1swXS5yYW5nZXNbMF0uc3RhcnRTdHlsZTsKICAgICAgdmFyIGZ1bGxMaW5lSGVpZ2h0ID0gdGhpcy5fbGluZUhlaWdodC50b1N0cmluZygpOwogICAgICB2YXIgcmVkdWNlZExpbmVIZWlnaHQgPSAodGhpcy5fbGluZUhlaWdodCAtIDEpLnRvU3RyaW5nKCk7CiAgICAgIHZhciBmaXJzdExpbmVOdW1iZXIgPSB2aXNpYmxlUmFuZ2VzWzBdLmxpbmVOdW1iZXI7CiAgICAgIHZhciBsYXN0TGluZU51bWJlciA9IHZpc2libGVSYW5nZXNbdmlzaWJsZVJhbmdlcy5sZW5ndGggLSAxXS5saW5lTnVtYmVyOwogICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdmlzaWJsZVJhbmdlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykgewogICAgICAgIHZhciBsaW5lVmlzaWJsZVJhbmdlcyA9IHZpc2libGVSYW5nZXNbaV07CiAgICAgICAgdmFyIGxpbmVOdW1iZXIgPSBsaW5lVmlzaWJsZVJhbmdlcy5saW5lTnVtYmVyOwogICAgICAgIHZhciBsaW5lSW5kZXggPSBsaW5lTnVtYmVyIC0gdmlzaWJsZVN0YXJ0TGluZU51bWJlcjsKICAgICAgICB2YXIgbGluZUhlaWdodCA9IGhhc011bHRpcGxlU2VsZWN0aW9ucyA/IGxpbmVOdW1iZXIgPT09IGxhc3RMaW5lTnVtYmVyIHx8IGxpbmVOdW1iZXIgPT09IGZpcnN0TGluZU51bWJlciA/IHJlZHVjZWRMaW5lSGVpZ2h0IDogZnVsbExpbmVIZWlnaHQgOiBmdWxsTGluZUhlaWdodDsKICAgICAgICB2YXIgdG9wID0gaGFzTXVsdGlwbGVTZWxlY3Rpb25zID8gbGluZU51bWJlciA9PT0gZmlyc3RMaW5lTnVtYmVyID8gMSA6IDAgOiAwOwogICAgICAgIHZhciBpbm5lckNvcm5lck91dHB1dCA9ICcnOwogICAgICAgIHZhciByZXN0T2ZTZWxlY3Rpb25PdXRwdXQgPSAnJzsKICAgICAgICBmb3IgKHZhciBqID0gMCwgbGVuSiA9IGxpbmVWaXNpYmxlUmFuZ2VzLnJhbmdlcy5sZW5ndGg7IGogPCBsZW5KOyBqKyspIHsKICAgICAgICAgIHZhciB2aXNpYmxlUmFuZ2UgPSBsaW5lVmlzaWJsZVJhbmdlcy5yYW5nZXNbal07CiAgICAgICAgICBpZiAodmlzaWJsZVJhbmdlc0hhdmVTdHlsZSkgewogICAgICAgICAgICB2YXIgc3RhcnRTdHlsZSA9IHZpc2libGVSYW5nZS5zdGFydFN0eWxlOwogICAgICAgICAgICB2YXIgZW5kU3R5bGUgPSB2aXNpYmxlUmFuZ2UuZW5kU3R5bGU7CiAgICAgICAgICAgIGlmIChzdGFydFN0eWxlLnRvcCA9PT0gMSAvKiBDb3JuZXJTdHlsZS5JTlRFUk4gKi8gfHwgc3RhcnRTdHlsZS5ib3R0b20gPT09IDEgLyogQ29ybmVyU3R5bGUuSU5URVJOICovKSB7CiAgICAgICAgICAgICAgLy8gUmV2ZXJzZSByb3VuZGVkIGNvcm5lciB0byB0aGUgbGVmdAogICAgICAgICAgICAgIC8vIEZpcnN0IGNvbWVzIHRoZSBzZWxlY3Rpb24gKGJsdWUgbGF5ZXIpCiAgICAgICAgICAgICAgaW5uZXJDb3JuZXJPdXRwdXQgKz0gdGhpcy5fY3JlYXRlU2VsZWN0aW9uUGllY2UodG9wLCBsaW5lSGVpZ2h0LCBTZWxlY3Rpb25zT3ZlcmxheS5TRUxFQ1RJT05fQ0xBU1NfTkFNRSwgdmlzaWJsZVJhbmdlLmxlZnQgLSBTZWxlY3Rpb25zT3ZlcmxheS5ST1VOREVEX1BJRUNFX1dJRFRILCBTZWxlY3Rpb25zT3ZlcmxheS5ST1VOREVEX1BJRUNFX1dJRFRIKTsKICAgICAgICAgICAgICAvLyBTZWNvbmQgY29tZXMgdGhlIGJhY2tncm91bmQgKHdoaXRlIGxheWVyKSB3aXRoIGludmVyc2UgYm9yZGVyIHJhZGl1cwogICAgICAgICAgICAgIHZhciBfY2xhc3NOYW1lID0gU2VsZWN0aW9uc092ZXJsYXkuRURJVE9SX0JBQ0tHUk9VTkRfQ0xBU1NfTkFNRTsKICAgICAgICAgICAgICBpZiAoc3RhcnRTdHlsZS50b3AgPT09IDEgLyogQ29ybmVyU3R5bGUuSU5URVJOICovKSB7CiAgICAgICAgICAgICAgICBfY2xhc3NOYW1lICs9ICcgJyArIFNlbGVjdGlvbnNPdmVybGF5LlNFTEVDVElPTl9UT1BfUklHSFQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmIChzdGFydFN0eWxlLmJvdHRvbSA9PT0gMSAvKiBDb3JuZXJTdHlsZS5JTlRFUk4gKi8pIHsKICAgICAgICAgICAgICAgIF9jbGFzc05hbWUgKz0gJyAnICsgU2VsZWN0aW9uc092ZXJsYXkuU0VMRUNUSU9OX0JPVFRPTV9SSUdIVDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaW5uZXJDb3JuZXJPdXRwdXQgKz0gdGhpcy5fY3JlYXRlU2VsZWN0aW9uUGllY2UodG9wLCBsaW5lSGVpZ2h0LCBfY2xhc3NOYW1lLCB2aXNpYmxlUmFuZ2UubGVmdCAtIFNlbGVjdGlvbnNPdmVybGF5LlJPVU5ERURfUElFQ0VfV0lEVEgsIFNlbGVjdGlvbnNPdmVybGF5LlJPVU5ERURfUElFQ0VfV0lEVEgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChlbmRTdHlsZS50b3AgPT09IDEgLyogQ29ybmVyU3R5bGUuSU5URVJOICovIHx8IGVuZFN0eWxlLmJvdHRvbSA9PT0gMSAvKiBDb3JuZXJTdHlsZS5JTlRFUk4gKi8pIHsKICAgICAgICAgICAgICAvLyBSZXZlcnNlIHJvdW5kZWQgY29ybmVyIHRvIHRoZSByaWdodAogICAgICAgICAgICAgIC8vIEZpcnN0IGNvbWVzIHRoZSBzZWxlY3Rpb24gKGJsdWUgbGF5ZXIpCiAgICAgICAgICAgICAgaW5uZXJDb3JuZXJPdXRwdXQgKz0gdGhpcy5fY3JlYXRlU2VsZWN0aW9uUGllY2UodG9wLCBsaW5lSGVpZ2h0LCBTZWxlY3Rpb25zT3ZlcmxheS5TRUxFQ1RJT05fQ0xBU1NfTkFNRSwgdmlzaWJsZVJhbmdlLmxlZnQgKyB2aXNpYmxlUmFuZ2Uud2lkdGgsIFNlbGVjdGlvbnNPdmVybGF5LlJPVU5ERURfUElFQ0VfV0lEVEgpOwogICAgICAgICAgICAgIC8vIFNlY29uZCBjb21lcyB0aGUgYmFja2dyb3VuZCAod2hpdGUgbGF5ZXIpIHdpdGggaW52ZXJzZSBib3JkZXIgcmFkaXVzCiAgICAgICAgICAgICAgdmFyIF9jbGFzc05hbWUyID0gU2VsZWN0aW9uc092ZXJsYXkuRURJVE9SX0JBQ0tHUk9VTkRfQ0xBU1NfTkFNRTsKICAgICAgICAgICAgICBpZiAoZW5kU3R5bGUudG9wID09PSAxIC8qIENvcm5lclN0eWxlLklOVEVSTiAqLykgewogICAgICAgICAgICAgICAgX2NsYXNzTmFtZTIgKz0gJyAnICsgU2VsZWN0aW9uc092ZXJsYXkuU0VMRUNUSU9OX1RPUF9MRUZUOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAoZW5kU3R5bGUuYm90dG9tID09PSAxIC8qIENvcm5lclN0eWxlLklOVEVSTiAqLykgewogICAgICAgICAgICAgICAgX2NsYXNzTmFtZTIgKz0gJyAnICsgU2VsZWN0aW9uc092ZXJsYXkuU0VMRUNUSU9OX0JPVFRPTV9MRUZUOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpbm5lckNvcm5lck91dHB1dCArPSB0aGlzLl9jcmVhdGVTZWxlY3Rpb25QaWVjZSh0b3AsIGxpbmVIZWlnaHQsIF9jbGFzc05hbWUyLCB2aXNpYmxlUmFuZ2UubGVmdCArIHZpc2libGVSYW5nZS53aWR0aCwgU2VsZWN0aW9uc092ZXJsYXkuUk9VTkRFRF9QSUVDRV9XSURUSCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHZhciBjbGFzc05hbWUgPSBTZWxlY3Rpb25zT3ZlcmxheS5TRUxFQ1RJT05fQ0xBU1NfTkFNRTsKICAgICAgICAgIGlmICh2aXNpYmxlUmFuZ2VzSGF2ZVN0eWxlKSB7CiAgICAgICAgICAgIHZhciBfc3RhcnRTdHlsZSA9IHZpc2libGVSYW5nZS5zdGFydFN0eWxlOwogICAgICAgICAgICB2YXIgX2VuZFN0eWxlID0gdmlzaWJsZVJhbmdlLmVuZFN0eWxlOwogICAgICAgICAgICBpZiAoX3N0YXJ0U3R5bGUudG9wID09PSAwIC8qIENvcm5lclN0eWxlLkVYVEVSTiAqLykgewogICAgICAgICAgICAgIGNsYXNzTmFtZSArPSAnICcgKyBTZWxlY3Rpb25zT3ZlcmxheS5TRUxFQ1RJT05fVE9QX0xFRlQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKF9zdGFydFN0eWxlLmJvdHRvbSA9PT0gMCAvKiBDb3JuZXJTdHlsZS5FWFRFUk4gKi8pIHsKICAgICAgICAgICAgICBjbGFzc05hbWUgKz0gJyAnICsgU2VsZWN0aW9uc092ZXJsYXkuU0VMRUNUSU9OX0JPVFRPTV9MRUZUOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChfZW5kU3R5bGUudG9wID09PSAwIC8qIENvcm5lclN0eWxlLkVYVEVSTiAqLykgewogICAgICAgICAgICAgIGNsYXNzTmFtZSArPSAnICcgKyBTZWxlY3Rpb25zT3ZlcmxheS5TRUxFQ1RJT05fVE9QX1JJR0hUOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChfZW5kU3R5bGUuYm90dG9tID09PSAwIC8qIENvcm5lclN0eWxlLkVYVEVSTiAqLykgewogICAgICAgICAgICAgIGNsYXNzTmFtZSArPSAnICcgKyBTZWxlY3Rpb25zT3ZlcmxheS5TRUxFQ1RJT05fQk9UVE9NX1JJR0hUOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICByZXN0T2ZTZWxlY3Rpb25PdXRwdXQgKz0gdGhpcy5fY3JlYXRlU2VsZWN0aW9uUGllY2UodG9wLCBsaW5lSGVpZ2h0LCBjbGFzc05hbWUsIHZpc2libGVSYW5nZS5sZWZ0LCB2aXNpYmxlUmFuZ2Uud2lkdGgpOwogICAgICAgIH0KICAgICAgICBvdXRwdXQyW2xpbmVJbmRleF1bMF0gKz0gaW5uZXJDb3JuZXJPdXRwdXQ7CiAgICAgICAgb3V0cHV0MltsaW5lSW5kZXhdWzFdICs9IHJlc3RPZlNlbGVjdGlvbk91dHB1dDsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInByZXBhcmVSZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHByZXBhcmVSZW5kZXIoY3R4KSB7CiAgICAgIC8vIEJ1aWxkIEhUTUwgZm9yIGlubmVyIGNvcm5lcnMgc2VwYXJhdGUgZnJvbSBIVE1MIGZvciB0aGUgcmVzdCBvZiBzZWxlY3Rpb25zLAogICAgICAvLyBhcyB0aGUgaW5uZXIgY29ybmVyIEhUTUwgY2FuIGludGVyZmVyZSB3aXRoIHRoYXQgb2Ygb3RoZXIgc2VsZWN0aW9ucy4KICAgICAgLy8gSW4gZmluYWwgcmVuZGVyLCBtYWtlIHN1cmUgdG8gcGxhY2UgdGhlIGlubmVyIGNvcm5lciBIVE1MIGJlZm9yZSB0aGUgcmVzdCBvZiBzZWxlY3Rpb24gSFRNTC4gU2VlIGlzc3VlICM3Nzc3Ny4KICAgICAgdmFyIG91dHB1dCA9IFtdOwogICAgICB2YXIgdmlzaWJsZVN0YXJ0TGluZU51bWJlciA9IGN0eC52aXNpYmxlUmFuZ2Uuc3RhcnRMaW5lTnVtYmVyOwogICAgICB2YXIgdmlzaWJsZUVuZExpbmVOdW1iZXIgPSBjdHgudmlzaWJsZVJhbmdlLmVuZExpbmVOdW1iZXI7CiAgICAgIGZvciAodmFyIGxpbmVOdW1iZXIgPSB2aXNpYmxlU3RhcnRMaW5lTnVtYmVyOyBsaW5lTnVtYmVyIDw9IHZpc2libGVFbmRMaW5lTnVtYmVyOyBsaW5lTnVtYmVyKyspIHsKICAgICAgICB2YXIgbGluZUluZGV4ID0gbGluZU51bWJlciAtIHZpc2libGVTdGFydExpbmVOdW1iZXI7CiAgICAgICAgb3V0cHV0W2xpbmVJbmRleF0gPSBbJycsICcnXTsKICAgICAgfQogICAgICB2YXIgdGhpc0ZyYW1lVmlzaWJsZVJhbmdlc1dpdGhTdHlsZSA9IFtdOwogICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fc2VsZWN0aW9ucy5sZW5ndGg7IGkgPCBsZW47IGkrKykgewogICAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLl9zZWxlY3Rpb25zW2ldOwogICAgICAgIGlmIChzZWxlY3Rpb24uaXNFbXB0eSgpKSB7CiAgICAgICAgICB0aGlzRnJhbWVWaXNpYmxlUmFuZ2VzV2l0aFN0eWxlW2ldID0gbnVsbDsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KICAgICAgICB2YXIgdmlzaWJsZVJhbmdlc1dpdGhTdHlsZSA9IHRoaXMuX2dldFZpc2libGVSYW5nZXNXaXRoU3R5bGUoc2VsZWN0aW9uLCBjdHgsIHRoaXMuX3ByZXZpb3VzRnJhbWVWaXNpYmxlUmFuZ2VzV2l0aFN0eWxlW2ldKTsKICAgICAgICB0aGlzRnJhbWVWaXNpYmxlUmFuZ2VzV2l0aFN0eWxlW2ldID0gdmlzaWJsZVJhbmdlc1dpdGhTdHlsZTsKICAgICAgICB0aGlzLl9hY3R1YWxSZW5kZXJPbmVTZWxlY3Rpb24ob3V0cHV0LCB2aXNpYmxlU3RhcnRMaW5lTnVtYmVyLCB0aGlzLl9zZWxlY3Rpb25zLmxlbmd0aCA+IDEsIHZpc2libGVSYW5nZXNXaXRoU3R5bGUpOwogICAgICB9CiAgICAgIHRoaXMuX3ByZXZpb3VzRnJhbWVWaXNpYmxlUmFuZ2VzV2l0aFN0eWxlID0gdGhpc0ZyYW1lVmlzaWJsZVJhbmdlc1dpdGhTdHlsZTsKICAgICAgdGhpcy5fcmVuZGVyUmVzdWx0ID0gb3V0cHV0Lm1hcChmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLAogICAgICAgICAgaW50ZXJuYWxDb3JuZXJzID0gX3JlZjJbMF0sCiAgICAgICAgICByZXN0T2ZTZWxlY3Rpb24gPSBfcmVmMlsxXTsKICAgICAgICByZXR1cm4gaW50ZXJuYWxDb3JuZXJzICsgcmVzdE9mU2VsZWN0aW9uOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcihzdGFydExpbmVOdW1iZXIsIGxpbmVOdW1iZXIpIHsKICAgICAgaWYgKCF0aGlzLl9yZW5kZXJSZXN1bHQpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KICAgICAgdmFyIGxpbmVJbmRleCA9IGxpbmVOdW1iZXIgLSBzdGFydExpbmVOdW1iZXI7CiAgICAgIGlmIChsaW5lSW5kZXggPCAwIHx8IGxpbmVJbmRleCA+PSB0aGlzLl9yZW5kZXJSZXN1bHQubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJSZXN1bHRbbGluZUluZGV4XTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIFNlbGVjdGlvbnNPdmVybGF5Owp9KER5bmFtaWNWaWV3T3ZlcmxheSk7ClNlbGVjdGlvbnNPdmVybGF5LlNFTEVDVElPTl9DTEFTU19OQU1FID0gJ3NlbGVjdGVkLXRleHQnOwpTZWxlY3Rpb25zT3ZlcmxheS5TRUxFQ1RJT05fVE9QX0xFRlQgPSAndG9wLWxlZnQtcmFkaXVzJzsKU2VsZWN0aW9uc092ZXJsYXkuU0VMRUNUSU9OX0JPVFRPTV9MRUZUID0gJ2JvdHRvbS1sZWZ0LXJhZGl1cyc7ClNlbGVjdGlvbnNPdmVybGF5LlNFTEVDVElPTl9UT1BfUklHSFQgPSAndG9wLXJpZ2h0LXJhZGl1cyc7ClNlbGVjdGlvbnNPdmVybGF5LlNFTEVDVElPTl9CT1RUT01fUklHSFQgPSAnYm90dG9tLXJpZ2h0LXJhZGl1cyc7ClNlbGVjdGlvbnNPdmVybGF5LkVESVRPUl9CQUNLR1JPVU5EX0NMQVNTX05BTUUgPSAnbW9uYWNvLWVkaXRvci1iYWNrZ3JvdW5kJzsKU2VsZWN0aW9uc092ZXJsYXkuUk9VTkRFRF9QSUVDRV9XSURUSCA9IDEwOwpyZWdpc3RlclRoZW1pbmdQYXJ0aWNpcGFudChmdW5jdGlvbiAodGhlbWUsIGNvbGxlY3RvcikgewogIHZhciBlZGl0b3JTZWxlY3Rpb25Db2xvciA9IHRoZW1lLmdldENvbG9yKGVkaXRvclNlbGVjdGlvbkJhY2tncm91bmQpOwogIGlmIChlZGl0b3JTZWxlY3Rpb25Db2xvcikgewogICAgY29sbGVjdG9yLmFkZFJ1bGUoIi5tb25hY28tZWRpdG9yIC5mb2N1c2VkIC5zZWxlY3RlZC10ZXh0IHsgYmFja2dyb3VuZC1jb2xvcjogIi5jb25jYXQoZWRpdG9yU2VsZWN0aW9uQ29sb3IsICI7IH0iKSk7CiAgfQogIHZhciBlZGl0b3JJbmFjdGl2ZVNlbGVjdGlvbkNvbG9yID0gdGhlbWUuZ2V0Q29sb3IoZWRpdG9ySW5hY3RpdmVTZWxlY3Rpb24pOwogIGlmIChlZGl0b3JJbmFjdGl2ZVNlbGVjdGlvbkNvbG9yKSB7CiAgICBjb2xsZWN0b3IuYWRkUnVsZSgiLm1vbmFjby1lZGl0b3IgLnNlbGVjdGVkLXRleHQgeyBiYWNrZ3JvdW5kLWNvbG9yOiAiLmNvbmNhdChlZGl0b3JJbmFjdGl2ZVNlbGVjdGlvbkNvbG9yLCAiOyB9IikpOwogIH0KICB2YXIgZWRpdG9yU2VsZWN0aW9uRm9yZWdyb3VuZENvbG9yID0gdGhlbWUuZ2V0Q29sb3IoZWRpdG9yU2VsZWN0aW9uRm9yZWdyb3VuZCk7CiAgaWYgKGVkaXRvclNlbGVjdGlvbkZvcmVncm91bmRDb2xvciAmJiAhZWRpdG9yU2VsZWN0aW9uRm9yZWdyb3VuZENvbG9yLmlzVHJhbnNwYXJlbnQoKSkgewogICAgY29sbGVjdG9yLmFkZFJ1bGUoIi5tb25hY28tZWRpdG9yIC52aWV3LWxpbmUgc3Bhbi5pbmxpbmUtc2VsZWN0ZWQtdGV4dCB7IGNvbG9yOiAiLmNvbmNhdChlZGl0b3JTZWxlY3Rpb25Gb3JlZ3JvdW5kQ29sb3IsICI7IH0iKSk7CiAgfQp9KTsKZnVuY3Rpb24gYWJzKG4pIHsKICByZXR1cm4gbiA8IDAgPyAtbiA6IG47Cn0="},{"version":3,"names":["DynamicViewOverlay","editorInactiveSelection","editorSelectionBackground","editorSelectionForeground","registerThemingParticipant","HorizontalRangeWithStyle","other","left","width","startStyle","endStyle","LineVisibleRangesWithStyle","lineNumber","ranges","toStyledRange","item","toStyled","map","SelectionsOverlay","context","_previousFrameVisibleRangesWithStyle","_context","options","configuration","_lineHeight","get","_roundedSelection","_typicalHalfwidthCharacterWidth","typicalHalfwidthCharacterWidth","_selections","_renderResult","addEventHandler","removeEventHandler","e","selections","slice","scrollTopChanged","linesVisibleRanges","i","len","length","lineVisibleRanges","viewport","previousFrame","epsilon","previousFrameTop","previousFrameBottom","topLineNumber","startLineNumber","bottomLineNumber","endLineNumber","curLineRange","curLeft","curRight","top","bottom","prevLeft","prevRight","abs","nextLeft","nextRight","selection","ctx","_linesVisibleRanges","linesVisibleRangesForRange","visibleRangesHaveGaps","_visibleRangesHaveGaps","_enrichVisibleRangesWithStyle","visibleRange","height","className","toString","output2","visibleStartLineNumber","hasMultipleSelections","visibleRanges","visibleRangesHaveStyle","fullLineHeight","reducedLineHeight","firstLineNumber","lastLineNumber","lineIndex","lineHeight","innerCornerOutput","restOfSelectionOutput","j","lenJ","_createSelectionPiece","SELECTION_CLASS_NAME","ROUNDED_PIECE_WIDTH","EDITOR_BACKGROUND_CLASS_NAME","SELECTION_TOP_RIGHT","SELECTION_BOTTOM_RIGHT","SELECTION_TOP_LEFT","SELECTION_BOTTOM_LEFT","output","visibleEndLineNumber","thisFrameVisibleRangesWithStyle","isEmpty","visibleRangesWithStyle","_getVisibleRangesWithStyle","_actualRenderOneSelection","internalCorners","restOfSelection","theme","collector","editorSelectionColor","getColor","addRule","editorInactiveSelectionColor","editorSelectionForegroundColor","isTransparent","n"],"sources":["/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/browser/viewParts/selections/selections.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './selections.css';\nimport { DynamicViewOverlay } from '../../view/dynamicViewOverlay.js';\nimport { editorInactiveSelection, editorSelectionBackground, editorSelectionForeground } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nclass HorizontalRangeWithStyle {\n    constructor(other) {\n        this.left = other.left;\n        this.width = other.width;\n        this.startStyle = null;\n        this.endStyle = null;\n    }\n}\nclass LineVisibleRangesWithStyle {\n    constructor(lineNumber, ranges) {\n        this.lineNumber = lineNumber;\n        this.ranges = ranges;\n    }\n}\nfunction toStyledRange(item) {\n    return new HorizontalRangeWithStyle(item);\n}\nfunction toStyled(item) {\n    return new LineVisibleRangesWithStyle(item.lineNumber, item.ranges.map(toStyledRange));\n}\nexport class SelectionsOverlay extends DynamicViewOverlay {\n    constructor(context) {\n        super();\n        this._previousFrameVisibleRangesWithStyle = [];\n        this._context = context;\n        const options = this._context.configuration.options;\n        this._lineHeight = options.get(61 /* EditorOption.lineHeight */);\n        this._roundedSelection = options.get(92 /* EditorOption.roundedSelection */);\n        this._typicalHalfwidthCharacterWidth = options.get(46 /* EditorOption.fontInfo */).typicalHalfwidthCharacterWidth;\n        this._selections = [];\n        this._renderResult = null;\n        this._context.addEventHandler(this);\n    }\n    dispose() {\n        this._context.removeEventHandler(this);\n        this._renderResult = null;\n        super.dispose();\n    }\n    // --- begin event handlers\n    onConfigurationChanged(e) {\n        const options = this._context.configuration.options;\n        this._lineHeight = options.get(61 /* EditorOption.lineHeight */);\n        this._roundedSelection = options.get(92 /* EditorOption.roundedSelection */);\n        this._typicalHalfwidthCharacterWidth = options.get(46 /* EditorOption.fontInfo */).typicalHalfwidthCharacterWidth;\n        return true;\n    }\n    onCursorStateChanged(e) {\n        this._selections = e.selections.slice(0);\n        return true;\n    }\n    onDecorationsChanged(e) {\n        // true for inline decorations that can end up relayouting text\n        return true; //e.inlineDecorationsChanged;\n    }\n    onFlushed(e) {\n        return true;\n    }\n    onLinesChanged(e) {\n        return true;\n    }\n    onLinesDeleted(e) {\n        return true;\n    }\n    onLinesInserted(e) {\n        return true;\n    }\n    onScrollChanged(e) {\n        return e.scrollTopChanged;\n    }\n    onZonesChanged(e) {\n        return true;\n    }\n    // --- end event handlers\n    _visibleRangesHaveGaps(linesVisibleRanges) {\n        for (let i = 0, len = linesVisibleRanges.length; i < len; i++) {\n            const lineVisibleRanges = linesVisibleRanges[i];\n            if (lineVisibleRanges.ranges.length > 1) {\n                // There are two ranges on the same line\n                return true;\n            }\n        }\n        return false;\n    }\n    _enrichVisibleRangesWithStyle(viewport, linesVisibleRanges, previousFrame) {\n        const epsilon = this._typicalHalfwidthCharacterWidth / 4;\n        let previousFrameTop = null;\n        let previousFrameBottom = null;\n        if (previousFrame && previousFrame.length > 0 && linesVisibleRanges.length > 0) {\n            const topLineNumber = linesVisibleRanges[0].lineNumber;\n            if (topLineNumber === viewport.startLineNumber) {\n                for (let i = 0; !previousFrameTop && i < previousFrame.length; i++) {\n                    if (previousFrame[i].lineNumber === topLineNumber) {\n                        previousFrameTop = previousFrame[i].ranges[0];\n                    }\n                }\n            }\n            const bottomLineNumber = linesVisibleRanges[linesVisibleRanges.length - 1].lineNumber;\n            if (bottomLineNumber === viewport.endLineNumber) {\n                for (let i = previousFrame.length - 1; !previousFrameBottom && i >= 0; i--) {\n                    if (previousFrame[i].lineNumber === bottomLineNumber) {\n                        previousFrameBottom = previousFrame[i].ranges[0];\n                    }\n                }\n            }\n            if (previousFrameTop && !previousFrameTop.startStyle) {\n                previousFrameTop = null;\n            }\n            if (previousFrameBottom && !previousFrameBottom.startStyle) {\n                previousFrameBottom = null;\n            }\n        }\n        for (let i = 0, len = linesVisibleRanges.length; i < len; i++) {\n            // We know for a fact that there is precisely one range on each line\n            const curLineRange = linesVisibleRanges[i].ranges[0];\n            const curLeft = curLineRange.left;\n            const curRight = curLineRange.left + curLineRange.width;\n            const startStyle = {\n                top: 0 /* CornerStyle.EXTERN */,\n                bottom: 0 /* CornerStyle.EXTERN */\n            };\n            const endStyle = {\n                top: 0 /* CornerStyle.EXTERN */,\n                bottom: 0 /* CornerStyle.EXTERN */\n            };\n            if (i > 0) {\n                // Look above\n                const prevLeft = linesVisibleRanges[i - 1].ranges[0].left;\n                const prevRight = linesVisibleRanges[i - 1].ranges[0].left + linesVisibleRanges[i - 1].ranges[0].width;\n                if (abs(curLeft - prevLeft) < epsilon) {\n                    startStyle.top = 2 /* CornerStyle.FLAT */;\n                }\n                else if (curLeft > prevLeft) {\n                    startStyle.top = 1 /* CornerStyle.INTERN */;\n                }\n                if (abs(curRight - prevRight) < epsilon) {\n                    endStyle.top = 2 /* CornerStyle.FLAT */;\n                }\n                else if (prevLeft < curRight && curRight < prevRight) {\n                    endStyle.top = 1 /* CornerStyle.INTERN */;\n                }\n            }\n            else if (previousFrameTop) {\n                // Accept some hiccups near the viewport edges to save on repaints\n                startStyle.top = previousFrameTop.startStyle.top;\n                endStyle.top = previousFrameTop.endStyle.top;\n            }\n            if (i + 1 < len) {\n                // Look below\n                const nextLeft = linesVisibleRanges[i + 1].ranges[0].left;\n                const nextRight = linesVisibleRanges[i + 1].ranges[0].left + linesVisibleRanges[i + 1].ranges[0].width;\n                if (abs(curLeft - nextLeft) < epsilon) {\n                    startStyle.bottom = 2 /* CornerStyle.FLAT */;\n                }\n                else if (nextLeft < curLeft && curLeft < nextRight) {\n                    startStyle.bottom = 1 /* CornerStyle.INTERN */;\n                }\n                if (abs(curRight - nextRight) < epsilon) {\n                    endStyle.bottom = 2 /* CornerStyle.FLAT */;\n                }\n                else if (curRight < nextRight) {\n                    endStyle.bottom = 1 /* CornerStyle.INTERN */;\n                }\n            }\n            else if (previousFrameBottom) {\n                // Accept some hiccups near the viewport edges to save on repaints\n                startStyle.bottom = previousFrameBottom.startStyle.bottom;\n                endStyle.bottom = previousFrameBottom.endStyle.bottom;\n            }\n            curLineRange.startStyle = startStyle;\n            curLineRange.endStyle = endStyle;\n        }\n    }\n    _getVisibleRangesWithStyle(selection, ctx, previousFrame) {\n        const _linesVisibleRanges = ctx.linesVisibleRangesForRange(selection, true) || [];\n        const linesVisibleRanges = _linesVisibleRanges.map(toStyled);\n        const visibleRangesHaveGaps = this._visibleRangesHaveGaps(linesVisibleRanges);\n        if (!visibleRangesHaveGaps && this._roundedSelection) {\n            this._enrichVisibleRangesWithStyle(ctx.visibleRange, linesVisibleRanges, previousFrame);\n        }\n        // The visible ranges are sorted TOP-BOTTOM and LEFT-RIGHT\n        return linesVisibleRanges;\n    }\n    _createSelectionPiece(top, height, className, left, width) {\n        return ('<div class=\"cslr '\n            + className\n            + '\" style=\"top:'\n            + top.toString()\n            + 'px;left:'\n            + left.toString()\n            + 'px;width:'\n            + width.toString()\n            + 'px;height:'\n            + height\n            + 'px;\"></div>');\n    }\n    _actualRenderOneSelection(output2, visibleStartLineNumber, hasMultipleSelections, visibleRanges) {\n        if (visibleRanges.length === 0) {\n            return;\n        }\n        const visibleRangesHaveStyle = !!visibleRanges[0].ranges[0].startStyle;\n        const fullLineHeight = (this._lineHeight).toString();\n        const reducedLineHeight = (this._lineHeight - 1).toString();\n        const firstLineNumber = visibleRanges[0].lineNumber;\n        const lastLineNumber = visibleRanges[visibleRanges.length - 1].lineNumber;\n        for (let i = 0, len = visibleRanges.length; i < len; i++) {\n            const lineVisibleRanges = visibleRanges[i];\n            const lineNumber = lineVisibleRanges.lineNumber;\n            const lineIndex = lineNumber - visibleStartLineNumber;\n            const lineHeight = hasMultipleSelections ? (lineNumber === lastLineNumber || lineNumber === firstLineNumber ? reducedLineHeight : fullLineHeight) : fullLineHeight;\n            const top = hasMultipleSelections ? (lineNumber === firstLineNumber ? 1 : 0) : 0;\n            let innerCornerOutput = '';\n            let restOfSelectionOutput = '';\n            for (let j = 0, lenJ = lineVisibleRanges.ranges.length; j < lenJ; j++) {\n                const visibleRange = lineVisibleRanges.ranges[j];\n                if (visibleRangesHaveStyle) {\n                    const startStyle = visibleRange.startStyle;\n                    const endStyle = visibleRange.endStyle;\n                    if (startStyle.top === 1 /* CornerStyle.INTERN */ || startStyle.bottom === 1 /* CornerStyle.INTERN */) {\n                        // Reverse rounded corner to the left\n                        // First comes the selection (blue layer)\n                        innerCornerOutput += this._createSelectionPiece(top, lineHeight, SelectionsOverlay.SELECTION_CLASS_NAME, visibleRange.left - SelectionsOverlay.ROUNDED_PIECE_WIDTH, SelectionsOverlay.ROUNDED_PIECE_WIDTH);\n                        // Second comes the background (white layer) with inverse border radius\n                        let className = SelectionsOverlay.EDITOR_BACKGROUND_CLASS_NAME;\n                        if (startStyle.top === 1 /* CornerStyle.INTERN */) {\n                            className += ' ' + SelectionsOverlay.SELECTION_TOP_RIGHT;\n                        }\n                        if (startStyle.bottom === 1 /* CornerStyle.INTERN */) {\n                            className += ' ' + SelectionsOverlay.SELECTION_BOTTOM_RIGHT;\n                        }\n                        innerCornerOutput += this._createSelectionPiece(top, lineHeight, className, visibleRange.left - SelectionsOverlay.ROUNDED_PIECE_WIDTH, SelectionsOverlay.ROUNDED_PIECE_WIDTH);\n                    }\n                    if (endStyle.top === 1 /* CornerStyle.INTERN */ || endStyle.bottom === 1 /* CornerStyle.INTERN */) {\n                        // Reverse rounded corner to the right\n                        // First comes the selection (blue layer)\n                        innerCornerOutput += this._createSelectionPiece(top, lineHeight, SelectionsOverlay.SELECTION_CLASS_NAME, visibleRange.left + visibleRange.width, SelectionsOverlay.ROUNDED_PIECE_WIDTH);\n                        // Second comes the background (white layer) with inverse border radius\n                        let className = SelectionsOverlay.EDITOR_BACKGROUND_CLASS_NAME;\n                        if (endStyle.top === 1 /* CornerStyle.INTERN */) {\n                            className += ' ' + SelectionsOverlay.SELECTION_TOP_LEFT;\n                        }\n                        if (endStyle.bottom === 1 /* CornerStyle.INTERN */) {\n                            className += ' ' + SelectionsOverlay.SELECTION_BOTTOM_LEFT;\n                        }\n                        innerCornerOutput += this._createSelectionPiece(top, lineHeight, className, visibleRange.left + visibleRange.width, SelectionsOverlay.ROUNDED_PIECE_WIDTH);\n                    }\n                }\n                let className = SelectionsOverlay.SELECTION_CLASS_NAME;\n                if (visibleRangesHaveStyle) {\n                    const startStyle = visibleRange.startStyle;\n                    const endStyle = visibleRange.endStyle;\n                    if (startStyle.top === 0 /* CornerStyle.EXTERN */) {\n                        className += ' ' + SelectionsOverlay.SELECTION_TOP_LEFT;\n                    }\n                    if (startStyle.bottom === 0 /* CornerStyle.EXTERN */) {\n                        className += ' ' + SelectionsOverlay.SELECTION_BOTTOM_LEFT;\n                    }\n                    if (endStyle.top === 0 /* CornerStyle.EXTERN */) {\n                        className += ' ' + SelectionsOverlay.SELECTION_TOP_RIGHT;\n                    }\n                    if (endStyle.bottom === 0 /* CornerStyle.EXTERN */) {\n                        className += ' ' + SelectionsOverlay.SELECTION_BOTTOM_RIGHT;\n                    }\n                }\n                restOfSelectionOutput += this._createSelectionPiece(top, lineHeight, className, visibleRange.left, visibleRange.width);\n            }\n            output2[lineIndex][0] += innerCornerOutput;\n            output2[lineIndex][1] += restOfSelectionOutput;\n        }\n    }\n    prepareRender(ctx) {\n        // Build HTML for inner corners separate from HTML for the rest of selections,\n        // as the inner corner HTML can interfere with that of other selections.\n        // In final render, make sure to place the inner corner HTML before the rest of selection HTML. See issue #77777.\n        const output = [];\n        const visibleStartLineNumber = ctx.visibleRange.startLineNumber;\n        const visibleEndLineNumber = ctx.visibleRange.endLineNumber;\n        for (let lineNumber = visibleStartLineNumber; lineNumber <= visibleEndLineNumber; lineNumber++) {\n            const lineIndex = lineNumber - visibleStartLineNumber;\n            output[lineIndex] = ['', ''];\n        }\n        const thisFrameVisibleRangesWithStyle = [];\n        for (let i = 0, len = this._selections.length; i < len; i++) {\n            const selection = this._selections[i];\n            if (selection.isEmpty()) {\n                thisFrameVisibleRangesWithStyle[i] = null;\n                continue;\n            }\n            const visibleRangesWithStyle = this._getVisibleRangesWithStyle(selection, ctx, this._previousFrameVisibleRangesWithStyle[i]);\n            thisFrameVisibleRangesWithStyle[i] = visibleRangesWithStyle;\n            this._actualRenderOneSelection(output, visibleStartLineNumber, this._selections.length > 1, visibleRangesWithStyle);\n        }\n        this._previousFrameVisibleRangesWithStyle = thisFrameVisibleRangesWithStyle;\n        this._renderResult = output.map(([internalCorners, restOfSelection]) => internalCorners + restOfSelection);\n    }\n    render(startLineNumber, lineNumber) {\n        if (!this._renderResult) {\n            return '';\n        }\n        const lineIndex = lineNumber - startLineNumber;\n        if (lineIndex < 0 || lineIndex >= this._renderResult.length) {\n            return '';\n        }\n        return this._renderResult[lineIndex];\n    }\n}\nSelectionsOverlay.SELECTION_CLASS_NAME = 'selected-text';\nSelectionsOverlay.SELECTION_TOP_LEFT = 'top-left-radius';\nSelectionsOverlay.SELECTION_BOTTOM_LEFT = 'bottom-left-radius';\nSelectionsOverlay.SELECTION_TOP_RIGHT = 'top-right-radius';\nSelectionsOverlay.SELECTION_BOTTOM_RIGHT = 'bottom-right-radius';\nSelectionsOverlay.EDITOR_BACKGROUND_CLASS_NAME = 'monaco-editor-background';\nSelectionsOverlay.ROUNDED_PIECE_WIDTH = 10;\nregisterThemingParticipant((theme, collector) => {\n    const editorSelectionColor = theme.getColor(editorSelectionBackground);\n    if (editorSelectionColor) {\n        collector.addRule(`.monaco-editor .focused .selected-text { background-color: ${editorSelectionColor}; }`);\n    }\n    const editorInactiveSelectionColor = theme.getColor(editorInactiveSelection);\n    if (editorInactiveSelectionColor) {\n        collector.addRule(`.monaco-editor .selected-text { background-color: ${editorInactiveSelectionColor}; }`);\n    }\n    const editorSelectionForegroundColor = theme.getColor(editorSelectionForeground);\n    if (editorSelectionForegroundColor && !editorSelectionForegroundColor.isTransparent()) {\n        collector.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${editorSelectionForegroundColor}; }`);\n    }\n});\nfunction abs(n) {\n    return n < 0 ? -n : n;\n}\n"],"mappings":";;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA,OAAO,kBAAkB;AACzB,SAASA,kBAAkB,QAAQ,kCAAkC;AACrE,SAASC,uBAAuB,EAAEC,yBAAyB,EAAEC,yBAAyB,QAAQ,oDAAoD;AAClJ,SAASC,0BAA0B,QAAQ,mDAAmD;AAAC,IACzFC,wBAAwB,6BAC1B,kCAAYC,KAAK,EAAE;EAAA;EACf,IAAI,CAACC,IAAI,GAAGD,KAAK,CAACC,IAAI;EACtB,IAAI,CAACC,KAAK,GAAGF,KAAK,CAACE,KAAK;EACxB,IAAI,CAACC,UAAU,GAAG,IAAI;EACtB,IAAI,CAACC,QAAQ,GAAG,IAAI;AACxB,CAAC;AAAA,IAECC,0BAA0B,6BAC5B,oCAAYC,UAAU,EAAEC,MAAM,EAAE;EAAA;EAC5B,IAAI,CAACD,UAAU,GAAGA,UAAU;EAC5B,IAAI,CAACC,MAAM,GAAGA,MAAM;AACxB,CAAC;AAEL,SAASC,aAAa,CAACC,IAAI,EAAE;EACzB,OAAO,IAAIV,wBAAwB,CAACU,IAAI,CAAC;AAC7C;AACA,SAASC,QAAQ,CAACD,IAAI,EAAE;EACpB,OAAO,IAAIJ,0BAA0B,CAACI,IAAI,CAACH,UAAU,EAAEG,IAAI,CAACF,MAAM,CAACI,GAAG,CAACH,aAAa,CAAC,CAAC;AAC1F;AACA,WAAaI,iBAAiB;EAAA;EAAA;EAC1B,2BAAYC,OAAO,EAAE;IAAA;IAAA;IACjB;IACA,MAAKC,oCAAoC,GAAG,EAAE;IAC9C,MAAKC,QAAQ,GAAGF,OAAO;IACvB,IAAMG,OAAO,GAAG,MAAKD,QAAQ,CAACE,aAAa,CAACD,OAAO;IACnD,MAAKE,WAAW,GAAGF,OAAO,CAACG,GAAG,CAAC,EAAE,CAAC,8BAA8B;IAChE,MAAKC,iBAAiB,GAAGJ,OAAO,CAACG,GAAG,CAAC,EAAE,CAAC,oCAAoC;IAC5E,MAAKE,+BAA+B,GAAGL,OAAO,CAACG,GAAG,CAAC,EAAE,CAAC,4BAA4B,CAACG,8BAA8B;IACjH,MAAKC,WAAW,GAAG,EAAE;IACrB,MAAKC,aAAa,GAAG,IAAI;IACzB,MAAKT,QAAQ,CAACU,eAAe,+BAAM;IAAC;EACxC;EAAC;IAAA;IAAA,OACD,mBAAU;MACN,IAAI,CAACV,QAAQ,CAACW,kBAAkB,CAAC,IAAI,CAAC;MACtC,IAAI,CAACF,aAAa,GAAG,IAAI;MACzB;IACJ;IACA;EAAA;IAAA;IAAA,OACA,gCAAuBG,CAAC,EAAE;MACtB,IAAMX,OAAO,GAAG,IAAI,CAACD,QAAQ,CAACE,aAAa,CAACD,OAAO;MACnD,IAAI,CAACE,WAAW,GAAGF,OAAO,CAACG,GAAG,CAAC,EAAE,CAAC,8BAA8B;MAChE,IAAI,CAACC,iBAAiB,GAAGJ,OAAO,CAACG,GAAG,CAAC,EAAE,CAAC,oCAAoC;MAC5E,IAAI,CAACE,+BAA+B,GAAGL,OAAO,CAACG,GAAG,CAAC,EAAE,CAAC,4BAA4B,CAACG,8BAA8B;MACjH,OAAO,IAAI;IACf;EAAC;IAAA;IAAA,OACD,8BAAqBK,CAAC,EAAE;MACpB,IAAI,CAACJ,WAAW,GAAGI,CAAC,CAACC,UAAU,CAACC,KAAK,CAAC,CAAC,CAAC;MACxC,OAAO,IAAI;IACf;EAAC;IAAA;IAAA,OACD,8BAAqBF,CAAC,EAAE;MACpB;MACA,OAAO,IAAI,CAAC,CAAC;IACjB;EAAC;IAAA;IAAA,OACD,mBAAUA,CAAC,EAAE;MACT,OAAO,IAAI;IACf;EAAC;IAAA;IAAA,OACD,wBAAeA,CAAC,EAAE;MACd,OAAO,IAAI;IACf;EAAC;IAAA;IAAA,OACD,wBAAeA,CAAC,EAAE;MACd,OAAO,IAAI;IACf;EAAC;IAAA;IAAA,OACD,yBAAgBA,CAAC,EAAE;MACf,OAAO,IAAI;IACf;EAAC;IAAA;IAAA,OACD,yBAAgBA,CAAC,EAAE;MACf,OAAOA,CAAC,CAACG,gBAAgB;IAC7B;EAAC;IAAA;IAAA,OACD,wBAAeH,CAAC,EAAE;MACd,OAAO,IAAI;IACf;IACA;EAAA;IAAA;IAAA,OACA,gCAAuBI,kBAAkB,EAAE;MACvC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEC,GAAG,GAAGF,kBAAkB,CAACG,MAAM,EAAEF,CAAC,GAAGC,GAAG,EAAED,CAAC,EAAE,EAAE;QAC3D,IAAMG,iBAAiB,GAAGJ,kBAAkB,CAACC,CAAC,CAAC;QAC/C,IAAIG,iBAAiB,CAAC5B,MAAM,CAAC2B,MAAM,GAAG,CAAC,EAAE;UACrC;UACA,OAAO,IAAI;QACf;MACJ;MACA,OAAO,KAAK;IAChB;EAAC;IAAA;IAAA,OACD,uCAA8BE,QAAQ,EAAEL,kBAAkB,EAAEM,aAAa,EAAE;MACvE,IAAMC,OAAO,GAAG,IAAI,CAACjB,+BAA+B,GAAG,CAAC;MACxD,IAAIkB,gBAAgB,GAAG,IAAI;MAC3B,IAAIC,mBAAmB,GAAG,IAAI;MAC9B,IAAIH,aAAa,IAAIA,aAAa,CAACH,MAAM,GAAG,CAAC,IAAIH,kBAAkB,CAACG,MAAM,GAAG,CAAC,EAAE;QAC5E,IAAMO,aAAa,GAAGV,kBAAkB,CAAC,CAAC,CAAC,CAACzB,UAAU;QACtD,IAAImC,aAAa,KAAKL,QAAQ,CAACM,eAAe,EAAE;UAC5C,KAAK,IAAIV,CAAC,GAAG,CAAC,EAAE,CAACO,gBAAgB,IAAIP,CAAC,GAAGK,aAAa,CAACH,MAAM,EAAEF,CAAC,EAAE,EAAE;YAChE,IAAIK,aAAa,CAACL,CAAC,CAAC,CAAC1B,UAAU,KAAKmC,aAAa,EAAE;cAC/CF,gBAAgB,GAAGF,aAAa,CAACL,CAAC,CAAC,CAACzB,MAAM,CAAC,CAAC,CAAC;YACjD;UACJ;QACJ;QACA,IAAMoC,gBAAgB,GAAGZ,kBAAkB,CAACA,kBAAkB,CAACG,MAAM,GAAG,CAAC,CAAC,CAAC5B,UAAU;QACrF,IAAIqC,gBAAgB,KAAKP,QAAQ,CAACQ,aAAa,EAAE;UAC7C,KAAK,IAAIZ,EAAC,GAAGK,aAAa,CAACH,MAAM,GAAG,CAAC,EAAE,CAACM,mBAAmB,IAAIR,EAAC,IAAI,CAAC,EAAEA,EAAC,EAAE,EAAE;YACxE,IAAIK,aAAa,CAACL,EAAC,CAAC,CAAC1B,UAAU,KAAKqC,gBAAgB,EAAE;cAClDH,mBAAmB,GAAGH,aAAa,CAACL,EAAC,CAAC,CAACzB,MAAM,CAAC,CAAC,CAAC;YACpD;UACJ;QACJ;QACA,IAAIgC,gBAAgB,IAAI,CAACA,gBAAgB,CAACpC,UAAU,EAAE;UAClDoC,gBAAgB,GAAG,IAAI;QAC3B;QACA,IAAIC,mBAAmB,IAAI,CAACA,mBAAmB,CAACrC,UAAU,EAAE;UACxDqC,mBAAmB,GAAG,IAAI;QAC9B;MACJ;MACA,KAAK,IAAIR,GAAC,GAAG,CAAC,EAAEC,GAAG,GAAGF,kBAAkB,CAACG,MAAM,EAAEF,GAAC,GAAGC,GAAG,EAAED,GAAC,EAAE,EAAE;QAC3D;QACA,IAAMa,YAAY,GAAGd,kBAAkB,CAACC,GAAC,CAAC,CAACzB,MAAM,CAAC,CAAC,CAAC;QACpD,IAAMuC,OAAO,GAAGD,YAAY,CAAC5C,IAAI;QACjC,IAAM8C,QAAQ,GAAGF,YAAY,CAAC5C,IAAI,GAAG4C,YAAY,CAAC3C,KAAK;QACvD,IAAMC,UAAU,GAAG;UACf6C,GAAG,EAAE,CAAC,CAAC;UACPC,MAAM,EAAE,CAAC,CAAC;QACd,CAAC;;QACD,IAAM7C,QAAQ,GAAG;UACb4C,GAAG,EAAE,CAAC,CAAC;UACPC,MAAM,EAAE,CAAC,CAAC;QACd,CAAC;;QACD,IAAIjB,GAAC,GAAG,CAAC,EAAE;UACP;UACA,IAAMkB,QAAQ,GAAGnB,kBAAkB,CAACC,GAAC,GAAG,CAAC,CAAC,CAACzB,MAAM,CAAC,CAAC,CAAC,CAACN,IAAI;UACzD,IAAMkD,SAAS,GAAGpB,kBAAkB,CAACC,GAAC,GAAG,CAAC,CAAC,CAACzB,MAAM,CAAC,CAAC,CAAC,CAACN,IAAI,GAAG8B,kBAAkB,CAACC,GAAC,GAAG,CAAC,CAAC,CAACzB,MAAM,CAAC,CAAC,CAAC,CAACL,KAAK;UACtG,IAAIkD,GAAG,CAACN,OAAO,GAAGI,QAAQ,CAAC,GAAGZ,OAAO,EAAE;YACnCnC,UAAU,CAAC6C,GAAG,GAAG,CAAC,CAAC;UACvB,CAAC,MACI,IAAIF,OAAO,GAAGI,QAAQ,EAAE;YACzB/C,UAAU,CAAC6C,GAAG,GAAG,CAAC,CAAC;UACvB;;UACA,IAAII,GAAG,CAACL,QAAQ,GAAGI,SAAS,CAAC,GAAGb,OAAO,EAAE;YACrClC,QAAQ,CAAC4C,GAAG,GAAG,CAAC,CAAC;UACrB,CAAC,MACI,IAAIE,QAAQ,GAAGH,QAAQ,IAAIA,QAAQ,GAAGI,SAAS,EAAE;YAClD/C,QAAQ,CAAC4C,GAAG,GAAG,CAAC,CAAC;UACrB;QACJ,CAAC,MACI,IAAIT,gBAAgB,EAAE;UACvB;UACApC,UAAU,CAAC6C,GAAG,GAAGT,gBAAgB,CAACpC,UAAU,CAAC6C,GAAG;UAChD5C,QAAQ,CAAC4C,GAAG,GAAGT,gBAAgB,CAACnC,QAAQ,CAAC4C,GAAG;QAChD;QACA,IAAIhB,GAAC,GAAG,CAAC,GAAGC,GAAG,EAAE;UACb;UACA,IAAMoB,QAAQ,GAAGtB,kBAAkB,CAACC,GAAC,GAAG,CAAC,CAAC,CAACzB,MAAM,CAAC,CAAC,CAAC,CAACN,IAAI;UACzD,IAAMqD,SAAS,GAAGvB,kBAAkB,CAACC,GAAC,GAAG,CAAC,CAAC,CAACzB,MAAM,CAAC,CAAC,CAAC,CAACN,IAAI,GAAG8B,kBAAkB,CAACC,GAAC,GAAG,CAAC,CAAC,CAACzB,MAAM,CAAC,CAAC,CAAC,CAACL,KAAK;UACtG,IAAIkD,GAAG,CAACN,OAAO,GAAGO,QAAQ,CAAC,GAAGf,OAAO,EAAE;YACnCnC,UAAU,CAAC8C,MAAM,GAAG,CAAC,CAAC;UAC1B,CAAC,MACI,IAAII,QAAQ,GAAGP,OAAO,IAAIA,OAAO,GAAGQ,SAAS,EAAE;YAChDnD,UAAU,CAAC8C,MAAM,GAAG,CAAC,CAAC;UAC1B;;UACA,IAAIG,GAAG,CAACL,QAAQ,GAAGO,SAAS,CAAC,GAAGhB,OAAO,EAAE;YACrClC,QAAQ,CAAC6C,MAAM,GAAG,CAAC,CAAC;UACxB,CAAC,MACI,IAAIF,QAAQ,GAAGO,SAAS,EAAE;YAC3BlD,QAAQ,CAAC6C,MAAM,GAAG,CAAC,CAAC;UACxB;QACJ,CAAC,MACI,IAAIT,mBAAmB,EAAE;UAC1B;UACArC,UAAU,CAAC8C,MAAM,GAAGT,mBAAmB,CAACrC,UAAU,CAAC8C,MAAM;UACzD7C,QAAQ,CAAC6C,MAAM,GAAGT,mBAAmB,CAACpC,QAAQ,CAAC6C,MAAM;QACzD;QACAJ,YAAY,CAAC1C,UAAU,GAAGA,UAAU;QACpC0C,YAAY,CAACzC,QAAQ,GAAGA,QAAQ;MACpC;IACJ;EAAC;IAAA;IAAA,OACD,oCAA2BmD,SAAS,EAAEC,GAAG,EAAEnB,aAAa,EAAE;MACtD,IAAMoB,mBAAmB,GAAGD,GAAG,CAACE,0BAA0B,CAACH,SAAS,EAAE,IAAI,CAAC,IAAI,EAAE;MACjF,IAAMxB,kBAAkB,GAAG0B,mBAAmB,CAAC9C,GAAG,CAACD,QAAQ,CAAC;MAC5D,IAAMiD,qBAAqB,GAAG,IAAI,CAACC,sBAAsB,CAAC7B,kBAAkB,CAAC;MAC7E,IAAI,CAAC4B,qBAAqB,IAAI,IAAI,CAACvC,iBAAiB,EAAE;QAClD,IAAI,CAACyC,6BAA6B,CAACL,GAAG,CAACM,YAAY,EAAE/B,kBAAkB,EAAEM,aAAa,CAAC;MAC3F;MACA;MACA,OAAON,kBAAkB;IAC7B;EAAC;IAAA;IAAA,OACD,+BAAsBiB,GAAG,EAAEe,MAAM,EAAEC,SAAS,EAAE/D,IAAI,EAAEC,KAAK,EAAE;MACvD,OAAQ,mBAAmB,GACrB8D,SAAS,GACT,eAAe,GACfhB,GAAG,CAACiB,QAAQ,EAAE,GACd,UAAU,GACVhE,IAAI,CAACgE,QAAQ,EAAE,GACf,WAAW,GACX/D,KAAK,CAAC+D,QAAQ,EAAE,GAChB,YAAY,GACZF,MAAM,GACN,aAAa;IACvB;EAAC;IAAA;IAAA,OACD,mCAA0BG,OAAO,EAAEC,sBAAsB,EAAEC,qBAAqB,EAAEC,aAAa,EAAE;MAC7F,IAAIA,aAAa,CAACnC,MAAM,KAAK,CAAC,EAAE;QAC5B;MACJ;MACA,IAAMoC,sBAAsB,GAAG,CAAC,CAACD,aAAa,CAAC,CAAC,CAAC,CAAC9D,MAAM,CAAC,CAAC,CAAC,CAACJ,UAAU;MACtE,IAAMoE,cAAc,GAAI,IAAI,CAACrD,WAAW,CAAE+C,QAAQ,EAAE;MACpD,IAAMO,iBAAiB,GAAG,CAAC,IAAI,CAACtD,WAAW,GAAG,CAAC,EAAE+C,QAAQ,EAAE;MAC3D,IAAMQ,eAAe,GAAGJ,aAAa,CAAC,CAAC,CAAC,CAAC/D,UAAU;MACnD,IAAMoE,cAAc,GAAGL,aAAa,CAACA,aAAa,CAACnC,MAAM,GAAG,CAAC,CAAC,CAAC5B,UAAU;MACzE,KAAK,IAAI0B,CAAC,GAAG,CAAC,EAAEC,GAAG,GAAGoC,aAAa,CAACnC,MAAM,EAAEF,CAAC,GAAGC,GAAG,EAAED,CAAC,EAAE,EAAE;QACtD,IAAMG,iBAAiB,GAAGkC,aAAa,CAACrC,CAAC,CAAC;QAC1C,IAAM1B,UAAU,GAAG6B,iBAAiB,CAAC7B,UAAU;QAC/C,IAAMqE,SAAS,GAAGrE,UAAU,GAAG6D,sBAAsB;QACrD,IAAMS,UAAU,GAAGR,qBAAqB,GAAI9D,UAAU,KAAKoE,cAAc,IAAIpE,UAAU,KAAKmE,eAAe,GAAGD,iBAAiB,GAAGD,cAAc,GAAIA,cAAc;QAClK,IAAMvB,GAAG,GAAGoB,qBAAqB,GAAI9D,UAAU,KAAKmE,eAAe,GAAG,CAAC,GAAG,CAAC,GAAI,CAAC;QAChF,IAAII,iBAAiB,GAAG,EAAE;QAC1B,IAAIC,qBAAqB,GAAG,EAAE;QAC9B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEC,IAAI,GAAG7C,iBAAiB,CAAC5B,MAAM,CAAC2B,MAAM,EAAE6C,CAAC,GAAGC,IAAI,EAAED,CAAC,EAAE,EAAE;UACnE,IAAMjB,YAAY,GAAG3B,iBAAiB,CAAC5B,MAAM,CAACwE,CAAC,CAAC;UAChD,IAAIT,sBAAsB,EAAE;YACxB,IAAMnE,UAAU,GAAG2D,YAAY,CAAC3D,UAAU;YAC1C,IAAMC,QAAQ,GAAG0D,YAAY,CAAC1D,QAAQ;YACtC,IAAID,UAAU,CAAC6C,GAAG,KAAK,CAAC,CAAC,4BAA4B7C,UAAU,CAAC8C,MAAM,KAAK,CAAC,CAAC,0BAA0B;cACnG;cACA;cACA4B,iBAAiB,IAAI,IAAI,CAACI,qBAAqB,CAACjC,GAAG,EAAE4B,UAAU,EAAEhE,iBAAiB,CAACsE,oBAAoB,EAAEpB,YAAY,CAAC7D,IAAI,GAAGW,iBAAiB,CAACuE,mBAAmB,EAAEvE,iBAAiB,CAACuE,mBAAmB,CAAC;cAC1M;cACA,IAAInB,UAAS,GAAGpD,iBAAiB,CAACwE,4BAA4B;cAC9D,IAAIjF,UAAU,CAAC6C,GAAG,KAAK,CAAC,CAAC,0BAA0B;gBAC/CgB,UAAS,IAAI,GAAG,GAAGpD,iBAAiB,CAACyE,mBAAmB;cAC5D;cACA,IAAIlF,UAAU,CAAC8C,MAAM,KAAK,CAAC,CAAC,0BAA0B;gBAClDe,UAAS,IAAI,GAAG,GAAGpD,iBAAiB,CAAC0E,sBAAsB;cAC/D;cACAT,iBAAiB,IAAI,IAAI,CAACI,qBAAqB,CAACjC,GAAG,EAAE4B,UAAU,EAAEZ,UAAS,EAAEF,YAAY,CAAC7D,IAAI,GAAGW,iBAAiB,CAACuE,mBAAmB,EAAEvE,iBAAiB,CAACuE,mBAAmB,CAAC;YACjL;YACA,IAAI/E,QAAQ,CAAC4C,GAAG,KAAK,CAAC,CAAC,4BAA4B5C,QAAQ,CAAC6C,MAAM,KAAK,CAAC,CAAC,0BAA0B;cAC/F;cACA;cACA4B,iBAAiB,IAAI,IAAI,CAACI,qBAAqB,CAACjC,GAAG,EAAE4B,UAAU,EAAEhE,iBAAiB,CAACsE,oBAAoB,EAAEpB,YAAY,CAAC7D,IAAI,GAAG6D,YAAY,CAAC5D,KAAK,EAAEU,iBAAiB,CAACuE,mBAAmB,CAAC;cACvL;cACA,IAAInB,WAAS,GAAGpD,iBAAiB,CAACwE,4BAA4B;cAC9D,IAAIhF,QAAQ,CAAC4C,GAAG,KAAK,CAAC,CAAC,0BAA0B;gBAC7CgB,WAAS,IAAI,GAAG,GAAGpD,iBAAiB,CAAC2E,kBAAkB;cAC3D;cACA,IAAInF,QAAQ,CAAC6C,MAAM,KAAK,CAAC,CAAC,0BAA0B;gBAChDe,WAAS,IAAI,GAAG,GAAGpD,iBAAiB,CAAC4E,qBAAqB;cAC9D;cACAX,iBAAiB,IAAI,IAAI,CAACI,qBAAqB,CAACjC,GAAG,EAAE4B,UAAU,EAAEZ,WAAS,EAAEF,YAAY,CAAC7D,IAAI,GAAG6D,YAAY,CAAC5D,KAAK,EAAEU,iBAAiB,CAACuE,mBAAmB,CAAC;YAC9J;UACJ;UACA,IAAInB,SAAS,GAAGpD,iBAAiB,CAACsE,oBAAoB;UACtD,IAAIZ,sBAAsB,EAAE;YACxB,IAAMnE,WAAU,GAAG2D,YAAY,CAAC3D,UAAU;YAC1C,IAAMC,SAAQ,GAAG0D,YAAY,CAAC1D,QAAQ;YACtC,IAAID,WAAU,CAAC6C,GAAG,KAAK,CAAC,CAAC,0BAA0B;cAC/CgB,SAAS,IAAI,GAAG,GAAGpD,iBAAiB,CAAC2E,kBAAkB;YAC3D;YACA,IAAIpF,WAAU,CAAC8C,MAAM,KAAK,CAAC,CAAC,0BAA0B;cAClDe,SAAS,IAAI,GAAG,GAAGpD,iBAAiB,CAAC4E,qBAAqB;YAC9D;YACA,IAAIpF,SAAQ,CAAC4C,GAAG,KAAK,CAAC,CAAC,0BAA0B;cAC7CgB,SAAS,IAAI,GAAG,GAAGpD,iBAAiB,CAACyE,mBAAmB;YAC5D;YACA,IAAIjF,SAAQ,CAAC6C,MAAM,KAAK,CAAC,CAAC,0BAA0B;cAChDe,SAAS,IAAI,GAAG,GAAGpD,iBAAiB,CAAC0E,sBAAsB;YAC/D;UACJ;UACAR,qBAAqB,IAAI,IAAI,CAACG,qBAAqB,CAACjC,GAAG,EAAE4B,UAAU,EAAEZ,SAAS,EAAEF,YAAY,CAAC7D,IAAI,EAAE6D,YAAY,CAAC5D,KAAK,CAAC;QAC1H;QACAgE,OAAO,CAACS,SAAS,CAAC,CAAC,CAAC,CAAC,IAAIE,iBAAiB;QAC1CX,OAAO,CAACS,SAAS,CAAC,CAAC,CAAC,CAAC,IAAIG,qBAAqB;MAClD;IACJ;EAAC;IAAA;IAAA,OACD,uBAActB,GAAG,EAAE;MACf;MACA;MACA;MACA,IAAMiC,MAAM,GAAG,EAAE;MACjB,IAAMtB,sBAAsB,GAAGX,GAAG,CAACM,YAAY,CAACpB,eAAe;MAC/D,IAAMgD,oBAAoB,GAAGlC,GAAG,CAACM,YAAY,CAAClB,aAAa;MAC3D,KAAK,IAAItC,UAAU,GAAG6D,sBAAsB,EAAE7D,UAAU,IAAIoF,oBAAoB,EAAEpF,UAAU,EAAE,EAAE;QAC5F,IAAMqE,SAAS,GAAGrE,UAAU,GAAG6D,sBAAsB;QACrDsB,MAAM,CAACd,SAAS,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC;MAChC;MACA,IAAMgB,+BAA+B,GAAG,EAAE;MAC1C,KAAK,IAAI3D,CAAC,GAAG,CAAC,EAAEC,GAAG,GAAG,IAAI,CAACV,WAAW,CAACW,MAAM,EAAEF,CAAC,GAAGC,GAAG,EAAED,CAAC,EAAE,EAAE;QACzD,IAAMuB,SAAS,GAAG,IAAI,CAAChC,WAAW,CAACS,CAAC,CAAC;QACrC,IAAIuB,SAAS,CAACqC,OAAO,EAAE,EAAE;UACrBD,+BAA+B,CAAC3D,CAAC,CAAC,GAAG,IAAI;UACzC;QACJ;QACA,IAAM6D,sBAAsB,GAAG,IAAI,CAACC,0BAA0B,CAACvC,SAAS,EAAEC,GAAG,EAAE,IAAI,CAAC1C,oCAAoC,CAACkB,CAAC,CAAC,CAAC;QAC5H2D,+BAA+B,CAAC3D,CAAC,CAAC,GAAG6D,sBAAsB;QAC3D,IAAI,CAACE,yBAAyB,CAACN,MAAM,EAAEtB,sBAAsB,EAAE,IAAI,CAAC5C,WAAW,CAACW,MAAM,GAAG,CAAC,EAAE2D,sBAAsB,CAAC;MACvH;MACA,IAAI,CAAC/E,oCAAoC,GAAG6E,+BAA+B;MAC3E,IAAI,CAACnE,aAAa,GAAGiE,MAAM,CAAC9E,GAAG,CAAC;QAAA;UAAEqF,eAAe;UAAEC,eAAe;QAAA,OAAMD,eAAe,GAAGC,eAAe;MAAA,EAAC;IAC9G;EAAC;IAAA;IAAA,OACD,gBAAOvD,eAAe,EAAEpC,UAAU,EAAE;MAChC,IAAI,CAAC,IAAI,CAACkB,aAAa,EAAE;QACrB,OAAO,EAAE;MACb;MACA,IAAMmD,SAAS,GAAGrE,UAAU,GAAGoC,eAAe;MAC9C,IAAIiC,SAAS,GAAG,CAAC,IAAIA,SAAS,IAAI,IAAI,CAACnD,aAAa,CAACU,MAAM,EAAE;QACzD,OAAO,EAAE;MACb;MACA,OAAO,IAAI,CAACV,aAAa,CAACmD,SAAS,CAAC;IACxC;EAAC;EAAA;AAAA,EA3RkCjF,kBAAkB;AA6RzDkB,iBAAiB,CAACsE,oBAAoB,GAAG,eAAe;AACxDtE,iBAAiB,CAAC2E,kBAAkB,GAAG,iBAAiB;AACxD3E,iBAAiB,CAAC4E,qBAAqB,GAAG,oBAAoB;AAC9D5E,iBAAiB,CAACyE,mBAAmB,GAAG,kBAAkB;AAC1DzE,iBAAiB,CAAC0E,sBAAsB,GAAG,qBAAqB;AAChE1E,iBAAiB,CAACwE,4BAA4B,GAAG,0BAA0B;AAC3ExE,iBAAiB,CAACuE,mBAAmB,GAAG,EAAE;AAC1CrF,0BAA0B,CAAC,UAACoG,KAAK,EAAEC,SAAS,EAAK;EAC7C,IAAMC,oBAAoB,GAAGF,KAAK,CAACG,QAAQ,CAACzG,yBAAyB,CAAC;EACtE,IAAIwG,oBAAoB,EAAE;IACtBD,SAAS,CAACG,OAAO,sEAA+DF,oBAAoB,SAAM;EAC9G;EACA,IAAMG,4BAA4B,GAAGL,KAAK,CAACG,QAAQ,CAAC1G,uBAAuB,CAAC;EAC5E,IAAI4G,4BAA4B,EAAE;IAC9BJ,SAAS,CAACG,OAAO,6DAAsDC,4BAA4B,SAAM;EAC7G;EACA,IAAMC,8BAA8B,GAAGN,KAAK,CAACG,QAAQ,CAACxG,yBAAyB,CAAC;EAChF,IAAI2G,8BAA8B,IAAI,CAACA,8BAA8B,CAACC,aAAa,EAAE,EAAE;IACnFN,SAAS,CAACG,OAAO,wEAAiEE,8BAA8B,SAAM;EAC1H;AACJ,CAAC,CAAC;AACF,SAASpD,GAAG,CAACsD,CAAC,EAAE;EACZ,OAAOA,CAAC,GAAG,CAAC,GAAG,CAACA,CAAC,GAAGA,CAAC;AACzB"}]}
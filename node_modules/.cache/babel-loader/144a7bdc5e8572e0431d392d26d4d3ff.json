{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/model/indentationGuesser.js","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/model/indentationGuesser.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uCiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwp2YXIgU3BhY2VzRGlmZlJlc3VsdCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlQ2xhc3MoZnVuY3Rpb24gU3BhY2VzRGlmZlJlc3VsdCgpIHsKICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3BhY2VzRGlmZlJlc3VsdCk7CiAgdGhpcy5zcGFjZXNEaWZmID0gMDsKICB0aGlzLmxvb2tzTGlrZUFsaWdubWVudCA9IGZhbHNlOwp9KTsKLyoqCiAqIENvbXB1dGUgdGhlIGRpZmYgaW4gc3BhY2VzIGJldHdlZW4gdHdvIGxpbmUncyBpbmRlbnRhdGlvbi4KICovCmZ1bmN0aW9uIHNwYWNlc0RpZmYoYSwgYUxlbmd0aCwgYiwgYkxlbmd0aCwgcmVzdWx0KSB7CiAgcmVzdWx0LnNwYWNlc0RpZmYgPSAwOwogIHJlc3VsdC5sb29rc0xpa2VBbGlnbm1lbnQgPSBmYWxzZTsKICAvLyBUaGlzIGNhbiBnbyBib3RoIHdheXMgKGUuZy4pOgogIC8vICAtIGE6ICJcdCIKICAvLyAgLSBiOiAiXHQgICAgIgogIC8vICA9PiBUaGlzIHNob3VsZCBjb3VudCAxIHRhYiBhbmQgNCBzcGFjZXMKICB2YXIgaTsKICBmb3IgKGkgPSAwOyBpIDwgYUxlbmd0aCAmJiBpIDwgYkxlbmd0aDsgaSsrKSB7CiAgICB2YXIgYUNoYXJDb2RlID0gYS5jaGFyQ29kZUF0KGkpOwogICAgdmFyIGJDaGFyQ29kZSA9IGIuY2hhckNvZGVBdChpKTsKICAgIGlmIChhQ2hhckNvZGUgIT09IGJDaGFyQ29kZSkgewogICAgICBicmVhazsKICAgIH0KICB9CiAgdmFyIGFTcGFjZXNDbnQgPSAwLAogICAgYVRhYnNDb3VudCA9IDA7CiAgZm9yICh2YXIgaiA9IGk7IGogPCBhTGVuZ3RoOyBqKyspIHsKICAgIHZhciBfYUNoYXJDb2RlID0gYS5jaGFyQ29kZUF0KGopOwogICAgaWYgKF9hQ2hhckNvZGUgPT09IDMyIC8qIENoYXJDb2RlLlNwYWNlICovKSB7CiAgICAgIGFTcGFjZXNDbnQrKzsKICAgIH0gZWxzZSB7CiAgICAgIGFUYWJzQ291bnQrKzsKICAgIH0KICB9CiAgdmFyIGJTcGFjZXNDbnQgPSAwLAogICAgYlRhYnNDb3VudCA9IDA7CiAgZm9yICh2YXIgX2ogPSBpOyBfaiA8IGJMZW5ndGg7IF9qKyspIHsKICAgIHZhciBfYkNoYXJDb2RlID0gYi5jaGFyQ29kZUF0KF9qKTsKICAgIGlmIChfYkNoYXJDb2RlID09PSAzMiAvKiBDaGFyQ29kZS5TcGFjZSAqLykgewogICAgICBiU3BhY2VzQ250Kys7CiAgICB9IGVsc2UgewogICAgICBiVGFic0NvdW50Kys7CiAgICB9CiAgfQogIGlmIChhU3BhY2VzQ250ID4gMCAmJiBhVGFic0NvdW50ID4gMCkgewogICAgcmV0dXJuOwogIH0KICBpZiAoYlNwYWNlc0NudCA+IDAgJiYgYlRhYnNDb3VudCA+IDApIHsKICAgIHJldHVybjsKICB9CiAgdmFyIHRhYnNEaWZmID0gTWF0aC5hYnMoYVRhYnNDb3VudCAtIGJUYWJzQ291bnQpOwogIHZhciBzcGFjZXNEaWZmID0gTWF0aC5hYnMoYVNwYWNlc0NudCAtIGJTcGFjZXNDbnQpOwogIGlmICh0YWJzRGlmZiA9PT0gMCkgewogICAgLy8gY2hlY2sgaWYgdGhlIGluZGVudGF0aW9uIGRpZmZlcmVuY2UgbWlnaHQgYmUgY2F1c2VkIGJ5IGFsaWdubWVudCByZWFzb25zCiAgICAvLyBzb21ldGltZSBmb2xrcyBsaWtlIHRvIGFsaWduIHRoZWlyIGNvZGUsIGJ1dCB0aGlzIHNob3VsZCBub3QgYmUgdXNlZCBhcyBhIGhpbnQKICAgIHJlc3VsdC5zcGFjZXNEaWZmID0gc3BhY2VzRGlmZjsKICAgIGlmIChzcGFjZXNEaWZmID4gMCAmJiAwIDw9IGJTcGFjZXNDbnQgLSAxICYmIGJTcGFjZXNDbnQgLSAxIDwgYS5sZW5ndGggJiYgYlNwYWNlc0NudCA8IGIubGVuZ3RoKSB7CiAgICAgIGlmIChiLmNoYXJDb2RlQXQoYlNwYWNlc0NudCkgIT09IDMyIC8qIENoYXJDb2RlLlNwYWNlICovICYmIGEuY2hhckNvZGVBdChiU3BhY2VzQ250IC0gMSkgPT09IDMyIC8qIENoYXJDb2RlLlNwYWNlICovKSB7CiAgICAgICAgaWYgKGEuY2hhckNvZGVBdChhLmxlbmd0aCAtIDEpID09PSA0NCAvKiBDaGFyQ29kZS5Db21tYSAqLykgewogICAgICAgICAgLy8gVGhpcyBsb29rcyBsaWtlIGFuIGFsaWdubWVudCBkZXNpcmU6IGUuZy4KICAgICAgICAgIC8vIGNvbnN0IGEgPSBiICsgYywKICAgICAgICAgIC8vICAgICAgIGQgPSBiIC0gYzsKICAgICAgICAgIHJlc3VsdC5sb29rc0xpa2VBbGlnbm1lbnQgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuOwogIH0KICBpZiAoc3BhY2VzRGlmZiAlIHRhYnNEaWZmID09PSAwKSB7CiAgICByZXN1bHQuc3BhY2VzRGlmZiA9IHNwYWNlc0RpZmYgLyB0YWJzRGlmZjsKICAgIHJldHVybjsKICB9Cn0KZXhwb3J0IGZ1bmN0aW9uIGd1ZXNzSW5kZW50YXRpb24oc291cmNlLCBkZWZhdWx0VGFiU2l6ZSwgZGVmYXVsdEluc2VydFNwYWNlcykgewogIC8vIExvb2sgYXQgbW9zdCBhdCB0aGUgZmlyc3QgMTBrIGxpbmVzCiAgdmFyIGxpbmVzQ291bnQgPSBNYXRoLm1pbihzb3VyY2UuZ2V0TGluZUNvdW50KCksIDEwMDAwKTsKICB2YXIgbGluZXNJbmRlbnRlZFdpdGhUYWJzQ291bnQgPSAwOyAvLyBudW1iZXIgb2YgbGluZXMgdGhhdCBjb250YWluIGF0IGxlYXN0IG9uZSB0YWIgaW4gaW5kZW50YXRpb24KICB2YXIgbGluZXNJbmRlbnRlZFdpdGhTcGFjZXNDb3VudCA9IDA7IC8vIG51bWJlciBvZiBsaW5lcyB0aGF0IGNvbnRhaW4gb25seSBzcGFjZXMgaW4gaW5kZW50YXRpb24KICB2YXIgcHJldmlvdXNMaW5lVGV4dCA9ICcnOyAvLyBjb250ZW50IG9mIGxhdGVzdCBsaW5lIHRoYXQgY29udGFpbmVkIG5vbi13aGl0ZXNwYWNlIGNoYXJzCiAgdmFyIHByZXZpb3VzTGluZUluZGVudGF0aW9uID0gMDsgLy8gaW5kZXggYXQgd2hpY2ggbGF0ZXN0IGxpbmUgY29udGFpbmVkIHRoZSBmaXJzdCBub24td2hpdGVzcGFjZSBjaGFyCiAgdmFyIEFMTE9XRURfVEFCX1NJWkVfR1VFU1NFUyA9IFsyLCA0LCA2LCA4LCAzLCA1LCA3XTsgLy8gcHJlZmVyIGV2ZW4gZ3Vlc3NlcyBmb3IgYHRhYlNpemVgLCBsaW1pdCB0byBbMiwgOF0uCiAgdmFyIE1BWF9BTExPV0VEX1RBQl9TSVpFX0dVRVNTID0gODsgLy8gbWF4KEFMTE9XRURfVEFCX1NJWkVfR1VFU1NFUykgPSA4CiAgdmFyIHNwYWNlc0RpZmZDb3VudCA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXTsgLy8gYHRhYlNpemVgIHNjb3JlcwogIHZhciB0bXAgPSBuZXcgU3BhY2VzRGlmZlJlc3VsdCgpOwogIGZvciAodmFyIGxpbmVOdW1iZXIgPSAxOyBsaW5lTnVtYmVyIDw9IGxpbmVzQ291bnQ7IGxpbmVOdW1iZXIrKykgewogICAgdmFyIGN1cnJlbnRMaW5lTGVuZ3RoID0gc291cmNlLmdldExpbmVMZW5ndGgobGluZU51bWJlcik7CiAgICB2YXIgY3VycmVudExpbmVUZXh0ID0gc291cmNlLmdldExpbmVDb250ZW50KGxpbmVOdW1iZXIpOwogICAgLy8gaWYgdGhlIHRleHQgYnVmZmVyIGlzIGNodW5rIGJhc2VkLCBzbyBsb25nIGxpbmVzIGFyZSBjb25zLXN0cmluZywgdjggd2lsbCBmbGF0dGVybiB0aGUgc3RyaW5nIHdoZW4gd2UgY2hlY2sgY2hhckNvZGUuCiAgICAvLyBjaGVja2luZyBjaGFyQ29kZSBvbiBjaHVua3MgZGlyZWN0bHkgaXMgY2hlYXBlci4KICAgIHZhciB1c2VDdXJyZW50TGluZVRleHQgPSBjdXJyZW50TGluZUxlbmd0aCA8PSA2NTUzNjsKICAgIHZhciBjdXJyZW50TGluZUhhc0NvbnRlbnQgPSBmYWxzZTsgLy8gZG9lcyBgY3VycmVudExpbmVUZXh0YCBjb250YWluIG5vbi13aGl0ZXNwYWNlIGNoYXJzCiAgICB2YXIgY3VycmVudExpbmVJbmRlbnRhdGlvbiA9IDA7IC8vIGluZGV4IGF0IHdoaWNoIGBjdXJyZW50TGluZVRleHRgIGNvbnRhaW5zIHRoZSBmaXJzdCBub24td2hpdGVzcGFjZSBjaGFyCiAgICB2YXIgY3VycmVudExpbmVTcGFjZXNDb3VudCA9IDA7IC8vIGNvdW50IG9mIHNwYWNlcyBmb3VuZCBpbiBgY3VycmVudExpbmVUZXh0YCBpbmRlbnRhdGlvbgogICAgdmFyIGN1cnJlbnRMaW5lVGFic0NvdW50ID0gMDsgLy8gY291bnQgb2YgdGFicyBmb3VuZCBpbiBgY3VycmVudExpbmVUZXh0YCBpbmRlbnRhdGlvbgogICAgZm9yICh2YXIgaiA9IDAsIGxlbkogPSBjdXJyZW50TGluZUxlbmd0aDsgaiA8IGxlbko7IGorKykgewogICAgICB2YXIgY2hhckNvZGUgPSB1c2VDdXJyZW50TGluZVRleHQgPyBjdXJyZW50TGluZVRleHQuY2hhckNvZGVBdChqKSA6IHNvdXJjZS5nZXRMaW5lQ2hhckNvZGUobGluZU51bWJlciwgaik7CiAgICAgIGlmIChjaGFyQ29kZSA9PT0gOSAvKiBDaGFyQ29kZS5UYWIgKi8pIHsKICAgICAgICBjdXJyZW50TGluZVRhYnNDb3VudCsrOwogICAgICB9IGVsc2UgaWYgKGNoYXJDb2RlID09PSAzMiAvKiBDaGFyQ29kZS5TcGFjZSAqLykgewogICAgICAgIGN1cnJlbnRMaW5lU3BhY2VzQ291bnQrKzsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBIaXQgbm9uIHdoaXRlc3BhY2UgY2hhcmFjdGVyIG9uIHRoaXMgbGluZQogICAgICAgIGN1cnJlbnRMaW5lSGFzQ29udGVudCA9IHRydWU7CiAgICAgICAgY3VycmVudExpbmVJbmRlbnRhdGlvbiA9IGo7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICAgIC8vIElnbm9yZSBlbXB0eSBvciBvbmx5IHdoaXRlc3BhY2UgbGluZXMKICAgIGlmICghY3VycmVudExpbmVIYXNDb250ZW50KSB7CiAgICAgIGNvbnRpbnVlOwogICAgfQogICAgaWYgKGN1cnJlbnRMaW5lVGFic0NvdW50ID4gMCkgewogICAgICBsaW5lc0luZGVudGVkV2l0aFRhYnNDb3VudCsrOwogICAgfSBlbHNlIGlmIChjdXJyZW50TGluZVNwYWNlc0NvdW50ID4gMSkgewogICAgICBsaW5lc0luZGVudGVkV2l0aFNwYWNlc0NvdW50Kys7CiAgICB9CiAgICBzcGFjZXNEaWZmKHByZXZpb3VzTGluZVRleHQsIHByZXZpb3VzTGluZUluZGVudGF0aW9uLCBjdXJyZW50TGluZVRleHQsIGN1cnJlbnRMaW5lSW5kZW50YXRpb24sIHRtcCk7CiAgICBpZiAodG1wLmxvb2tzTGlrZUFsaWdubWVudCkgewogICAgICAvLyBpZiBkZWZhdWx0SW5zZXJ0U3BhY2VzID09PSB0cnVlICYmIHRoZSBzcGFjZXMgY291bnQgPT0gdGFiU2l6ZSwgd2UgbWF5IHdhbnQgdG8gY291bnQgaXQgYXMgdmFsaWQgaW5kZW50YXRpb24KICAgICAgLy8KICAgICAgLy8gLSBpdGVtMQogICAgICAvLyAgIC0gaXRlbTIKICAgICAgLy8KICAgICAgLy8gb3RoZXJ3aXNlIHNraXAgdGhpcyBsaW5lIGVudGlyZWx5CiAgICAgIC8vCiAgICAgIC8vIGNvbnN0IGEgPSAxLAogICAgICAvLyAgICAgICBiID0gMjsKICAgICAgaWYgKCEoZGVmYXVsdEluc2VydFNwYWNlcyAmJiBkZWZhdWx0VGFiU2l6ZSA9PT0gdG1wLnNwYWNlc0RpZmYpKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgIH0KICAgIHZhciBjdXJyZW50U3BhY2VzRGlmZiA9IHRtcC5zcGFjZXNEaWZmOwogICAgaWYgKGN1cnJlbnRTcGFjZXNEaWZmIDw9IE1BWF9BTExPV0VEX1RBQl9TSVpFX0dVRVNTKSB7CiAgICAgIHNwYWNlc0RpZmZDb3VudFtjdXJyZW50U3BhY2VzRGlmZl0rKzsKICAgIH0KICAgIHByZXZpb3VzTGluZVRleHQgPSBjdXJyZW50TGluZVRleHQ7CiAgICBwcmV2aW91c0xpbmVJbmRlbnRhdGlvbiA9IGN1cnJlbnRMaW5lSW5kZW50YXRpb247CiAgfQogIHZhciBpbnNlcnRTcGFjZXMgPSBkZWZhdWx0SW5zZXJ0U3BhY2VzOwogIGlmIChsaW5lc0luZGVudGVkV2l0aFRhYnNDb3VudCAhPT0gbGluZXNJbmRlbnRlZFdpdGhTcGFjZXNDb3VudCkgewogICAgaW5zZXJ0U3BhY2VzID0gbGluZXNJbmRlbnRlZFdpdGhUYWJzQ291bnQgPCBsaW5lc0luZGVudGVkV2l0aFNwYWNlc0NvdW50OwogIH0KICB2YXIgdGFiU2l6ZSA9IGRlZmF1bHRUYWJTaXplOwogIC8vIEd1ZXNzIHRhYlNpemUgb25seSBpZiBpbnNlcnRpbmcgc3BhY2VzLi4uCiAgaWYgKGluc2VydFNwYWNlcykgewogICAgdmFyIHRhYlNpemVTY29yZSA9IGluc2VydFNwYWNlcyA/IDAgOiAwLjEgKiBsaW5lc0NvdW50OwogICAgLy8gY29uc29sZS5sb2coInNjb3JlIHRocmVzaG9sZDogIiArIHRhYlNpemVTY29yZSk7CiAgICBBTExPV0VEX1RBQl9TSVpFX0dVRVNTRVMuZm9yRWFjaChmdW5jdGlvbiAocG9zc2libGVUYWJTaXplKSB7CiAgICAgIHZhciBwb3NzaWJsZVRhYlNpemVTY29yZSA9IHNwYWNlc0RpZmZDb3VudFtwb3NzaWJsZVRhYlNpemVdOwogICAgICBpZiAocG9zc2libGVUYWJTaXplU2NvcmUgPiB0YWJTaXplU2NvcmUpIHsKICAgICAgICB0YWJTaXplU2NvcmUgPSBwb3NzaWJsZVRhYlNpemVTY29yZTsKICAgICAgICB0YWJTaXplID0gcG9zc2libGVUYWJTaXplOwogICAgICB9CiAgICB9KTsKICAgIC8vIExldCBhIHRhYlNpemUgb2YgMiB3aW4gZXZlbiBpZiBpdCBpcyBub3QgdGhlIG1heGltdW0KICAgIC8vIChvbmx5IGluIGNhc2UgNCB3YXMgZ3Vlc3NlZCkKICAgIGlmICh0YWJTaXplID09PSA0ICYmIHNwYWNlc0RpZmZDb3VudFs0XSA+IDAgJiYgc3BhY2VzRGlmZkNvdW50WzJdID4gMCAmJiBzcGFjZXNEaWZmQ291bnRbMl0gPj0gc3BhY2VzRGlmZkNvdW50WzRdIC8gMikgewogICAgICB0YWJTaXplID0gMjsKICAgIH0KICB9CiAgLy8gY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyk7CiAgLy8gY29uc29sZS5sb2coJ2xpbmVzSW5kZW50ZWRXaXRoVGFic0NvdW50OiAnICsgbGluZXNJbmRlbnRlZFdpdGhUYWJzQ291bnQgKyAnLCBsaW5lc0luZGVudGVkV2l0aFNwYWNlc0NvdW50OiAnICsgbGluZXNJbmRlbnRlZFdpdGhTcGFjZXNDb3VudCk7CiAgLy8gY29uc29sZS5sb2coJ3NwYWNlc0RpZmZDb3VudDogJyArIHNwYWNlc0RpZmZDb3VudCk7CiAgLy8gY29uc29sZS5sb2coJ3RhYlNpemU6ICcgKyB0YWJTaXplICsgJywgdGFiU2l6ZVNjb3JlOiAnICsgdGFiU2l6ZVNjb3JlKTsKICByZXR1cm4gewogICAgaW5zZXJ0U3BhY2VzOiBpbnNlcnRTcGFjZXMsCiAgICB0YWJTaXplOiB0YWJTaXplCiAgfTsKfQ=="},{"version":3,"names":["SpacesDiffResult","spacesDiff","looksLikeAlignment","a","aLength","b","bLength","result","i","aCharCode","charCodeAt","bCharCode","aSpacesCnt","aTabsCount","j","bSpacesCnt","bTabsCount","tabsDiff","Math","abs","length","guessIndentation","source","defaultTabSize","defaultInsertSpaces","linesCount","min","getLineCount","linesIndentedWithTabsCount","linesIndentedWithSpacesCount","previousLineText","previousLineIndentation","ALLOWED_TAB_SIZE_GUESSES","MAX_ALLOWED_TAB_SIZE_GUESS","spacesDiffCount","tmp","lineNumber","currentLineLength","getLineLength","currentLineText","getLineContent","useCurrentLineText","currentLineHasContent","currentLineIndentation","currentLineSpacesCount","currentLineTabsCount","lenJ","charCode","getLineCharCode","currentSpacesDiff","insertSpaces","tabSize","tabSizeScore","forEach","possibleTabSize","possibleTabSizeScore"],"sources":["/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/model/indentationGuesser.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nclass SpacesDiffResult {\n    constructor() {\n        this.spacesDiff = 0;\n        this.looksLikeAlignment = false;\n    }\n}\n/**\n * Compute the diff in spaces between two line's indentation.\n */\nfunction spacesDiff(a, aLength, b, bLength, result) {\n    result.spacesDiff = 0;\n    result.looksLikeAlignment = false;\n    // This can go both ways (e.g.):\n    //  - a: \"\\t\"\n    //  - b: \"\\t    \"\n    //  => This should count 1 tab and 4 spaces\n    let i;\n    for (i = 0; i < aLength && i < bLength; i++) {\n        const aCharCode = a.charCodeAt(i);\n        const bCharCode = b.charCodeAt(i);\n        if (aCharCode !== bCharCode) {\n            break;\n        }\n    }\n    let aSpacesCnt = 0, aTabsCount = 0;\n    for (let j = i; j < aLength; j++) {\n        const aCharCode = a.charCodeAt(j);\n        if (aCharCode === 32 /* CharCode.Space */) {\n            aSpacesCnt++;\n        }\n        else {\n            aTabsCount++;\n        }\n    }\n    let bSpacesCnt = 0, bTabsCount = 0;\n    for (let j = i; j < bLength; j++) {\n        const bCharCode = b.charCodeAt(j);\n        if (bCharCode === 32 /* CharCode.Space */) {\n            bSpacesCnt++;\n        }\n        else {\n            bTabsCount++;\n        }\n    }\n    if (aSpacesCnt > 0 && aTabsCount > 0) {\n        return;\n    }\n    if (bSpacesCnt > 0 && bTabsCount > 0) {\n        return;\n    }\n    const tabsDiff = Math.abs(aTabsCount - bTabsCount);\n    const spacesDiff = Math.abs(aSpacesCnt - bSpacesCnt);\n    if (tabsDiff === 0) {\n        // check if the indentation difference might be caused by alignment reasons\n        // sometime folks like to align their code, but this should not be used as a hint\n        result.spacesDiff = spacesDiff;\n        if (spacesDiff > 0 && 0 <= bSpacesCnt - 1 && bSpacesCnt - 1 < a.length && bSpacesCnt < b.length) {\n            if (b.charCodeAt(bSpacesCnt) !== 32 /* CharCode.Space */ && a.charCodeAt(bSpacesCnt - 1) === 32 /* CharCode.Space */) {\n                if (a.charCodeAt(a.length - 1) === 44 /* CharCode.Comma */) {\n                    // This looks like an alignment desire: e.g.\n                    // const a = b + c,\n                    //       d = b - c;\n                    result.looksLikeAlignment = true;\n                }\n            }\n        }\n        return;\n    }\n    if (spacesDiff % tabsDiff === 0) {\n        result.spacesDiff = spacesDiff / tabsDiff;\n        return;\n    }\n}\nexport function guessIndentation(source, defaultTabSize, defaultInsertSpaces) {\n    // Look at most at the first 10k lines\n    const linesCount = Math.min(source.getLineCount(), 10000);\n    let linesIndentedWithTabsCount = 0; // number of lines that contain at least one tab in indentation\n    let linesIndentedWithSpacesCount = 0; // number of lines that contain only spaces in indentation\n    let previousLineText = ''; // content of latest line that contained non-whitespace chars\n    let previousLineIndentation = 0; // index at which latest line contained the first non-whitespace char\n    const ALLOWED_TAB_SIZE_GUESSES = [2, 4, 6, 8, 3, 5, 7]; // prefer even guesses for `tabSize`, limit to [2, 8].\n    const MAX_ALLOWED_TAB_SIZE_GUESS = 8; // max(ALLOWED_TAB_SIZE_GUESSES) = 8\n    const spacesDiffCount = [0, 0, 0, 0, 0, 0, 0, 0, 0]; // `tabSize` scores\n    const tmp = new SpacesDiffResult();\n    for (let lineNumber = 1; lineNumber <= linesCount; lineNumber++) {\n        const currentLineLength = source.getLineLength(lineNumber);\n        const currentLineText = source.getLineContent(lineNumber);\n        // if the text buffer is chunk based, so long lines are cons-string, v8 will flattern the string when we check charCode.\n        // checking charCode on chunks directly is cheaper.\n        const useCurrentLineText = (currentLineLength <= 65536);\n        let currentLineHasContent = false; // does `currentLineText` contain non-whitespace chars\n        let currentLineIndentation = 0; // index at which `currentLineText` contains the first non-whitespace char\n        let currentLineSpacesCount = 0; // count of spaces found in `currentLineText` indentation\n        let currentLineTabsCount = 0; // count of tabs found in `currentLineText` indentation\n        for (let j = 0, lenJ = currentLineLength; j < lenJ; j++) {\n            const charCode = (useCurrentLineText ? currentLineText.charCodeAt(j) : source.getLineCharCode(lineNumber, j));\n            if (charCode === 9 /* CharCode.Tab */) {\n                currentLineTabsCount++;\n            }\n            else if (charCode === 32 /* CharCode.Space */) {\n                currentLineSpacesCount++;\n            }\n            else {\n                // Hit non whitespace character on this line\n                currentLineHasContent = true;\n                currentLineIndentation = j;\n                break;\n            }\n        }\n        // Ignore empty or only whitespace lines\n        if (!currentLineHasContent) {\n            continue;\n        }\n        if (currentLineTabsCount > 0) {\n            linesIndentedWithTabsCount++;\n        }\n        else if (currentLineSpacesCount > 1) {\n            linesIndentedWithSpacesCount++;\n        }\n        spacesDiff(previousLineText, previousLineIndentation, currentLineText, currentLineIndentation, tmp);\n        if (tmp.looksLikeAlignment) {\n            // if defaultInsertSpaces === true && the spaces count == tabSize, we may want to count it as valid indentation\n            //\n            // - item1\n            //   - item2\n            //\n            // otherwise skip this line entirely\n            //\n            // const a = 1,\n            //       b = 2;\n            if (!(defaultInsertSpaces && defaultTabSize === tmp.spacesDiff)) {\n                continue;\n            }\n        }\n        const currentSpacesDiff = tmp.spacesDiff;\n        if (currentSpacesDiff <= MAX_ALLOWED_TAB_SIZE_GUESS) {\n            spacesDiffCount[currentSpacesDiff]++;\n        }\n        previousLineText = currentLineText;\n        previousLineIndentation = currentLineIndentation;\n    }\n    let insertSpaces = defaultInsertSpaces;\n    if (linesIndentedWithTabsCount !== linesIndentedWithSpacesCount) {\n        insertSpaces = (linesIndentedWithTabsCount < linesIndentedWithSpacesCount);\n    }\n    let tabSize = defaultTabSize;\n    // Guess tabSize only if inserting spaces...\n    if (insertSpaces) {\n        let tabSizeScore = (insertSpaces ? 0 : 0.1 * linesCount);\n        // console.log(\"score threshold: \" + tabSizeScore);\n        ALLOWED_TAB_SIZE_GUESSES.forEach((possibleTabSize) => {\n            const possibleTabSizeScore = spacesDiffCount[possibleTabSize];\n            if (possibleTabSizeScore > tabSizeScore) {\n                tabSizeScore = possibleTabSizeScore;\n                tabSize = possibleTabSize;\n            }\n        });\n        // Let a tabSize of 2 win even if it is not the maximum\n        // (only in case 4 was guessed)\n        if (tabSize === 4 && spacesDiffCount[4] > 0 && spacesDiffCount[2] > 0 && spacesDiffCount[2] >= spacesDiffCount[4] / 2) {\n            tabSize = 2;\n        }\n    }\n    // console.log('--------------------------');\n    // console.log('linesIndentedWithTabsCount: ' + linesIndentedWithTabsCount + ', linesIndentedWithSpacesCount: ' + linesIndentedWithSpacesCount);\n    // console.log('spacesDiffCount: ' + spacesDiffCount);\n    // console.log('tabSize: ' + tabSize + ', tabSizeScore: ' + tabSizeScore);\n    return {\n        insertSpaces: insertSpaces,\n        tabSize: tabSize\n    };\n}\n"],"mappings":"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"}]}
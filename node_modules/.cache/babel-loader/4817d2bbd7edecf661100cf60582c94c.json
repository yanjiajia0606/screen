{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/standalone/browser/standaloneCodeEditor.js","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/standalone/browser/standaloneCodeEditor.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyI7CmltcG9ydCBfZ2V0IGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0LmpzIjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2dldFByb3RvdHlwZU9mLmpzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzLmpzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyLmpzIjsKaW1wb3J0IF90eXBlb2YgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZmxlY3QudG8tc3RyaW5nLXRhZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi4KICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCnZhciBfX2RlY29yYXRlID0gdGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7CiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLAogICAgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsCiAgICBkOwogIGlmICgodHlwZW9mIFJlZmxlY3QgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKFJlZmxlY3QpKSA9PT0gIm9iamVjdCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09ICJmdW5jdGlvbiIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByOwogIH0KICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByOwp9Owp2YXIgX19wYXJhbSA9IHRoaXMgJiYgdGhpcy5fX3BhcmFtIHx8IGZ1bmN0aW9uIChwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHsKICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7CiAgICBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOwogIH07Cn07CmltcG9ydCAqIGFzIGFyaWEgZnJvbSAnLi4vLi4vLi4vYmFzZS9icm93c2VyL3VpL2FyaWEvYXJpYS5qcyc7CmltcG9ydCB7IERpc3Bvc2FibGUsIHRvRGlzcG9zYWJsZSwgRGlzcG9zYWJsZVN0b3JlIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vbGlmZWN5Y2xlLmpzJzsKaW1wb3J0IHsgSUNvZGVFZGl0b3JTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vYnJvd3Nlci9zZXJ2aWNlcy9jb2RlRWRpdG9yU2VydmljZS5qcyc7CmltcG9ydCB7IENvZGVFZGl0b3JXaWRnZXQgfSBmcm9tICcuLi8uLi9icm93c2VyL3dpZGdldC9jb2RlRWRpdG9yV2lkZ2V0LmpzJzsKaW1wb3J0IHsgRGlmZkVkaXRvcldpZGdldCB9IGZyb20gJy4uLy4uL2Jyb3dzZXIvd2lkZ2V0L2RpZmZFZGl0b3JXaWRnZXQuanMnOwppbXBvcnQgeyBJbnRlcm5hbEVkaXRvckFjdGlvbiB9IGZyb20gJy4uLy4uL2NvbW1vbi9lZGl0b3JBY3Rpb24uanMnOwppbXBvcnQgeyBJRWRpdG9yV29ya2VyU2VydmljZSB9IGZyb20gJy4uLy4uL2NvbW1vbi9zZXJ2aWNlcy9lZGl0b3JXb3JrZXIuanMnOwppbXBvcnQgeyBTdGFuZGFsb25lS2V5YmluZGluZ1NlcnZpY2UsIHVwZGF0ZUNvbmZpZ3VyYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi9zdGFuZGFsb25lU2VydmljZXMuanMnOwppbXBvcnQgeyBJU3RhbmRhbG9uZVRoZW1lU2VydmljZSB9IGZyb20gJy4uL2NvbW1vbi9zdGFuZGFsb25lVGhlbWUuanMnOwppbXBvcnQgeyBNZW51SWQsIE1lbnVSZWdpc3RyeSB9IGZyb20gJy4uLy4uLy4uL3BsYXRmb3JtL2FjdGlvbnMvY29tbW9uL2FjdGlvbnMuanMnOwppbXBvcnQgeyBDb21tYW5kc1JlZ2lzdHJ5LCBJQ29tbWFuZFNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9wbGF0Zm9ybS9jb21tYW5kcy9jb21tb24vY29tbWFuZHMuanMnOwppbXBvcnQgeyBJQ29uZmlndXJhdGlvblNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9wbGF0Zm9ybS9jb25maWd1cmF0aW9uL2NvbW1vbi9jb25maWd1cmF0aW9uLmpzJzsKaW1wb3J0IHsgQ29udGV4dEtleUV4cHIsIElDb250ZXh0S2V5U2VydmljZSB9IGZyb20gJy4uLy4uLy4uL3BsYXRmb3JtL2NvbnRleHRrZXkvY29tbW9uL2NvbnRleHRrZXkuanMnOwppbXBvcnQgeyBJQ29udGV4dE1lbnVTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vcGxhdGZvcm0vY29udGV4dHZpZXcvYnJvd3Nlci9jb250ZXh0Vmlldy5qcyc7CmltcG9ydCB7IElJbnN0YW50aWF0aW9uU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL3BsYXRmb3JtL2luc3RhbnRpYXRpb24vY29tbW9uL2luc3RhbnRpYXRpb24uanMnOwppbXBvcnQgeyBJS2V5YmluZGluZ1NlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9wbGF0Zm9ybS9rZXliaW5kaW5nL2NvbW1vbi9rZXliaW5kaW5nLmpzJzsKaW1wb3J0IHsgSU5vdGlmaWNhdGlvblNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9wbGF0Zm9ybS9ub3RpZmljYXRpb24vY29tbW9uL25vdGlmaWNhdGlvbi5qcyc7CmltcG9ydCB7IElUaGVtZVNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9wbGF0Zm9ybS90aGVtZS9jb21tb24vdGhlbWVTZXJ2aWNlLmpzJzsKaW1wb3J0IHsgSUFjY2Vzc2liaWxpdHlTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vcGxhdGZvcm0vYWNjZXNzaWJpbGl0eS9jb21tb24vYWNjZXNzaWJpbGl0eS5qcyc7CmltcG9ydCB7IFN0YW5kYWxvbmVDb2RlRWRpdG9yTkxTIH0gZnJvbSAnLi4vLi4vY29tbW9uL3N0YW5kYWxvbmVTdHJpbmdzLmpzJzsKaW1wb3J0IHsgSUNsaXBib2FyZFNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9wbGF0Zm9ybS9jbGlwYm9hcmQvY29tbW9uL2NsaXBib2FyZFNlcnZpY2UuanMnOwppbXBvcnQgeyBJRWRpdG9yUHJvZ3Jlc3NTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vcGxhdGZvcm0vcHJvZ3Jlc3MvY29tbW9uL3Byb2dyZXNzLmpzJzsKaW1wb3J0IHsgSU1vZGVsU2VydmljZSB9IGZyb20gJy4uLy4uL2NvbW1vbi9zZXJ2aWNlcy9tb2RlbC5qcyc7CmltcG9ydCB7IElMYW5ndWFnZVNlcnZpY2UgfSBmcm9tICcuLi8uLi9jb21tb24vbGFuZ3VhZ2VzL2xhbmd1YWdlLmpzJzsKaW1wb3J0IHsgU3RhbmRhbG9uZUNvZGVFZGl0b3JTZXJ2aWNlIH0gZnJvbSAnLi9zdGFuZGFsb25lQ29kZUVkaXRvclNlcnZpY2UuanMnOwppbXBvcnQgeyBQTEFJTlRFWFRfTEFOR1VBR0VfSUQgfSBmcm9tICcuLi8uLi9jb21tb24vbGFuZ3VhZ2VzL21vZGVzUmVnaXN0cnkuanMnOwppbXBvcnQgeyBJTGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZSB9IGZyb20gJy4uLy4uL2NvbW1vbi9sYW5ndWFnZXMvbGFuZ3VhZ2VDb25maWd1cmF0aW9uUmVnaXN0cnkuanMnOwppbXBvcnQgeyBJTGFuZ3VhZ2VGZWF0dXJlc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9jb21tb24vc2VydmljZXMvbGFuZ3VhZ2VGZWF0dXJlcy5qcyc7CnZhciBMQVNUX0dFTkVSQVRFRF9DT01NQU5EX0lEID0gMDsKdmFyIGFyaWFEb21Ob2RlQ3JlYXRlZCA9IGZhbHNlOwovKioKICogQ3JlYXRlIEFSSUEgZG9tIG5vZGUgaW5zaWRlIHBhcmVudCwKICogb3Igb25seSBmb3IgdGhlIGZpcnN0IGVkaXRvciBpbnN0YW50aWF0aW9uIGluc2lkZSBkb2N1bWVudC5ib2R5LgogKiBAcGFyYW0gcGFyZW50IGNvbnRhaW5lciBlbGVtZW50IGZvciBBUklBIGRvbSBub2RlCiAqLwpmdW5jdGlvbiBjcmVhdGVBcmlhRG9tTm9kZShwYXJlbnQpIHsKICBpZiAoIXBhcmVudCkgewogICAgaWYgKGFyaWFEb21Ob2RlQ3JlYXRlZCkgewogICAgICByZXR1cm47CiAgICB9CiAgICBhcmlhRG9tTm9kZUNyZWF0ZWQgPSB0cnVlOwogIH0KICBhcmlhLnNldEFSSUFDb250YWluZXIocGFyZW50IHx8IGRvY3VtZW50LmJvZHkpOwp9Ci8qKgogKiBBIGNvZGUgZWRpdG9yIHRvIGJlIHVzZWQgYm90aCBieSB0aGUgc3RhbmRhbG9uZSBlZGl0b3IgYW5kIHRoZSBzdGFuZGFsb25lIGRpZmYgZWRpdG9yLgogKi8KdmFyIFN0YW5kYWxvbmVDb2RlRWRpdG9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29kZUVkaXRvcldpZGdldCkgewogIF9pbmhlcml0cyhTdGFuZGFsb25lQ29kZUVkaXRvciwgX0NvZGVFZGl0b3JXaWRnZXQpOwogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoU3RhbmRhbG9uZUNvZGVFZGl0b3IpOwogIGZ1bmN0aW9uIFN0YW5kYWxvbmVDb2RlRWRpdG9yKGRvbUVsZW1lbnQsIF9vcHRpb25zLCBpbnN0YW50aWF0aW9uU2VydmljZSwgY29kZUVkaXRvclNlcnZpY2UsIGNvbW1hbmRTZXJ2aWNlLCBjb250ZXh0S2V5U2VydmljZSwga2V5YmluZGluZ1NlcnZpY2UsIHRoZW1lU2VydmljZSwgbm90aWZpY2F0aW9uU2VydmljZSwgYWNjZXNzaWJpbGl0eVNlcnZpY2UsIGxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UsIGxhbmd1YWdlRmVhdHVyZXNTZXJ2aWNlKSB7CiAgICB2YXIgX3RoaXM7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RhbmRhbG9uZUNvZGVFZGl0b3IpOwogICAgdmFyIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBfb3B0aW9ucyk7CiAgICBvcHRpb25zLmFyaWFMYWJlbCA9IG9wdGlvbnMuYXJpYUxhYmVsIHx8IFN0YW5kYWxvbmVDb2RlRWRpdG9yTkxTLmVkaXRvclZpZXdBY2Nlc3NpYmxlTGFiZWw7CiAgICBvcHRpb25zLmFyaWFMYWJlbCA9IG9wdGlvbnMuYXJpYUxhYmVsICsgJzsnICsgU3RhbmRhbG9uZUNvZGVFZGl0b3JOTFMuYWNjZXNzaWJpbGl0eUhlbHBNZXNzYWdlOwogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkb21FbGVtZW50LCBvcHRpb25zLCB7fSwgaW5zdGFudGlhdGlvblNlcnZpY2UsIGNvZGVFZGl0b3JTZXJ2aWNlLCBjb21tYW5kU2VydmljZSwgY29udGV4dEtleVNlcnZpY2UsIHRoZW1lU2VydmljZSwgbm90aWZpY2F0aW9uU2VydmljZSwgYWNjZXNzaWJpbGl0eVNlcnZpY2UsIGxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UsIGxhbmd1YWdlRmVhdHVyZXNTZXJ2aWNlKTsKICAgIGlmIChrZXliaW5kaW5nU2VydmljZSBpbnN0YW5jZW9mIFN0YW5kYWxvbmVLZXliaW5kaW5nU2VydmljZSkgewogICAgICBfdGhpcy5fc3RhbmRhbG9uZUtleWJpbmRpbmdTZXJ2aWNlID0ga2V5YmluZGluZ1NlcnZpY2U7CiAgICB9IGVsc2UgewogICAgICBfdGhpcy5fc3RhbmRhbG9uZUtleWJpbmRpbmdTZXJ2aWNlID0gbnVsbDsKICAgIH0KICAgIGNyZWF0ZUFyaWFEb21Ob2RlKG9wdGlvbnMuYXJpYUNvbnRhaW5lckVsZW1lbnQpOwogICAgcmV0dXJuIF90aGlzOwogIH0KICBfY3JlYXRlQ2xhc3MoU3RhbmRhbG9uZUNvZGVFZGl0b3IsIFt7CiAgICBrZXk6ICJhZGRDb21tYW5kIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRDb21tYW5kKGtleWJpbmRpbmcsIGhhbmRsZXIsIGNvbnRleHQpIHsKICAgICAgaWYgKCF0aGlzLl9zdGFuZGFsb25lS2V5YmluZGluZ1NlcnZpY2UpIHsKICAgICAgICBjb25zb2xlLndhcm4oJ0Nhbm5vdCBhZGQgY29tbWFuZCBiZWNhdXNlIHRoZSBlZGl0b3IgaXMgY29uZmlndXJlZCB3aXRoIGFuIHVucmVjb2duaXplZCBLZXliaW5kaW5nU2VydmljZScpOwogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIHZhciBjb21tYW5kSWQgPSAnRFlOQU1JQ18nICsgKytMQVNUX0dFTkVSQVRFRF9DT01NQU5EX0lEOwogICAgICB2YXIgd2hlbkV4cHJlc3Npb24gPSBDb250ZXh0S2V5RXhwci5kZXNlcmlhbGl6ZShjb250ZXh0KTsKICAgICAgdGhpcy5fc3RhbmRhbG9uZUtleWJpbmRpbmdTZXJ2aWNlLmFkZER5bmFtaWNLZXliaW5kaW5nKGNvbW1hbmRJZCwga2V5YmluZGluZywgaGFuZGxlciwgd2hlbkV4cHJlc3Npb24pOwogICAgICByZXR1cm4gY29tbWFuZElkOwogICAgfQogIH0sIHsKICAgIGtleTogImNyZWF0ZUNvbnRleHRLZXkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUNvbnRleHRLZXkoa2V5LCBkZWZhdWx0VmFsdWUpIHsKICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHRLZXlTZXJ2aWNlLmNyZWF0ZUtleShrZXksIGRlZmF1bHRWYWx1ZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkQWN0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRBY3Rpb24oX2Rlc2NyaXB0b3IpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIGlmICh0eXBlb2YgX2Rlc2NyaXB0b3IuaWQgIT09ICdzdHJpbmcnIHx8IHR5cGVvZiBfZGVzY3JpcHRvci5sYWJlbCAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIF9kZXNjcmlwdG9yLnJ1biAhPT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhY3Rpb24gZGVzY3JpcHRvciwgYGlkYCwgYGxhYmVsYCBhbmQgYHJ1bmAgYXJlIHJlcXVpcmVkIHByb3BlcnRpZXMhJyk7CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLl9zdGFuZGFsb25lS2V5YmluZGluZ1NlcnZpY2UpIHsKICAgICAgICBjb25zb2xlLndhcm4oJ0Nhbm5vdCBhZGQga2V5YmluZGluZyBiZWNhdXNlIHRoZSBlZGl0b3IgaXMgY29uZmlndXJlZCB3aXRoIGFuIHVucmVjb2duaXplZCBLZXliaW5kaW5nU2VydmljZScpOwogICAgICAgIHJldHVybiBEaXNwb3NhYmxlLk5vbmU7CiAgICAgIH0KICAgICAgLy8gUmVhZCBkZXNjcmlwdG9yIG9wdGlvbnMKICAgICAgdmFyIGlkID0gX2Rlc2NyaXB0b3IuaWQ7CiAgICAgIHZhciBsYWJlbCA9IF9kZXNjcmlwdG9yLmxhYmVsOwogICAgICB2YXIgcHJlY29uZGl0aW9uID0gQ29udGV4dEtleUV4cHIuYW5kKENvbnRleHRLZXlFeHByLmVxdWFscygnZWRpdG9ySWQnLCB0aGlzLmdldElkKCkpLCBDb250ZXh0S2V5RXhwci5kZXNlcmlhbGl6ZShfZGVzY3JpcHRvci5wcmVjb25kaXRpb24pKTsKICAgICAgdmFyIGtleWJpbmRpbmdzID0gX2Rlc2NyaXB0b3Iua2V5YmluZGluZ3M7CiAgICAgIHZhciBrZXliaW5kaW5nc1doZW4gPSBDb250ZXh0S2V5RXhwci5hbmQocHJlY29uZGl0aW9uLCBDb250ZXh0S2V5RXhwci5kZXNlcmlhbGl6ZShfZGVzY3JpcHRvci5rZXliaW5kaW5nQ29udGV4dCkpOwogICAgICB2YXIgY29udGV4dE1lbnVHcm91cElkID0gX2Rlc2NyaXB0b3IuY29udGV4dE1lbnVHcm91cElkIHx8IG51bGw7CiAgICAgIHZhciBjb250ZXh0TWVudU9yZGVyID0gX2Rlc2NyaXB0b3IuY29udGV4dE1lbnVPcmRlciB8fCAwOwogICAgICB2YXIgcnVuID0gZnVuY3Rpb24gcnVuKGFjY2Vzc29yKSB7CiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07CiAgICAgICAgfQogICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoX2Rlc2NyaXB0b3IucnVuLmFwcGx5KF9kZXNjcmlwdG9yLCBbX3RoaXMyXS5jb25jYXQoYXJncykpKTsKICAgICAgfTsKICAgICAgdmFyIHRvRGlzcG9zZSA9IG5ldyBEaXNwb3NhYmxlU3RvcmUoKTsKICAgICAgLy8gR2VuZXJhdGUgYSB1bmlxdWUgaWQgdG8gYWxsb3cgdGhlIHNhbWUgZGVzY3JpcHRvci5pZCBhY3Jvc3MgbXVsdGlwbGUgZWRpdG9yIGluc3RhbmNlcwogICAgICB2YXIgdW5pcXVlSWQgPSB0aGlzLmdldElkKCkgKyAnOicgKyBpZDsKICAgICAgLy8gUmVnaXN0ZXIgdGhlIGNvbW1hbmQKICAgICAgdG9EaXNwb3NlLmFkZChDb21tYW5kc1JlZ2lzdHJ5LnJlZ2lzdGVyQ29tbWFuZCh1bmlxdWVJZCwgcnVuKSk7CiAgICAgIC8vIFJlZ2lzdGVyIHRoZSBjb250ZXh0IG1lbnUgaXRlbQogICAgICBpZiAoY29udGV4dE1lbnVHcm91cElkKSB7CiAgICAgICAgdmFyIG1lbnVJdGVtID0gewogICAgICAgICAgY29tbWFuZDogewogICAgICAgICAgICBpZDogdW5pcXVlSWQsCiAgICAgICAgICAgIHRpdGxlOiBsYWJlbAogICAgICAgICAgfSwKICAgICAgICAgIHdoZW46IHByZWNvbmRpdGlvbiwKICAgICAgICAgIGdyb3VwOiBjb250ZXh0TWVudUdyb3VwSWQsCiAgICAgICAgICBvcmRlcjogY29udGV4dE1lbnVPcmRlcgogICAgICAgIH07CiAgICAgICAgdG9EaXNwb3NlLmFkZChNZW51UmVnaXN0cnkuYXBwZW5kTWVudUl0ZW0oTWVudUlkLkVkaXRvckNvbnRleHQsIG1lbnVJdGVtKSk7CiAgICAgIH0KICAgICAgLy8gUmVnaXN0ZXIgdGhlIGtleWJpbmRpbmdzCiAgICAgIGlmIChBcnJheS5pc0FycmF5KGtleWJpbmRpbmdzKSkgewogICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihrZXliaW5kaW5ncyksCiAgICAgICAgICBfc3RlcDsKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIGtiID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgIHRvRGlzcG9zZS5hZGQodGhpcy5fc3RhbmRhbG9uZUtleWJpbmRpbmdTZXJ2aWNlLmFkZER5bmFtaWNLZXliaW5kaW5nKHVuaXF1ZUlkLCBrYiwgcnVuLCBrZXliaW5kaW5nc1doZW4pKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIC8vIEZpbmFsbHksIHJlZ2lzdGVyIGFuIGludGVybmFsIGVkaXRvciBhY3Rpb24KICAgICAgdmFyIGludGVybmFsQWN0aW9uID0gbmV3IEludGVybmFsRWRpdG9yQWN0aW9uKHVuaXF1ZUlkLCBsYWJlbCwgbGFiZWwsIHByZWNvbmRpdGlvbiwgcnVuLCB0aGlzLl9jb250ZXh0S2V5U2VydmljZSk7CiAgICAgIC8vIFN0b3JlIGl0IHVuZGVyIHRoZSBvcmlnaW5hbCBpZCwgc3VjaCB0aGF0IHRyaWdnZXIgd2l0aCB0aGUgb3JpZ2luYWwgaWQgd2lsbCB3b3JrCiAgICAgIHRoaXMuX2FjdGlvbnNbaWRdID0gaW50ZXJuYWxBY3Rpb247CiAgICAgIHRvRGlzcG9zZS5hZGQodG9EaXNwb3NhYmxlKGZ1bmN0aW9uICgpIHsKICAgICAgICBkZWxldGUgX3RoaXMyLl9hY3Rpb25zW2lkXTsKICAgICAgfSkpOwogICAgICByZXR1cm4gdG9EaXNwb3NlOwogICAgfQogIH0sIHsKICAgIGtleTogIl90cmlnZ2VyQ29tbWFuZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3RyaWdnZXJDb21tYW5kKGhhbmRsZXJJZCwgcGF5bG9hZCkgewogICAgICBpZiAodGhpcy5fY29kZUVkaXRvclNlcnZpY2UgaW5zdGFuY2VvZiBTdGFuZGFsb25lQ29kZUVkaXRvclNlcnZpY2UpIHsKICAgICAgICAvLyBIZWxwIGNvbW1hbmRzIGZpbmQgdGhpcyBlZGl0b3IgYXMgdGhlIGFjdGl2ZSBlZGl0b3IKICAgICAgICB0cnkgewogICAgICAgICAgdGhpcy5fY29kZUVkaXRvclNlcnZpY2Uuc2V0QWN0aXZlQ29kZUVkaXRvcih0aGlzKTsKICAgICAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKFN0YW5kYWxvbmVDb2RlRWRpdG9yLnByb3RvdHlwZSksICJfdHJpZ2dlckNvbW1hbmQiLCB0aGlzKS5jYWxsKHRoaXMsIGhhbmRsZXJJZCwgcGF5bG9hZCk7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIHRoaXMuX2NvZGVFZGl0b3JTZXJ2aWNlLnNldEFjdGl2ZUNvZGVFZGl0b3IobnVsbCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKFN0YW5kYWxvbmVDb2RlRWRpdG9yLnByb3RvdHlwZSksICJfdHJpZ2dlckNvbW1hbmQiLCB0aGlzKS5jYWxsKHRoaXMsIGhhbmRsZXJJZCwgcGF5bG9hZCk7CiAgICAgIH0KICAgIH0KICB9XSk7CiAgcmV0dXJuIFN0YW5kYWxvbmVDb2RlRWRpdG9yOwp9KENvZGVFZGl0b3JXaWRnZXQpOwpTdGFuZGFsb25lQ29kZUVkaXRvciA9IF9fZGVjb3JhdGUoW19fcGFyYW0oMiwgSUluc3RhbnRpYXRpb25TZXJ2aWNlKSwgX19wYXJhbSgzLCBJQ29kZUVkaXRvclNlcnZpY2UpLCBfX3BhcmFtKDQsIElDb21tYW5kU2VydmljZSksIF9fcGFyYW0oNSwgSUNvbnRleHRLZXlTZXJ2aWNlKSwgX19wYXJhbSg2LCBJS2V5YmluZGluZ1NlcnZpY2UpLCBfX3BhcmFtKDcsIElUaGVtZVNlcnZpY2UpLCBfX3BhcmFtKDgsIElOb3RpZmljYXRpb25TZXJ2aWNlKSwgX19wYXJhbSg5LCBJQWNjZXNzaWJpbGl0eVNlcnZpY2UpLCBfX3BhcmFtKDEwLCBJTGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZSksIF9fcGFyYW0oMTEsIElMYW5ndWFnZUZlYXR1cmVzU2VydmljZSldLCBTdGFuZGFsb25lQ29kZUVkaXRvcik7CmV4cG9ydCB7IFN0YW5kYWxvbmVDb2RlRWRpdG9yIH07CnZhciBTdGFuZGFsb25lRWRpdG9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3RhbmRhbG9uZUNvZGVFZGl0b3IpIHsKICBfaW5oZXJpdHMoU3RhbmRhbG9uZUVkaXRvciwgX1N0YW5kYWxvbmVDb2RlRWRpdG9yKTsKICB2YXIgX3N1cGVyMiA9IF9jcmVhdGVTdXBlcihTdGFuZGFsb25lRWRpdG9yKTsKICBmdW5jdGlvbiBTdGFuZGFsb25lRWRpdG9yKGRvbUVsZW1lbnQsIF9vcHRpb25zLCBpbnN0YW50aWF0aW9uU2VydmljZSwgY29kZUVkaXRvclNlcnZpY2UsIGNvbW1hbmRTZXJ2aWNlLCBjb250ZXh0S2V5U2VydmljZSwga2V5YmluZGluZ1NlcnZpY2UsIHRoZW1lU2VydmljZSwgbm90aWZpY2F0aW9uU2VydmljZSwgY29uZmlndXJhdGlvblNlcnZpY2UsIGFjY2Vzc2liaWxpdHlTZXJ2aWNlLCBtb2RlbFNlcnZpY2UsIGxhbmd1YWdlU2VydmljZSwgbGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZSwgbGFuZ3VhZ2VGZWF0dXJlc1NlcnZpY2UpIHsKICAgIHZhciBfdGhpczM7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RhbmRhbG9uZUVkaXRvcik7CiAgICB2YXIgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIF9vcHRpb25zKTsKICAgIHVwZGF0ZUNvbmZpZ3VyYXRpb25TZXJ2aWNlKGNvbmZpZ3VyYXRpb25TZXJ2aWNlLCBvcHRpb25zLCBmYWxzZSk7CiAgICB2YXIgdGhlbWVEb21SZWdpc3RyYXRpb24gPSB0aGVtZVNlcnZpY2UucmVnaXN0ZXJFZGl0b3JDb250YWluZXIoZG9tRWxlbWVudCk7CiAgICBpZiAodHlwZW9mIG9wdGlvbnMudGhlbWUgPT09ICdzdHJpbmcnKSB7CiAgICAgIHRoZW1lU2VydmljZS5zZXRUaGVtZShvcHRpb25zLnRoZW1lKTsKICAgIH0KICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5hdXRvRGV0ZWN0SGlnaENvbnRyYXN0ICE9PSAndW5kZWZpbmVkJykgewogICAgICB0aGVtZVNlcnZpY2Uuc2V0QXV0b0RldGVjdEhpZ2hDb250cmFzdChCb29sZWFuKG9wdGlvbnMuYXV0b0RldGVjdEhpZ2hDb250cmFzdCkpOwogICAgfQogICAgdmFyIF9tb2RlbCA9IG9wdGlvbnMubW9kZWw7CiAgICBkZWxldGUgb3B0aW9ucy5tb2RlbDsKICAgIF90aGlzMyA9IF9zdXBlcjIuY2FsbCh0aGlzLCBkb21FbGVtZW50LCBvcHRpb25zLCBpbnN0YW50aWF0aW9uU2VydmljZSwgY29kZUVkaXRvclNlcnZpY2UsIGNvbW1hbmRTZXJ2aWNlLCBjb250ZXh0S2V5U2VydmljZSwga2V5YmluZGluZ1NlcnZpY2UsIHRoZW1lU2VydmljZSwgbm90aWZpY2F0aW9uU2VydmljZSwgYWNjZXNzaWJpbGl0eVNlcnZpY2UsIGxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UsIGxhbmd1YWdlRmVhdHVyZXNTZXJ2aWNlKTsKICAgIF90aGlzMy5fY29uZmlndXJhdGlvblNlcnZpY2UgPSBjb25maWd1cmF0aW9uU2VydmljZTsKICAgIF90aGlzMy5fc3RhbmRhbG9uZVRoZW1lU2VydmljZSA9IHRoZW1lU2VydmljZTsKICAgIF90aGlzMy5fcmVnaXN0ZXIodGhlbWVEb21SZWdpc3RyYXRpb24pOwogICAgdmFyIG1vZGVsOwogICAgaWYgKHR5cGVvZiBfbW9kZWwgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgIHZhciBsYW5ndWFnZUlkID0gbGFuZ3VhZ2VTZXJ2aWNlLmdldExhbmd1YWdlSWRCeU1pbWVUeXBlKG9wdGlvbnMubGFuZ3VhZ2UpIHx8IG9wdGlvbnMubGFuZ3VhZ2UgfHwgUExBSU5URVhUX0xBTkdVQUdFX0lEOwogICAgICBtb2RlbCA9IGNyZWF0ZVRleHRNb2RlbChtb2RlbFNlcnZpY2UsIGxhbmd1YWdlU2VydmljZSwgb3B0aW9ucy52YWx1ZSB8fCAnJywgbGFuZ3VhZ2VJZCwgdW5kZWZpbmVkKTsKICAgICAgX3RoaXMzLl9vd25zTW9kZWwgPSB0cnVlOwogICAgfSBlbHNlIHsKICAgICAgbW9kZWwgPSBfbW9kZWw7CiAgICAgIF90aGlzMy5fb3duc01vZGVsID0gZmFsc2U7CiAgICB9CiAgICBfdGhpczMuX2F0dGFjaE1vZGVsKG1vZGVsKTsKICAgIGlmIChtb2RlbCkgewogICAgICB2YXIgZSA9IHsKICAgICAgICBvbGRNb2RlbFVybDogbnVsbCwKICAgICAgICBuZXdNb2RlbFVybDogbW9kZWwudXJpCiAgICAgIH07CiAgICAgIF90aGlzMy5fb25EaWRDaGFuZ2VNb2RlbC5maXJlKGUpOwogICAgfQogICAgcmV0dXJuIF90aGlzMzsKICB9CiAgX2NyZWF0ZUNsYXNzKFN0YW5kYWxvbmVFZGl0b3IsIFt7CiAgICBrZXk6ICJkaXNwb3NlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwb3NlKCkgewogICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihTdGFuZGFsb25lRWRpdG9yLnByb3RvdHlwZSksICJkaXNwb3NlIiwgdGhpcykuY2FsbCh0aGlzKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ1cGRhdGVPcHRpb25zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVPcHRpb25zKG5ld09wdGlvbnMpIHsKICAgICAgdXBkYXRlQ29uZmlndXJhdGlvblNlcnZpY2UodGhpcy5fY29uZmlndXJhdGlvblNlcnZpY2UsIG5ld09wdGlvbnMsIGZhbHNlKTsKICAgICAgaWYgKHR5cGVvZiBuZXdPcHRpb25zLnRoZW1lID09PSAnc3RyaW5nJykgewogICAgICAgIHRoaXMuX3N0YW5kYWxvbmVUaGVtZVNlcnZpY2Uuc2V0VGhlbWUobmV3T3B0aW9ucy50aGVtZSk7CiAgICAgIH0KICAgICAgaWYgKHR5cGVvZiBuZXdPcHRpb25zLmF1dG9EZXRlY3RIaWdoQ29udHJhc3QgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgdGhpcy5fc3RhbmRhbG9uZVRoZW1lU2VydmljZS5zZXRBdXRvRGV0ZWN0SGlnaENvbnRyYXN0KEJvb2xlYW4obmV3T3B0aW9ucy5hdXRvRGV0ZWN0SGlnaENvbnRyYXN0KSk7CiAgICAgIH0KICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoU3RhbmRhbG9uZUVkaXRvci5wcm90b3R5cGUpLCAidXBkYXRlT3B0aW9ucyIsIHRoaXMpLmNhbGwodGhpcywgbmV3T3B0aW9ucyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX3Bvc3REZXRhY2hNb2RlbENsZWFudXAiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9wb3N0RGV0YWNoTW9kZWxDbGVhbnVwKGRldGFjaGVkTW9kZWwpIHsKICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoU3RhbmRhbG9uZUVkaXRvci5wcm90b3R5cGUpLCAiX3Bvc3REZXRhY2hNb2RlbENsZWFudXAiLCB0aGlzKS5jYWxsKHRoaXMsIGRldGFjaGVkTW9kZWwpOwogICAgICBpZiAoZGV0YWNoZWRNb2RlbCAmJiB0aGlzLl9vd25zTW9kZWwpIHsKICAgICAgICBkZXRhY2hlZE1vZGVsLmRpc3Bvc2UoKTsKICAgICAgICB0aGlzLl9vd25zTW9kZWwgPSBmYWxzZTsKICAgICAgfQogICAgfQogIH1dKTsKICByZXR1cm4gU3RhbmRhbG9uZUVkaXRvcjsKfShTdGFuZGFsb25lQ29kZUVkaXRvcik7ClN0YW5kYWxvbmVFZGl0b3IgPSBfX2RlY29yYXRlKFtfX3BhcmFtKDIsIElJbnN0YW50aWF0aW9uU2VydmljZSksIF9fcGFyYW0oMywgSUNvZGVFZGl0b3JTZXJ2aWNlKSwgX19wYXJhbSg0LCBJQ29tbWFuZFNlcnZpY2UpLCBfX3BhcmFtKDUsIElDb250ZXh0S2V5U2VydmljZSksIF9fcGFyYW0oNiwgSUtleWJpbmRpbmdTZXJ2aWNlKSwgX19wYXJhbSg3LCBJU3RhbmRhbG9uZVRoZW1lU2VydmljZSksIF9fcGFyYW0oOCwgSU5vdGlmaWNhdGlvblNlcnZpY2UpLCBfX3BhcmFtKDksIElDb25maWd1cmF0aW9uU2VydmljZSksIF9fcGFyYW0oMTAsIElBY2Nlc3NpYmlsaXR5U2VydmljZSksIF9fcGFyYW0oMTEsIElNb2RlbFNlcnZpY2UpLCBfX3BhcmFtKDEyLCBJTGFuZ3VhZ2VTZXJ2aWNlKSwgX19wYXJhbSgxMywgSUxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UpLCBfX3BhcmFtKDE0LCBJTGFuZ3VhZ2VGZWF0dXJlc1NlcnZpY2UpXSwgU3RhbmRhbG9uZUVkaXRvcik7CmV4cG9ydCB7IFN0YW5kYWxvbmVFZGl0b3IgfTsKdmFyIFN0YW5kYWxvbmVEaWZmRWRpdG9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRGlmZkVkaXRvcldpZGdldCkgewogIF9pbmhlcml0cyhTdGFuZGFsb25lRGlmZkVkaXRvciwgX0RpZmZFZGl0b3JXaWRnZXQpOwogIHZhciBfc3VwZXIzID0gX2NyZWF0ZVN1cGVyKFN0YW5kYWxvbmVEaWZmRWRpdG9yKTsKICBmdW5jdGlvbiBTdGFuZGFsb25lRGlmZkVkaXRvcihkb21FbGVtZW50LCBfb3B0aW9ucywgaW5zdGFudGlhdGlvblNlcnZpY2UsIGNvbnRleHRLZXlTZXJ2aWNlLCBlZGl0b3JXb3JrZXJTZXJ2aWNlLCBjb2RlRWRpdG9yU2VydmljZSwgdGhlbWVTZXJ2aWNlLCBub3RpZmljYXRpb25TZXJ2aWNlLCBjb25maWd1cmF0aW9uU2VydmljZSwgY29udGV4dE1lbnVTZXJ2aWNlLCBlZGl0b3JQcm9ncmVzc1NlcnZpY2UsIGNsaXBib2FyZFNlcnZpY2UpIHsKICAgIHZhciBfdGhpczQ7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RhbmRhbG9uZURpZmZFZGl0b3IpOwogICAgdmFyIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBfb3B0aW9ucyk7CiAgICB1cGRhdGVDb25maWd1cmF0aW9uU2VydmljZShjb25maWd1cmF0aW9uU2VydmljZSwgb3B0aW9ucywgdHJ1ZSk7CiAgICB2YXIgdGhlbWVEb21SZWdpc3RyYXRpb24gPSB0aGVtZVNlcnZpY2UucmVnaXN0ZXJFZGl0b3JDb250YWluZXIoZG9tRWxlbWVudCk7CiAgICBpZiAodHlwZW9mIG9wdGlvbnMudGhlbWUgPT09ICdzdHJpbmcnKSB7CiAgICAgIHRoZW1lU2VydmljZS5zZXRUaGVtZShvcHRpb25zLnRoZW1lKTsKICAgIH0KICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5hdXRvRGV0ZWN0SGlnaENvbnRyYXN0ICE9PSAndW5kZWZpbmVkJykgewogICAgICB0aGVtZVNlcnZpY2Uuc2V0QXV0b0RldGVjdEhpZ2hDb250cmFzdChCb29sZWFuKG9wdGlvbnMuYXV0b0RldGVjdEhpZ2hDb250cmFzdCkpOwogICAgfQogICAgX3RoaXM0ID0gX3N1cGVyMy5jYWxsKHRoaXMsIGRvbUVsZW1lbnQsIG9wdGlvbnMsIHt9LCBjbGlwYm9hcmRTZXJ2aWNlLCBlZGl0b3JXb3JrZXJTZXJ2aWNlLCBjb250ZXh0S2V5U2VydmljZSwgaW5zdGFudGlhdGlvblNlcnZpY2UsIGNvZGVFZGl0b3JTZXJ2aWNlLCB0aGVtZVNlcnZpY2UsIG5vdGlmaWNhdGlvblNlcnZpY2UsIGNvbnRleHRNZW51U2VydmljZSwgZWRpdG9yUHJvZ3Jlc3NTZXJ2aWNlKTsKICAgIF90aGlzNC5fY29uZmlndXJhdGlvblNlcnZpY2UgPSBjb25maWd1cmF0aW9uU2VydmljZTsKICAgIF90aGlzNC5fc3RhbmRhbG9uZVRoZW1lU2VydmljZSA9IHRoZW1lU2VydmljZTsKICAgIF90aGlzNC5fcmVnaXN0ZXIodGhlbWVEb21SZWdpc3RyYXRpb24pOwogICAgcmV0dXJuIF90aGlzNDsKICB9CiAgX2NyZWF0ZUNsYXNzKFN0YW5kYWxvbmVEaWZmRWRpdG9yLCBbewogICAga2V5OiAiZGlzcG9zZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcG9zZSgpIHsKICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoU3RhbmRhbG9uZURpZmZFZGl0b3IucHJvdG90eXBlKSwgImRpc3Bvc2UiLCB0aGlzKS5jYWxsKHRoaXMpOwogICAgfQogIH0sIHsKICAgIGtleTogInVwZGF0ZU9wdGlvbnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZU9wdGlvbnMobmV3T3B0aW9ucykgewogICAgICB1cGRhdGVDb25maWd1cmF0aW9uU2VydmljZSh0aGlzLl9jb25maWd1cmF0aW9uU2VydmljZSwgbmV3T3B0aW9ucywgdHJ1ZSk7CiAgICAgIGlmICh0eXBlb2YgbmV3T3B0aW9ucy50aGVtZSA9PT0gJ3N0cmluZycpIHsKICAgICAgICB0aGlzLl9zdGFuZGFsb25lVGhlbWVTZXJ2aWNlLnNldFRoZW1lKG5ld09wdGlvbnMudGhlbWUpOwogICAgICB9CiAgICAgIGlmICh0eXBlb2YgbmV3T3B0aW9ucy5hdXRvRGV0ZWN0SGlnaENvbnRyYXN0ICE9PSAndW5kZWZpbmVkJykgewogICAgICAgIHRoaXMuX3N0YW5kYWxvbmVUaGVtZVNlcnZpY2Uuc2V0QXV0b0RldGVjdEhpZ2hDb250cmFzdChCb29sZWFuKG5ld09wdGlvbnMuYXV0b0RldGVjdEhpZ2hDb250cmFzdCkpOwogICAgICB9CiAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKFN0YW5kYWxvbmVEaWZmRWRpdG9yLnByb3RvdHlwZSksICJ1cGRhdGVPcHRpb25zIiwgdGhpcykuY2FsbCh0aGlzLCBuZXdPcHRpb25zKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfY3JlYXRlSW5uZXJFZGl0b3IiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVJbm5lckVkaXRvcihpbnN0YW50aWF0aW9uU2VydmljZSwgY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgIHJldHVybiBpbnN0YW50aWF0aW9uU2VydmljZS5jcmVhdGVJbnN0YW5jZShTdGFuZGFsb25lQ29kZUVkaXRvciwgY29udGFpbmVyLCBvcHRpb25zKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRPcmlnaW5hbEVkaXRvciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0T3JpZ2luYWxFZGl0b3IoKSB7CiAgICAgIHJldHVybiBfZ2V0KF9nZXRQcm90b3R5cGVPZihTdGFuZGFsb25lRGlmZkVkaXRvci5wcm90b3R5cGUpLCAiZ2V0T3JpZ2luYWxFZGl0b3IiLCB0aGlzKS5jYWxsKHRoaXMpOwogICAgfQogIH0sIHsKICAgIGtleTogImdldE1vZGlmaWVkRWRpdG9yIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRNb2RpZmllZEVkaXRvcigpIHsKICAgICAgcmV0dXJuIF9nZXQoX2dldFByb3RvdHlwZU9mKFN0YW5kYWxvbmVEaWZmRWRpdG9yLnByb3RvdHlwZSksICJnZXRNb2RpZmllZEVkaXRvciIsIHRoaXMpLmNhbGwodGhpcyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkQ29tbWFuZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkQ29tbWFuZChrZXliaW5kaW5nLCBoYW5kbGVyLCBjb250ZXh0KSB7CiAgICAgIHJldHVybiB0aGlzLmdldE1vZGlmaWVkRWRpdG9yKCkuYWRkQ29tbWFuZChrZXliaW5kaW5nLCBoYW5kbGVyLCBjb250ZXh0KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjcmVhdGVDb250ZXh0S2V5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVDb250ZXh0S2V5KGtleSwgZGVmYXVsdFZhbHVlKSB7CiAgICAgIHJldHVybiB0aGlzLmdldE1vZGlmaWVkRWRpdG9yKCkuY3JlYXRlQ29udGV4dEtleShrZXksIGRlZmF1bHRWYWx1ZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkQWN0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRBY3Rpb24oZGVzY3JpcHRvcikgewogICAgICByZXR1cm4gdGhpcy5nZXRNb2RpZmllZEVkaXRvcigpLmFkZEFjdGlvbihkZXNjcmlwdG9yKTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIFN0YW5kYWxvbmVEaWZmRWRpdG9yOwp9KERpZmZFZGl0b3JXaWRnZXQpOwpTdGFuZGFsb25lRGlmZkVkaXRvciA9IF9fZGVjb3JhdGUoW19fcGFyYW0oMiwgSUluc3RhbnRpYXRpb25TZXJ2aWNlKSwgX19wYXJhbSgzLCBJQ29udGV4dEtleVNlcnZpY2UpLCBfX3BhcmFtKDQsIElFZGl0b3JXb3JrZXJTZXJ2aWNlKSwgX19wYXJhbSg1LCBJQ29kZUVkaXRvclNlcnZpY2UpLCBfX3BhcmFtKDYsIElTdGFuZGFsb25lVGhlbWVTZXJ2aWNlKSwgX19wYXJhbSg3LCBJTm90aWZpY2F0aW9uU2VydmljZSksIF9fcGFyYW0oOCwgSUNvbmZpZ3VyYXRpb25TZXJ2aWNlKSwgX19wYXJhbSg5LCBJQ29udGV4dE1lbnVTZXJ2aWNlKSwgX19wYXJhbSgxMCwgSUVkaXRvclByb2dyZXNzU2VydmljZSksIF9fcGFyYW0oMTEsIElDbGlwYm9hcmRTZXJ2aWNlKV0sIFN0YW5kYWxvbmVEaWZmRWRpdG9yKTsKZXhwb3J0IHsgU3RhbmRhbG9uZURpZmZFZGl0b3IgfTsKLyoqCiAqIEBpbnRlcm5hbAogKi8KZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRleHRNb2RlbChtb2RlbFNlcnZpY2UsIGxhbmd1YWdlU2VydmljZSwgdmFsdWUsIGxhbmd1YWdlSWQsIHVyaSkgewogIHZhbHVlID0gdmFsdWUgfHwgJyc7CiAgaWYgKCFsYW5ndWFnZUlkKSB7CiAgICB2YXIgZmlyc3RMRiA9IHZhbHVlLmluZGV4T2YoJ1xuJyk7CiAgICB2YXIgZmlyc3RMaW5lID0gdmFsdWU7CiAgICBpZiAoZmlyc3RMRiAhPT0gLTEpIHsKICAgICAgZmlyc3RMaW5lID0gdmFsdWUuc3Vic3RyaW5nKDAsIGZpcnN0TEYpOwogICAgfQogICAgcmV0dXJuIGRvQ3JlYXRlTW9kZWwobW9kZWxTZXJ2aWNlLCB2YWx1ZSwgbGFuZ3VhZ2VTZXJ2aWNlLmNyZWF0ZUJ5RmlsZXBhdGhPckZpcnN0TGluZSh1cmkgfHwgbnVsbCwgZmlyc3RMaW5lKSwgdXJpKTsKICB9CiAgcmV0dXJuIGRvQ3JlYXRlTW9kZWwobW9kZWxTZXJ2aWNlLCB2YWx1ZSwgbGFuZ3VhZ2VTZXJ2aWNlLmNyZWF0ZUJ5SWQobGFuZ3VhZ2VJZCksIHVyaSk7Cn0KLyoqCiAqIEBpbnRlcm5hbAogKi8KZnVuY3Rpb24gZG9DcmVhdGVNb2RlbChtb2RlbFNlcnZpY2UsIHZhbHVlLCBsYW5ndWFnZVNlbGVjdGlvbiwgdXJpKSB7CiAgcmV0dXJuIG1vZGVsU2VydmljZS5jcmVhdGVNb2RlbCh2YWx1ZSwgbGFuZ3VhZ2VTZWxlY3Rpb24sIHVyaSk7Cn0="},{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","aria","Disposable","toDisposable","DisposableStore","ICodeEditorService","CodeEditorWidget","DiffEditorWidget","InternalEditorAction","IEditorWorkerService","StandaloneKeybindingService","updateConfigurationService","IStandaloneThemeService","MenuId","MenuRegistry","CommandsRegistry","ICommandService","IConfigurationService","ContextKeyExpr","IContextKeyService","IContextMenuService","IInstantiationService","IKeybindingService","INotificationService","IThemeService","IAccessibilityService","StandaloneCodeEditorNLS","IClipboardService","IEditorProgressService","IModelService","ILanguageService","StandaloneCodeEditorService","PLAINTEXT_LANGUAGE_ID","ILanguageConfigurationService","ILanguageFeaturesService","LAST_GENERATED_COMMAND_ID","ariaDomNodeCreated","createAriaDomNode","parent","setARIAContainer","document","body","StandaloneCodeEditor","domElement","_options","instantiationService","codeEditorService","commandService","contextKeyService","keybindingService","themeService","notificationService","accessibilityService","languageConfigurationService","languageFeaturesService","options","assign","ariaLabel","editorViewAccessibleLabel","accessibilityHelpMessage","_standaloneKeybindingService","ariaContainerElement","keybinding","handler","context","console","warn","commandId","whenExpression","deserialize","addDynamicKeybinding","defaultValue","_contextKeyService","createKey","_descriptor","id","label","run","Error","None","precondition","and","equals","getId","keybindings","keybindingsWhen","keybindingContext","contextMenuGroupId","contextMenuOrder","accessor","args","Promise","resolve","toDispose","uniqueId","add","registerCommand","menuItem","command","title","when","group","order","appendMenuItem","EditorContext","Array","isArray","kb","internalAction","_actions","handlerId","payload","_codeEditorService","setActiveCodeEditor","StandaloneEditor","configurationService","modelService","languageService","themeDomRegistration","registerEditorContainer","theme","setTheme","autoDetectHighContrast","setAutoDetectHighContrast","Boolean","_model","model","_configurationService","_standaloneThemeService","_register","languageId","getLanguageIdByMimeType","language","createTextModel","value","undefined","_ownsModel","_attachModel","e","oldModelUrl","newModelUrl","uri","_onDidChangeModel","fire","newOptions","detachedModel","dispose","StandaloneDiffEditor","editorWorkerService","contextMenuService","editorProgressService","clipboardService","container","createInstance","getModifiedEditor","addCommand","createContextKey","descriptor","addAction","firstLF","indexOf","firstLine","substring","doCreateModel","createByFilepathOrFirstLine","createById","languageSelection","createModel"],"sources":["/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/standalone/browser/standaloneCodeEditor.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as aria from '../../../base/browser/ui/aria/aria.js';\nimport { Disposable, toDisposable, DisposableStore } from '../../../base/common/lifecycle.js';\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\nimport { CodeEditorWidget } from '../../browser/widget/codeEditorWidget.js';\nimport { DiffEditorWidget } from '../../browser/widget/diffEditorWidget.js';\nimport { InternalEditorAction } from '../../common/editorAction.js';\nimport { IEditorWorkerService } from '../../common/services/editorWorker.js';\nimport { StandaloneKeybindingService, updateConfigurationService } from './standaloneServices.js';\nimport { IStandaloneThemeService } from '../common/standaloneTheme.js';\nimport { MenuId, MenuRegistry } from '../../../platform/actions/common/actions.js';\nimport { CommandsRegistry, ICommandService } from '../../../platform/commands/common/commands.js';\nimport { IConfigurationService } from '../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../platform/contextview/browser/contextView.js';\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\nimport { IAccessibilityService } from '../../../platform/accessibility/common/accessibility.js';\nimport { StandaloneCodeEditorNLS } from '../../common/standaloneStrings.js';\nimport { IClipboardService } from '../../../platform/clipboard/common/clipboardService.js';\nimport { IEditorProgressService } from '../../../platform/progress/common/progress.js';\nimport { IModelService } from '../../common/services/model.js';\nimport { ILanguageService } from '../../common/languages/language.js';\nimport { StandaloneCodeEditorService } from './standaloneCodeEditorService.js';\nimport { PLAINTEXT_LANGUAGE_ID } from '../../common/languages/modesRegistry.js';\nimport { ILanguageConfigurationService } from '../../common/languages/languageConfigurationRegistry.js';\nimport { ILanguageFeaturesService } from '../../common/services/languageFeatures.js';\nlet LAST_GENERATED_COMMAND_ID = 0;\nlet ariaDomNodeCreated = false;\n/**\n * Create ARIA dom node inside parent,\n * or only for the first editor instantiation inside document.body.\n * @param parent container element for ARIA dom node\n */\nfunction createAriaDomNode(parent) {\n    if (!parent) {\n        if (ariaDomNodeCreated) {\n            return;\n        }\n        ariaDomNodeCreated = true;\n    }\n    aria.setARIAContainer(parent || document.body);\n}\n/**\n * A code editor to be used both by the standalone editor and the standalone diff editor.\n */\nlet StandaloneCodeEditor = class StandaloneCodeEditor extends CodeEditorWidget {\n    constructor(domElement, _options, instantiationService, codeEditorService, commandService, contextKeyService, keybindingService, themeService, notificationService, accessibilityService, languageConfigurationService, languageFeaturesService) {\n        const options = Object.assign({}, _options);\n        options.ariaLabel = options.ariaLabel || StandaloneCodeEditorNLS.editorViewAccessibleLabel;\n        options.ariaLabel = options.ariaLabel + ';' + (StandaloneCodeEditorNLS.accessibilityHelpMessage);\n        super(domElement, options, {}, instantiationService, codeEditorService, commandService, contextKeyService, themeService, notificationService, accessibilityService, languageConfigurationService, languageFeaturesService);\n        if (keybindingService instanceof StandaloneKeybindingService) {\n            this._standaloneKeybindingService = keybindingService;\n        }\n        else {\n            this._standaloneKeybindingService = null;\n        }\n        createAriaDomNode(options.ariaContainerElement);\n    }\n    addCommand(keybinding, handler, context) {\n        if (!this._standaloneKeybindingService) {\n            console.warn('Cannot add command because the editor is configured with an unrecognized KeybindingService');\n            return null;\n        }\n        const commandId = 'DYNAMIC_' + (++LAST_GENERATED_COMMAND_ID);\n        const whenExpression = ContextKeyExpr.deserialize(context);\n        this._standaloneKeybindingService.addDynamicKeybinding(commandId, keybinding, handler, whenExpression);\n        return commandId;\n    }\n    createContextKey(key, defaultValue) {\n        return this._contextKeyService.createKey(key, defaultValue);\n    }\n    addAction(_descriptor) {\n        if ((typeof _descriptor.id !== 'string') || (typeof _descriptor.label !== 'string') || (typeof _descriptor.run !== 'function')) {\n            throw new Error('Invalid action descriptor, `id`, `label` and `run` are required properties!');\n        }\n        if (!this._standaloneKeybindingService) {\n            console.warn('Cannot add keybinding because the editor is configured with an unrecognized KeybindingService');\n            return Disposable.None;\n        }\n        // Read descriptor options\n        const id = _descriptor.id;\n        const label = _descriptor.label;\n        const precondition = ContextKeyExpr.and(ContextKeyExpr.equals('editorId', this.getId()), ContextKeyExpr.deserialize(_descriptor.precondition));\n        const keybindings = _descriptor.keybindings;\n        const keybindingsWhen = ContextKeyExpr.and(precondition, ContextKeyExpr.deserialize(_descriptor.keybindingContext));\n        const contextMenuGroupId = _descriptor.contextMenuGroupId || null;\n        const contextMenuOrder = _descriptor.contextMenuOrder || 0;\n        const run = (accessor, ...args) => {\n            return Promise.resolve(_descriptor.run(this, ...args));\n        };\n        const toDispose = new DisposableStore();\n        // Generate a unique id to allow the same descriptor.id across multiple editor instances\n        const uniqueId = this.getId() + ':' + id;\n        // Register the command\n        toDispose.add(CommandsRegistry.registerCommand(uniqueId, run));\n        // Register the context menu item\n        if (contextMenuGroupId) {\n            const menuItem = {\n                command: {\n                    id: uniqueId,\n                    title: label\n                },\n                when: precondition,\n                group: contextMenuGroupId,\n                order: contextMenuOrder\n            };\n            toDispose.add(MenuRegistry.appendMenuItem(MenuId.EditorContext, menuItem));\n        }\n        // Register the keybindings\n        if (Array.isArray(keybindings)) {\n            for (const kb of keybindings) {\n                toDispose.add(this._standaloneKeybindingService.addDynamicKeybinding(uniqueId, kb, run, keybindingsWhen));\n            }\n        }\n        // Finally, register an internal editor action\n        const internalAction = new InternalEditorAction(uniqueId, label, label, precondition, run, this._contextKeyService);\n        // Store it under the original id, such that trigger with the original id will work\n        this._actions[id] = internalAction;\n        toDispose.add(toDisposable(() => {\n            delete this._actions[id];\n        }));\n        return toDispose;\n    }\n    _triggerCommand(handlerId, payload) {\n        if (this._codeEditorService instanceof StandaloneCodeEditorService) {\n            // Help commands find this editor as the active editor\n            try {\n                this._codeEditorService.setActiveCodeEditor(this);\n                super._triggerCommand(handlerId, payload);\n            }\n            finally {\n                this._codeEditorService.setActiveCodeEditor(null);\n            }\n        }\n        else {\n            super._triggerCommand(handlerId, payload);\n        }\n    }\n};\nStandaloneCodeEditor = __decorate([\n    __param(2, IInstantiationService),\n    __param(3, ICodeEditorService),\n    __param(4, ICommandService),\n    __param(5, IContextKeyService),\n    __param(6, IKeybindingService),\n    __param(7, IThemeService),\n    __param(8, INotificationService),\n    __param(9, IAccessibilityService),\n    __param(10, ILanguageConfigurationService),\n    __param(11, ILanguageFeaturesService)\n], StandaloneCodeEditor);\nexport { StandaloneCodeEditor };\nlet StandaloneEditor = class StandaloneEditor extends StandaloneCodeEditor {\n    constructor(domElement, _options, instantiationService, codeEditorService, commandService, contextKeyService, keybindingService, themeService, notificationService, configurationService, accessibilityService, modelService, languageService, languageConfigurationService, languageFeaturesService) {\n        const options = Object.assign({}, _options);\n        updateConfigurationService(configurationService, options, false);\n        const themeDomRegistration = themeService.registerEditorContainer(domElement);\n        if (typeof options.theme === 'string') {\n            themeService.setTheme(options.theme);\n        }\n        if (typeof options.autoDetectHighContrast !== 'undefined') {\n            themeService.setAutoDetectHighContrast(Boolean(options.autoDetectHighContrast));\n        }\n        const _model = options.model;\n        delete options.model;\n        super(domElement, options, instantiationService, codeEditorService, commandService, contextKeyService, keybindingService, themeService, notificationService, accessibilityService, languageConfigurationService, languageFeaturesService);\n        this._configurationService = configurationService;\n        this._standaloneThemeService = themeService;\n        this._register(themeDomRegistration);\n        let model;\n        if (typeof _model === 'undefined') {\n            const languageId = languageService.getLanguageIdByMimeType(options.language) || options.language || PLAINTEXT_LANGUAGE_ID;\n            model = createTextModel(modelService, languageService, options.value || '', languageId, undefined);\n            this._ownsModel = true;\n        }\n        else {\n            model = _model;\n            this._ownsModel = false;\n        }\n        this._attachModel(model);\n        if (model) {\n            const e = {\n                oldModelUrl: null,\n                newModelUrl: model.uri\n            };\n            this._onDidChangeModel.fire(e);\n        }\n    }\n    dispose() {\n        super.dispose();\n    }\n    updateOptions(newOptions) {\n        updateConfigurationService(this._configurationService, newOptions, false);\n        if (typeof newOptions.theme === 'string') {\n            this._standaloneThemeService.setTheme(newOptions.theme);\n        }\n        if (typeof newOptions.autoDetectHighContrast !== 'undefined') {\n            this._standaloneThemeService.setAutoDetectHighContrast(Boolean(newOptions.autoDetectHighContrast));\n        }\n        super.updateOptions(newOptions);\n    }\n    _postDetachModelCleanup(detachedModel) {\n        super._postDetachModelCleanup(detachedModel);\n        if (detachedModel && this._ownsModel) {\n            detachedModel.dispose();\n            this._ownsModel = false;\n        }\n    }\n};\nStandaloneEditor = __decorate([\n    __param(2, IInstantiationService),\n    __param(3, ICodeEditorService),\n    __param(4, ICommandService),\n    __param(5, IContextKeyService),\n    __param(6, IKeybindingService),\n    __param(7, IStandaloneThemeService),\n    __param(8, INotificationService),\n    __param(9, IConfigurationService),\n    __param(10, IAccessibilityService),\n    __param(11, IModelService),\n    __param(12, ILanguageService),\n    __param(13, ILanguageConfigurationService),\n    __param(14, ILanguageFeaturesService)\n], StandaloneEditor);\nexport { StandaloneEditor };\nlet StandaloneDiffEditor = class StandaloneDiffEditor extends DiffEditorWidget {\n    constructor(domElement, _options, instantiationService, contextKeyService, editorWorkerService, codeEditorService, themeService, notificationService, configurationService, contextMenuService, editorProgressService, clipboardService) {\n        const options = Object.assign({}, _options);\n        updateConfigurationService(configurationService, options, true);\n        const themeDomRegistration = themeService.registerEditorContainer(domElement);\n        if (typeof options.theme === 'string') {\n            themeService.setTheme(options.theme);\n        }\n        if (typeof options.autoDetectHighContrast !== 'undefined') {\n            themeService.setAutoDetectHighContrast(Boolean(options.autoDetectHighContrast));\n        }\n        super(domElement, options, {}, clipboardService, editorWorkerService, contextKeyService, instantiationService, codeEditorService, themeService, notificationService, contextMenuService, editorProgressService);\n        this._configurationService = configurationService;\n        this._standaloneThemeService = themeService;\n        this._register(themeDomRegistration);\n    }\n    dispose() {\n        super.dispose();\n    }\n    updateOptions(newOptions) {\n        updateConfigurationService(this._configurationService, newOptions, true);\n        if (typeof newOptions.theme === 'string') {\n            this._standaloneThemeService.setTheme(newOptions.theme);\n        }\n        if (typeof newOptions.autoDetectHighContrast !== 'undefined') {\n            this._standaloneThemeService.setAutoDetectHighContrast(Boolean(newOptions.autoDetectHighContrast));\n        }\n        super.updateOptions(newOptions);\n    }\n    _createInnerEditor(instantiationService, container, options) {\n        return instantiationService.createInstance(StandaloneCodeEditor, container, options);\n    }\n    getOriginalEditor() {\n        return super.getOriginalEditor();\n    }\n    getModifiedEditor() {\n        return super.getModifiedEditor();\n    }\n    addCommand(keybinding, handler, context) {\n        return this.getModifiedEditor().addCommand(keybinding, handler, context);\n    }\n    createContextKey(key, defaultValue) {\n        return this.getModifiedEditor().createContextKey(key, defaultValue);\n    }\n    addAction(descriptor) {\n        return this.getModifiedEditor().addAction(descriptor);\n    }\n};\nStandaloneDiffEditor = __decorate([\n    __param(2, IInstantiationService),\n    __param(3, IContextKeyService),\n    __param(4, IEditorWorkerService),\n    __param(5, ICodeEditorService),\n    __param(6, IStandaloneThemeService),\n    __param(7, INotificationService),\n    __param(8, IConfigurationService),\n    __param(9, IContextMenuService),\n    __param(10, IEditorProgressService),\n    __param(11, IClipboardService)\n], StandaloneDiffEditor);\nexport { StandaloneDiffEditor };\n/**\n * @internal\n */\nexport function createTextModel(modelService, languageService, value, languageId, uri) {\n    value = value || '';\n    if (!languageId) {\n        const firstLF = value.indexOf('\\n');\n        let firstLine = value;\n        if (firstLF !== -1) {\n            firstLine = value.substring(0, firstLF);\n        }\n        return doCreateModel(modelService, value, languageService.createByFilepathOrFirstLine(uri || null, firstLine), uri);\n    }\n    return doCreateModel(modelService, value, languageService.createById(languageId), uri);\n}\n/**\n * @internal\n */\nfunction doCreateModel(modelService, value, languageSelection, uri) {\n    return modelService.createModel(value, languageSelection, uri);\n}\n"],"mappings":"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"}]}
{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanjiajia/Desktop/workspace/avue-data-new/src/echart/packages/text/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/src/echart/packages/text/index.vue","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgY3JlYXRlIGZyb20gIi4uLy4uL2NyZWF0ZSI7CmV4cG9ydCBkZWZhdWx0IGNyZWF0ZSh7CiAgbmFtZTogInRleHQiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGVjazogIiIsCiAgICAgIGRhdGU6IG5ldyBEYXRlKCksCiAgICAgIGxlZnQ6IDAKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgc2Nyb2xsOiBmdW5jdGlvbiBzY3JvbGwoKSB7CiAgICAgIHJldHVybiB0aGlzLnZhaWxkRGF0YSh0aGlzLm9wdGlvbi5zY3JvbGwsIGZhbHNlKTsKICAgIH0sCiAgICBsaW5rSHJlZjogZnVuY3Rpb24gbGlua0hyZWYoKSB7CiAgICAgIHJldHVybiB0aGlzLm9wdGlvbi5saW5rSHJlZiB8fCAiIyI7CiAgICB9LAogICAgbGlua1RhcmdldDogZnVuY3Rpb24gbGlua1RhcmdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMub3B0aW9uLmxpbmtUYXJnZXQgfHwgIl9zZWxmIjsKICAgIH0sCiAgICBzdGVwOiBmdW5jdGlvbiBzdGVwKCkgewogICAgICByZXR1cm4gdGhpcy5vcHRpb24uc3RlcCB8fCA1OwogICAgfSwKICAgIHNwZWVkOiBmdW5jdGlvbiBzcGVlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMub3B0aW9uLnNwZWVkIHx8IDEwMDsKICAgIH0sCiAgICBsaW5lSGVpZ2h0OiBmdW5jdGlvbiBsaW5lSGVpZ2h0KCkgewogICAgICByZXR1cm4gdGhpcy5vcHRpb24ubGluZUhlaWdodCB8fCA0MDsKICAgIH0sCiAgICBmb250U2l6ZTogZnVuY3Rpb24gZm9udFNpemUoKSB7CiAgICAgIHJldHVybiB0aGlzLm9wdGlvbi5mb250U2l6ZSB8fCAzMDsKICAgIH0sCiAgICBmb250RmFtaWx5OiBmdW5jdGlvbiBmb250RmFtaWx5KCkgewogICAgICByZXR1cm4gdGhpcy5vcHRpb24uZm9udEZhbWlseTsKICAgIH0sCiAgICBzcGxpdDogZnVuY3Rpb24gc3BsaXQoKSB7CiAgICAgIHJldHVybiB0aGlzLm9wdGlvbi5zcGxpdDsKICAgIH0sCiAgICB0ZXh0V2lkdGg6IGZ1bmN0aW9uIHRleHRXaWR0aCgpIHsKICAgICAgdmFyIHRleHRMZW4gPSAodGhpcy5kYXRhQ2hhcnQudmFsdWUgfHwgJycpLmxlbmd0aDsKICAgICAgcmV0dXJuIHRleHRMZW4gKiB0aGlzLmZvbnRTaXplOwogICAgfSwKICAgIHN0eWxlTmFtZTogZnVuY3Rpb24gc3R5bGVOYW1lKCkgewogICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7CiAgICAgICAgd2lkdGg6IHRoaXMuc2Nyb2xsID8gdGhpcy5zZXRQeCh0aGlzLnRleHRXaWR0aCkgOiAnYXV0bycsCiAgICAgICAgdHJhbnNmb3JtOiAidHJhbnNsYXRlWCgiICsgdGhpcy5sZWZ0ICsgInB4KSIsCiAgICAgICAgdGV4dEFsaWduOiB0aGlzLm9wdGlvbi50ZXh0QWxpZ24sCiAgICAgICAgbGV0dGVyU3BhY2luZzogdGhpcy5zZXRQeCh0aGlzLnNwbGl0KSwKICAgICAgICB0ZXh0SW5kZW50OiB0aGlzLnNldFB4KHRoaXMuc3BsaXQpLAogICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5vcHRpb24uYmFja2dyb3VuZENvbG9yLAogICAgICAgIGZvbnRXZWlnaHQ6IHRoaXMub3B0aW9uLmZvbnRXZWlnaHQgfHwgIm5vcm1hbCIsCiAgICAgICAgZm9udEZhbWlseTogdGhpcy5mb250RmFtaWx5LAogICAgICAgIGZvbnRTaXplOiB0aGlzLmZvbnRTaXplICsgInB4IiwKICAgICAgICBsaW5lSGVpZ2h0OiB0aGlzLmxpbmVIZWlnaHQgKyAicHgiLAogICAgICAgIGNvbG9yOiB0aGlzLm9wdGlvbi5jb2xvciB8fCAiIzMzMyIKICAgICAgfSwgdGhpcy5zdHlsZXMpOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHNjcm9sbDogZnVuY3Rpb24gc2Nyb2xsKCkgewogICAgICB0aGlzLm1vdmUoKTsKICAgIH0sCiAgICBzcGVlZDogZnVuY3Rpb24gc3BlZWQoKSB7CiAgICAgIHRoaXMubW92ZSgpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLmRhdGUgPSBuZXcgRGF0ZSgpOwogICAgfSwgMTAwMCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5tb3ZlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24gaGFuZGxlQ2xpY2soKSB7CiAgICAgIHRoaXMudXBkYXRlQ2xpY2sodGhpcy5kYXRhQ2hhcnQpOwogICAgICB0aGlzLmNsaWNrRm9ybWF0dGVyICYmIHRoaXMuY2xpY2tGb3JtYXR0ZXIoewogICAgICAgIGRhdGE6IHRoaXMuZGF0YUNoYXJ0CiAgICAgIH0sIHRoaXMuZ2V0SXRlbVJlZnMoKSk7CiAgICB9LAogICAgbW92ZTogZnVuY3Rpb24gbW92ZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jaGVjayk7CiAgICAgIGlmICh0aGlzLnNjcm9sbCkgewogICAgICAgIHRoaXMuY2hlY2sgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoX3RoaXMyLmxlZnQgPCAtX3RoaXMyLnRleHRXaWR0aCkgewogICAgICAgICAgICBfdGhpczIubGVmdCA9IF90aGlzMi53aWR0aDsKICAgICAgICAgIH0KICAgICAgICAgIF90aGlzMi5sZWZ0ID0gX3RoaXMyLmxlZnQgLSBfdGhpczIuc3RlcDsKICAgICAgICB9LCB0aGlzLnNwZWVkKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmxlZnQgPSAwOwogICAgICB9CiAgICB9CiAgfSwKICBwcm9wczogewogICAgb3B0aW9uOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9CiAgfQp9KTs="},{"version":3,"mappings":";;AAoBA;AACA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAV;QACAD;QACAD;QACAa;MACA;IACA;EACA;EACAC;IACAnB;MACA;IACA;IACAI;MACA;IACA;EACA;EACAgB;IAAA;IACAC;MACA;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MACA;MACA;QACA7B;MACA;IACA;IACA8B;MAAA;MACAC;MACA;QACA;UACA;YACA;UACA;UACA;QACA;MACA;QACA;MACA;IACA;EACA;EACAC;IACAC;MACAC;MACAC;QACA;MACA;IACA;EACA;AACA","names":["name","data","check","date","left","computed","scroll","linkHref","linkTarget","step","speed","lineHeight","fontSize","fontFamily","split","textWidth","styleName","width","transform","textAlign","letterSpacing","textIndent","backgroundColor","fontWeight","color","watch","created","setInterval","mounted","methods","handleClick","move","clearInterval","props","option","type","default"],"sourceRoot":"src/echart/packages/text","sources":["index.vue"],"sourcesContent":["<template>\n  <div :class=\"[b(),className]\"\n       :style=\"styleSizeName\"\n       ref=\"main\"\n       @click=\"handleClick\">\n    <div :style=\"styleChartName\"\n         ref=\"box\"\n         :class=\"b('box')\">\n      <a ref=\"text\"\n         :class=\"b('text')\"\n         :href=\"linkHref\"\n         :style=\"styleName\"\n         :target=\"linkTarget\"\n         v-html=\"dataChart.value\"></a>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport create from \"../../create\";\nexport default create({\n  name: \"text\",\n  data () {\n    return {\n      check: \"\",\n      date: new Date(),\n      left: 0,\n    };\n  },\n  computed: {\n    scroll () {\n      return this.vaildData(this.option.scroll, false);\n    },\n    linkHref () {\n      return this.option.linkHref || \"#\";\n    },\n    linkTarget () {\n      return this.option.linkTarget || \"_self\";\n    },\n    step () {\n      return this.option.step || 5;\n    },\n    speed () {\n      return this.option.speed || 100;\n    },\n    lineHeight () {\n      return this.option.lineHeight || 40;\n    },\n    fontSize () {\n      return this.option.fontSize || 30;\n    },\n    fontFamily () {\n      return this.option.fontFamily\n    },\n    split () {\n      return this.option.split;\n    },\n    textWidth () {\n      const textLen = (this.dataChart.value || '').length;\n      return textLen * this.fontSize;\n    },\n    styleName () {\n      return Object.assign({\n        width: this.scroll ? this.setPx(this.textWidth) : 'auto',\n        transform: \"translateX(\" + this.left + \"px)\",\n        textAlign: this.option.textAlign,\n        letterSpacing: this.setPx(this.split),\n        textIndent: this.setPx(this.split),\n        backgroundColor: this.option.backgroundColor,\n        fontWeight: this.option.fontWeight || \"normal\",\n        fontFamily: this.fontFamily,\n        fontSize: this.fontSize + \"px\",\n        lineHeight: this.lineHeight + \"px\",\n        color: this.option.color || \"#333\"\n      }, this.styles);\n    }\n  },\n  watch: {\n    scroll () {\n      this.move();\n    },\n    speed () {\n      this.move();\n    }\n  },\n  created () {\n    setInterval(() => {\n      this.date = new Date();\n    }, 1000);\n  },\n  mounted () {\n    this.move();\n  },\n  methods: {\n    handleClick () {\n      this.updateClick(this.dataChart);\n      this.clickFormatter && this.clickFormatter({\n        data: this.dataChart\n      }, this.getItemRefs());\n    },\n    move () {\n      clearInterval(this.check);\n      if (this.scroll) {\n        this.check = setInterval(() => {\n          if (this.left < -this.textWidth) {\n            this.left = this.width;\n          }\n          this.left = this.left - this.step;\n        }, this.speed);\n      } else {\n        this.left = 0;\n      }\n    }\n  },\n  props: {\n    option: {\n      type: Object,\n      default: () => {\n        return {};\n      }\n    }\n  }\n});\n</script>\n\n\n"]}]}
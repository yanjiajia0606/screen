{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees.js","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci5jYXVzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwovKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLgogKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KaW1wb3J0IHsgTGlzdEFzdE5vZGUgfSBmcm9tICcuL2FzdC5qcyc7Ci8qKgogKiBDb25jYXRlbmF0ZXMgYSBsaXN0IG9mICgyLDMpIEFzdE5vZGUncyBpbnRvIGEgc2luZ2xlICgyLDMpIEFzdE5vZGUuCiAqIFRoaXMgbXV0YXRlcyB0aGUgaXRlbXMgb2YgdGhlIGlucHV0IGFycmF5IQogKiBJZiBhbGwgaXRlbXMgaGF2ZSB0aGUgc2FtZSBoZWlnaHQsIHRoaXMgbWV0aG9kIGhhcyBydW50aW1lIE8oaXRlbXMubGVuZ3RoKS4KICogT3RoZXJ3aXNlLCBpdCBoYXMgcnVudGltZSBPKGl0ZW1zLmxlbmd0aCAqIG1heChsb2coaXRlbXMubGVuZ3RoKSwgaXRlbXMubWF4KGkgPT4gaS5oZWlnaHQpKSkuCiovCmV4cG9ydCBmdW5jdGlvbiBjb25jYXQyM1RyZWVzKGl0ZW1zKSB7CiAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCkgewogICAgcmV0dXJuIG51bGw7CiAgfQogIGlmIChpdGVtcy5sZW5ndGggPT09IDEpIHsKICAgIHJldHVybiBpdGVtc1swXTsKICB9CiAgdmFyIGkgPSAwOwogIC8qKgogICAqIFJlYWRzIG5vZGVzIG9mIHNhbWUgaGVpZ2h0IGFuZCBjb25jYXRlbmF0ZXMgdGhlbSB0byBhIHNpbmdsZSBub2RlLgogICovCiAgZnVuY3Rpb24gcmVhZE5vZGUoKSB7CiAgICBpZiAoaSA+PSBpdGVtcy5sZW5ndGgpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgICB2YXIgc3RhcnQgPSBpOwogICAgdmFyIGhlaWdodCA9IGl0ZW1zW3N0YXJ0XS5saXN0SGVpZ2h0OwogICAgaSsrOwogICAgd2hpbGUgKGkgPCBpdGVtcy5sZW5ndGggJiYgaXRlbXNbaV0ubGlzdEhlaWdodCA9PT0gaGVpZ2h0KSB7CiAgICAgIGkrKzsKICAgIH0KICAgIGlmIChpIC0gc3RhcnQgPj0gMikgewogICAgICByZXR1cm4gY29uY2F0MjNUcmVlc09mU2FtZUhlaWdodChzdGFydCA9PT0gMCAmJiBpID09PSBpdGVtcy5sZW5ndGggPyBpdGVtcyA6IGl0ZW1zLnNsaWNlKHN0YXJ0LCBpKSwgZmFsc2UpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGl0ZW1zW3N0YXJ0XTsKICAgIH0KICB9CiAgLy8gVGhlIGl0ZW1zIG1pZ2h0IG5vdCBoYXZlIHRoZSBzYW1lIGhlaWdodC4KICAvLyBXZSBtZXJnZSBhbGwgaXRlbXMgYnkgdXNpbmcgYSBiaW5hcnkgY29uY2F0IG9wZXJhdG9yLgogIHZhciBmaXJzdCA9IHJlYWROb2RlKCk7IC8vIFRoZXJlIG11c3QgYmUgYSBmaXJzdCBpdGVtCiAgdmFyIHNlY29uZCA9IHJlYWROb2RlKCk7CiAgaWYgKCFzZWNvbmQpIHsKICAgIHJldHVybiBmaXJzdDsKICB9CiAgZm9yICh2YXIgaXRlbSA9IHJlYWROb2RlKCk7IGl0ZW07IGl0ZW0gPSByZWFkTm9kZSgpKSB7CiAgICAvLyBQcmVmZXIgY29uY2F0ZW5hdGluZyBzbWFsbGVyIHRyZWVzLCBhcyB0aGUgcnVudGltZSBvZiBjb25jYXQgZGVwZW5kcyBvbiB0aGUgdHJlZSBoZWlnaHQuCiAgICBpZiAoaGVpZ2h0RGlmZihmaXJzdCwgc2Vjb25kKSA8PSBoZWlnaHREaWZmKHNlY29uZCwgaXRlbSkpIHsKICAgICAgZmlyc3QgPSBjb25jYXQoZmlyc3QsIHNlY29uZCk7CiAgICAgIHNlY29uZCA9IGl0ZW07CiAgICB9IGVsc2UgewogICAgICBzZWNvbmQgPSBjb25jYXQoc2Vjb25kLCBpdGVtKTsKICAgIH0KICB9CiAgdmFyIHJlc3VsdCA9IGNvbmNhdChmaXJzdCwgc2Vjb25kKTsKICByZXR1cm4gcmVzdWx0Owp9CmV4cG9ydCBmdW5jdGlvbiBjb25jYXQyM1RyZWVzT2ZTYW1lSGVpZ2h0KGl0ZW1zKSB7CiAgdmFyIGNyZWF0ZUltbXV0YWJsZUxpc3RzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTsKICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSB7CiAgICByZXR1cm4gbnVsbDsKICB9CiAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMSkgewogICAgcmV0dXJuIGl0ZW1zWzBdOwogIH0KICB2YXIgbGVuZ3RoID0gaXRlbXMubGVuZ3RoOwogIC8vIEFsbCB0cmVlcyBoYXZlIHNhbWUgaGVpZ2h0LCBqdXN0IGNyZWF0ZSBwYXJlbnQgbm9kZXMuCiAgd2hpbGUgKGxlbmd0aCA+IDMpIHsKICAgIHZhciBuZXdMZW5ndGggPSBsZW5ndGggPj4gMTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3TGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIGogPSBpIDw8IDE7CiAgICAgIGl0ZW1zW2ldID0gTGlzdEFzdE5vZGUuY3JlYXRlMjMoaXRlbXNbal0sIGl0ZW1zW2ogKyAxXSwgaiArIDMgPT09IGxlbmd0aCA/IGl0ZW1zW2ogKyAyXSA6IG51bGwsIGNyZWF0ZUltbXV0YWJsZUxpc3RzKTsKICAgIH0KICAgIGxlbmd0aCA9IG5ld0xlbmd0aDsKICB9CiAgcmV0dXJuIExpc3RBc3ROb2RlLmNyZWF0ZTIzKGl0ZW1zWzBdLCBpdGVtc1sxXSwgbGVuZ3RoID49IDMgPyBpdGVtc1syXSA6IG51bGwsIGNyZWF0ZUltbXV0YWJsZUxpc3RzKTsKfQpmdW5jdGlvbiBoZWlnaHREaWZmKG5vZGUxLCBub2RlMikgewogIHJldHVybiBNYXRoLmFicyhub2RlMS5saXN0SGVpZ2h0IC0gbm9kZTIubGlzdEhlaWdodCk7Cn0KZnVuY3Rpb24gY29uY2F0KG5vZGUxLCBub2RlMikgewogIGlmIChub2RlMS5saXN0SGVpZ2h0ID09PSBub2RlMi5saXN0SGVpZ2h0KSB7CiAgICByZXR1cm4gTGlzdEFzdE5vZGUuY3JlYXRlMjMobm9kZTEsIG5vZGUyLCBudWxsLCBmYWxzZSk7CiAgfSBlbHNlIGlmIChub2RlMS5saXN0SGVpZ2h0ID4gbm9kZTIubGlzdEhlaWdodCkgewogICAgLy8gbm9kZTEgaXMgdGhlIHRyZWUgd2Ugd2FudCB0byBpbnNlcnQgaW50bwogICAgcmV0dXJuIGFwcGVuZChub2RlMSwgbm9kZTIpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gcHJlcGVuZChub2RlMiwgbm9kZTEpOwogIH0KfQovKioKICogQXBwZW5kcyB0aGUgZ2l2ZW4gbm9kZSB0byB0aGUgZW5kIG9mIHRoaXMgKDIsMykgdHJlZS4KICogUmV0dXJucyB0aGUgbmV3IHJvb3QuCiovCmZ1bmN0aW9uIGFwcGVuZChsaXN0LCBub2RlVG9BcHBlbmQpIHsKICBsaXN0ID0gbGlzdC50b011dGFibGUoKTsKICB2YXIgY3VyTm9kZSA9IGxpc3Q7CiAgdmFyIHBhcmVudHMgPSBuZXcgQXJyYXkoKTsKICB2YXIgbm9kZVRvQXBwZW5kT2ZDb3JyZWN0SGVpZ2h0OwogIHdoaWxlICh0cnVlKSB7CiAgICAvLyBhc3NlcnQgbm9kZVRvSW5zZXJ0Lmxpc3RIZWlnaHQgPD0gY3VyTm9kZS5saXN0SGVpZ2h0CiAgICBpZiAobm9kZVRvQXBwZW5kLmxpc3RIZWlnaHQgPT09IGN1ck5vZGUubGlzdEhlaWdodCkgewogICAgICBub2RlVG9BcHBlbmRPZkNvcnJlY3RIZWlnaHQgPSBub2RlVG9BcHBlbmQ7CiAgICAgIGJyZWFrOwogICAgfQogICAgLy8gYXNzZXJ0IDAgPD0gbm9kZVRvSW5zZXJ0Lmxpc3RIZWlnaHQgPCBjdXJOb2RlLmxpc3RIZWlnaHQKICAgIGlmIChjdXJOb2RlLmtpbmQgIT09IDQgLyogQXN0Tm9kZUtpbmQuTGlzdCAqLykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VuZXhwZWN0ZWQnKTsKICAgIH0KICAgIHBhcmVudHMucHVzaChjdXJOb2RlKTsKICAgIC8vIGFzc2VydCAyIDw9IGN1ck5vZGUuY2hpbGRyZW5MZW5ndGggPD0gMwogICAgY3VyTm9kZSA9IGN1ck5vZGUubWFrZUxhc3RFbGVtZW50TXV0YWJsZSgpOwogIH0KICAvLyBhc3NlcnQgbm9kZVRvQXBwZW5kT2ZDb3JyZWN0SGVpZ2h0IS5saXN0SGVpZ2h0ID09PSBjdXJOb2RlLmxpc3RIZWlnaHQKICBmb3IgKHZhciBpID0gcGFyZW50cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgdmFyIHBhcmVudCA9IHBhcmVudHNbaV07CiAgICBpZiAobm9kZVRvQXBwZW5kT2ZDb3JyZWN0SGVpZ2h0KSB7CiAgICAgIC8vIENhbiB3ZSB0YWtlIHRoZSBlbGVtZW50PwogICAgICBpZiAocGFyZW50LmNoaWxkcmVuTGVuZ3RoID49IDMpIHsKICAgICAgICAvLyBhc3NlcnQgcGFyZW50LmNoaWxkcmVuTGVuZ3RoID09PSAzICYmIHBhcmVudC5saXN0SGVpZ2h0ID09PSBub2RlVG9BcHBlbmRPZkNvcnJlY3RIZWlnaHQubGlzdEhlaWdodCArIDEKICAgICAgICAvLyB3ZSBuZWVkIHRvIHNwbGl0IHRvIG1haW50YWluICgyLDMpLXRyZWUgcHJvcGVydHkuCiAgICAgICAgLy8gU2VuZCB0aGUgdGhpcmQgZWxlbWVudCArIHRoZSBuZXcgZWxlbWVudCB0byB0aGUgcGFyZW50LgogICAgICAgIG5vZGVUb0FwcGVuZE9mQ29ycmVjdEhlaWdodCA9IExpc3RBc3ROb2RlLmNyZWF0ZTIzKHBhcmVudC51bmFwcGVuZENoaWxkKCksIG5vZGVUb0FwcGVuZE9mQ29ycmVjdEhlaWdodCwgbnVsbCwgZmFsc2UpOwogICAgICB9IGVsc2UgewogICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZE9mU2FtZUhlaWdodChub2RlVG9BcHBlbmRPZkNvcnJlY3RIZWlnaHQpOwogICAgICAgIG5vZGVUb0FwcGVuZE9mQ29ycmVjdEhlaWdodCA9IHVuZGVmaW5lZDsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgcGFyZW50LmhhbmRsZUNoaWxkcmVuQ2hhbmdlZCgpOwogICAgfQogIH0KICBpZiAobm9kZVRvQXBwZW5kT2ZDb3JyZWN0SGVpZ2h0KSB7CiAgICByZXR1cm4gTGlzdEFzdE5vZGUuY3JlYXRlMjMobGlzdCwgbm9kZVRvQXBwZW5kT2ZDb3JyZWN0SGVpZ2h0LCBudWxsLCBmYWxzZSk7CiAgfSBlbHNlIHsKICAgIHJldHVybiBsaXN0OwogIH0KfQovKioKICogUHJlcGVuZHMgdGhlIGdpdmVuIG5vZGUgdG8gdGhlIGVuZCBvZiB0aGlzICgyLDMpIHRyZWUuCiAqIFJldHVybnMgdGhlIG5ldyByb290LgoqLwpmdW5jdGlvbiBwcmVwZW5kKGxpc3QsIG5vZGVUb0FwcGVuZCkgewogIGxpc3QgPSBsaXN0LnRvTXV0YWJsZSgpOwogIHZhciBjdXJOb2RlID0gbGlzdDsKICB2YXIgcGFyZW50cyA9IG5ldyBBcnJheSgpOwogIC8vIGFzc2VydCBub2RlVG9JbnNlcnQubGlzdEhlaWdodCA8PSBjdXJOb2RlLmxpc3RIZWlnaHQKICB3aGlsZSAobm9kZVRvQXBwZW5kLmxpc3RIZWlnaHQgIT09IGN1ck5vZGUubGlzdEhlaWdodCkgewogICAgLy8gYXNzZXJ0IDAgPD0gbm9kZVRvSW5zZXJ0Lmxpc3RIZWlnaHQgPCBjdXJOb2RlLmxpc3RIZWlnaHQKICAgIGlmIChjdXJOb2RlLmtpbmQgIT09IDQgLyogQXN0Tm9kZUtpbmQuTGlzdCAqLykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VuZXhwZWN0ZWQnKTsKICAgIH0KICAgIHBhcmVudHMucHVzaChjdXJOb2RlKTsKICAgIC8vIGFzc2VydCAyIDw9IGN1ck5vZGUuY2hpbGRyZW5GYXN0Lmxlbmd0aCA8PSAzCiAgICBjdXJOb2RlID0gY3VyTm9kZS5tYWtlRmlyc3RFbGVtZW50TXV0YWJsZSgpOwogIH0KICB2YXIgbm9kZVRvUHJlcGVuZE9mQ29ycmVjdEhlaWdodCA9IG5vZGVUb0FwcGVuZDsKICAvLyBhc3NlcnQgbm9kZVRvQXBwZW5kT2ZDb3JyZWN0SGVpZ2h0IS5saXN0SGVpZ2h0ID09PSBjdXJOb2RlLmxpc3RIZWlnaHQKICBmb3IgKHZhciBpID0gcGFyZW50cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgdmFyIHBhcmVudCA9IHBhcmVudHNbaV07CiAgICBpZiAobm9kZVRvUHJlcGVuZE9mQ29ycmVjdEhlaWdodCkgewogICAgICAvLyBDYW4gd2UgdGFrZSB0aGUgZWxlbWVudD8KICAgICAgaWYgKHBhcmVudC5jaGlsZHJlbkxlbmd0aCA+PSAzKSB7CiAgICAgICAgLy8gYXNzZXJ0IHBhcmVudC5jaGlsZHJlbkxlbmd0aCA9PT0gMyAmJiBwYXJlbnQubGlzdEhlaWdodCA9PT0gbm9kZVRvQXBwZW5kT2ZDb3JyZWN0SGVpZ2h0Lmxpc3RIZWlnaHQgKyAxCiAgICAgICAgLy8gd2UgbmVlZCB0byBzcGxpdCB0byBtYWludGFpbiAoMiwzKS10cmVlIHByb3BlcnR5LgogICAgICAgIC8vIFNlbmQgdGhlIHRoaXJkIGVsZW1lbnQgKyB0aGUgbmV3IGVsZW1lbnQgdG8gdGhlIHBhcmVudC4KICAgICAgICBub2RlVG9QcmVwZW5kT2ZDb3JyZWN0SGVpZ2h0ID0gTGlzdEFzdE5vZGUuY3JlYXRlMjMobm9kZVRvUHJlcGVuZE9mQ29ycmVjdEhlaWdodCwgcGFyZW50LnVucHJlcGVuZENoaWxkKCksIG51bGwsIGZhbHNlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwYXJlbnQucHJlcGVuZENoaWxkT2ZTYW1lSGVpZ2h0KG5vZGVUb1ByZXBlbmRPZkNvcnJlY3RIZWlnaHQpOwogICAgICAgIG5vZGVUb1ByZXBlbmRPZkNvcnJlY3RIZWlnaHQgPSB1bmRlZmluZWQ7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHBhcmVudC5oYW5kbGVDaGlsZHJlbkNoYW5nZWQoKTsKICAgIH0KICB9CiAgaWYgKG5vZGVUb1ByZXBlbmRPZkNvcnJlY3RIZWlnaHQpIHsKICAgIHJldHVybiBMaXN0QXN0Tm9kZS5jcmVhdGUyMyhub2RlVG9QcmVwZW5kT2ZDb3JyZWN0SGVpZ2h0LCBsaXN0LCBudWxsLCBmYWxzZSk7CiAgfSBlbHNlIHsKICAgIHJldHVybiBsaXN0OwogIH0KfQ=="},{"version":3,"names":["ListAstNode","concat23Trees","items","length","i","readNode","start","height","listHeight","concat23TreesOfSameHeight","slice","first","second","item","heightDiff","concat","result","createImmutableLists","newLength","j","create23","node1","node2","Math","abs","append","prepend","list","nodeToAppend","toMutable","curNode","parents","Array","nodeToAppendOfCorrectHeight","kind","Error","push","makeLastElementMutable","parent","childrenLength","unappendChild","appendChildOfSameHeight","undefined","handleChildrenChanged","makeFirstElementMutable","nodeToPrependOfCorrectHeight","unprependChild","prependChildOfSameHeight"],"sources":["/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { ListAstNode } from './ast.js';\n/**\n * Concatenates a list of (2,3) AstNode's into a single (2,3) AstNode.\n * This mutates the items of the input array!\n * If all items have the same height, this method has runtime O(items.length).\n * Otherwise, it has runtime O(items.length * max(log(items.length), items.max(i => i.height))).\n*/\nexport function concat23Trees(items) {\n    if (items.length === 0) {\n        return null;\n    }\n    if (items.length === 1) {\n        return items[0];\n    }\n    let i = 0;\n    /**\n     * Reads nodes of same height and concatenates them to a single node.\n    */\n    function readNode() {\n        if (i >= items.length) {\n            return null;\n        }\n        const start = i;\n        const height = items[start].listHeight;\n        i++;\n        while (i < items.length && items[i].listHeight === height) {\n            i++;\n        }\n        if (i - start >= 2) {\n            return concat23TreesOfSameHeight(start === 0 && i === items.length ? items : items.slice(start, i), false);\n        }\n        else {\n            return items[start];\n        }\n    }\n    // The items might not have the same height.\n    // We merge all items by using a binary concat operator.\n    let first = readNode(); // There must be a first item\n    let second = readNode();\n    if (!second) {\n        return first;\n    }\n    for (let item = readNode(); item; item = readNode()) {\n        // Prefer concatenating smaller trees, as the runtime of concat depends on the tree height.\n        if (heightDiff(first, second) <= heightDiff(second, item)) {\n            first = concat(first, second);\n            second = item;\n        }\n        else {\n            second = concat(second, item);\n        }\n    }\n    const result = concat(first, second);\n    return result;\n}\nexport function concat23TreesOfSameHeight(items, createImmutableLists = false) {\n    if (items.length === 0) {\n        return null;\n    }\n    if (items.length === 1) {\n        return items[0];\n    }\n    let length = items.length;\n    // All trees have same height, just create parent nodes.\n    while (length > 3) {\n        const newLength = length >> 1;\n        for (let i = 0; i < newLength; i++) {\n            const j = i << 1;\n            items[i] = ListAstNode.create23(items[j], items[j + 1], j + 3 === length ? items[j + 2] : null, createImmutableLists);\n        }\n        length = newLength;\n    }\n    return ListAstNode.create23(items[0], items[1], length >= 3 ? items[2] : null, createImmutableLists);\n}\nfunction heightDiff(node1, node2) {\n    return Math.abs(node1.listHeight - node2.listHeight);\n}\nfunction concat(node1, node2) {\n    if (node1.listHeight === node2.listHeight) {\n        return ListAstNode.create23(node1, node2, null, false);\n    }\n    else if (node1.listHeight > node2.listHeight) {\n        // node1 is the tree we want to insert into\n        return append(node1, node2);\n    }\n    else {\n        return prepend(node2, node1);\n    }\n}\n/**\n * Appends the given node to the end of this (2,3) tree.\n * Returns the new root.\n*/\nfunction append(list, nodeToAppend) {\n    list = list.toMutable();\n    let curNode = list;\n    const parents = new Array();\n    let nodeToAppendOfCorrectHeight;\n    while (true) {\n        // assert nodeToInsert.listHeight <= curNode.listHeight\n        if (nodeToAppend.listHeight === curNode.listHeight) {\n            nodeToAppendOfCorrectHeight = nodeToAppend;\n            break;\n        }\n        // assert 0 <= nodeToInsert.listHeight < curNode.listHeight\n        if (curNode.kind !== 4 /* AstNodeKind.List */) {\n            throw new Error('unexpected');\n        }\n        parents.push(curNode);\n        // assert 2 <= curNode.childrenLength <= 3\n        curNode = curNode.makeLastElementMutable();\n    }\n    // assert nodeToAppendOfCorrectHeight!.listHeight === curNode.listHeight\n    for (let i = parents.length - 1; i >= 0; i--) {\n        const parent = parents[i];\n        if (nodeToAppendOfCorrectHeight) {\n            // Can we take the element?\n            if (parent.childrenLength >= 3) {\n                // assert parent.childrenLength === 3 && parent.listHeight === nodeToAppendOfCorrectHeight.listHeight + 1\n                // we need to split to maintain (2,3)-tree property.\n                // Send the third element + the new element to the parent.\n                nodeToAppendOfCorrectHeight = ListAstNode.create23(parent.unappendChild(), nodeToAppendOfCorrectHeight, null, false);\n            }\n            else {\n                parent.appendChildOfSameHeight(nodeToAppendOfCorrectHeight);\n                nodeToAppendOfCorrectHeight = undefined;\n            }\n        }\n        else {\n            parent.handleChildrenChanged();\n        }\n    }\n    if (nodeToAppendOfCorrectHeight) {\n        return ListAstNode.create23(list, nodeToAppendOfCorrectHeight, null, false);\n    }\n    else {\n        return list;\n    }\n}\n/**\n * Prepends the given node to the end of this (2,3) tree.\n * Returns the new root.\n*/\nfunction prepend(list, nodeToAppend) {\n    list = list.toMutable();\n    let curNode = list;\n    const parents = new Array();\n    // assert nodeToInsert.listHeight <= curNode.listHeight\n    while (nodeToAppend.listHeight !== curNode.listHeight) {\n        // assert 0 <= nodeToInsert.listHeight < curNode.listHeight\n        if (curNode.kind !== 4 /* AstNodeKind.List */) {\n            throw new Error('unexpected');\n        }\n        parents.push(curNode);\n        // assert 2 <= curNode.childrenFast.length <= 3\n        curNode = curNode.makeFirstElementMutable();\n    }\n    let nodeToPrependOfCorrectHeight = nodeToAppend;\n    // assert nodeToAppendOfCorrectHeight!.listHeight === curNode.listHeight\n    for (let i = parents.length - 1; i >= 0; i--) {\n        const parent = parents[i];\n        if (nodeToPrependOfCorrectHeight) {\n            // Can we take the element?\n            if (parent.childrenLength >= 3) {\n                // assert parent.childrenLength === 3 && parent.listHeight === nodeToAppendOfCorrectHeight.listHeight + 1\n                // we need to split to maintain (2,3)-tree property.\n                // Send the third element + the new element to the parent.\n                nodeToPrependOfCorrectHeight = ListAstNode.create23(nodeToPrependOfCorrectHeight, parent.unprependChild(), null, false);\n            }\n            else {\n                parent.prependChildOfSameHeight(nodeToPrependOfCorrectHeight);\n                nodeToPrependOfCorrectHeight = undefined;\n            }\n        }\n        else {\n            parent.handleChildrenChanged();\n        }\n    }\n    if (nodeToPrependOfCorrectHeight) {\n        return ListAstNode.create23(nodeToPrependOfCorrectHeight, list, null, false);\n    }\n    else {\n        return list;\n    }\n}\n"],"mappings":"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"}]}
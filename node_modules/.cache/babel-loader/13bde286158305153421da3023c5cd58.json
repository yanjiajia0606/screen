{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/base/browser/ui/actionbar/actionbar.js","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/base/browser/ui/actionbar/actionbar.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2suanMiOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiOwppbXBvcnQgX2dldCBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2dldC5qcyI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZi5qcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cy5qcyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7Ci8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uCiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwp2YXIgX19hd2FpdGVyID0gdGhpcyAmJiB0aGlzLl9fYXdhaXRlciB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7CiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsKICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgIHJlc29sdmUodmFsdWUpOwogICAgfSk7CiAgfQogIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7CiAgICAgIHRyeSB7CiAgICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgcmVqZWN0KGUpOwogICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgewogICAgICB0cnkgewogICAgICAgIHN0ZXAoZ2VuZXJhdG9yWyJ0aHJvdyJdKHZhbHVlKSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICByZWplY3QoZSk7CiAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7CiAgICAgIHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOwogICAgfQogICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpOwogIH0pOwp9OwppbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vLi4vZG9tLmpzJzsKaW1wb3J0IHsgU3RhbmRhcmRLZXlib2FyZEV2ZW50IH0gZnJvbSAnLi4vLi4va2V5Ym9hcmRFdmVudC5qcyc7CmltcG9ydCB7IEFjdGlvblZpZXdJdGVtLCBCYXNlQWN0aW9uVmlld0l0ZW0gfSBmcm9tICcuL2FjdGlvblZpZXdJdGVtcy5qcyc7CmltcG9ydCB7IEFjdGlvblJ1bm5lciwgU2VwYXJhdG9yIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL2FjdGlvbnMuanMnOwppbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL2V2ZW50LmpzJzsKaW1wb3J0IHsgRGlzcG9zYWJsZSwgZGlzcG9zZSBhcyBfZGlzcG9zZSB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9saWZlY3ljbGUuanMnOwppbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi8uLi8uLi9jb21tb24vdHlwZXMuanMnOwppbXBvcnQgJy4vYWN0aW9uYmFyLmNzcyc7CmV4cG9ydCB2YXIgQWN0aW9uQmFyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRGlzcG9zYWJsZSkgewogIF9pbmhlcml0cyhBY3Rpb25CYXIsIF9EaXNwb3NhYmxlKTsKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEFjdGlvbkJhcik7CiAgZnVuY3Rpb24gQWN0aW9uQmFyKGNvbnRhaW5lcikgewogICAgdmFyIF90aGlzOwogICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFjdGlvbkJhcik7CiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjsKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7CiAgICAvLyBUcmlnZ2VyIEtleSBUcmFja2luZwogICAgX3RoaXMudHJpZ2dlcktleURvd24gPSBmYWxzZTsKICAgIF90aGlzLmZvY3VzYWJsZSA9IHRydWU7CiAgICBfdGhpcy5fb25EaWRCbHVyID0gX3RoaXMuX3JlZ2lzdGVyKG5ldyBFbWl0dGVyKCkpOwogICAgX3RoaXMub25EaWRCbHVyID0gX3RoaXMuX29uRGlkQmx1ci5ldmVudDsKICAgIF90aGlzLl9vbkRpZENhbmNlbCA9IF90aGlzLl9yZWdpc3RlcihuZXcgRW1pdHRlcih7CiAgICAgIG9uRmlyc3RMaXN0ZW5lckFkZDogZnVuY3Rpb24gb25GaXJzdExpc3RlbmVyQWRkKCkgewogICAgICAgIHJldHVybiBfdGhpcy5jYW5jZWxIYXNMaXN0ZW5lciA9IHRydWU7CiAgICAgIH0KICAgIH0pKTsKICAgIF90aGlzLm9uRGlkQ2FuY2VsID0gX3RoaXMuX29uRGlkQ2FuY2VsLmV2ZW50OwogICAgX3RoaXMuY2FuY2VsSGFzTGlzdGVuZXIgPSBmYWxzZTsKICAgIF90aGlzLl9vbkRpZFJ1biA9IF90aGlzLl9yZWdpc3RlcihuZXcgRW1pdHRlcigpKTsKICAgIF90aGlzLm9uRGlkUnVuID0gX3RoaXMuX29uRGlkUnVuLmV2ZW50OwogICAgX3RoaXMuX29uQmVmb3JlUnVuID0gX3RoaXMuX3JlZ2lzdGVyKG5ldyBFbWl0dGVyKCkpOwogICAgX3RoaXMub25CZWZvcmVSdW4gPSBfdGhpcy5fb25CZWZvcmVSdW4uZXZlbnQ7CiAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9uczsKICAgIF90aGlzLl9jb250ZXh0ID0gKF9hID0gb3B0aW9ucy5jb250ZXh0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBudWxsOwogICAgX3RoaXMuX29yaWVudGF0aW9uID0gKF9iID0gX3RoaXMub3B0aW9ucy5vcmllbnRhdGlvbikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMCAvKiBBY3Rpb25zT3JpZW50YXRpb24uSE9SSVpPTlRBTCAqLzsKICAgIF90aGlzLl90cmlnZ2VyS2V5cyA9IHsKICAgICAga2V5RG93bjogKF9kID0gKF9jID0gX3RoaXMub3B0aW9ucy50cmlnZ2VyS2V5cykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmtleURvd24pICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGZhbHNlLAogICAgICBrZXlzOiAoX2YgPSAoX2UgPSBfdGhpcy5vcHRpb25zLnRyaWdnZXJLZXlzKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Uua2V5cykgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDogWzMgLyogS2V5Q29kZS5FbnRlciAqLywgMTAgLyogS2V5Q29kZS5TcGFjZSAqL10KICAgIH07CgogICAgaWYgKF90aGlzLm9wdGlvbnMuYWN0aW9uUnVubmVyKSB7CiAgICAgIF90aGlzLl9hY3Rpb25SdW5uZXIgPSBfdGhpcy5vcHRpb25zLmFjdGlvblJ1bm5lcjsKICAgIH0gZWxzZSB7CiAgICAgIF90aGlzLl9hY3Rpb25SdW5uZXIgPSBuZXcgQWN0aW9uUnVubmVyKCk7CiAgICAgIF90aGlzLl9yZWdpc3RlcihfdGhpcy5fYWN0aW9uUnVubmVyKTsKICAgIH0KICAgIF90aGlzLl9yZWdpc3RlcihfdGhpcy5fYWN0aW9uUnVubmVyLm9uRGlkUnVuKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBfdGhpcy5fb25EaWRSdW4uZmlyZShlKTsKICAgIH0pKTsKICAgIF90aGlzLl9yZWdpc3RlcihfdGhpcy5fYWN0aW9uUnVubmVyLm9uQmVmb3JlUnVuKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBfdGhpcy5fb25CZWZvcmVSdW4uZmlyZShlKTsKICAgIH0pKTsKICAgIF90aGlzLl9hY3Rpb25JZHMgPSBbXTsKICAgIF90aGlzLnZpZXdJdGVtcyA9IFtdOwogICAgX3RoaXMudmlld0l0ZW1EaXNwb3NhYmxlcyA9IG5ldyBNYXAoKTsKICAgIF90aGlzLmZvY3VzZWRJdGVtID0gdW5kZWZpbmVkOwogICAgX3RoaXMuZG9tTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgX3RoaXMuZG9tTm9kZS5jbGFzc05hbWUgPSAnbW9uYWNvLWFjdGlvbi1iYXInOwogICAgaWYgKG9wdGlvbnMuYW5pbWF0ZWQgIT09IGZhbHNlKSB7CiAgICAgIF90aGlzLmRvbU5vZGUuY2xhc3NMaXN0LmFkZCgnYW5pbWF0ZWQnKTsKICAgIH0KICAgIHZhciBwcmV2aW91c0tleXM7CiAgICB2YXIgbmV4dEtleXM7CiAgICBzd2l0Y2ggKF90aGlzLl9vcmllbnRhdGlvbikgewogICAgICBjYXNlIDAgLyogQWN0aW9uc09yaWVudGF0aW9uLkhPUklaT05UQUwgKi86CiAgICAgICAgcHJldmlvdXNLZXlzID0gWzE1IC8qIEtleUNvZGUuTGVmdEFycm93ICovXTsKICAgICAgICBuZXh0S2V5cyA9IFsxNyAvKiBLZXlDb2RlLlJpZ2h0QXJyb3cgKi9dOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlIDEgLyogQWN0aW9uc09yaWVudGF0aW9uLlZFUlRJQ0FMICovOgogICAgICAgIHByZXZpb3VzS2V5cyA9IFsxNiAvKiBLZXlDb2RlLlVwQXJyb3cgKi9dOwogICAgICAgIG5leHRLZXlzID0gWzE4IC8qIEtleUNvZGUuRG93bkFycm93ICovXTsKICAgICAgICBfdGhpcy5kb21Ob2RlLmNsYXNzTmFtZSArPSAnIHZlcnRpY2FsJzsKICAgICAgICBicmVhazsKICAgIH0KICAgIF90aGlzLl9yZWdpc3RlcihET00uYWRkRGlzcG9zYWJsZUxpc3RlbmVyKF90aGlzLmRvbU5vZGUsIERPTS5FdmVudFR5cGUuS0VZX0RPV04sIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciBldmVudCA9IG5ldyBTdGFuZGFyZEtleWJvYXJkRXZlbnQoZSk7CiAgICAgIHZhciBldmVudEhhbmRsZWQgPSB0cnVlOwogICAgICB2YXIgZm9jdXNlZEl0ZW0gPSB0eXBlb2YgX3RoaXMuZm9jdXNlZEl0ZW0gPT09ICdudW1iZXInID8gX3RoaXMudmlld0l0ZW1zW190aGlzLmZvY3VzZWRJdGVtXSA6IHVuZGVmaW5lZDsKICAgICAgaWYgKHByZXZpb3VzS2V5cyAmJiAoZXZlbnQuZXF1YWxzKHByZXZpb3VzS2V5c1swXSkgfHwgZXZlbnQuZXF1YWxzKHByZXZpb3VzS2V5c1sxXSkpKSB7CiAgICAgICAgZXZlbnRIYW5kbGVkID0gX3RoaXMuZm9jdXNQcmV2aW91cygpOwogICAgICB9IGVsc2UgaWYgKG5leHRLZXlzICYmIChldmVudC5lcXVhbHMobmV4dEtleXNbMF0pIHx8IGV2ZW50LmVxdWFscyhuZXh0S2V5c1sxXSkpKSB7CiAgICAgICAgZXZlbnRIYW5kbGVkID0gX3RoaXMuZm9jdXNOZXh0KCk7CiAgICAgIH0gZWxzZSBpZiAoZXZlbnQuZXF1YWxzKDkgLyogS2V5Q29kZS5Fc2NhcGUgKi8pICYmIF90aGlzLmNhbmNlbEhhc0xpc3RlbmVyKSB7CiAgICAgICAgX3RoaXMuX29uRGlkQ2FuY2VsLmZpcmUoKTsKICAgICAgfSBlbHNlIGlmIChldmVudC5lcXVhbHMoMTQgLyogS2V5Q29kZS5Ib21lICovKSkgewogICAgICAgIGV2ZW50SGFuZGxlZCA9IF90aGlzLmZvY3VzRmlyc3QoKTsKICAgICAgfSBlbHNlIGlmIChldmVudC5lcXVhbHMoMTMgLyogS2V5Q29kZS5FbmQgKi8pKSB7CiAgICAgICAgZXZlbnRIYW5kbGVkID0gX3RoaXMuZm9jdXNMYXN0KCk7CiAgICAgIH0gZWxzZSBpZiAoZXZlbnQuZXF1YWxzKDIgLyogS2V5Q29kZS5UYWIgKi8pICYmIGZvY3VzZWRJdGVtIGluc3RhbmNlb2YgQmFzZUFjdGlvblZpZXdJdGVtICYmIGZvY3VzZWRJdGVtLnRyYXBzQXJyb3dOYXZpZ2F0aW9uKSB7CiAgICAgICAgZXZlbnRIYW5kbGVkID0gX3RoaXMuZm9jdXNOZXh0KCk7CiAgICAgIH0gZWxzZSBpZiAoX3RoaXMuaXNUcmlnZ2VyS2V5RXZlbnQoZXZlbnQpKSB7CiAgICAgICAgLy8gU3RheWluZyBvdXQgb2YgdGhlIGVsc2UgYnJhbmNoIGV2ZW4gaWYgbm90IHRyaWdnZXJlZAogICAgICAgIGlmIChfdGhpcy5fdHJpZ2dlcktleXMua2V5RG93bikgewogICAgICAgICAgX3RoaXMuZG9UcmlnZ2VyKGV2ZW50KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMudHJpZ2dlcktleURvd24gPSB0cnVlOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBldmVudEhhbmRsZWQgPSBmYWxzZTsKICAgICAgfQogICAgICBpZiAoZXZlbnRIYW5kbGVkKSB7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgfQogICAgfSkpOwogICAgX3RoaXMuX3JlZ2lzdGVyKERPTS5hZGREaXNwb3NhYmxlTGlzdGVuZXIoX3RoaXMuZG9tTm9kZSwgRE9NLkV2ZW50VHlwZS5LRVlfVVAsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciBldmVudCA9IG5ldyBTdGFuZGFyZEtleWJvYXJkRXZlbnQoZSk7CiAgICAgIC8vIFJ1biBhY3Rpb24gb24gRW50ZXIvU3BhY2UKICAgICAgaWYgKF90aGlzLmlzVHJpZ2dlcktleUV2ZW50KGV2ZW50KSkgewogICAgICAgIGlmICghX3RoaXMuX3RyaWdnZXJLZXlzLmtleURvd24gJiYgX3RoaXMudHJpZ2dlcktleURvd24pIHsKICAgICAgICAgIF90aGlzLnRyaWdnZXJLZXlEb3duID0gZmFsc2U7CiAgICAgICAgICBfdGhpcy5kb1RyaWdnZXIoZXZlbnQpOwogICAgICAgIH0KICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICB9CiAgICAgIC8vIFJlY29tcHV0ZSBmb2N1c2VkIGl0ZW0KICAgICAgZWxzZSBpZiAoZXZlbnQuZXF1YWxzKDIgLyogS2V5Q29kZS5UYWIgKi8pIHx8IGV2ZW50LmVxdWFscygxMDI0IC8qIEtleU1vZC5TaGlmdCAqLyB8IDIgLyogS2V5Q29kZS5UYWIgKi8pKSB7CiAgICAgICAgX3RoaXMudXBkYXRlRm9jdXNlZEl0ZW0oKTsKICAgICAgfQogICAgfSkpOwogICAgX3RoaXMuZm9jdXNUcmFja2VyID0gX3RoaXMuX3JlZ2lzdGVyKERPTS50cmFja0ZvY3VzKF90aGlzLmRvbU5vZGUpKTsKICAgIF90aGlzLl9yZWdpc3RlcihfdGhpcy5mb2N1c1RyYWNrZXIub25EaWRCbHVyKGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKERPTS5nZXRBY3RpdmVFbGVtZW50KCkgPT09IF90aGlzLmRvbU5vZGUgfHwgIURPTS5pc0FuY2VzdG9yKERPTS5nZXRBY3RpdmVFbGVtZW50KCksIF90aGlzLmRvbU5vZGUpKSB7CiAgICAgICAgX3RoaXMuX29uRGlkQmx1ci5maXJlKCk7CiAgICAgICAgX3RoaXMuZm9jdXNlZEl0ZW0gPSB1bmRlZmluZWQ7CiAgICAgICAgX3RoaXMucHJldmlvdXNseUZvY3VzZWRJdGVtID0gdW5kZWZpbmVkOwogICAgICAgIF90aGlzLnRyaWdnZXJLZXlEb3duID0gZmFsc2U7CiAgICAgIH0KICAgIH0pKTsKICAgIF90aGlzLl9yZWdpc3RlcihfdGhpcy5mb2N1c1RyYWNrZXIub25EaWRGb2N1cyhmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfdGhpcy51cGRhdGVGb2N1c2VkSXRlbSgpOwogICAgfSkpOwogICAgX3RoaXMuYWN0aW9uc0xpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpOwogICAgX3RoaXMuYWN0aW9uc0xpc3QuY2xhc3NOYW1lID0gJ2FjdGlvbnMtY29udGFpbmVyJzsKICAgIF90aGlzLmFjdGlvbnNMaXN0LnNldEF0dHJpYnV0ZSgncm9sZScsIF90aGlzLm9wdGlvbnMuYXJpYVJvbGUgfHwgJ3Rvb2xiYXInKTsKICAgIGlmIChfdGhpcy5vcHRpb25zLmFyaWFMYWJlbCkgewogICAgICBfdGhpcy5hY3Rpb25zTGlzdC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBfdGhpcy5vcHRpb25zLmFyaWFMYWJlbCk7CiAgICB9CiAgICBfdGhpcy5kb21Ob2RlLmFwcGVuZENoaWxkKF90aGlzLmFjdGlvbnNMaXN0KTsKICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChfdGhpcy5kb21Ob2RlKTsKICAgIHJldHVybiBfdGhpczsKICB9CiAgX2NyZWF0ZUNsYXNzKEFjdGlvbkJhciwgW3sKICAgIGtleTogInJlZnJlc2hSb2xlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZWZyZXNoUm9sZSgpIHsKICAgICAgaWYgKHRoaXMubGVuZ3RoKCkgPj0gMikgewogICAgICAgIHRoaXMuYWN0aW9uc0xpc3Quc2V0QXR0cmlidXRlKCdyb2xlJywgdGhpcy5vcHRpb25zLmFyaWFSb2xlIHx8ICd0b29sYmFyJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hY3Rpb25zTGlzdC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAncHJlc2VudGF0aW9uJyk7CiAgICAgIH0KICAgIH0KICAgIC8vIFNvbWUgYWN0aW9uIGJhcnMgc2hvdWxkIG5vdCBiZSBmb2N1c2FibGUgYXQgdGltZXMKICAgIC8vIFdoZW4gYW4gYWN0aW9uIGJhciBpcyBub3QgZm9jdXNhYmxlIG1ha2Ugc3VyZSB0byBtYWtlIGFsbCB0aGUgZWxlbWVudHMgaW5zaWRlIGl0IG5vdCBmb2N1c2FibGUKICAgIC8vIFdoZW4gYW4gYWN0aW9uIGJhciBpcyBmb2N1c2FibGUgYWdhaW4sIG1ha2Ugc3VyZSB0aGUgZmlyc3QgaXRlbSBjYW4gYmUgZm9jdXNlZAogIH0sIHsKICAgIGtleTogInNldEZvY3VzYWJsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Rm9jdXNhYmxlKGZvY3VzYWJsZSkgewogICAgICB0aGlzLmZvY3VzYWJsZSA9IGZvY3VzYWJsZTsKICAgICAgaWYgKHRoaXMuZm9jdXNhYmxlKSB7CiAgICAgICAgdmFyIGZpcnN0RW5hYmxlZCA9IHRoaXMudmlld0l0ZW1zLmZpbmQoZnVuY3Rpb24gKHZpKSB7CiAgICAgICAgICByZXR1cm4gdmkgaW5zdGFuY2VvZiBCYXNlQWN0aW9uVmlld0l0ZW0gJiYgdmkuaXNFbmFibGVkKCk7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKGZpcnN0RW5hYmxlZCBpbnN0YW5jZW9mIEJhc2VBY3Rpb25WaWV3SXRlbSkgewogICAgICAgICAgZmlyc3RFbmFibGVkLnNldEZvY3VzYWJsZSh0cnVlKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy52aWV3SXRlbXMuZm9yRWFjaChmdW5jdGlvbiAodmkpIHsKICAgICAgICAgIGlmICh2aSBpbnN0YW5jZW9mIEJhc2VBY3Rpb25WaWV3SXRlbSkgewogICAgICAgICAgICB2aS5zZXRGb2N1c2FibGUoZmFsc2UpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNUcmlnZ2VyS2V5RXZlbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzVHJpZ2dlcktleUV2ZW50KGV2ZW50KSB7CiAgICAgIHZhciByZXQgPSBmYWxzZTsKICAgICAgdGhpcy5fdHJpZ2dlcktleXMua2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXlDb2RlKSB7CiAgICAgICAgcmV0ID0gcmV0IHx8IGV2ZW50LmVxdWFscyhrZXlDb2RlKTsKICAgICAgfSk7CiAgICAgIHJldHVybiByZXQ7CiAgICB9CiAgfSwgewogICAga2V5OiAidXBkYXRlRm9jdXNlZEl0ZW0iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUZvY3VzZWRJdGVtKCkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYWN0aW9uc0xpc3QuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgZWxlbSA9IHRoaXMuYWN0aW9uc0xpc3QuY2hpbGRyZW5baV07CiAgICAgICAgaWYgKERPTS5pc0FuY2VzdG9yKERPTS5nZXRBY3RpdmVFbGVtZW50KCksIGVsZW0pKSB7CiAgICAgICAgICB0aGlzLmZvY3VzZWRJdGVtID0gaTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImNvbnRleHQiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0OwogICAgfSwKICAgIHNldDogZnVuY3Rpb24gc2V0KGNvbnRleHQpIHsKICAgICAgdGhpcy5fY29udGV4dCA9IGNvbnRleHQ7CiAgICAgIHRoaXMudmlld0l0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICByZXR1cm4gaS5zZXRBY3Rpb25Db250ZXh0KGNvbnRleHQpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhY3Rpb25SdW5uZXIiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9hY3Rpb25SdW5uZXI7CiAgICB9LAogICAgc2V0OiBmdW5jdGlvbiBzZXQoYWN0aW9uUnVubmVyKSB7CiAgICAgIGlmIChhY3Rpb25SdW5uZXIpIHsKICAgICAgICB0aGlzLl9hY3Rpb25SdW5uZXIgPSBhY3Rpb25SdW5uZXI7CiAgICAgICAgdGhpcy52aWV3SXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0uYWN0aW9uUnVubmVyID0gYWN0aW9uUnVubmVyOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0Q29udGFpbmVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb250YWluZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLmRvbU5vZGU7CiAgICB9CiAgfSwgewogICAga2V5OiAicHVzaCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcHVzaChhcmcpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICAgICAgdmFyIGFjdGlvbnMgPSBBcnJheS5pc0FycmF5KGFyZykgPyBhcmcgOiBbYXJnXTsKICAgICAgdmFyIGluZGV4ID0gdHlwZXMuaXNOdW1iZXIob3B0aW9ucy5pbmRleCkgPyBvcHRpb25zLmluZGV4IDogbnVsbDsKICAgICAgYWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChhY3Rpb24pIHsKICAgICAgICB2YXIgYWN0aW9uVmlld0l0ZW1FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTsKICAgICAgICBhY3Rpb25WaWV3SXRlbUVsZW1lbnQuY2xhc3NOYW1lID0gJ2FjdGlvbi1pdGVtJzsKICAgICAgICBhY3Rpb25WaWV3SXRlbUVsZW1lbnQuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3ByZXNlbnRhdGlvbicpOwogICAgICAgIHZhciBpdGVtOwogICAgICAgIGlmIChfdGhpczIub3B0aW9ucy5hY3Rpb25WaWV3SXRlbVByb3ZpZGVyKSB7CiAgICAgICAgICBpdGVtID0gX3RoaXMyLm9wdGlvbnMuYWN0aW9uVmlld0l0ZW1Qcm92aWRlcihhY3Rpb24pOwogICAgICAgIH0KICAgICAgICBpZiAoIWl0ZW0pIHsKICAgICAgICAgIGl0ZW0gPSBuZXcgQWN0aW9uVmlld0l0ZW0oX3RoaXMyLmNvbnRleHQsIGFjdGlvbiwgT2JqZWN0LmFzc2lnbih7CiAgICAgICAgICAgIGhvdmVyRGVsZWdhdGU6IF90aGlzMi5vcHRpb25zLmhvdmVyRGVsZWdhdGUKICAgICAgICAgIH0sIG9wdGlvbnMpKTsKICAgICAgICB9CiAgICAgICAgLy8gUHJldmVudCBuYXRpdmUgY29udGV4dCBtZW51IG9uIGFjdGlvbnMKICAgICAgICBpZiAoIV90aGlzMi5vcHRpb25zLmFsbG93Q29udGV4dE1lbnUpIHsKICAgICAgICAgIF90aGlzMi52aWV3SXRlbURpc3Bvc2FibGVzLnNldChpdGVtLCBET00uYWRkRGlzcG9zYWJsZUxpc3RlbmVyKGFjdGlvblZpZXdJdGVtRWxlbWVudCwgRE9NLkV2ZW50VHlwZS5DT05URVhUX01FTlUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIERPTS5FdmVudEhlbHBlci5zdG9wKGUsIHRydWUpOwogICAgICAgICAgfSkpOwogICAgICAgIH0KICAgICAgICBpdGVtLmFjdGlvblJ1bm5lciA9IF90aGlzMi5fYWN0aW9uUnVubmVyOwogICAgICAgIGl0ZW0uc2V0QWN0aW9uQ29udGV4dChfdGhpczIuY29udGV4dCk7CiAgICAgICAgaXRlbS5yZW5kZXIoYWN0aW9uVmlld0l0ZW1FbGVtZW50KTsKICAgICAgICBpZiAoX3RoaXMyLmZvY3VzYWJsZSAmJiBpdGVtIGluc3RhbmNlb2YgQmFzZUFjdGlvblZpZXdJdGVtICYmIF90aGlzMi52aWV3SXRlbXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAvLyBXZSBuZWVkIHRvIGFsbG93IGZvciB0aGUgZmlyc3QgZW5hYmxlZCBpdGVtIHRvIGJlIGZvY3VzZWQgb24gdXNpbmcgdGFiIG5hdmlnYXRpb24gIzEwNjQ0MQogICAgICAgICAgaXRlbS5zZXRGb2N1c2FibGUodHJ1ZSk7CiAgICAgICAgfQogICAgICAgIGlmIChpbmRleCA9PT0gbnVsbCB8fCBpbmRleCA8IDAgfHwgaW5kZXggPj0gX3RoaXMyLmFjdGlvbnNMaXN0LmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgICAgX3RoaXMyLmFjdGlvbnNMaXN0LmFwcGVuZENoaWxkKGFjdGlvblZpZXdJdGVtRWxlbWVudCk7CiAgICAgICAgICBfdGhpczIudmlld0l0ZW1zLnB1c2goaXRlbSk7CiAgICAgICAgICBfdGhpczIuX2FjdGlvbklkcy5wdXNoKGFjdGlvbi5pZCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi5hY3Rpb25zTGlzdC5pbnNlcnRCZWZvcmUoYWN0aW9uVmlld0l0ZW1FbGVtZW50LCBfdGhpczIuYWN0aW9uc0xpc3QuY2hpbGRyZW5baW5kZXhdKTsKICAgICAgICAgIF90aGlzMi52aWV3SXRlbXMuc3BsaWNlKGluZGV4LCAwLCBpdGVtKTsKICAgICAgICAgIF90aGlzMi5fYWN0aW9uSWRzLnNwbGljZShpbmRleCwgMCwgYWN0aW9uLmlkKTsKICAgICAgICAgIGluZGV4Kys7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgaWYgKHR5cGVvZiB0aGlzLmZvY3VzZWRJdGVtID09PSAnbnVtYmVyJykgewogICAgICAgIC8vIEFmdGVyIGEgY2xlYXIgYWN0aW9ucyBtaWdodCBiZSByZS1hZGRlZCB0byBzaW1wbHkgdG9nZ2xlIHNvbWUgYWN0aW9ucy4gV2Ugc2hvdWxkIHByZXNlcnZlIGZvY3VzICM5NzEyOAogICAgICAgIHRoaXMuZm9jdXModGhpcy5mb2N1c2VkSXRlbSk7CiAgICAgIH0KICAgICAgdGhpcy5yZWZyZXNoUm9sZSgpOwogICAgfQogIH0sIHsKICAgIGtleTogImNsZWFyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhcigpIHsKICAgICAgX2Rpc3Bvc2UodGhpcy52aWV3SXRlbXMpOwogICAgICB0aGlzLnZpZXdJdGVtRGlzcG9zYWJsZXMuZm9yRWFjaChmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLmRpc3Bvc2UoKTsKICAgICAgfSk7CiAgICAgIHRoaXMudmlld0l0ZW1EaXNwb3NhYmxlcy5jbGVhcigpOwogICAgICB0aGlzLnZpZXdJdGVtcyA9IFtdOwogICAgICB0aGlzLl9hY3Rpb25JZHMgPSBbXTsKICAgICAgRE9NLmNsZWFyTm9kZSh0aGlzLmFjdGlvbnNMaXN0KTsKICAgICAgdGhpcy5yZWZyZXNoUm9sZSgpOwogICAgfQogIH0sIHsKICAgIGtleTogImxlbmd0aCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbGVuZ3RoKCkgewogICAgICByZXR1cm4gdGhpcy52aWV3SXRlbXMubGVuZ3RoOwogICAgfQogIH0sIHsKICAgIGtleTogImZvY3VzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmb2N1cyhhcmcpIHsKICAgICAgdmFyIHNlbGVjdEZpcnN0ID0gZmFsc2U7CiAgICAgIHZhciBpbmRleCA9IHVuZGVmaW5lZDsKICAgICAgaWYgKGFyZyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgc2VsZWN0Rmlyc3QgPSB0cnVlOwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInKSB7CiAgICAgICAgaW5kZXggPSBhcmc7CiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgICAgc2VsZWN0Rmlyc3QgPSBhcmc7CiAgICAgIH0KICAgICAgaWYgKHNlbGVjdEZpcnN0ICYmIHR5cGVvZiB0aGlzLmZvY3VzZWRJdGVtID09PSAndW5kZWZpbmVkJykgewogICAgICAgIHZhciBmaXJzdEVuYWJsZWQgPSB0aGlzLnZpZXdJdGVtcy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLmlzRW5hYmxlZCgpOwogICAgICAgIH0pOwogICAgICAgIC8vIEZvY3VzIHRoZSBmaXJzdCBlbmFibGVkIGl0ZW0KICAgICAgICB0aGlzLmZvY3VzZWRJdGVtID0gZmlyc3RFbmFibGVkID09PSAtMSA/IHVuZGVmaW5lZCA6IGZpcnN0RW5hYmxlZDsKICAgICAgICB0aGlzLnVwZGF0ZUZvY3VzKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0cnVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoaW5kZXggIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdGhpcy5mb2N1c2VkSXRlbSA9IGluZGV4OwogICAgICAgIH0KICAgICAgICB0aGlzLnVwZGF0ZUZvY3VzKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0cnVlKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImZvY3VzRmlyc3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZvY3VzRmlyc3QoKSB7CiAgICAgIHRoaXMuZm9jdXNlZEl0ZW0gPSB0aGlzLmxlbmd0aCgpIC0gMTsKICAgICAgcmV0dXJuIHRoaXMuZm9jdXNOZXh0KHRydWUpOwogICAgfQogIH0sIHsKICAgIGtleTogImZvY3VzTGFzdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZm9jdXNMYXN0KCkgewogICAgICB0aGlzLmZvY3VzZWRJdGVtID0gMDsKICAgICAgcmV0dXJuIHRoaXMuZm9jdXNQcmV2aW91cyh0cnVlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmb2N1c05leHQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZvY3VzTmV4dChmb3JjZUxvb3ApIHsKICAgICAgaWYgKHR5cGVvZiB0aGlzLmZvY3VzZWRJdGVtID09PSAndW5kZWZpbmVkJykgewogICAgICAgIHRoaXMuZm9jdXNlZEl0ZW0gPSB0aGlzLnZpZXdJdGVtcy5sZW5ndGggLSAxOwogICAgICB9IGVsc2UgaWYgKHRoaXMudmlld0l0ZW1zLmxlbmd0aCA8PSAxKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHZhciBzdGFydEluZGV4ID0gdGhpcy5mb2N1c2VkSXRlbTsKICAgICAgdmFyIGl0ZW07CiAgICAgIGRvIHsKICAgICAgICBpZiAoIWZvcmNlTG9vcCAmJiB0aGlzLm9wdGlvbnMucHJldmVudExvb3BOYXZpZ2F0aW9uICYmIHRoaXMuZm9jdXNlZEl0ZW0gKyAxID49IHRoaXMudmlld0l0ZW1zLmxlbmd0aCkgewogICAgICAgICAgdGhpcy5mb2N1c2VkSXRlbSA9IHN0YXJ0SW5kZXg7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHRoaXMuZm9jdXNlZEl0ZW0gPSAodGhpcy5mb2N1c2VkSXRlbSArIDEpICUgdGhpcy52aWV3SXRlbXMubGVuZ3RoOwogICAgICAgIGl0ZW0gPSB0aGlzLnZpZXdJdGVtc1t0aGlzLmZvY3VzZWRJdGVtXTsKICAgICAgfSB3aGlsZSAodGhpcy5mb2N1c2VkSXRlbSAhPT0gc3RhcnRJbmRleCAmJiAodGhpcy5vcHRpb25zLmZvY3VzT25seUVuYWJsZWRJdGVtcyAmJiAhaXRlbS5pc0VuYWJsZWQoKSB8fCBpdGVtLmFjdGlvbi5pZCA9PT0gU2VwYXJhdG9yLklEKSk7CiAgICAgIHRoaXMudXBkYXRlRm9jdXMoKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAiZm9jdXNQcmV2aW91cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZm9jdXNQcmV2aW91cyhmb3JjZUxvb3ApIHsKICAgICAgaWYgKHR5cGVvZiB0aGlzLmZvY3VzZWRJdGVtID09PSAndW5kZWZpbmVkJykgewogICAgICAgIHRoaXMuZm9jdXNlZEl0ZW0gPSAwOwogICAgICB9IGVsc2UgaWYgKHRoaXMudmlld0l0ZW1zLmxlbmd0aCA8PSAxKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHZhciBzdGFydEluZGV4ID0gdGhpcy5mb2N1c2VkSXRlbTsKICAgICAgdmFyIGl0ZW07CiAgICAgIGRvIHsKICAgICAgICB0aGlzLmZvY3VzZWRJdGVtID0gdGhpcy5mb2N1c2VkSXRlbSAtIDE7CiAgICAgICAgaWYgKHRoaXMuZm9jdXNlZEl0ZW0gPCAwKSB7CiAgICAgICAgICBpZiAoIWZvcmNlTG9vcCAmJiB0aGlzLm9wdGlvbnMucHJldmVudExvb3BOYXZpZ2F0aW9uKSB7CiAgICAgICAgICAgIHRoaXMuZm9jdXNlZEl0ZW0gPSBzdGFydEluZGV4OwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmZvY3VzZWRJdGVtID0gdGhpcy52aWV3SXRlbXMubGVuZ3RoIC0gMTsKICAgICAgICB9CiAgICAgICAgaXRlbSA9IHRoaXMudmlld0l0ZW1zW3RoaXMuZm9jdXNlZEl0ZW1dOwogICAgICB9IHdoaWxlICh0aGlzLmZvY3VzZWRJdGVtICE9PSBzdGFydEluZGV4ICYmICh0aGlzLm9wdGlvbnMuZm9jdXNPbmx5RW5hYmxlZEl0ZW1zICYmICFpdGVtLmlzRW5hYmxlZCgpIHx8IGl0ZW0uYWN0aW9uLmlkID09PSBTZXBhcmF0b3IuSUQpKTsKICAgICAgdGhpcy51cGRhdGVGb2N1cyh0cnVlKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAidXBkYXRlRm9jdXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUZvY3VzKGZyb21SaWdodCwgcHJldmVudFNjcm9sbCkgewogICAgICB2YXIgZm9yY2VGb2N1cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7CiAgICAgIHZhciBfYTsKICAgICAgaWYgKHR5cGVvZiB0aGlzLmZvY3VzZWRJdGVtID09PSAndW5kZWZpbmVkJykgewogICAgICAgIHRoaXMuYWN0aW9uc0xpc3QuZm9jdXMoewogICAgICAgICAgcHJldmVudFNjcm9sbDogcHJldmVudFNjcm9sbAogICAgICAgIH0pOwogICAgICB9CiAgICAgIGlmICh0aGlzLnByZXZpb3VzbHlGb2N1c2VkSXRlbSAhPT0gdW5kZWZpbmVkICYmIHRoaXMucHJldmlvdXNseUZvY3VzZWRJdGVtICE9PSB0aGlzLmZvY3VzZWRJdGVtKSB7CiAgICAgICAgKF9hID0gdGhpcy52aWV3SXRlbXNbdGhpcy5wcmV2aW91c2x5Rm9jdXNlZEl0ZW1dKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYmx1cigpOwogICAgICB9CiAgICAgIHZhciBhY3Rpb25WaWV3SXRlbSA9IHRoaXMuZm9jdXNlZEl0ZW0gIT09IHVuZGVmaW5lZCAmJiB0aGlzLnZpZXdJdGVtc1t0aGlzLmZvY3VzZWRJdGVtXTsKICAgICAgaWYgKGFjdGlvblZpZXdJdGVtKSB7CiAgICAgICAgdmFyIGZvY3VzSXRlbSA9IHRydWU7CiAgICAgICAgaWYgKCF0eXBlcy5pc0Z1bmN0aW9uKGFjdGlvblZpZXdJdGVtLmZvY3VzKSkgewogICAgICAgICAgZm9jdXNJdGVtID0gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZm9jdXNPbmx5RW5hYmxlZEl0ZW1zICYmIHR5cGVzLmlzRnVuY3Rpb24oYWN0aW9uVmlld0l0ZW0uaXNFbmFibGVkKSAmJiAhYWN0aW9uVmlld0l0ZW0uaXNFbmFibGVkKCkpIHsKICAgICAgICAgIGZvY3VzSXRlbSA9IGZhbHNlOwogICAgICAgIH0KICAgICAgICBpZiAoYWN0aW9uVmlld0l0ZW0uYWN0aW9uLmlkID09PSBTZXBhcmF0b3IuSUQpIHsKICAgICAgICAgIGZvY3VzSXRlbSA9IGZhbHNlOwogICAgICAgIH0KICAgICAgICBpZiAoIWZvY3VzSXRlbSkgewogICAgICAgICAgdGhpcy5hY3Rpb25zTGlzdC5mb2N1cyh7CiAgICAgICAgICAgIHByZXZlbnRTY3JvbGw6IHByZXZlbnRTY3JvbGwKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5wcmV2aW91c2x5Rm9jdXNlZEl0ZW0gPSB1bmRlZmluZWQ7CiAgICAgICAgfSBlbHNlIGlmIChmb3JjZUZvY3VzIHx8IHRoaXMucHJldmlvdXNseUZvY3VzZWRJdGVtICE9PSB0aGlzLmZvY3VzZWRJdGVtKSB7CiAgICAgICAgICBhY3Rpb25WaWV3SXRlbS5mb2N1cyhmcm9tUmlnaHQpOwogICAgICAgICAgdGhpcy5wcmV2aW91c2x5Rm9jdXNlZEl0ZW0gPSB0aGlzLmZvY3VzZWRJdGVtOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImRvVHJpZ2dlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZG9UcmlnZ2VyKGV2ZW50KSB7CiAgICAgIGlmICh0eXBlb2YgdGhpcy5mb2N1c2VkSXRlbSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICByZXR1cm47IC8vbm90aGluZyB0byBmb2N1cwogICAgICB9CiAgICAgIC8vIHRyaWdnZXIgYWN0aW9uCiAgICAgIHZhciBhY3Rpb25WaWV3SXRlbSA9IHRoaXMudmlld0l0ZW1zW3RoaXMuZm9jdXNlZEl0ZW1dOwogICAgICBpZiAoYWN0aW9uVmlld0l0ZW0gaW5zdGFuY2VvZiBCYXNlQWN0aW9uVmlld0l0ZW0pIHsKICAgICAgICB2YXIgY29udGV4dCA9IGFjdGlvblZpZXdJdGVtLl9jb250ZXh0ID09PSBudWxsIHx8IGFjdGlvblZpZXdJdGVtLl9jb250ZXh0ID09PSB1bmRlZmluZWQgPyBldmVudCA6IGFjdGlvblZpZXdJdGVtLl9jb250ZXh0OwogICAgICAgIHRoaXMucnVuKGFjdGlvblZpZXdJdGVtLl9hY3Rpb24sIGNvbnRleHQpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAicnVuIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBydW4oYWN0aW9uLCBjb250ZXh0KSB7CiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGlvblJ1bm5lci5ydW4oYWN0aW9uLCBjb250ZXh0KTsKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwogICAgfQogIH0sIHsKICAgIGtleTogImRpc3Bvc2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7CiAgICAgIF9kaXNwb3NlKHRoaXMudmlld0l0ZW1zKTsKICAgICAgdGhpcy52aWV3SXRlbXMgPSBbXTsKICAgICAgdGhpcy5fYWN0aW9uSWRzID0gW107CiAgICAgIHRoaXMuZ2V0Q29udGFpbmVyKCkucmVtb3ZlKCk7CiAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKEFjdGlvbkJhci5wcm90b3R5cGUpLCAiZGlzcG9zZSIsIHRoaXMpLmNhbGwodGhpcyk7CiAgICB9CiAgfV0pOwogIHJldHVybiBBY3Rpb25CYXI7Cn0oRGlzcG9zYWJsZSk7"},{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","DOM","StandardKeyboardEvent","ActionViewItem","BaseActionViewItem","ActionRunner","Separator","Emitter","Disposable","dispose","types","ActionBar","container","options","_a","_b","_c","_d","_e","_f","triggerKeyDown","focusable","_onDidBlur","_register","onDidBlur","event","_onDidCancel","onFirstListenerAdd","cancelHasListener","onDidCancel","_onDidRun","onDidRun","_onBeforeRun","onBeforeRun","_context","context","_orientation","orientation","_triggerKeys","keyDown","triggerKeys","keys","actionRunner","_actionRunner","fire","_actionIds","viewItems","viewItemDisposables","Map","focusedItem","undefined","domNode","document","createElement","className","animated","classList","add","previousKeys","nextKeys","addDisposableListener","EventType","KEY_DOWN","eventHandled","equals","focusPrevious","focusNext","focusFirst","focusLast","trapsArrowNavigation","isTriggerKeyEvent","doTrigger","preventDefault","stopPropagation","KEY_UP","updateFocusedItem","focusTracker","trackFocus","getActiveElement","isAncestor","previouslyFocusedItem","onDidFocus","actionsList","setAttribute","ariaRole","ariaLabel","appendChild","length","firstEnabled","find","vi","isEnabled","setFocusable","forEach","ret","keyCode","i","children","elem","setActionContext","item","arg","actions","Array","isArray","index","isNumber","action","actionViewItemElement","actionViewItemProvider","Object","assign","hoverDelegate","allowContextMenu","set","CONTEXT_MENU","EventHelper","stop","render","push","id","insertBefore","splice","focus","refreshRole","d","clear","clearNode","selectFirst","findIndex","updateFocus","forceLoop","startIndex","preventLoopNavigation","focusOnlyEnabledItems","ID","fromRight","preventScroll","forceFocus","blur","actionViewItem","focusItem","isFunction","run","_action","getContainer","remove"],"sources":["/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/base/browser/ui/actionbar/actionbar.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as DOM from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { ActionViewItem, BaseActionViewItem } from './actionViewItems.js';\nimport { ActionRunner, Separator } from '../../../common/actions.js';\nimport { Emitter } from '../../../common/event.js';\nimport { Disposable, dispose } from '../../../common/lifecycle.js';\nimport * as types from '../../../common/types.js';\nimport './actionbar.css';\nexport class ActionBar extends Disposable {\n    constructor(container, options = {}) {\n        var _a, _b, _c, _d, _e, _f;\n        super();\n        // Trigger Key Tracking\n        this.triggerKeyDown = false;\n        this.focusable = true;\n        this._onDidBlur = this._register(new Emitter());\n        this.onDidBlur = this._onDidBlur.event;\n        this._onDidCancel = this._register(new Emitter({ onFirstListenerAdd: () => this.cancelHasListener = true }));\n        this.onDidCancel = this._onDidCancel.event;\n        this.cancelHasListener = false;\n        this._onDidRun = this._register(new Emitter());\n        this.onDidRun = this._onDidRun.event;\n        this._onBeforeRun = this._register(new Emitter());\n        this.onBeforeRun = this._onBeforeRun.event;\n        this.options = options;\n        this._context = (_a = options.context) !== null && _a !== void 0 ? _a : null;\n        this._orientation = (_b = this.options.orientation) !== null && _b !== void 0 ? _b : 0 /* ActionsOrientation.HORIZONTAL */;\n        this._triggerKeys = {\n            keyDown: (_d = (_c = this.options.triggerKeys) === null || _c === void 0 ? void 0 : _c.keyDown) !== null && _d !== void 0 ? _d : false,\n            keys: (_f = (_e = this.options.triggerKeys) === null || _e === void 0 ? void 0 : _e.keys) !== null && _f !== void 0 ? _f : [3 /* KeyCode.Enter */, 10 /* KeyCode.Space */]\n        };\n        if (this.options.actionRunner) {\n            this._actionRunner = this.options.actionRunner;\n        }\n        else {\n            this._actionRunner = new ActionRunner();\n            this._register(this._actionRunner);\n        }\n        this._register(this._actionRunner.onDidRun(e => this._onDidRun.fire(e)));\n        this._register(this._actionRunner.onBeforeRun(e => this._onBeforeRun.fire(e)));\n        this._actionIds = [];\n        this.viewItems = [];\n        this.viewItemDisposables = new Map();\n        this.focusedItem = undefined;\n        this.domNode = document.createElement('div');\n        this.domNode.className = 'monaco-action-bar';\n        if (options.animated !== false) {\n            this.domNode.classList.add('animated');\n        }\n        let previousKeys;\n        let nextKeys;\n        switch (this._orientation) {\n            case 0 /* ActionsOrientation.HORIZONTAL */:\n                previousKeys = [15 /* KeyCode.LeftArrow */];\n                nextKeys = [17 /* KeyCode.RightArrow */];\n                break;\n            case 1 /* ActionsOrientation.VERTICAL */:\n                previousKeys = [16 /* KeyCode.UpArrow */];\n                nextKeys = [18 /* KeyCode.DownArrow */];\n                this.domNode.className += ' vertical';\n                break;\n        }\n        this._register(DOM.addDisposableListener(this.domNode, DOM.EventType.KEY_DOWN, e => {\n            const event = new StandardKeyboardEvent(e);\n            let eventHandled = true;\n            const focusedItem = typeof this.focusedItem === 'number' ? this.viewItems[this.focusedItem] : undefined;\n            if (previousKeys && (event.equals(previousKeys[0]) || event.equals(previousKeys[1]))) {\n                eventHandled = this.focusPrevious();\n            }\n            else if (nextKeys && (event.equals(nextKeys[0]) || event.equals(nextKeys[1]))) {\n                eventHandled = this.focusNext();\n            }\n            else if (event.equals(9 /* KeyCode.Escape */) && this.cancelHasListener) {\n                this._onDidCancel.fire();\n            }\n            else if (event.equals(14 /* KeyCode.Home */)) {\n                eventHandled = this.focusFirst();\n            }\n            else if (event.equals(13 /* KeyCode.End */)) {\n                eventHandled = this.focusLast();\n            }\n            else if (event.equals(2 /* KeyCode.Tab */) && focusedItem instanceof BaseActionViewItem && focusedItem.trapsArrowNavigation) {\n                eventHandled = this.focusNext();\n            }\n            else if (this.isTriggerKeyEvent(event)) {\n                // Staying out of the else branch even if not triggered\n                if (this._triggerKeys.keyDown) {\n                    this.doTrigger(event);\n                }\n                else {\n                    this.triggerKeyDown = true;\n                }\n            }\n            else {\n                eventHandled = false;\n            }\n            if (eventHandled) {\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        }));\n        this._register(DOM.addDisposableListener(this.domNode, DOM.EventType.KEY_UP, e => {\n            const event = new StandardKeyboardEvent(e);\n            // Run action on Enter/Space\n            if (this.isTriggerKeyEvent(event)) {\n                if (!this._triggerKeys.keyDown && this.triggerKeyDown) {\n                    this.triggerKeyDown = false;\n                    this.doTrigger(event);\n                }\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            // Recompute focused item\n            else if (event.equals(2 /* KeyCode.Tab */) || event.equals(1024 /* KeyMod.Shift */ | 2 /* KeyCode.Tab */)) {\n                this.updateFocusedItem();\n            }\n        }));\n        this.focusTracker = this._register(DOM.trackFocus(this.domNode));\n        this._register(this.focusTracker.onDidBlur(() => {\n            if (DOM.getActiveElement() === this.domNode || !DOM.isAncestor(DOM.getActiveElement(), this.domNode)) {\n                this._onDidBlur.fire();\n                this.focusedItem = undefined;\n                this.previouslyFocusedItem = undefined;\n                this.triggerKeyDown = false;\n            }\n        }));\n        this._register(this.focusTracker.onDidFocus(() => this.updateFocusedItem()));\n        this.actionsList = document.createElement('ul');\n        this.actionsList.className = 'actions-container';\n        this.actionsList.setAttribute('role', this.options.ariaRole || 'toolbar');\n        if (this.options.ariaLabel) {\n            this.actionsList.setAttribute('aria-label', this.options.ariaLabel);\n        }\n        this.domNode.appendChild(this.actionsList);\n        container.appendChild(this.domNode);\n    }\n    refreshRole() {\n        if (this.length() >= 2) {\n            this.actionsList.setAttribute('role', this.options.ariaRole || 'toolbar');\n        }\n        else {\n            this.actionsList.setAttribute('role', 'presentation');\n        }\n    }\n    // Some action bars should not be focusable at times\n    // When an action bar is not focusable make sure to make all the elements inside it not focusable\n    // When an action bar is focusable again, make sure the first item can be focused\n    setFocusable(focusable) {\n        this.focusable = focusable;\n        if (this.focusable) {\n            const firstEnabled = this.viewItems.find(vi => vi instanceof BaseActionViewItem && vi.isEnabled());\n            if (firstEnabled instanceof BaseActionViewItem) {\n                firstEnabled.setFocusable(true);\n            }\n        }\n        else {\n            this.viewItems.forEach(vi => {\n                if (vi instanceof BaseActionViewItem) {\n                    vi.setFocusable(false);\n                }\n            });\n        }\n    }\n    isTriggerKeyEvent(event) {\n        let ret = false;\n        this._triggerKeys.keys.forEach(keyCode => {\n            ret = ret || event.equals(keyCode);\n        });\n        return ret;\n    }\n    updateFocusedItem() {\n        for (let i = 0; i < this.actionsList.children.length; i++) {\n            const elem = this.actionsList.children[i];\n            if (DOM.isAncestor(DOM.getActiveElement(), elem)) {\n                this.focusedItem = i;\n                break;\n            }\n        }\n    }\n    get context() {\n        return this._context;\n    }\n    set context(context) {\n        this._context = context;\n        this.viewItems.forEach(i => i.setActionContext(context));\n    }\n    get actionRunner() {\n        return this._actionRunner;\n    }\n    set actionRunner(actionRunner) {\n        if (actionRunner) {\n            this._actionRunner = actionRunner;\n            this.viewItems.forEach(item => item.actionRunner = actionRunner);\n        }\n    }\n    getContainer() {\n        return this.domNode;\n    }\n    push(arg, options = {}) {\n        const actions = Array.isArray(arg) ? arg : [arg];\n        let index = types.isNumber(options.index) ? options.index : null;\n        actions.forEach((action) => {\n            const actionViewItemElement = document.createElement('li');\n            actionViewItemElement.className = 'action-item';\n            actionViewItemElement.setAttribute('role', 'presentation');\n            let item;\n            if (this.options.actionViewItemProvider) {\n                item = this.options.actionViewItemProvider(action);\n            }\n            if (!item) {\n                item = new ActionViewItem(this.context, action, Object.assign({ hoverDelegate: this.options.hoverDelegate }, options));\n            }\n            // Prevent native context menu on actions\n            if (!this.options.allowContextMenu) {\n                this.viewItemDisposables.set(item, DOM.addDisposableListener(actionViewItemElement, DOM.EventType.CONTEXT_MENU, (e) => {\n                    DOM.EventHelper.stop(e, true);\n                }));\n            }\n            item.actionRunner = this._actionRunner;\n            item.setActionContext(this.context);\n            item.render(actionViewItemElement);\n            if (this.focusable && item instanceof BaseActionViewItem && this.viewItems.length === 0) {\n                // We need to allow for the first enabled item to be focused on using tab navigation #106441\n                item.setFocusable(true);\n            }\n            if (index === null || index < 0 || index >= this.actionsList.children.length) {\n                this.actionsList.appendChild(actionViewItemElement);\n                this.viewItems.push(item);\n                this._actionIds.push(action.id);\n            }\n            else {\n                this.actionsList.insertBefore(actionViewItemElement, this.actionsList.children[index]);\n                this.viewItems.splice(index, 0, item);\n                this._actionIds.splice(index, 0, action.id);\n                index++;\n            }\n        });\n        if (typeof this.focusedItem === 'number') {\n            // After a clear actions might be re-added to simply toggle some actions. We should preserve focus #97128\n            this.focus(this.focusedItem);\n        }\n        this.refreshRole();\n    }\n    clear() {\n        dispose(this.viewItems);\n        this.viewItemDisposables.forEach(d => d.dispose());\n        this.viewItemDisposables.clear();\n        this.viewItems = [];\n        this._actionIds = [];\n        DOM.clearNode(this.actionsList);\n        this.refreshRole();\n    }\n    length() {\n        return this.viewItems.length;\n    }\n    focus(arg) {\n        let selectFirst = false;\n        let index = undefined;\n        if (arg === undefined) {\n            selectFirst = true;\n        }\n        else if (typeof arg === 'number') {\n            index = arg;\n        }\n        else if (typeof arg === 'boolean') {\n            selectFirst = arg;\n        }\n        if (selectFirst && typeof this.focusedItem === 'undefined') {\n            const firstEnabled = this.viewItems.findIndex(item => item.isEnabled());\n            // Focus the first enabled item\n            this.focusedItem = firstEnabled === -1 ? undefined : firstEnabled;\n            this.updateFocus(undefined, undefined, true);\n        }\n        else {\n            if (index !== undefined) {\n                this.focusedItem = index;\n            }\n            this.updateFocus(undefined, undefined, true);\n        }\n    }\n    focusFirst() {\n        this.focusedItem = this.length() - 1;\n        return this.focusNext(true);\n    }\n    focusLast() {\n        this.focusedItem = 0;\n        return this.focusPrevious(true);\n    }\n    focusNext(forceLoop) {\n        if (typeof this.focusedItem === 'undefined') {\n            this.focusedItem = this.viewItems.length - 1;\n        }\n        else if (this.viewItems.length <= 1) {\n            return false;\n        }\n        const startIndex = this.focusedItem;\n        let item;\n        do {\n            if (!forceLoop && this.options.preventLoopNavigation && this.focusedItem + 1 >= this.viewItems.length) {\n                this.focusedItem = startIndex;\n                return false;\n            }\n            this.focusedItem = (this.focusedItem + 1) % this.viewItems.length;\n            item = this.viewItems[this.focusedItem];\n        } while (this.focusedItem !== startIndex && ((this.options.focusOnlyEnabledItems && !item.isEnabled()) || item.action.id === Separator.ID));\n        this.updateFocus();\n        return true;\n    }\n    focusPrevious(forceLoop) {\n        if (typeof this.focusedItem === 'undefined') {\n            this.focusedItem = 0;\n        }\n        else if (this.viewItems.length <= 1) {\n            return false;\n        }\n        const startIndex = this.focusedItem;\n        let item;\n        do {\n            this.focusedItem = this.focusedItem - 1;\n            if (this.focusedItem < 0) {\n                if (!forceLoop && this.options.preventLoopNavigation) {\n                    this.focusedItem = startIndex;\n                    return false;\n                }\n                this.focusedItem = this.viewItems.length - 1;\n            }\n            item = this.viewItems[this.focusedItem];\n        } while (this.focusedItem !== startIndex && ((this.options.focusOnlyEnabledItems && !item.isEnabled()) || item.action.id === Separator.ID));\n        this.updateFocus(true);\n        return true;\n    }\n    updateFocus(fromRight, preventScroll, forceFocus = false) {\n        var _a;\n        if (typeof this.focusedItem === 'undefined') {\n            this.actionsList.focus({ preventScroll });\n        }\n        if (this.previouslyFocusedItem !== undefined && this.previouslyFocusedItem !== this.focusedItem) {\n            (_a = this.viewItems[this.previouslyFocusedItem]) === null || _a === void 0 ? void 0 : _a.blur();\n        }\n        const actionViewItem = this.focusedItem !== undefined && this.viewItems[this.focusedItem];\n        if (actionViewItem) {\n            let focusItem = true;\n            if (!types.isFunction(actionViewItem.focus)) {\n                focusItem = false;\n            }\n            if (this.options.focusOnlyEnabledItems && types.isFunction(actionViewItem.isEnabled) && !actionViewItem.isEnabled()) {\n                focusItem = false;\n            }\n            if (actionViewItem.action.id === Separator.ID) {\n                focusItem = false;\n            }\n            if (!focusItem) {\n                this.actionsList.focus({ preventScroll });\n                this.previouslyFocusedItem = undefined;\n            }\n            else if (forceFocus || this.previouslyFocusedItem !== this.focusedItem) {\n                actionViewItem.focus(fromRight);\n                this.previouslyFocusedItem = this.focusedItem;\n            }\n        }\n    }\n    doTrigger(event) {\n        if (typeof this.focusedItem === 'undefined') {\n            return; //nothing to focus\n        }\n        // trigger action\n        const actionViewItem = this.viewItems[this.focusedItem];\n        if (actionViewItem instanceof BaseActionViewItem) {\n            const context = (actionViewItem._context === null || actionViewItem._context === undefined) ? event : actionViewItem._context;\n            this.run(actionViewItem._action, context);\n        }\n    }\n    run(action, context) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this._actionRunner.run(action, context);\n        });\n    }\n    dispose() {\n        dispose(this.viewItems);\n        this.viewItems = [];\n        this._actionIds = [];\n        this.getContainer().remove();\n        super.dispose();\n    }\n}\n"],"mappings":"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"}]}
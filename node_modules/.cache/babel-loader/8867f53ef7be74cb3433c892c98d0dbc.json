{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/platform/contextkey/browser/contextKeyService.js","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/platform/contextkey/browser/contextKeyService.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkuanMiOwppbXBvcnQgX2dldCBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2dldC5qcyI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZi5qcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cy5qcyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlci5qcyI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyI7CmltcG9ydCBfdHlwZW9mIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWZsZWN0LnRvLXN0cmluZy10YWcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnNldC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiOwovKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLgogKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KdmFyIF9fZGVjb3JhdGUgPSB0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHsKICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsCiAgICByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywKICAgIGQ7CiAgaWYgKCh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YoUmVmbGVjdCkpID09PSAib2JqZWN0IiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gImZ1bmN0aW9uIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO2Vsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7CiAgfQogIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7Cn07CnZhciBfX3BhcmFtID0gdGhpcyAmJiB0aGlzLl9fcGFyYW0gfHwgZnVuY3Rpb24gKHBhcmFtSW5kZXgsIGRlY29yYXRvcikgewogIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsKICAgIGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7CiAgfTsKfTsKaW1wb3J0IHsgUGF1c2VhYmxlRW1pdHRlciB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2V2ZW50LmpzJzsKaW1wb3J0IHsgSXRlcmFibGUgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9pdGVyYXRvci5qcyc7CmltcG9ydCB7IERpc3Bvc2FibGVTdG9yZSwgTXV0YWJsZURpc3Bvc2FibGUgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9saWZlY3ljbGUuanMnOwppbXBvcnQgeyBUZXJuYXJ5U2VhcmNoVHJlZSB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL21hcC5qcyc7CmltcG9ydCB7IGNsb25lQW5kQ2hhbmdlIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vb2JqZWN0cy5qcyc7CmltcG9ydCB7IFVSSSB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL3VyaS5qcyc7CmltcG9ydCB7IGxvY2FsaXplIH0gZnJvbSAnLi4vLi4vLi4vbmxzLmpzJzsKaW1wb3J0IHsgQ29tbWFuZHNSZWdpc3RyeSB9IGZyb20gJy4uLy4uL2NvbW1hbmRzL2NvbW1vbi9jb21tYW5kcy5qcyc7CmltcG9ydCB7IElDb25maWd1cmF0aW9uU2VydmljZSB9IGZyb20gJy4uLy4uL2NvbmZpZ3VyYXRpb24vY29tbW9uL2NvbmZpZ3VyYXRpb24uanMnOwppbXBvcnQgeyBJQ29udGV4dEtleVNlcnZpY2UsIFJhd0NvbnRleHRLZXksIFNFVF9DT05URVhUX0NPTU1BTkRfSUQgfSBmcm9tICcuLi9jb21tb24vY29udGV4dGtleS5qcyc7CnZhciBLRVlCSU5ESU5HX0NPTlRFWFRfQVRUUiA9ICdkYXRhLWtleWJpbmRpbmctY29udGV4dCc7CmV4cG9ydCB2YXIgQ29udGV4dCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQ29udGV4dChpZCwgcGFyZW50KSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29udGV4dCk7CiAgICB0aGlzLl9pZCA9IGlkOwogICAgdGhpcy5fcGFyZW50ID0gcGFyZW50OwogICAgdGhpcy5fdmFsdWUgPSBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgdGhpcy5fdmFsdWVbJ19jb250ZXh0SWQnXSA9IGlkOwogIH0KICBfY3JlYXRlQ2xhc3MoQ29udGV4dCwgW3sKICAgIGtleTogInZhbHVlIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fdmFsdWUpOwogICAgfQogIH0sIHsKICAgIGtleTogInNldFZhbHVlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZShrZXksIHZhbHVlKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCdTRVQgJyArIGtleSArICcgPSAnICsgdmFsdWUgKyAnIE9OICcgKyB0aGlzLl9pZCk7CiAgICAgIGlmICh0aGlzLl92YWx1ZVtrZXldICE9PSB2YWx1ZSkgewogICAgICAgIHRoaXMuX3ZhbHVlW2tleV0gPSB2YWx1ZTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVtb3ZlVmFsdWUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVZhbHVlKGtleSkgewogICAgICAvLyBjb25zb2xlLmxvZygnUkVNT1ZFICcgKyBrZXkgKyAnIEZST00gJyArIHRoaXMuX2lkKTsKICAgICAgaWYgKGtleSBpbiB0aGlzLl92YWx1ZSkgewogICAgICAgIGRlbGV0ZSB0aGlzLl92YWx1ZVtrZXldOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRWYWx1ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoa2V5KSB7CiAgICAgIHZhciByZXQgPSB0aGlzLl92YWx1ZVtrZXldOwogICAgICBpZiAodHlwZW9mIHJldCA9PT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5fcGFyZW50KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudC5nZXRWYWx1ZShrZXkpOwogICAgICB9CiAgICAgIHJldHVybiByZXQ7CiAgICB9CiAgfV0pOwogIHJldHVybiBDb250ZXh0Owp9KCk7CnZhciBOdWxsQ29udGV4dCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0NvbnRleHQpIHsKICBfaW5oZXJpdHMoTnVsbENvbnRleHQsIF9Db250ZXh0KTsKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKE51bGxDb250ZXh0KTsKICBmdW5jdGlvbiBOdWxsQ29udGV4dCgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOdWxsQ29udGV4dCk7CiAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgLTEsIG51bGwpOwogIH0KICBfY3JlYXRlQ2xhc3MoTnVsbENvbnRleHQsIFt7CiAgICBrZXk6ICJzZXRWYWx1ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUoa2V5LCB2YWx1ZSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVtb3ZlVmFsdWUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVZhbHVlKGtleSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0VmFsdWUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKGtleSkgewogICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfQogIH1dKTsKICByZXR1cm4gTnVsbENvbnRleHQ7Cn0oQ29udGV4dCk7Ck51bGxDb250ZXh0LklOU1RBTkNFID0gbmV3IE51bGxDb250ZXh0KCk7CnZhciBDb25maWdBd2FyZUNvbnRleHRWYWx1ZXNDb250YWluZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db250ZXh0MikgewogIF9pbmhlcml0cyhDb25maWdBd2FyZUNvbnRleHRWYWx1ZXNDb250YWluZXIsIF9Db250ZXh0Mik7CiAgdmFyIF9zdXBlcjIgPSBfY3JlYXRlU3VwZXIoQ29uZmlnQXdhcmVDb250ZXh0VmFsdWVzQ29udGFpbmVyKTsKICBmdW5jdGlvbiBDb25maWdBd2FyZUNvbnRleHRWYWx1ZXNDb250YWluZXIoaWQsIF9jb25maWd1cmF0aW9uU2VydmljZSwgZW1pdHRlcikgewogICAgdmFyIF90aGlzOwogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbmZpZ0F3YXJlQ29udGV4dFZhbHVlc0NvbnRhaW5lcik7CiAgICBfdGhpcyA9IF9zdXBlcjIuY2FsbCh0aGlzLCBpZCwgbnVsbCk7CiAgICBfdGhpcy5fY29uZmlndXJhdGlvblNlcnZpY2UgPSBfY29uZmlndXJhdGlvblNlcnZpY2U7CiAgICBfdGhpcy5fdmFsdWVzID0gVGVybmFyeVNlYXJjaFRyZWUuZm9yQ29uZmlnS2V5cygpOwogICAgX3RoaXMuX2xpc3RlbmVyID0gX3RoaXMuX2NvbmZpZ3VyYXRpb25TZXJ2aWNlLm9uRGlkQ2hhbmdlQ29uZmlndXJhdGlvbihmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgaWYgKGV2ZW50LnNvdXJjZSA9PT0gNyAvKiBDb25maWd1cmF0aW9uVGFyZ2V0LkRFRkFVTFQgKi8pIHsKICAgICAgICAvLyBuZXcgc2V0dGluZywgcmVzZXQgZXZlcnl0aGluZwogICAgICAgIHZhciBhbGxLZXlzID0gQXJyYXkuZnJvbShJdGVyYWJsZS5tYXAoX3RoaXMuX3ZhbHVlcywgZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDEpLAogICAgICAgICAgICBrID0gX3JlZjJbMF07CiAgICAgICAgICByZXR1cm4gazsKICAgICAgICB9KSk7CiAgICAgICAgX3RoaXMuX3ZhbHVlcy5jbGVhcigpOwogICAgICAgIGVtaXR0ZXIuZmlyZShuZXcgQXJyYXlDb250ZXh0S2V5Q2hhbmdlRXZlbnQoYWxsS2V5cykpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBjaGFuZ2VkS2V5cyA9IFtdOwogICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihldmVudC5hZmZlY3RlZEtleXMpLAogICAgICAgICAgX3N0ZXA7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBjb25maWdLZXkgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgICAgdmFyIGNvbnRleHRLZXkgPSAiY29uZmlnLiIuY29uY2F0KGNvbmZpZ0tleSk7CiAgICAgICAgICAgIHZhciBjYWNoZWRJdGVtcyA9IF90aGlzLl92YWx1ZXMuZmluZFN1cGVyc3RyKGNvbnRleHRLZXkpOwogICAgICAgICAgICBpZiAoY2FjaGVkSXRlbXMgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIGNoYW5nZWRLZXlzLnB1c2guYXBwbHkoY2hhbmdlZEtleXMsIF90b0NvbnN1bWFibGVBcnJheShJdGVyYWJsZS5tYXAoY2FjaGVkSXRlbXMsIGZ1bmN0aW9uIChfcmVmMykgewogICAgICAgICAgICAgICAgdmFyIF9yZWY0ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjMsIDEpLAogICAgICAgICAgICAgICAgICBrZXkgPSBfcmVmNFswXTsKICAgICAgICAgICAgICAgIHJldHVybiBrZXk7CiAgICAgICAgICAgICAgfSkpKTsKICAgICAgICAgICAgICBfdGhpcy5fdmFsdWVzLmRlbGV0ZVN1cGVyc3RyKGNvbnRleHRLZXkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChfdGhpcy5fdmFsdWVzLmhhcyhjb250ZXh0S2V5KSkgewogICAgICAgICAgICAgIGNoYW5nZWRLZXlzLnB1c2goY29udGV4dEtleSk7CiAgICAgICAgICAgICAgX3RoaXMuX3ZhbHVlcy5kZWxldGUoY29udGV4dEtleSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgfQogICAgICAgIGVtaXR0ZXIuZmlyZShuZXcgQXJyYXlDb250ZXh0S2V5Q2hhbmdlRXZlbnQoY2hhbmdlZEtleXMpKTsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gX3RoaXM7CiAgfQogIF9jcmVhdGVDbGFzcyhDb25maWdBd2FyZUNvbnRleHRWYWx1ZXNDb250YWluZXIsIFt7CiAgICBrZXk6ICJkaXNwb3NlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwb3NlKCkgewogICAgICB0aGlzLl9saXN0ZW5lci5kaXNwb3NlKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0VmFsdWUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKGtleSkgewogICAgICBpZiAoa2V5LmluZGV4T2YoQ29uZmlnQXdhcmVDb250ZXh0VmFsdWVzQ29udGFpbmVyLl9rZXlQcmVmaXgpICE9PSAwKSB7CiAgICAgICAgcmV0dXJuIF9nZXQoX2dldFByb3RvdHlwZU9mKENvbmZpZ0F3YXJlQ29udGV4dFZhbHVlc0NvbnRhaW5lci5wcm90b3R5cGUpLCAiZ2V0VmFsdWUiLCB0aGlzKS5jYWxsKHRoaXMsIGtleSk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuX3ZhbHVlcy5oYXMoa2V5KSkgewogICAgICAgIHJldHVybiB0aGlzLl92YWx1ZXMuZ2V0KGtleSk7CiAgICAgIH0KICAgICAgdmFyIGNvbmZpZ0tleSA9IGtleS5zdWJzdHIoQ29uZmlnQXdhcmVDb250ZXh0VmFsdWVzQ29udGFpbmVyLl9rZXlQcmVmaXgubGVuZ3RoKTsKICAgICAgdmFyIGNvbmZpZ1ZhbHVlID0gdGhpcy5fY29uZmlndXJhdGlvblNlcnZpY2UuZ2V0VmFsdWUoY29uZmlnS2V5KTsKICAgICAgdmFyIHZhbHVlID0gdW5kZWZpbmVkOwogICAgICBzd2l0Y2ggKF90eXBlb2YoY29uZmlnVmFsdWUpKSB7CiAgICAgICAgY2FzZSAnbnVtYmVyJzoKICAgICAgICBjYXNlICdib29sZWFuJzoKICAgICAgICBjYXNlICdzdHJpbmcnOgogICAgICAgICAgdmFsdWUgPSBjb25maWdWYWx1ZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb25maWdWYWx1ZSkpIHsKICAgICAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeShjb25maWdWYWx1ZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YWx1ZSA9IGNvbmZpZ1ZhbHVlOwogICAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuX3ZhbHVlcy5zZXQoa2V5LCB2YWx1ZSk7CiAgICAgIHJldHVybiB2YWx1ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRWYWx1ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUoa2V5LCB2YWx1ZSkgewogICAgICByZXR1cm4gX2dldChfZ2V0UHJvdG90eXBlT2YoQ29uZmlnQXdhcmVDb250ZXh0VmFsdWVzQ29udGFpbmVyLnByb3RvdHlwZSksICJzZXRWYWx1ZSIsIHRoaXMpLmNhbGwodGhpcywga2V5LCB2YWx1ZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVtb3ZlVmFsdWUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVZhbHVlKGtleSkgewogICAgICByZXR1cm4gX2dldChfZ2V0UHJvdG90eXBlT2YoQ29uZmlnQXdhcmVDb250ZXh0VmFsdWVzQ29udGFpbmVyLnByb3RvdHlwZSksICJyZW1vdmVWYWx1ZSIsIHRoaXMpLmNhbGwodGhpcywga2V5KTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIENvbmZpZ0F3YXJlQ29udGV4dFZhbHVlc0NvbnRhaW5lcjsKfShDb250ZXh0KTsKQ29uZmlnQXdhcmVDb250ZXh0VmFsdWVzQ29udGFpbmVyLl9rZXlQcmVmaXggPSAnY29uZmlnLic7CnZhciBDb250ZXh0S2V5ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBDb250ZXh0S2V5KHNlcnZpY2UsIGtleSwgZGVmYXVsdFZhbHVlKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29udGV4dEtleSk7CiAgICB0aGlzLl9zZXJ2aWNlID0gc2VydmljZTsKICAgIHRoaXMuX2tleSA9IGtleTsKICAgIHRoaXMuX2RlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZTsKICAgIHRoaXMucmVzZXQoKTsKICB9CiAgX2NyZWF0ZUNsYXNzKENvbnRleHRLZXksIFt7CiAgICBrZXk6ICJzZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICB0aGlzLl9zZXJ2aWNlLnNldENvbnRleHQodGhpcy5fa2V5LCB2YWx1ZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVzZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICBpZiAodHlwZW9mIHRoaXMuX2RlZmF1bHRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICB0aGlzLl9zZXJ2aWNlLnJlbW92ZUNvbnRleHQodGhpcy5fa2V5KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLl9zZXJ2aWNlLnNldENvbnRleHQodGhpcy5fa2V5LCB0aGlzLl9kZWZhdWx0VmFsdWUpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9zZXJ2aWNlLmdldENvbnRleHRLZXlWYWx1ZSh0aGlzLl9rZXkpOwogICAgfQogIH1dKTsKICByZXR1cm4gQ29udGV4dEtleTsKfSgpOwp2YXIgU2ltcGxlQ29udGV4dEtleUNoYW5nZUV2ZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBTaW1wbGVDb250ZXh0S2V5Q2hhbmdlRXZlbnQoa2V5KSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2ltcGxlQ29udGV4dEtleUNoYW5nZUV2ZW50KTsKICAgIHRoaXMua2V5ID0ga2V5OwogIH0KICBfY3JlYXRlQ2xhc3MoU2ltcGxlQ29udGV4dEtleUNoYW5nZUV2ZW50LCBbewogICAga2V5OiAiYWZmZWN0c1NvbWUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFmZmVjdHNTb21lKGtleXMpIHsKICAgICAgcmV0dXJuIGtleXMuaGFzKHRoaXMua2V5KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhbGxLZXlzQ29udGFpbmVkSW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFsbEtleXNDb250YWluZWRJbihrZXlzKSB7CiAgICAgIHJldHVybiB0aGlzLmFmZmVjdHNTb21lKGtleXMpOwogICAgfQogIH1dKTsKICByZXR1cm4gU2ltcGxlQ29udGV4dEtleUNoYW5nZUV2ZW50Owp9KCk7CnZhciBBcnJheUNvbnRleHRLZXlDaGFuZ2VFdmVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQXJyYXlDb250ZXh0S2V5Q2hhbmdlRXZlbnQoa2V5cykgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFycmF5Q29udGV4dEtleUNoYW5nZUV2ZW50KTsKICAgIHRoaXMua2V5cyA9IGtleXM7CiAgfQogIF9jcmVhdGVDbGFzcyhBcnJheUNvbnRleHRLZXlDaGFuZ2VFdmVudCwgW3sKICAgIGtleTogImFmZmVjdHNTb21lIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZmZlY3RzU29tZShrZXlzKSB7CiAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5rZXlzKSwKICAgICAgICBfc3RlcDI7CiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBrZXkgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICBpZiAoa2V5cy5oYXMoa2V5KSkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhbGxLZXlzQ29udGFpbmVkSW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFsbEtleXNDb250YWluZWRJbihrZXlzKSB7CiAgICAgIHJldHVybiB0aGlzLmtleXMuZXZlcnkoZnVuY3Rpb24gKGtleSkgewogICAgICAgIHJldHVybiBrZXlzLmhhcyhrZXkpOwogICAgICB9KTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIEFycmF5Q29udGV4dEtleUNoYW5nZUV2ZW50Owp9KCk7CnZhciBDb21wb3NpdGVDb250ZXh0S2V5Q2hhbmdlRXZlbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIENvbXBvc2l0ZUNvbnRleHRLZXlDaGFuZ2VFdmVudChldmVudHMpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb21wb3NpdGVDb250ZXh0S2V5Q2hhbmdlRXZlbnQpOwogICAgdGhpcy5ldmVudHMgPSBldmVudHM7CiAgfQogIF9jcmVhdGVDbGFzcyhDb21wb3NpdGVDb250ZXh0S2V5Q2hhbmdlRXZlbnQsIFt7CiAgICBrZXk6ICJhZmZlY3RzU29tZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWZmZWN0c1NvbWUoa2V5cykgewogICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuZXZlbnRzKSwKICAgICAgICBfc3RlcDM7CiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBlID0gX3N0ZXAzLnZhbHVlOwogICAgICAgICAgaWYgKGUuYWZmZWN0c1NvbWUoa2V5cykpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IzLmYoKTsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWxsS2V5c0NvbnRhaW5lZEluIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhbGxLZXlzQ29udGFpbmVkSW4oa2V5cykgewogICAgICByZXR1cm4gdGhpcy5ldmVudHMuZXZlcnkoZnVuY3Rpb24gKGV2dCkgewogICAgICAgIHJldHVybiBldnQuYWxsS2V5c0NvbnRhaW5lZEluKGtleXMpOwogICAgICB9KTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIENvbXBvc2l0ZUNvbnRleHRLZXlDaGFuZ2VFdmVudDsKfSgpOwpmdW5jdGlvbiBhbGxFdmVudEtleXNJbkNvbnRleHQoZXZlbnQsIGNvbnRleHQpIHsKICByZXR1cm4gZXZlbnQuYWxsS2V5c0NvbnRhaW5lZEluKG5ldyBTZXQoT2JqZWN0LmtleXMoY29udGV4dCkpKTsKfQpleHBvcnQgdmFyIEFic3RyYWN0Q29udGV4dEtleVNlcnZpY2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEFic3RyYWN0Q29udGV4dEtleVNlcnZpY2UobXlDb250ZXh0SWQpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBYnN0cmFjdENvbnRleHRLZXlTZXJ2aWNlKTsKICAgIHRoaXMuX29uRGlkQ2hhbmdlQ29udGV4dCA9IG5ldyBQYXVzZWFibGVFbWl0dGVyKHsKICAgICAgbWVyZ2U6IGZ1bmN0aW9uIG1lcmdlKGlucHV0KSB7CiAgICAgICAgcmV0dXJuIG5ldyBDb21wb3NpdGVDb250ZXh0S2V5Q2hhbmdlRXZlbnQoaW5wdXQpOwogICAgICB9CiAgICB9KTsKICAgIHRoaXMub25EaWRDaGFuZ2VDb250ZXh0ID0gdGhpcy5fb25EaWRDaGFuZ2VDb250ZXh0LmV2ZW50OwogICAgdGhpcy5faXNEaXNwb3NlZCA9IGZhbHNlOwogICAgdGhpcy5fbXlDb250ZXh0SWQgPSBteUNvbnRleHRJZDsKICB9CiAgX2NyZWF0ZUNsYXNzKEFic3RyYWN0Q29udGV4dEtleVNlcnZpY2UsIFt7CiAgICBrZXk6ICJjcmVhdGVLZXkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUtleShrZXksIGRlZmF1bHRWYWx1ZSkgewogICAgICBpZiAodGhpcy5faXNEaXNwb3NlZCkgewogICAgICAgIHRocm93IG5ldyBFcnJvcigiQWJzdHJhY3RDb250ZXh0S2V5U2VydmljZSBoYXMgYmVlbiBkaXNwb3NlZCIpOwogICAgICB9CiAgICAgIHJldHVybiBuZXcgQ29udGV4dEtleSh0aGlzLCBrZXksIGRlZmF1bHRWYWx1ZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYnVmZmVyQ2hhbmdlRXZlbnRzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBidWZmZXJDaGFuZ2VFdmVudHMoY2FsbGJhY2spIHsKICAgICAgdGhpcy5fb25EaWRDaGFuZ2VDb250ZXh0LnBhdXNlKCk7CiAgICAgIHRyeSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICB0aGlzLl9vbkRpZENoYW5nZUNvbnRleHQucmVzdW1lKCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJjcmVhdGVTY29wZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVNjb3BlZChkb21Ob2RlKSB7CiAgICAgIGlmICh0aGlzLl9pc0Rpc3Bvc2VkKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJBYnN0cmFjdENvbnRleHRLZXlTZXJ2aWNlIGhhcyBiZWVuIGRpc3Bvc2VkIik7CiAgICAgIH0KICAgICAgcmV0dXJuIG5ldyBTY29wZWRDb250ZXh0S2V5U2VydmljZSh0aGlzLCBkb21Ob2RlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb250ZXh0TWF0Y2hlc1J1bGVzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb250ZXh0TWF0Y2hlc1J1bGVzKHJ1bGVzKSB7CiAgICAgIGlmICh0aGlzLl9pc0Rpc3Bvc2VkKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJBYnN0cmFjdENvbnRleHRLZXlTZXJ2aWNlIGhhcyBiZWVuIGRpc3Bvc2VkIik7CiAgICAgIH0KICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmdldENvbnRleHRWYWx1ZXNDb250YWluZXIodGhpcy5fbXlDb250ZXh0SWQpOwogICAgICB2YXIgcmVzdWx0ID0gcnVsZXMgPyBydWxlcy5ldmFsdWF0ZShjb250ZXh0KSA6IHRydWU7CiAgICAgIC8vIGNvbnNvbGUuZ3JvdXAocnVsZXMuc2VyaWFsaXplKCkgKyAnIC0+ICcgKyByZXN1bHQpOwogICAgICAvLyBydWxlcy5rZXlzKCkuZm9yRWFjaChrZXkgPT4geyBjb25zb2xlLmxvZyhrZXksIGN0eFtrZXldKTsgfSk7CiAgICAgIC8vIGNvbnNvbGUuZ3JvdXBFbmQoKTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRDb250ZXh0S2V5VmFsdWUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbnRleHRLZXlWYWx1ZShrZXkpIHsKICAgICAgaWYgKHRoaXMuX2lzRGlzcG9zZWQpIHsKICAgICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmdldENvbnRleHRWYWx1ZXNDb250YWluZXIodGhpcy5fbXlDb250ZXh0SWQpLmdldFZhbHVlKGtleSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0Q29udGV4dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q29udGV4dChrZXksIHZhbHVlKSB7CiAgICAgIGlmICh0aGlzLl9pc0Rpc3Bvc2VkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBteUNvbnRleHQgPSB0aGlzLmdldENvbnRleHRWYWx1ZXNDb250YWluZXIodGhpcy5fbXlDb250ZXh0SWQpOwogICAgICBpZiAoIW15Q29udGV4dCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAobXlDb250ZXh0LnNldFZhbHVlKGtleSwgdmFsdWUpKSB7CiAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2VDb250ZXh0LmZpcmUobmV3IFNpbXBsZUNvbnRleHRLZXlDaGFuZ2VFdmVudChrZXkpKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInJlbW92ZUNvbnRleHQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUNvbnRleHQoa2V5KSB7CiAgICAgIGlmICh0aGlzLl9pc0Rpc3Bvc2VkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmICh0aGlzLmdldENvbnRleHRWYWx1ZXNDb250YWluZXIodGhpcy5fbXlDb250ZXh0SWQpLnJlbW92ZVZhbHVlKGtleSkpIHsKICAgICAgICB0aGlzLl9vbkRpZENoYW5nZUNvbnRleHQuZmlyZShuZXcgU2ltcGxlQ29udGV4dEtleUNoYW5nZUV2ZW50KGtleSkpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0Q29udGV4dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29udGV4dCh0YXJnZXQpIHsKICAgICAgaWYgKHRoaXMuX2lzRGlzcG9zZWQpIHsKICAgICAgICByZXR1cm4gTnVsbENvbnRleHQuSU5TVEFOQ0U7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29udGV4dFZhbHVlc0NvbnRhaW5lcihmaW5kQ29udGV4dEF0dHIodGFyZ2V0KSk7CiAgICB9CiAgfV0pOwogIHJldHVybiBBYnN0cmFjdENvbnRleHRLZXlTZXJ2aWNlOwp9KCk7CnZhciBDb250ZXh0S2V5U2VydmljZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Fic3RyYWN0Q29udGV4dEtleVNlKSB7CiAgX2luaGVyaXRzKENvbnRleHRLZXlTZXJ2aWNlLCBfQWJzdHJhY3RDb250ZXh0S2V5U2UpOwogIHZhciBfc3VwZXIzID0gX2NyZWF0ZVN1cGVyKENvbnRleHRLZXlTZXJ2aWNlKTsKICBmdW5jdGlvbiBDb250ZXh0S2V5U2VydmljZShjb25maWd1cmF0aW9uU2VydmljZSkgewogICAgdmFyIF90aGlzMjsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb250ZXh0S2V5U2VydmljZSk7CiAgICBfdGhpczIgPSBfc3VwZXIzLmNhbGwodGhpcywgMCk7CiAgICBfdGhpczIuX2NvbnRleHRzID0gbmV3IE1hcCgpOwogICAgX3RoaXMyLl90b0Rpc3Bvc2UgPSBuZXcgRGlzcG9zYWJsZVN0b3JlKCk7CiAgICBfdGhpczIuX2xhc3RDb250ZXh0SWQgPSAwOwogICAgdmFyIG15Q29udGV4dCA9IG5ldyBDb25maWdBd2FyZUNvbnRleHRWYWx1ZXNDb250YWluZXIoX3RoaXMyLl9teUNvbnRleHRJZCwgY29uZmlndXJhdGlvblNlcnZpY2UsIF90aGlzMi5fb25EaWRDaGFuZ2VDb250ZXh0KTsKICAgIF90aGlzMi5fY29udGV4dHMuc2V0KF90aGlzMi5fbXlDb250ZXh0SWQsIG15Q29udGV4dCk7CiAgICBfdGhpczIuX3RvRGlzcG9zZS5hZGQobXlDb250ZXh0KTsKICAgIC8vIFVuY29tbWVudCB0aGlzIHRvIHNlZSB0aGUgY29udGV4dHMgY29udGludW91c2x5IGxvZ2dlZAogICAgLy8gbGV0IGxhc3RMb2dnZWRWYWx1ZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7CiAgICAvLyBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAvLyAJbGV0IHZhbHVlcyA9IE9iamVjdC5rZXlzKHRoaXMuX2NvbnRleHRzKS5tYXAoKGtleSkgPT4gdGhpcy5fY29udGV4dHNba2V5XSk7CiAgICAvLyAJbGV0IGxvZ1ZhbHVlID0gdmFsdWVzLm1hcCh2ID0+IEpTT04uc3RyaW5naWZ5KHYuX3ZhbHVlLCBudWxsLCAnXHQnKSkuam9pbignXG4nKTsKICAgIC8vIAlpZiAobGFzdExvZ2dlZFZhbHVlICE9PSBsb2dWYWx1ZSkgewogICAgLy8gCQlsYXN0TG9nZ2VkVmFsdWUgPSBsb2dWYWx1ZTsKICAgIC8vIAkJY29uc29sZS5sb2cobGFzdExvZ2dlZFZhbHVlKTsKICAgIC8vIAl9CiAgICAvLyB9LCAyMDAwKTsKICAgIHJldHVybiBfdGhpczI7CiAgfQogIF9jcmVhdGVDbGFzcyhDb250ZXh0S2V5U2VydmljZSwgW3sKICAgIGtleTogImRpc3Bvc2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7CiAgICAgIHRoaXMuX29uRGlkQ2hhbmdlQ29udGV4dC5kaXNwb3NlKCk7CiAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSB0cnVlOwogICAgICB0aGlzLl90b0Rpc3Bvc2UuZGlzcG9zZSgpOwogICAgfQogIH0sIHsKICAgIGtleTogImdldENvbnRleHRWYWx1ZXNDb250YWluZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbnRleHRWYWx1ZXNDb250YWluZXIoY29udGV4dElkKSB7CiAgICAgIGlmICh0aGlzLl9pc0Rpc3Bvc2VkKSB7CiAgICAgICAgcmV0dXJuIE51bGxDb250ZXh0LklOU1RBTkNFOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0cy5nZXQoY29udGV4dElkKSB8fCBOdWxsQ29udGV4dC5JTlNUQU5DRTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjcmVhdGVDaGlsZENvbnRleHQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUNoaWxkQ29udGV4dCgpIHsKICAgICAgdmFyIHBhcmVudENvbnRleHRJZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdGhpcy5fbXlDb250ZXh0SWQ7CiAgICAgIGlmICh0aGlzLl9pc0Rpc3Bvc2VkKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJDb250ZXh0S2V5U2VydmljZSBoYXMgYmVlbiBkaXNwb3NlZCIpOwogICAgICB9CiAgICAgIHZhciBpZCA9ICsrdGhpcy5fbGFzdENvbnRleHRJZDsKICAgICAgdGhpcy5fY29udGV4dHMuc2V0KGlkLCBuZXcgQ29udGV4dChpZCwgdGhpcy5nZXRDb250ZXh0VmFsdWVzQ29udGFpbmVyKHBhcmVudENvbnRleHRJZCkpKTsKICAgICAgcmV0dXJuIGlkOwogICAgfQogIH0sIHsKICAgIGtleTogImRpc3Bvc2VDb250ZXh0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwb3NlQ29udGV4dChjb250ZXh0SWQpIHsKICAgICAgaWYgKCF0aGlzLl9pc0Rpc3Bvc2VkKSB7CiAgICAgICAgdGhpcy5fY29udGV4dHMuZGVsZXRlKGNvbnRleHRJZCk7CiAgICAgIH0KICAgIH0KICB9XSk7CiAgcmV0dXJuIENvbnRleHRLZXlTZXJ2aWNlOwp9KEFic3RyYWN0Q29udGV4dEtleVNlcnZpY2UpOwpDb250ZXh0S2V5U2VydmljZSA9IF9fZGVjb3JhdGUoW19fcGFyYW0oMCwgSUNvbmZpZ3VyYXRpb25TZXJ2aWNlKV0sIENvbnRleHRLZXlTZXJ2aWNlKTsKZXhwb3J0IHsgQ29udGV4dEtleVNlcnZpY2UgfTsKdmFyIFNjb3BlZENvbnRleHRLZXlTZXJ2aWNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQWJzdHJhY3RDb250ZXh0S2V5U2UyKSB7CiAgX2luaGVyaXRzKFNjb3BlZENvbnRleHRLZXlTZXJ2aWNlLCBfQWJzdHJhY3RDb250ZXh0S2V5U2UyKTsKICB2YXIgX3N1cGVyNCA9IF9jcmVhdGVTdXBlcihTY29wZWRDb250ZXh0S2V5U2VydmljZSk7CiAgZnVuY3Rpb24gU2NvcGVkQ29udGV4dEtleVNlcnZpY2UocGFyZW50LCBkb21Ob2RlKSB7CiAgICB2YXIgX3RoaXMzOwogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNjb3BlZENvbnRleHRLZXlTZXJ2aWNlKTsKICAgIF90aGlzMyA9IF9zdXBlcjQuY2FsbCh0aGlzLCBwYXJlbnQuY3JlYXRlQ2hpbGRDb250ZXh0KCkpOwogICAgX3RoaXMzLl9wYXJlbnRDaGFuZ2VMaXN0ZW5lciA9IG5ldyBNdXRhYmxlRGlzcG9zYWJsZSgpOwogICAgX3RoaXMzLl9wYXJlbnQgPSBwYXJlbnQ7CiAgICBfdGhpczMuX3VwZGF0ZVBhcmVudENoYW5nZUxpc3RlbmVyKCk7CiAgICBfdGhpczMuX2RvbU5vZGUgPSBkb21Ob2RlOwogICAgaWYgKF90aGlzMy5fZG9tTm9kZS5oYXNBdHRyaWJ1dGUoS0VZQklORElOR19DT05URVhUX0FUVFIpKSB7CiAgICAgIHZhciBleHRyYUluZm8gPSAnJzsKICAgICAgaWYgKF90aGlzMy5fZG9tTm9kZS5jbGFzc0xpc3QpIHsKICAgICAgICBleHRyYUluZm8gPSBBcnJheS5mcm9tKF90aGlzMy5fZG9tTm9kZS5jbGFzc0xpc3QudmFsdWVzKCkpLmpvaW4oJywgJyk7CiAgICAgIH0KICAgICAgY29uc29sZS5lcnJvcigiRWxlbWVudCBhbHJlYWR5IGhhcyBjb250ZXh0IGF0dHJpYnV0ZSIuY29uY2F0KGV4dHJhSW5mbyA/ICc6ICcgKyBleHRyYUluZm8gOiAnJykpOwogICAgfQogICAgX3RoaXMzLl9kb21Ob2RlLnNldEF0dHJpYnV0ZShLRVlCSU5ESU5HX0NPTlRFWFRfQVRUUiwgU3RyaW5nKF90aGlzMy5fbXlDb250ZXh0SWQpKTsKICAgIHJldHVybiBfdGhpczM7CiAgfQogIF9jcmVhdGVDbGFzcyhTY29wZWRDb250ZXh0S2V5U2VydmljZSwgW3sKICAgIGtleTogIl91cGRhdGVQYXJlbnRDaGFuZ2VMaXN0ZW5lciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZVBhcmVudENoYW5nZUxpc3RlbmVyKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgLy8gRm9yd2FyZCBwYXJlbnQgZXZlbnRzIHRvIHRoaXMgbGlzdGVuZXIuIFBhcmVudCB3aWxsIGNoYW5nZS4KICAgICAgdGhpcy5fcGFyZW50Q2hhbmdlTGlzdGVuZXIudmFsdWUgPSB0aGlzLl9wYXJlbnQub25EaWRDaGFuZ2VDb250ZXh0KGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHRoaXNDb250YWluZXIgPSBfdGhpczQuX3BhcmVudC5nZXRDb250ZXh0VmFsdWVzQ29udGFpbmVyKF90aGlzNC5fbXlDb250ZXh0SWQpOwogICAgICAgIHZhciB0aGlzQ29udGV4dFZhbHVlcyA9IHRoaXNDb250YWluZXIudmFsdWU7CiAgICAgICAgaWYgKCFhbGxFdmVudEtleXNJbkNvbnRleHQoZSwgdGhpc0NvbnRleHRWYWx1ZXMpKSB7CiAgICAgICAgICBfdGhpczQuX29uRGlkQ2hhbmdlQ29udGV4dC5maXJlKGUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZGlzcG9zZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcG9zZSgpIHsKICAgICAgaWYgKHRoaXMuX2lzRGlzcG9zZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5fb25EaWRDaGFuZ2VDb250ZXh0LmRpc3Bvc2UoKTsKICAgICAgdGhpcy5fcGFyZW50LmRpc3Bvc2VDb250ZXh0KHRoaXMuX215Q29udGV4dElkKTsKICAgICAgdGhpcy5fcGFyZW50Q2hhbmdlTGlzdGVuZXIuZGlzcG9zZSgpOwogICAgICB0aGlzLl9kb21Ob2RlLnJlbW92ZUF0dHJpYnV0ZShLRVlCSU5ESU5HX0NPTlRFWFRfQVRUUik7CiAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogImdldENvbnRleHRWYWx1ZXNDb250YWluZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbnRleHRWYWx1ZXNDb250YWluZXIoY29udGV4dElkKSB7CiAgICAgIGlmICh0aGlzLl9pc0Rpc3Bvc2VkKSB7CiAgICAgICAgcmV0dXJuIE51bGxDb250ZXh0LklOU1RBTkNFOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQuZ2V0Q29udGV4dFZhbHVlc0NvbnRhaW5lcihjb250ZXh0SWQpOwogICAgfQogIH0sIHsKICAgIGtleTogImNyZWF0ZUNoaWxkQ29udGV4dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlQ2hpbGRDb250ZXh0KCkgewogICAgICB2YXIgcGFyZW50Q29udGV4dElkID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLl9teUNvbnRleHRJZDsKICAgICAgaWYgKHRoaXMuX2lzRGlzcG9zZWQpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIlNjb3BlZENvbnRleHRLZXlTZXJ2aWNlIGhhcyBiZWVuIGRpc3Bvc2VkIik7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudC5jcmVhdGVDaGlsZENvbnRleHQocGFyZW50Q29udGV4dElkKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkaXNwb3NlQ29udGV4dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcG9zZUNvbnRleHQoY29udGV4dElkKSB7CiAgICAgIGlmICh0aGlzLl9pc0Rpc3Bvc2VkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuX3BhcmVudC5kaXNwb3NlQ29udGV4dChjb250ZXh0SWQpOwogICAgfQogIH1dKTsKICByZXR1cm4gU2NvcGVkQ29udGV4dEtleVNlcnZpY2U7Cn0oQWJzdHJhY3RDb250ZXh0S2V5U2VydmljZSk7CmZ1bmN0aW9uIGZpbmRDb250ZXh0QXR0cihkb21Ob2RlKSB7CiAgd2hpbGUgKGRvbU5vZGUpIHsKICAgIGlmIChkb21Ob2RlLmhhc0F0dHJpYnV0ZShLRVlCSU5ESU5HX0NPTlRFWFRfQVRUUikpIHsKICAgICAgdmFyIGF0dHIgPSBkb21Ob2RlLmdldEF0dHJpYnV0ZShLRVlCSU5ESU5HX0NPTlRFWFRfQVRUUik7CiAgICAgIGlmIChhdHRyKSB7CiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGF0dHIsIDEwKTsKICAgICAgfQogICAgICByZXR1cm4gTmFOOwogICAgfQogICAgZG9tTm9kZSA9IGRvbU5vZGUucGFyZW50RWxlbWVudDsKICB9CiAgcmV0dXJuIDA7Cn0KZXhwb3J0IGZ1bmN0aW9uIHNldENvbnRleHQoYWNjZXNzb3IsIGNvbnRleHRLZXksIGNvbnRleHRWYWx1ZSkgewogIGFjY2Vzc29yLmdldChJQ29udGV4dEtleVNlcnZpY2UpLmNyZWF0ZUtleShTdHJpbmcoY29udGV4dEtleSksIHN0cmluZ2lmeVVSSXMoY29udGV4dFZhbHVlKSk7Cn0KZnVuY3Rpb24gc3RyaW5naWZ5VVJJcyhjb250ZXh0VmFsdWUpIHsKICByZXR1cm4gY2xvbmVBbmRDaGFuZ2UoY29udGV4dFZhbHVlLCBmdW5jdGlvbiAob2JqKSB7CiAgICBpZiAoX3R5cGVvZihvYmopID09PSAnb2JqZWN0JyAmJiBvYmouJG1pZCA9PT0gMSAvKiBNYXJzaGFsbGVkSWQuVXJpICovKSB7CiAgICAgIHJldHVybiBVUkkucmV2aXZlKG9iaikudG9TdHJpbmcoKTsKICAgIH0KICAgIGlmIChvYmogaW5zdGFuY2VvZiBVUkkpIHsKICAgICAgcmV0dXJuIG9iai50b1N0cmluZygpOwogICAgfQogICAgcmV0dXJuIHVuZGVmaW5lZDsKICB9KTsKfQpDb21tYW5kc1JlZ2lzdHJ5LnJlZ2lzdGVyQ29tbWFuZChTRVRfQ09OVEVYVF9DT01NQU5EX0lELCBzZXRDb250ZXh0KTsKQ29tbWFuZHNSZWdpc3RyeS5yZWdpc3RlckNvbW1hbmQoewogIGlkOiAnZ2V0Q29udGV4dEtleUluZm8nLAogIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7CiAgICByZXR1cm4gX3RvQ29uc3VtYWJsZUFycmF5KFJhd0NvbnRleHRLZXkuYWxsKCkpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgcmV0dXJuIGEua2V5LmxvY2FsZUNvbXBhcmUoYi5rZXkpOwogICAgfSk7CiAgfSwKICBkZXNjcmlwdGlvbjogewogICAgZGVzY3JpcHRpb246IGxvY2FsaXplKCdnZXRDb250ZXh0S2V5SW5mbycsICJBIGNvbW1hbmQgdGhhdCByZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IGNvbnRleHQga2V5cyIpLAogICAgYXJnczogW10KICB9Cn0pOwpDb21tYW5kc1JlZ2lzdHJ5LnJlZ2lzdGVyQ29tbWFuZCgnX2dlbmVyYXRlQ29udGV4dEtleUluZm8nLCBmdW5jdGlvbiAoKSB7CiAgdmFyIHJlc3VsdCA9IFtdOwogIHZhciBzZWVuID0gbmV3IFNldCgpOwogIHZhciBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoUmF3Q29udGV4dEtleS5hbGwoKSksCiAgICBfc3RlcDQ7CiAgdHJ5IHsKICAgIGZvciAoX2l0ZXJhdG9yNC5zKCk7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uKCkpLmRvbmU7KSB7CiAgICAgIHZhciBpbmZvID0gX3N0ZXA0LnZhbHVlOwogICAgICBpZiAoIXNlZW4uaGFzKGluZm8ua2V5KSkgewogICAgICAgIHNlZW4uYWRkKGluZm8ua2V5KTsKICAgICAgICByZXN1bHQucHVzaChpbmZvKTsKICAgICAgfQogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2l0ZXJhdG9yNC5lKGVycik7CiAgfSBmaW5hbGx5IHsKICAgIF9pdGVyYXRvcjQuZigpOwogIH0KICByZXN1bHQuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgcmV0dXJuIGEua2V5LmxvY2FsZUNvbXBhcmUoYi5rZXkpOwogIH0pOwogIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlc3VsdCwgdW5kZWZpbmVkLCAyKSk7Cn0pOw=="},{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","PauseableEmitter","Iterable","DisposableStore","MutableDisposable","TernarySearchTree","cloneAndChange","URI","localize","CommandsRegistry","IConfigurationService","IContextKeyService","RawContextKey","SET_CONTEXT_COMMAND_ID","KEYBINDING_CONTEXT_ATTR","Context","id","parent","_id","_parent","_value","create","assign","value","ret","getValue","NullContext","undefined","INSTANCE","ConfigAwareContextValuesContainer","_configurationService","emitter","_values","forConfigKeys","_listener","onDidChangeConfiguration","event","source","allKeys","Array","from","map","k","clear","fire","ArrayContextKeyChangeEvent","changedKeys","affectedKeys","configKey","contextKey","cachedItems","findSuperstr","push","deleteSuperstr","has","delete","dispose","indexOf","_keyPrefix","get","substr","configValue","isArray","JSON","stringify","set","ContextKey","service","defaultValue","_service","_key","_defaultValue","reset","setContext","removeContext","getContextKeyValue","SimpleContextKeyChangeEvent","keys","affectsSome","every","CompositeContextKeyChangeEvent","events","e","evt","allKeysContainedIn","allEventKeysInContext","context","Set","AbstractContextKeyService","myContextId","_onDidChangeContext","merge","input","onDidChangeContext","_isDisposed","_myContextId","Error","callback","pause","resume","domNode","ScopedContextKeyService","rules","getContextValuesContainer","result","evaluate","myContext","setValue","removeValue","findContextAttr","ContextKeyService","configurationService","_contexts","Map","_toDispose","_lastContextId","add","contextId","parentContextId","createChildContext","_parentChangeListener","_updateParentChangeListener","_domNode","hasAttribute","extraInfo","classList","values","join","console","error","setAttribute","String","thisContainer","thisContextValues","disposeContext","removeAttribute","attr","getAttribute","parseInt","NaN","parentElement","accessor","contextValue","createKey","stringifyURIs","obj","$mid","revive","toString","registerCommand","handler","all","sort","a","b","localeCompare","description","args","seen","info","log"],"sources":["/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/platform/contextkey/browser/contextKeyService.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { PauseableEmitter } from '../../../base/common/event.js';\nimport { Iterable } from '../../../base/common/iterator.js';\nimport { DisposableStore, MutableDisposable } from '../../../base/common/lifecycle.js';\nimport { TernarySearchTree } from '../../../base/common/map.js';\nimport { cloneAndChange } from '../../../base/common/objects.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { localize } from '../../../nls.js';\nimport { CommandsRegistry } from '../../commands/common/commands.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { IContextKeyService, RawContextKey, SET_CONTEXT_COMMAND_ID } from '../common/contextkey.js';\nconst KEYBINDING_CONTEXT_ATTR = 'data-keybinding-context';\nexport class Context {\n    constructor(id, parent) {\n        this._id = id;\n        this._parent = parent;\n        this._value = Object.create(null);\n        this._value['_contextId'] = id;\n    }\n    get value() {\n        return Object.assign({}, this._value);\n    }\n    setValue(key, value) {\n        // console.log('SET ' + key + ' = ' + value + ' ON ' + this._id);\n        if (this._value[key] !== value) {\n            this._value[key] = value;\n            return true;\n        }\n        return false;\n    }\n    removeValue(key) {\n        // console.log('REMOVE ' + key + ' FROM ' + this._id);\n        if (key in this._value) {\n            delete this._value[key];\n            return true;\n        }\n        return false;\n    }\n    getValue(key) {\n        const ret = this._value[key];\n        if (typeof ret === 'undefined' && this._parent) {\n            return this._parent.getValue(key);\n        }\n        return ret;\n    }\n}\nclass NullContext extends Context {\n    constructor() {\n        super(-1, null);\n    }\n    setValue(key, value) {\n        return false;\n    }\n    removeValue(key) {\n        return false;\n    }\n    getValue(key) {\n        return undefined;\n    }\n}\nNullContext.INSTANCE = new NullContext();\nclass ConfigAwareContextValuesContainer extends Context {\n    constructor(id, _configurationService, emitter) {\n        super(id, null);\n        this._configurationService = _configurationService;\n        this._values = TernarySearchTree.forConfigKeys();\n        this._listener = this._configurationService.onDidChangeConfiguration(event => {\n            if (event.source === 7 /* ConfigurationTarget.DEFAULT */) {\n                // new setting, reset everything\n                const allKeys = Array.from(Iterable.map(this._values, ([k]) => k));\n                this._values.clear();\n                emitter.fire(new ArrayContextKeyChangeEvent(allKeys));\n            }\n            else {\n                const changedKeys = [];\n                for (const configKey of event.affectedKeys) {\n                    const contextKey = `config.${configKey}`;\n                    const cachedItems = this._values.findSuperstr(contextKey);\n                    if (cachedItems !== undefined) {\n                        changedKeys.push(...Iterable.map(cachedItems, ([key]) => key));\n                        this._values.deleteSuperstr(contextKey);\n                    }\n                    if (this._values.has(contextKey)) {\n                        changedKeys.push(contextKey);\n                        this._values.delete(contextKey);\n                    }\n                }\n                emitter.fire(new ArrayContextKeyChangeEvent(changedKeys));\n            }\n        });\n    }\n    dispose() {\n        this._listener.dispose();\n    }\n    getValue(key) {\n        if (key.indexOf(ConfigAwareContextValuesContainer._keyPrefix) !== 0) {\n            return super.getValue(key);\n        }\n        if (this._values.has(key)) {\n            return this._values.get(key);\n        }\n        const configKey = key.substr(ConfigAwareContextValuesContainer._keyPrefix.length);\n        const configValue = this._configurationService.getValue(configKey);\n        let value = undefined;\n        switch (typeof configValue) {\n            case 'number':\n            case 'boolean':\n            case 'string':\n                value = configValue;\n                break;\n            default:\n                if (Array.isArray(configValue)) {\n                    value = JSON.stringify(configValue);\n                }\n                else {\n                    value = configValue;\n                }\n        }\n        this._values.set(key, value);\n        return value;\n    }\n    setValue(key, value) {\n        return super.setValue(key, value);\n    }\n    removeValue(key) {\n        return super.removeValue(key);\n    }\n}\nConfigAwareContextValuesContainer._keyPrefix = 'config.';\nclass ContextKey {\n    constructor(service, key, defaultValue) {\n        this._service = service;\n        this._key = key;\n        this._defaultValue = defaultValue;\n        this.reset();\n    }\n    set(value) {\n        this._service.setContext(this._key, value);\n    }\n    reset() {\n        if (typeof this._defaultValue === 'undefined') {\n            this._service.removeContext(this._key);\n        }\n        else {\n            this._service.setContext(this._key, this._defaultValue);\n        }\n    }\n    get() {\n        return this._service.getContextKeyValue(this._key);\n    }\n}\nclass SimpleContextKeyChangeEvent {\n    constructor(key) {\n        this.key = key;\n    }\n    affectsSome(keys) {\n        return keys.has(this.key);\n    }\n    allKeysContainedIn(keys) {\n        return this.affectsSome(keys);\n    }\n}\nclass ArrayContextKeyChangeEvent {\n    constructor(keys) {\n        this.keys = keys;\n    }\n    affectsSome(keys) {\n        for (const key of this.keys) {\n            if (keys.has(key)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    allKeysContainedIn(keys) {\n        return this.keys.every(key => keys.has(key));\n    }\n}\nclass CompositeContextKeyChangeEvent {\n    constructor(events) {\n        this.events = events;\n    }\n    affectsSome(keys) {\n        for (const e of this.events) {\n            if (e.affectsSome(keys)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    allKeysContainedIn(keys) {\n        return this.events.every(evt => evt.allKeysContainedIn(keys));\n    }\n}\nfunction allEventKeysInContext(event, context) {\n    return event.allKeysContainedIn(new Set(Object.keys(context)));\n}\nexport class AbstractContextKeyService {\n    constructor(myContextId) {\n        this._onDidChangeContext = new PauseableEmitter({ merge: input => new CompositeContextKeyChangeEvent(input) });\n        this.onDidChangeContext = this._onDidChangeContext.event;\n        this._isDisposed = false;\n        this._myContextId = myContextId;\n    }\n    createKey(key, defaultValue) {\n        if (this._isDisposed) {\n            throw new Error(`AbstractContextKeyService has been disposed`);\n        }\n        return new ContextKey(this, key, defaultValue);\n    }\n    bufferChangeEvents(callback) {\n        this._onDidChangeContext.pause();\n        try {\n            callback();\n        }\n        finally {\n            this._onDidChangeContext.resume();\n        }\n    }\n    createScoped(domNode) {\n        if (this._isDisposed) {\n            throw new Error(`AbstractContextKeyService has been disposed`);\n        }\n        return new ScopedContextKeyService(this, domNode);\n    }\n    contextMatchesRules(rules) {\n        if (this._isDisposed) {\n            throw new Error(`AbstractContextKeyService has been disposed`);\n        }\n        const context = this.getContextValuesContainer(this._myContextId);\n        const result = (rules ? rules.evaluate(context) : true);\n        // console.group(rules.serialize() + ' -> ' + result);\n        // rules.keys().forEach(key => { console.log(key, ctx[key]); });\n        // console.groupEnd();\n        return result;\n    }\n    getContextKeyValue(key) {\n        if (this._isDisposed) {\n            return undefined;\n        }\n        return this.getContextValuesContainer(this._myContextId).getValue(key);\n    }\n    setContext(key, value) {\n        if (this._isDisposed) {\n            return;\n        }\n        const myContext = this.getContextValuesContainer(this._myContextId);\n        if (!myContext) {\n            return;\n        }\n        if (myContext.setValue(key, value)) {\n            this._onDidChangeContext.fire(new SimpleContextKeyChangeEvent(key));\n        }\n    }\n    removeContext(key) {\n        if (this._isDisposed) {\n            return;\n        }\n        if (this.getContextValuesContainer(this._myContextId).removeValue(key)) {\n            this._onDidChangeContext.fire(new SimpleContextKeyChangeEvent(key));\n        }\n    }\n    getContext(target) {\n        if (this._isDisposed) {\n            return NullContext.INSTANCE;\n        }\n        return this.getContextValuesContainer(findContextAttr(target));\n    }\n}\nlet ContextKeyService = class ContextKeyService extends AbstractContextKeyService {\n    constructor(configurationService) {\n        super(0);\n        this._contexts = new Map();\n        this._toDispose = new DisposableStore();\n        this._lastContextId = 0;\n        const myContext = new ConfigAwareContextValuesContainer(this._myContextId, configurationService, this._onDidChangeContext);\n        this._contexts.set(this._myContextId, myContext);\n        this._toDispose.add(myContext);\n        // Uncomment this to see the contexts continuously logged\n        // let lastLoggedValue: string | null = null;\n        // setInterval(() => {\n        // \tlet values = Object.keys(this._contexts).map((key) => this._contexts[key]);\n        // \tlet logValue = values.map(v => JSON.stringify(v._value, null, '\\t')).join('\\n');\n        // \tif (lastLoggedValue !== logValue) {\n        // \t\tlastLoggedValue = logValue;\n        // \t\tconsole.log(lastLoggedValue);\n        // \t}\n        // }, 2000);\n    }\n    dispose() {\n        this._onDidChangeContext.dispose();\n        this._isDisposed = true;\n        this._toDispose.dispose();\n    }\n    getContextValuesContainer(contextId) {\n        if (this._isDisposed) {\n            return NullContext.INSTANCE;\n        }\n        return this._contexts.get(contextId) || NullContext.INSTANCE;\n    }\n    createChildContext(parentContextId = this._myContextId) {\n        if (this._isDisposed) {\n            throw new Error(`ContextKeyService has been disposed`);\n        }\n        const id = (++this._lastContextId);\n        this._contexts.set(id, new Context(id, this.getContextValuesContainer(parentContextId)));\n        return id;\n    }\n    disposeContext(contextId) {\n        if (!this._isDisposed) {\n            this._contexts.delete(contextId);\n        }\n    }\n};\nContextKeyService = __decorate([\n    __param(0, IConfigurationService)\n], ContextKeyService);\nexport { ContextKeyService };\nclass ScopedContextKeyService extends AbstractContextKeyService {\n    constructor(parent, domNode) {\n        super(parent.createChildContext());\n        this._parentChangeListener = new MutableDisposable();\n        this._parent = parent;\n        this._updateParentChangeListener();\n        this._domNode = domNode;\n        if (this._domNode.hasAttribute(KEYBINDING_CONTEXT_ATTR)) {\n            let extraInfo = '';\n            if (this._domNode.classList) {\n                extraInfo = Array.from(this._domNode.classList.values()).join(', ');\n            }\n            console.error(`Element already has context attribute${extraInfo ? ': ' + extraInfo : ''}`);\n        }\n        this._domNode.setAttribute(KEYBINDING_CONTEXT_ATTR, String(this._myContextId));\n    }\n    _updateParentChangeListener() {\n        // Forward parent events to this listener. Parent will change.\n        this._parentChangeListener.value = this._parent.onDidChangeContext(e => {\n            const thisContainer = this._parent.getContextValuesContainer(this._myContextId);\n            const thisContextValues = thisContainer.value;\n            if (!allEventKeysInContext(e, thisContextValues)) {\n                this._onDidChangeContext.fire(e);\n            }\n        });\n    }\n    dispose() {\n        if (this._isDisposed) {\n            return;\n        }\n        this._onDidChangeContext.dispose();\n        this._parent.disposeContext(this._myContextId);\n        this._parentChangeListener.dispose();\n        this._domNode.removeAttribute(KEYBINDING_CONTEXT_ATTR);\n        this._isDisposed = true;\n    }\n    getContextValuesContainer(contextId) {\n        if (this._isDisposed) {\n            return NullContext.INSTANCE;\n        }\n        return this._parent.getContextValuesContainer(contextId);\n    }\n    createChildContext(parentContextId = this._myContextId) {\n        if (this._isDisposed) {\n            throw new Error(`ScopedContextKeyService has been disposed`);\n        }\n        return this._parent.createChildContext(parentContextId);\n    }\n    disposeContext(contextId) {\n        if (this._isDisposed) {\n            return;\n        }\n        this._parent.disposeContext(contextId);\n    }\n}\nfunction findContextAttr(domNode) {\n    while (domNode) {\n        if (domNode.hasAttribute(KEYBINDING_CONTEXT_ATTR)) {\n            const attr = domNode.getAttribute(KEYBINDING_CONTEXT_ATTR);\n            if (attr) {\n                return parseInt(attr, 10);\n            }\n            return NaN;\n        }\n        domNode = domNode.parentElement;\n    }\n    return 0;\n}\nexport function setContext(accessor, contextKey, contextValue) {\n    accessor.get(IContextKeyService).createKey(String(contextKey), stringifyURIs(contextValue));\n}\nfunction stringifyURIs(contextValue) {\n    return cloneAndChange(contextValue, (obj) => {\n        if (typeof obj === 'object' && obj.$mid === 1 /* MarshalledId.Uri */) {\n            return URI.revive(obj).toString();\n        }\n        if (obj instanceof URI) {\n            return obj.toString();\n        }\n        return undefined;\n    });\n}\nCommandsRegistry.registerCommand(SET_CONTEXT_COMMAND_ID, setContext);\nCommandsRegistry.registerCommand({\n    id: 'getContextKeyInfo',\n    handler() {\n        return [...RawContextKey.all()].sort((a, b) => a.key.localeCompare(b.key));\n    },\n    description: {\n        description: localize('getContextKeyInfo', \"A command that returns information about context keys\"),\n        args: []\n    }\n});\nCommandsRegistry.registerCommand('_generateContextKeyInfo', function () {\n    const result = [];\n    const seen = new Set();\n    for (const info of RawContextKey.all()) {\n        if (!seen.has(info.key)) {\n            seen.add(info.key);\n            result.push(info);\n        }\n    }\n    result.sort((a, b) => a.key.localeCompare(b.key));\n    console.log(JSON.stringify(result, undefined, 2));\n});\n"],"mappings":"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"}]}
{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/src/page/components/monaco-editor.js","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/src/page/components/monaco-editor.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IF90eXBlb2YgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50ZXN0LmpzIjsKLyogZXNsaW50LWRpc2FibGUgKi8KaW1wb3J0ICogYXMgbW9uYWNvIGZyb20gJ21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9lZGl0b3IuYXBpJzsKaW1wb3J0ICdtb25hY28tZWRpdG9yL2VzbS92cy9iYXNpYy1sYW5ndWFnZXMvamF2YXNjcmlwdC9qYXZhc2NyaXB0LmNvbnRyaWJ1dGlvbic7CmltcG9ydCAnbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzaWMtbGFuZ3VhZ2VzL3NxbC9zcWwuY29udHJpYnV0aW9uJzsKaW1wb3J0IGJlYXV0aWZpZXIgZnJvbSAnLi9qc29uLWJlYXV0aWZpZXInOwpmdW5jdGlvbiBub29wKCkge30KZXhwb3J0IHsgbW9uYWNvIH07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTW9uYWNvRWRpdG9yJywKICBwcm9wczogewogICAgZGlmZkVkaXRvcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8v5piv5ZCm5L2/55SoZGlmZuaooeW8jwogICAgd2lkdGg6IHsKICAgICAgdHlwZTogW1N0cmluZywgTnVtYmVyXSwKICAgICAgZGVmYXVsdDogJzEwMCUnCiAgICB9LAogICAgaGVpZ2h0OiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICAgIGRlZmF1bHQ6ICcxMDAlJwogICAgfSwKICAgIG9yaWdpbmFsOiBTdHJpbmcsCiAgICAvL+WPquacieWcqGRpZmbmqKHlvI/kuIvmnInmlYgKICAgIHZhbHVlOiBbU3RyaW5nLCBPYmplY3RdLAogICAgbGFuZ3VhZ2U6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnamF2YXNjcmlwdCcKICAgIH0sCiAgICB0aGVtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICd2cy1kYXJrJwogICAgfSwKICAgIHJlYWRPbmx5OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgb3B0aW9uczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfSwKICAgIGVkaXRvck1vdW50ZWQ6IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgIGRlZmF1bHQ6IG5vb3AKICAgIH0sCiAgICBlZGl0b3JCZWZvcmVNb3VudDogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogbm9vcAogICAgfSwKICAgIGtleUluZGV4OiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIG9wdGlvbnM6IHsKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihvcHRpb25zKSB7CiAgICAgICAgdGhpcy5lZGl0b3IgJiYgdGhpcy5lZGl0b3IudXBkYXRlT3B0aW9ucyhvcHRpb25zKTsKICAgICAgfQogICAgfSwKICAgIGtleUluZGV4OiBmdW5jdGlvbiBrZXlJbmRleCgpIHsKICAgICAgdmFyIGRhdGEgPSB0aGlzLnZhbHVlOwogICAgICBpZiAoX3R5cGVvZihkYXRhKSA9PSAnb2JqZWN0JykgewogICAgICAgIGRhdGEgPSBiZWF1dGlmaWVyKGRhdGEpOwogICAgICB9CiAgICAgIGlmICh0aGlzLmVkaXRvciAmJiBkYXRhICE9PSB0aGlzLl9nZXRWYWx1ZSgpKSB7CiAgICAgICAgdGhpcy5fc2V0VmFsdWUoZGF0YSk7CiAgICAgIH0KICAgIH0sCiAgICBsYW5ndWFnZTogZnVuY3Rpb24gbGFuZ3VhZ2UoKSB7CiAgICAgIGlmICghdGhpcy5lZGl0b3IpIHJldHVybjsKICAgICAgaWYgKHRoaXMuZGlmZkVkaXRvcikgewogICAgICAgIC8vZGlmZuaooeW8j+S4i+abtOaWsGxhbmd1YWdlCiAgICAgICAgdmFyIF90aGlzJGVkaXRvciRnZXRNb2RlbCA9IHRoaXMuZWRpdG9yLmdldE1vZGVsKCksCiAgICAgICAgICBvcmlnaW5hbCA9IF90aGlzJGVkaXRvciRnZXRNb2RlbC5vcmlnaW5hbCwKICAgICAgICAgIG1vZGlmaWVkID0gX3RoaXMkZWRpdG9yJGdldE1vZGVsLm1vZGlmaWVkOwogICAgICAgIG1vbmFjby5lZGl0b3Iuc2V0TW9kZWxMYW5ndWFnZShvcmlnaW5hbCwgdGhpcy5sYW5ndWFnZSk7CiAgICAgICAgbW9uYWNvLmVkaXRvci5zZXRNb2RlbExhbmd1YWdlKG1vZGlmaWVkLCB0aGlzLmxhbmd1YWdlKTsKICAgICAgfSBlbHNlIG1vbmFjby5lZGl0b3Iuc2V0TW9kZWxMYW5ndWFnZSh0aGlzLmVkaXRvci5nZXRNb2RlbCgpLCB0aGlzLmxhbmd1YWdlKTsKICAgIH0sCiAgICB0aGVtZTogZnVuY3Rpb24gdGhlbWUoKSB7CiAgICAgIHRoaXMuZWRpdG9yICYmIG1vbmFjby5lZGl0b3Iuc2V0VGhlbWUodGhpcy50aGVtZSk7CiAgICB9LAogICAgc3R5bGU6IGZ1bmN0aW9uIHN0eWxlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLmVkaXRvciAmJiB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuZWRpdG9yLmxheW91dCgpOwogICAgICB9KTsKICAgIH0sCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodmFsKSB7CiAgICAgIGlmICh0aGlzLmVkaXRvciAmJiB2YWwgIT09IHRoaXMuX2dldFZhbHVlKCkpIHsKICAgICAgICB0aGlzLl9zZXRWYWx1ZSh2YWwpOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgc3R5bGU6IGZ1bmN0aW9uIHN0eWxlKCkgewogICAgICByZXR1cm4gewogICAgICAgIHdpZHRoOiAhL15cZCskLy50ZXN0KHRoaXMud2lkdGgpID8gdGhpcy53aWR0aCA6ICIiLmNvbmNhdCh0aGlzLndpZHRoLCAicHgiKSwKICAgICAgICBoZWlnaHQ6ICEvXlxkKyQvLnRlc3QodGhpcy5oZWlnaHQpID8gdGhpcy5oZWlnaHQgOiAiIi5jb25jYXQodGhpcy5oZWlnaHQsICJweCIpLAogICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnCiAgICAgIH07CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0TW9uYWNvKCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5lZGl0b3IgJiYgdGhpcy5lZGl0b3IuZGlzcG9zZSgpOwogIH0sCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkgewogICAgdmFyIGZ1bGxTY3JlZW4gPSB0aGlzLm9wdGlvbnMuZnVsbFNjcmVlbjsKICAgIHJldHVybiBoKCdkaXYnLCB7CiAgICAgIGNsYXNzOiAnbW9uYWNvX2VkaXRvcl9jb250YWluZXInLAogICAgICBzdHlsZTogdGhpcy5zdHlsZQogICAgfSwgW2Z1bGxTY3JlZW4gPyBoKCdpJywgewogICAgICBjbGFzczogJ2VsLWljb24tZnVsbC1zY3JlZW4nLAogICAgICBzdHlsZTogewogICAgICAgIHdpZHRoOiAnMS4yZW0nLAogICAgICAgIGhlaWdodDogJzEuMmVtJywKICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJywKICAgICAgICBsZWZ0OiAnMHB4JywKICAgICAgICB0b3A6ICcwcHgnLAogICAgICAgIHpJbmRleDogJzEnLAogICAgICAgIGN1cnNvcjogJ3BvaW50ZXInCiAgICAgIH0sCiAgICAgIG9uOiB7CiAgICAgICAgY2xpY2s6IHRoaXMuX2hhbmRsZUZ1bGxTY3JlZW4KICAgICAgfQogICAgfSkgOiAnJ10pOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdE1vbmFjbzogZnVuY3Rpb24gaW5pdE1vbmFjbygpIHsKICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZSwKICAgICAgICBsYW5ndWFnZSA9IHRoaXMubGFuZ3VhZ2UsCiAgICAgICAgdGhlbWUgPSB0aGlzLnRoZW1lLAogICAgICAgIHJlYWRPbmx5ID0gdGhpcy5yZWFkT25seSwKICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zOwogICAgICBPYmplY3QuYXNzaWduKG9wdGlvbnMsIHRoaXMuX2VkaXRvckJlZm9yZU1vdW50KCkpOyAvL+e8lui+keWZqOWIneWni+WMluWJjQogICAgICB0aGlzLmVkaXRvciA9IG1vbmFjby5lZGl0b3JbdGhpcy5kaWZmRWRpdG9yID8gJ2NyZWF0ZURpZmZFZGl0b3InIDogJ2NyZWF0ZSddKHRoaXMuJGVsLCBfb2JqZWN0U3ByZWFkKHsKICAgICAgICB2YWx1ZTogdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnID8gdmFsdWUgOiBiZWF1dGlmaWVyKHZhbHVlKSwKICAgICAgICBsYW5ndWFnZTogbGFuZ3VhZ2UsCiAgICAgICAgdGhlbWU6IHRoZW1lLAogICAgICAgIHJlYWRPbmx5OiByZWFkT25seQogICAgICB9LCBvcHRpb25zKSk7CiAgICAgIHRoaXMuZGlmZkVkaXRvciAmJiB0aGlzLl9zZXRNb2RlbCh0aGlzLnZhbHVlLCB0aGlzLm9yaWdpbmFsKTsKICAgICAgdGhpcy5fZWRpdG9yTW91bnRlZCh0aGlzLmVkaXRvcik7IC8v57yW6L6R5Zmo5Yid5aeL5YyW5ZCOCiAgICB9LAogICAgX2hhbmRsZUZ1bGxTY3JlZW46IGZ1bmN0aW9uIF9oYW5kbGVGdWxsU2NyZWVuKCkgewogICAgICBpZiAodGhpcy5pc01heGltdW0pIHRoaXMubWluRWRpdG9yKCk7ZWxzZSB0aGlzLm1heEVkaXRvcigpOwogICAgfSwKICAgIC8vIOaUvuWkpwogICAgbWF4RWRpdG9yOiBmdW5jdGlvbiBtYXhFZGl0b3IoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB0aGlzLmlzTWF4aW11bSA9IHRydWU7CiAgICAgIHZhciBkb20gPSB0aGlzLiRlbDsKICAgICAgdGhpcy5vcmlnaW5TaXplID0gewogICAgICAgIHdpZHRoOiBkb20uY2xpZW50V2lkdGgsCiAgICAgICAgaGVpZ2h0OiBkb20uY2xpZW50SGVpZ2h0CiAgICAgIH07CiAgICAgIGRvbS5jbGFzc0xpc3QuYWRkKCdlZGl0b3ItZnVsbHNjcmVlbicpOwogICAgICB0aGlzLmVkaXRvci5sYXlvdXQoewogICAgICAgIGhlaWdodDogZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQsCiAgICAgICAgd2lkdGg6IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgKICAgICAgfSk7CiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAoZS5rZXlDb2RlID09IDI3KSB7CiAgICAgICAgICBfdGhpczIubWluRWRpdG9yKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDnvKnlsI8KICAgIG1pbkVkaXRvcjogZnVuY3Rpb24gbWluRWRpdG9yKCkgewogICAgICB0aGlzLmlzTWF4aW11bSA9IGZhbHNlOwogICAgICB2YXIgZG9tID0gdGhpcy4kZWw7CiAgICAgIGRvbS5jbGFzc0xpc3QucmVtb3ZlKCdlZGl0b3ItZnVsbHNjcmVlbicpOwogICAgICB0aGlzLmVkaXRvci5sYXlvdXQoewogICAgICAgIGhlaWdodDogdGhpcy5vcmlnaW5TaXplLmhlaWdodCwKICAgICAgICB3aWR0aDogdGhpcy5vcmlnaW5TaXplLndpZHRoCiAgICAgIH0pOwogICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uICgpIHt9KTsKICAgIH0sCiAgICBfZ2V0RWRpdG9yOiBmdW5jdGlvbiBfZ2V0RWRpdG9yKCkgewogICAgICBpZiAoIXRoaXMuZWRpdG9yKSByZXR1cm4gbnVsbDsKICAgICAgcmV0dXJuIHRoaXMuZGlmZkVkaXRvciA/IHRoaXMuZWRpdG9yLm1vZGlmaWVkRWRpdG9yIDogdGhpcy5lZGl0b3I7CiAgICB9LAogICAgX3NldE1vZGVsOiBmdW5jdGlvbiBfc2V0TW9kZWwodmFsdWUsIG9yaWdpbmFsKSB7CiAgICAgIC8vZGlmZuaooeW8j+S4i+iuvue9rm1vZGVsCiAgICAgIHZhciBsYW5ndWFnZSA9IHRoaXMubGFuZ3VhZ2U7CiAgICAgIHZhciBvcmlnaW5hbE1vZGVsID0gbW9uYWNvLmVkaXRvci5jcmVhdGVNb2RlbChvcmlnaW5hbCwgbGFuZ3VhZ2UpOwogICAgICB2YXIgbW9kaWZpZWRNb2RlbCA9IG1vbmFjby5lZGl0b3IuY3JlYXRlTW9kZWwodmFsdWUsIGxhbmd1YWdlKTsKICAgICAgdGhpcy5lZGl0b3Iuc2V0TW9kZWwoewogICAgICAgIG9yaWdpbmFsOiBvcmlnaW5hbE1vZGVsLAogICAgICAgIG1vZGlmaWVkOiBtb2RpZmllZE1vZGVsCiAgICAgIH0pOwogICAgfSwKICAgIF9zZXRWYWx1ZTogZnVuY3Rpb24gX3NldFZhbHVlKHZhbHVlKSB7CiAgICAgIHZhciBlZGl0b3IgPSB0aGlzLl9nZXRFZGl0b3IoKTsKICAgICAgaWYgKGVkaXRvcikgcmV0dXJuIGVkaXRvci5zZXRWYWx1ZSh2YWx1ZSk7CiAgICB9LAogICAgX2dldFZhbHVlOiBmdW5jdGlvbiBfZ2V0VmFsdWUoKSB7CiAgICAgIHZhciBlZGl0b3IgPSB0aGlzLl9nZXRFZGl0b3IoKTsKICAgICAgaWYgKCFlZGl0b3IpIHJldHVybiAnJzsKICAgICAgcmV0dXJuIGVkaXRvci5nZXRWYWx1ZSgpOwogICAgfSwKICAgIF9lZGl0b3JCZWZvcmVNb3VudDogZnVuY3Rpb24gX2VkaXRvckJlZm9yZU1vdW50KCkgewogICAgICB2YXIgb3B0aW9ucyA9IHRoaXMuZWRpdG9yQmVmb3JlTW91bnQobW9uYWNvKTsKICAgICAgcmV0dXJuIG9wdGlvbnMgfHwge307CiAgICB9LAogICAgX2VkaXRvck1vdW50ZWQ6IGZ1bmN0aW9uIF9lZGl0b3JNb3VudGVkKGVkaXRvcikgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy5lZGl0b3JNb3VudGVkKGVkaXRvciwgbW9uYWNvKTsKICAgICAgaWYgKHRoaXMuZGlmZkVkaXRvcikgewogICAgICAgIGVkaXRvci5vbkRpZFVwZGF0ZURpZmYoZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICB2YXIgdmFsdWUgPSBfdGhpczMuX2dldFZhbHVlKCk7CiAgICAgICAgICBfdGhpczMuX2VtaXRDaGFuZ2UodmFsdWUsIGV2ZW50KTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBlZGl0b3Iub25EaWRDaGFuZ2VNb2RlbENvbnRlbnQoZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICB2YXIgdmFsdWUgPSBfdGhpczMuX2dldFZhbHVlKCk7CiAgICAgICAgICBfdGhpczMuX2VtaXRDaGFuZ2UodmFsdWUsIGV2ZW50KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIF9lbWl0Q2hhbmdlOiBmdW5jdGlvbiBfZW1pdENoYW5nZSh2YWx1ZSwgZXZlbnQpIHsKICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdmFsdWUsIGV2ZW50KTsKICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB2YWx1ZSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["monaco","beautifier","noop","name","props","diffEditor","type","Boolean","default","width","String","Number","height","original","value","Object","language","theme","readOnly","options","editorMounted","Function","editorBeforeMount","keyIndex","watch","deep","handler","editor","updateOptions","data","_getValue","_setValue","getModel","modified","setModelLanguage","setTheme","style","$nextTick","layout","val","computed","test","position","mounted","initMonaco","beforeDestroy","dispose","render","h","fullScreen","class","left","top","zIndex","cursor","on","click","_handleFullScreen","methods","assign","_editorBeforeMount","$el","_setModel","_editorMounted","isMaximum","minEditor","maxEditor","dom","originSize","clientWidth","clientHeight","classList","add","document","body","addEventListener","e","keyCode","remove","removeEventListener","_getEditor","modifiedEditor","originalModel","createModel","modifiedModel","setModel","setValue","getValue","onDidUpdateDiff","event","_emitChange","onDidChangeModelContent","$emit"],"sources":["/Users/yanjiajia/Desktop/workspace/avue-data-new/src/page/components/monaco-editor.js"],"sourcesContent":["/* eslint-disable */\nimport * as monaco from 'monaco-editor/esm/vs/editor/editor.api';\nimport 'monaco-editor/esm/vs/basic-languages/javascript/javascript.contribution';\nimport 'monaco-editor/esm/vs/basic-languages/sql/sql.contribution';\nimport beautifier from './json-beautifier'\n\nfunction noop () { }\n\nexport { monaco };\n\nexport default {\n  name: 'MonacoEditor',\n  props: {\n    diffEditor: { type: Boolean, default: false },      //是否使用diff模式\n    width: { type: [String, Number], default: '100%' },\n    height: { type: [String, Number], default: '100%' },\n    original: String,       //只有在diff模式下有效\n    value: [String, Object],\n    language: { type: String, default: 'javascript' },\n    theme: { type: String, default: 'vs-dark' },\n    readOnly: { type: Boolean, default: false },\n    options: { type: Object, default () { return {}; } },\n    editorMounted: { type: Function, default: noop },\n    editorBeforeMount: { type: Function, default: noop },\n    keyIndex: { type: String }\n  },\n\n  watch: {\n    options: {\n      deep: true,\n      handler (options) {\n        this.editor && this.editor.updateOptions(options);\n      }\n    },\n\n    keyIndex () {\n      let data = this.value\n\n      if (typeof data == 'object') {\n        data = beautifier(data)\n      }\n\n      if (this.editor && data !== this._getValue()) {\n        this._setValue(data)\n      }\n    },\n\n    language () {\n      if (!this.editor) return;\n      if (this.diffEditor) {      //diff模式下更新language\n        const { original, modified } = this.editor.getModel();\n        monaco.editor.setModelLanguage(original, this.language);\n        monaco.editor.setModelLanguage(modified, this.language);\n      } else\n        monaco.editor.setModelLanguage(this.editor.getModel(), this.language);\n    },\n\n    theme () {\n      this.editor && monaco.editor.setTheme(this.theme);\n    },\n\n    style () {\n      this.editor && this.$nextTick(() => {\n        this.editor.layout();\n      });\n    },\n\n    value (val) {\n      if (this.editor && val !== this._getValue()) {\n        this._setValue(val)\n      }\n    },\n  },\n\n  computed: {\n    style () {\n      return {\n        width: !/^\\d+$/.test(this.width) ? this.width : `${this.width}px`,\n        height: !/^\\d+$/.test(this.height) ? this.height : `${this.height}px`,\n        position: 'relative'\n      }\n    }\n  },\n\n  mounted () {\n    this.initMonaco();\n  },\n\n  beforeDestroy () {\n    this.editor && this.editor.dispose();\n  },\n\n  render (h) {\n    const fullScreen = this.options.fullScreen\n    return h('div', { class: 'monaco_editor_container', style: this.style }, [\n      fullScreen ? h('i', { class: 'el-icon-full-screen', style: { width: '1.2em', height: '1.2em', position: 'absolute', left: '0px', top: '0px', zIndex: '1', cursor: 'pointer' }, on: { click: this._handleFullScreen } }) : ''\n    ])\n  },\n\n  methods: {\n    initMonaco () {\n      const { value, language, theme, readOnly, options } = this;\n      Object.assign(options, this._editorBeforeMount());      //编辑器初始化前\n      this.editor = monaco.editor[this.diffEditor ? 'createDiffEditor' : 'create'](this.$el, {\n        value: (typeof value == 'string') ? value : beautifier(value),\n        language: language,\n        theme: theme,\n        readOnly: readOnly,\n        ...options\n      });\n      this.diffEditor && this._setModel(this.value, this.original);\n      this._editorMounted(this.editor);      //编辑器初始化后\n    },\n\n    _handleFullScreen () {\n      if (this.isMaximum) this.minEditor()\n      else this.maxEditor()\n    },\n    // 放大\n    maxEditor () {\n      this.isMaximum = true\n      let dom = this.$el\n      this.originSize = {\n        width: dom.clientWidth,\n        height: dom.clientHeight\n      }\n      dom.classList.add('editor-fullscreen')\n      this.editor.layout({\n        height: document.body.clientHeight,\n        width: document.body.clientWidth\n      })\n\n      document.addEventListener('keyup', (e) => {\n        if (e.keyCode == 27) {\n          this.minEditor()\n        }\n      })\n    },\n    // 缩小\n    minEditor () {\n      this.isMaximum = false\n      let dom = this.$el\n      dom.classList.remove('editor-fullscreen')\n      this.editor.layout({\n        height: this.originSize.height,\n        width: this.originSize.width\n      })\n      document.removeEventListener('keyup', () => { })\n    },\n\n    _getEditor () {\n      if (!this.editor) return null;\n      return this.diffEditor ? this.editor.modifiedEditor : this.editor;\n    },\n\n    _setModel (value, original) {     //diff模式下设置model\n      const { language } = this;\n      const originalModel = monaco.editor.createModel(original, language);\n      const modifiedModel = monaco.editor.createModel(value, language);\n      this.editor.setModel({\n        original: originalModel,\n        modified: modifiedModel\n      });\n    },\n\n    _setValue (value) {\n      let editor = this._getEditor();\n      if (editor) return editor.setValue(value);\n    },\n\n    _getValue () {\n      let editor = this._getEditor();\n      if (!editor) return '';\n      return editor.getValue();\n    },\n\n    _editorBeforeMount () {\n      const options = this.editorBeforeMount(monaco);\n      return options || {};\n    },\n\n    _editorMounted (editor) {\n      this.editorMounted(editor, monaco);\n      if (this.diffEditor) {\n        editor.onDidUpdateDiff((event) => {\n          const value = this._getValue();\n          this._emitChange(value, event);\n        });\n      } else {\n        editor.onDidChangeModelContent(event => {\n          const value = this._getValue();\n          this._emitChange(value, event);\n        });\n      }\n    },\n\n    _emitChange (value, event) {\n      this.$emit('change', value, event);\n      this.$emit('input', value);\n    }\n  }\n}"],"mappings":"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"}]}
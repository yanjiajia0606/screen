{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanjiajia/Desktop/workspace/avue-data-new/src/page/list/category.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/src/page/list/category.vue","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgeyBnZXRMaXN0IGFzIF9nZXRMaXN0LCBnZXRPYmosIGFkZE9iaiwgZGVsT2JqLCB1cGRhdGVPYmogfSBmcm9tICdAL2FwaS9jYXRlZ29yeSc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybToge30sCiAgICAgIGRhdGE6IFtdLAogICAgICBvcHRpb246IHsKICAgICAgICBpbmRleDogdHJ1ZSwKICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgaGVhZGVyQWxpZ246ICdjZW50ZXInLAogICAgICAgIGNvbHVtbjogW3sKICAgICAgICAgIGxhYmVsOiAn5qih5Z2X5ZCNJywKICAgICAgICAgIHByb3A6ICdjYXRlZ29yeUtleScsCiAgICAgICAgICBydWxlczogW3sKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXmqKHlnZflkI0iLAogICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICAgIH1dCiAgICAgICAgfSwgewogICAgICAgICAgbGFiZWw6ICfmqKHlnZflgLwnLAogICAgICAgICAgcHJvcDogJ2NhdGVnb3J5VmFsdWUnLAogICAgICAgICAgdHlwZTogJ251bWJlcicsCiAgICAgICAgICBydWxlczogW3sKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXmqKHlnZflgLwiLAogICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICAgIH1dCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHZhaWxkRGF0YTogZnVuY3Rpb24gdmFpbGREYXRhKGlkKSB7CiAgICAgIHJldHVybiBbMCwgMSwgMl0uaW5jbHVkZXMoaWQpOwogICAgfSwKICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uIGJlZm9yZU9wZW4oZG9uZSwgdHlwZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBpZiAodHlwZSA9PSAnZWRpdCcpIHsKICAgICAgICBnZXRPYmoodGhpcy5mb3JtLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgIF90aGlzLmZvcm0gPSBkYXRhOwogICAgICAgICAgZG9uZSgpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGRvbmUoKTsKICAgICAgfQogICAgfSwKICAgIHJvd0RlbDogZnVuY3Rpb24gcm93RGVsKHJvdywgaW5kZXgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIGlmICh0aGlzLnZhaWxkRGF0YShpbmRleCkgJiYgdGhpcy4kd2Vic2l0ZS5pc0RlbW8pIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHRoaXMuJHdlYnNpdGUuaXNEZW1vVGlwKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6ZmkLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGRlbE9iaihyb3cuaWQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKnycpOwogICAgICAgICAgX3RoaXMyLmdldExpc3QoKTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfSwKICAgIHJvd1VwZGF0ZTogZnVuY3Rpb24gcm93VXBkYXRlKHJvdywgaW5kZXgsIGRvbmUpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIGlmICh0aGlzLnZhaWxkRGF0YShpbmRleCkgJiYgdGhpcy4kd2Vic2l0ZS5pc0RlbW8pIHsKICAgICAgICBkb25lKCk7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih0aGlzLiR3ZWJzaXRlLmlzRGVtb1RpcCk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHVwZGF0ZU9iaihyb3cpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGRvbmUoKTsKICAgICAgICBfdGhpczMuJG1lc3NhZ2Uuc3VjY2Vzcygn5L+u5pS55oiQ5YqfJyk7CiAgICAgICAgX3RoaXMzLmdldExpc3QoKTsKICAgICAgfSk7CiAgICB9LAogICAgcm93U2F2ZTogZnVuY3Rpb24gcm93U2F2ZShyb3csIGRvbmUpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIGFkZE9iaihyb3cpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNC4kbWVzc2FnZS5zdWNjZXNzKCfmlrDlop7miJDlip8nKTsKICAgICAgICBfdGhpczQuZ2V0TGlzdCgpOwogICAgICAgIGRvbmUoKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIF9nZXRMaXN0KHsKICAgICAgICBjdXJyZW50OiAxLAogICAgICAgIHNpemU6IDEwMAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgX3RoaXM1LmRhdGEgPSBkYXRhOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";AAWA;AACA;EACAA;IACA;MACAC;MACAD;MACAE;QACAC;QACAC;QACAC;QACAC,SACA;UACAC;UACAC;UACAC;YACAC;YACAC;YACAC;UACA;QACA,GACA;UACAL;UACAC;UACAK;UACAJ;YACAC;YACAC;YACAC;UACA;QACA;MAEA;IACA;EACA;EACAE;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MAAA;MACA;QACAC;UACA;UACA;UACAC;QACA;MACA;QACAA;MACA;IACA;IACAC;MAAA;MACA;QACA;QACA;MACA;MACA;QACAC;QACAC;QACAT;MACA;QACAU;UACA;UACA;QACA;MACA,sBAEA;IAEA;IACAC;MAAA;MACA;QACAL;QACA;QACA;MACA;MACAM;QACAN;QACA;QACA;MAEA;IACA;IACAO;MAAA;MACAC;QACA;QACA;QACAR;MACA;IACA;IACAS;MAAA;MACAA;QACAC;QACAC;MACA;QACA;QACA;MACA;IACA;EACA;AACA","names":["data","form","option","index","align","headerAlign","column","label","prop","rules","required","message","trigger","type","created","methods","vaildData","beforeOpen","getObj","done","rowDel","confirmButtonText","cancelButtonText","delObj","rowUpdate","updateObj","rowSave","addObj","getList","current","size"],"sourceRoot":"src/page/list","sources":["category.vue"],"sourcesContent":["<template>\n  <avue-crud :option=\"option\"\n             v-model=\"form\"\n             @row-save=\"rowSave\"\n             @row-update=\"rowUpdate\"\n             @row-del=\"rowDel\"\n             :before-open=\"beforeOpen\"\n             :data=\"data\"></avue-crud>\n</template>\n\n<script>\nimport { getList, getObj, addObj, delObj, updateObj } from '@/api/category'\nexport default {\n  data () {\n    return {\n      form: {},\n      data: [],\n      option: {\n        index: true,\n        align: 'center',\n        headerAlign: 'center',\n        column: [\n          {\n            label: '模块名',\n            prop: 'categoryKey',\n            rules: [{\n              required: true,\n              message: \"请输入模块名\",\n              trigger: \"blur\"\n            }]\n          },\n          {\n            label: '模块值',\n            prop: 'categoryValue',\n            type: 'number',\n            rules: [{\n              required: true,\n              message: \"请输入模块值\",\n              trigger: \"blur\"\n            }]\n          }\n        ]\n      }\n    }\n  },\n  created () {\n    this.getList()\n  },\n  methods: {\n    vaildData (id) {\n      return [0, 1, 2].includes(id)\n    },\n    beforeOpen (done, type) {\n      if (type == 'edit') {\n        getObj(this.form.id).then(res => {\n          const data = res.data.data;\n          this.form = data\n          done()\n        })\n      } else {\n        done()\n      }\n    },\n    rowDel (row, index) {\n      if (this.vaildData(index) && this.$website.isDemo) {\n        this.$message.error(this.$website.isDemoTip)\n        return false;\n      }\n      this.$confirm('此操作将永久删除, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        delObj(row.id).then(() => {\n          this.$message.success('删除成功');\n          this.getList()\n        })\n      }).catch(() => {\n\n      });\n\n    },\n    rowUpdate (row, index, done) {\n      if (this.vaildData(index) && this.$website.isDemo) {\n        done();\n        this.$message.error(this.$website.isDemoTip)\n        return false;\n      }\n      updateObj(row).then(() => {\n        done();\n        this.$message.success('修改成功');\n        this.getList()\n\n      })\n    },\n    rowSave (row, done) {\n      addObj(row).then(() => {\n        this.$message.success('新增成功');\n        this.getList()\n        done();\n      })\n    },\n    getList () {\n      getList({\n        current: 1,\n        size: 100,\n      }).then(res => {\n        const data = res.data.data;\n        this.data = data;\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>"]}]}
{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/languages/autoIndent.js","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/languages/autoIndent.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudGVzdC5qcyI7Ci8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uCiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwppbXBvcnQgKiBhcyBzdHJpbmdzIGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL3N0cmluZ3MuanMnOwppbXBvcnQgeyBJbmRlbnRBY3Rpb24gfSBmcm9tICcuL2xhbmd1YWdlQ29uZmlndXJhdGlvbi5qcyc7CmltcG9ydCB7IGNyZWF0ZVNjb3BlZExpbmVUb2tlbnMgfSBmcm9tICcuL3N1cHBvcnRzLmpzJzsKaW1wb3J0IHsgZ2V0U2NvcGVkTGluZVRva2VucyB9IGZyb20gJy4vbGFuZ3VhZ2VDb25maWd1cmF0aW9uUmVnaXN0cnkuanMnOwovKioKICogR2V0IG5lYXJlc3QgcHJlY2VkaW5nIGxpbmUgd2hpY2ggZG9lc24ndCBtYXRjaCB1bkluZGVudFBhdHRlcm4gb3IgY29udGFpbnMgYWxsIHdoaXRlc3BhY2UuCiAqIFJlc3VsdDoKICogLTE6IHJ1biBpbnRvIHRoZSBib3VuZGFyeSBvZiBlbWJlZGRlZCBsYW5ndWFnZXMKICogMDogZXZlcnkgbGluZSBhYm92ZSBhcmUgaW52YWxpZAogKiBlbHNlOiBuZWFyZXN0IHByZWNlZGluZyBsaW5lIG9mIHRoZSBzYW1lIGxhbmd1YWdlCiAqLwpmdW5jdGlvbiBnZXRQcmVjZWRpbmdWYWxpZExpbmUobW9kZWwsIGxpbmVOdW1iZXIsIGluZGVudFJ1bGVzU3VwcG9ydCkgewogIHZhciBsYW5ndWFnZUlkID0gbW9kZWwudG9rZW5pemF0aW9uLmdldExhbmd1YWdlSWRBdFBvc2l0aW9uKGxpbmVOdW1iZXIsIDApOwogIGlmIChsaW5lTnVtYmVyID4gMSkgewogICAgdmFyIGxhc3RMaW5lTnVtYmVyOwogICAgdmFyIHJlc3VsdExpbmVOdW1iZXIgPSAtMTsKICAgIGZvciAobGFzdExpbmVOdW1iZXIgPSBsaW5lTnVtYmVyIC0gMTsgbGFzdExpbmVOdW1iZXIgPj0gMTsgbGFzdExpbmVOdW1iZXItLSkgewogICAgICBpZiAobW9kZWwudG9rZW5pemF0aW9uLmdldExhbmd1YWdlSWRBdFBvc2l0aW9uKGxhc3RMaW5lTnVtYmVyLCAwKSAhPT0gbGFuZ3VhZ2VJZCkgewogICAgICAgIHJldHVybiByZXN1bHRMaW5lTnVtYmVyOwogICAgICB9CiAgICAgIHZhciB0ZXh0ID0gbW9kZWwuZ2V0TGluZUNvbnRlbnQobGFzdExpbmVOdW1iZXIpOwogICAgICBpZiAoaW5kZW50UnVsZXNTdXBwb3J0LnNob3VsZElnbm9yZSh0ZXh0KSB8fCAvXlxzKyQvLnRlc3QodGV4dCkgfHwgdGV4dCA9PT0gJycpIHsKICAgICAgICByZXN1bHRMaW5lTnVtYmVyID0gbGFzdExpbmVOdW1iZXI7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgICAgcmV0dXJuIGxhc3RMaW5lTnVtYmVyOwogICAgfQogIH0KICByZXR1cm4gLTE7Cn0KLyoqCiAqIEdldCBpbmhlcml0ZWQgaW5kZW50YXRpb24gZnJvbSBhYm92ZSBsaW5lcy4KICogMS4gRmluZCB0aGUgbmVhcmVzdCBwcmVjZWRpbmcgbGluZSB3aGljaCBkb2Vzbid0IG1hdGNoIHVuSW5kZW50ZWRMaW5lUGF0dGVybi4KICogMi4gSWYgdGhpcyBsaW5lIG1hdGNoZXMgaW5kZW50TmV4dExpbmVQYXR0ZXJuIG9yIGluY3JlYXNlSW5kZW50UGF0dGVybiwgaXQgbWVhbnMgdGhhdCB0aGUgaW5kZW50IGxldmVsIG9mIGBsaW5lTnVtYmVyYCBzaG91bGQgYmUgMSBncmVhdGVyIHRoYW4gdGhpcyBsaW5lLgogKiAzLiBJZiB0aGlzIGxpbmUgZG9lc24ndCBtYXRjaCBhbnkgaW5kZW50IHJ1bGVzCiAqICAgYS4gY2hlY2sgd2hldGhlciB0aGUgbGluZSBhYm92ZSBpdCBtYXRjaGVzIGluZGVudE5leHRMaW5lUGF0dGVybgogKiAgIGIuIElmIG5vdCwgdGhlIGluZGVudCBsZXZlbCBvZiB0aGlzIGxpbmUgaXMgdGhlIHJlc3VsdAogKiAgIGMuIElmIHNvLCBpdCBtZWFucyB0aGUgaW5kZW50IG9mIHRoaXMgbGluZSBpcyAqdGVtcG9yYXJ5KiwgZ28gdXB3YXJkIHV0aWxsIHdlIGZpbmQgYSBsaW5lIHdob3NlIGluZGVudCBpcyBub3QgdGVtcG9yYXJ5ICh0aGUgc2FtZSB3b3JrZmxvdyBhIC0+IGIgLT4gYykuCiAqIDQuIE90aGVyd2lzZSwgd2UgZmFpbCB0byBnZXQgYW4gaW5oZXJpdGVkIGluZGVudCBmcm9tIGFib3Zlcy4gUmV0dXJuIG51bGwgYW5kIHdlIHNob3VsZCBub3QgdG91Y2ggdGhlIGluZGVudCBvZiBgbGluZU51bWJlcmAKICoKICogVGhpcyBmdW5jdGlvbiBvbmx5IHJldHVybiB0aGUgaW5oZXJpdGVkIGluZGVudCBiYXNlZCBvbiBhYm92ZSBsaW5lcywgaXQgZG9lc24ndCBjaGVjayB3aGV0aGVyIGN1cnJlbnQgbGluZSBzaG91bGQgZGVjcmVhc2Ugb3Igbm90LgogKi8KZXhwb3J0IGZ1bmN0aW9uIGdldEluaGVyaXRJbmRlbnRGb3JMaW5lKGF1dG9JbmRlbnQsIG1vZGVsLCBsaW5lTnVtYmVyKSB7CiAgdmFyIGhvbm9ySW50ZW50aWFsSW5kZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB0cnVlOwogIHZhciBsYW5ndWFnZUNvbmZpZ3VyYXRpb25TZXJ2aWNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgPyBhcmd1bWVudHNbNF0gOiB1bmRlZmluZWQ7CiAgaWYgKGF1dG9JbmRlbnQgPCA0IC8qIEVkaXRvckF1dG9JbmRlbnRTdHJhdGVneS5GdWxsICovKSB7CiAgICByZXR1cm4gbnVsbDsKICB9CiAgdmFyIGluZGVudFJ1bGVzU3VwcG9ydCA9IGxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UuZ2V0TGFuZ3VhZ2VDb25maWd1cmF0aW9uKG1vZGVsLnRva2VuaXphdGlvbi5nZXRMYW5ndWFnZUlkKCkpLmluZGVudFJ1bGVzU3VwcG9ydDsKICBpZiAoIWluZGVudFJ1bGVzU3VwcG9ydCkgewogICAgcmV0dXJuIG51bGw7CiAgfQogIGlmIChsaW5lTnVtYmVyIDw9IDEpIHsKICAgIHJldHVybiB7CiAgICAgIGluZGVudGF0aW9uOiAnJywKICAgICAgYWN0aW9uOiBudWxsCiAgICB9OwogIH0KICB2YXIgcHJlY2VkaW5nVW5JZ25vcmVkTGluZSA9IGdldFByZWNlZGluZ1ZhbGlkTGluZShtb2RlbCwgbGluZU51bWJlciwgaW5kZW50UnVsZXNTdXBwb3J0KTsKICBpZiAocHJlY2VkaW5nVW5JZ25vcmVkTGluZSA8IDApIHsKICAgIHJldHVybiBudWxsOwogIH0gZWxzZSBpZiAocHJlY2VkaW5nVW5JZ25vcmVkTGluZSA8IDEpIHsKICAgIHJldHVybiB7CiAgICAgIGluZGVudGF0aW9uOiAnJywKICAgICAgYWN0aW9uOiBudWxsCiAgICB9OwogIH0KICB2YXIgcHJlY2VkaW5nVW5JZ25vcmVkTGluZUNvbnRlbnQgPSBtb2RlbC5nZXRMaW5lQ29udGVudChwcmVjZWRpbmdVbklnbm9yZWRMaW5lKTsKICBpZiAoaW5kZW50UnVsZXNTdXBwb3J0LnNob3VsZEluY3JlYXNlKHByZWNlZGluZ1VuSWdub3JlZExpbmVDb250ZW50KSB8fCBpbmRlbnRSdWxlc1N1cHBvcnQuc2hvdWxkSW5kZW50TmV4dExpbmUocHJlY2VkaW5nVW5JZ25vcmVkTGluZUNvbnRlbnQpKSB7CiAgICByZXR1cm4gewogICAgICBpbmRlbnRhdGlvbjogc3RyaW5ncy5nZXRMZWFkaW5nV2hpdGVzcGFjZShwcmVjZWRpbmdVbklnbm9yZWRMaW5lQ29udGVudCksCiAgICAgIGFjdGlvbjogSW5kZW50QWN0aW9uLkluZGVudCwKICAgICAgbGluZTogcHJlY2VkaW5nVW5JZ25vcmVkTGluZQogICAgfTsKICB9IGVsc2UgaWYgKGluZGVudFJ1bGVzU3VwcG9ydC5zaG91bGREZWNyZWFzZShwcmVjZWRpbmdVbklnbm9yZWRMaW5lQ29udGVudCkpIHsKICAgIHJldHVybiB7CiAgICAgIGluZGVudGF0aW9uOiBzdHJpbmdzLmdldExlYWRpbmdXaGl0ZXNwYWNlKHByZWNlZGluZ1VuSWdub3JlZExpbmVDb250ZW50KSwKICAgICAgYWN0aW9uOiBudWxsLAogICAgICBsaW5lOiBwcmVjZWRpbmdVbklnbm9yZWRMaW5lCiAgICB9OwogIH0gZWxzZSB7CiAgICAvLyBwcmVjZWRpbmdVbklnbm9yZWRMaW5lIGNhbiBub3QgYmUgaWdub3JlZC4KICAgIC8vIGl0IGRvZXNuJ3QgaW5jcmVhc2UgaW5kZW50IG9mIGZvbGxvd2luZyBsaW5lcwogICAgLy8gaXQgZG9lc24ndCBpbmNyZWFzZSBqdXN0IG5leHQgbGluZQogICAgLy8gc28gY3VycmVudCBsaW5lIGlzIG5vdCBhZmZlY3QgYnkgcHJlY2VkaW5nVW5JZ25vcmVkTGluZQogICAgLy8gYW5kIHRoZW4gd2Ugc2hvdWxkIGdldCBhIGNvcnJlY3QgaW5oZXJpdHRlZCBpbmRlbnRhdGlvbiBmcm9tIGFib3ZlIGxpbmVzCiAgICBpZiAocHJlY2VkaW5nVW5JZ25vcmVkTGluZSA9PT0gMSkgewogICAgICByZXR1cm4gewogICAgICAgIGluZGVudGF0aW9uOiBzdHJpbmdzLmdldExlYWRpbmdXaGl0ZXNwYWNlKG1vZGVsLmdldExpbmVDb250ZW50KHByZWNlZGluZ1VuSWdub3JlZExpbmUpKSwKICAgICAgICBhY3Rpb246IG51bGwsCiAgICAgICAgbGluZTogcHJlY2VkaW5nVW5JZ25vcmVkTGluZQogICAgICB9OwogICAgfQogICAgdmFyIHByZXZpb3VzTGluZSA9IHByZWNlZGluZ1VuSWdub3JlZExpbmUgLSAxOwogICAgdmFyIHByZXZpb3VzTGluZUluZGVudE1ldGFkYXRhID0gaW5kZW50UnVsZXNTdXBwb3J0LmdldEluZGVudE1ldGFkYXRhKG1vZGVsLmdldExpbmVDb250ZW50KHByZXZpb3VzTGluZSkpOwogICAgaWYgKCEocHJldmlvdXNMaW5lSW5kZW50TWV0YWRhdGEgJiAoMSAvKiBJbmRlbnRDb25zdHMuSU5DUkVBU0VfTUFTSyAqLyB8IDIgLyogSW5kZW50Q29uc3RzLkRFQ1JFQVNFX01BU0sgKi8pKSAmJiBwcmV2aW91c0xpbmVJbmRlbnRNZXRhZGF0YSAmIDQgLyogSW5kZW50Q29uc3RzLklOREVOVF9ORVhUTElORV9NQVNLICovKSB7CiAgICAgIHZhciBzdG9wTGluZSA9IDA7CiAgICAgIGZvciAodmFyIGkgPSBwcmV2aW91c0xpbmUgLSAxOyBpID4gMDsgaS0tKSB7CiAgICAgICAgaWYgKGluZGVudFJ1bGVzU3VwcG9ydC5zaG91bGRJbmRlbnROZXh0TGluZShtb2RlbC5nZXRMaW5lQ29udGVudChpKSkpIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KICAgICAgICBzdG9wTGluZSA9IGk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgcmV0dXJuIHsKICAgICAgICBpbmRlbnRhdGlvbjogc3RyaW5ncy5nZXRMZWFkaW5nV2hpdGVzcGFjZShtb2RlbC5nZXRMaW5lQ29udGVudChzdG9wTGluZSArIDEpKSwKICAgICAgICBhY3Rpb246IG51bGwsCiAgICAgICAgbGluZTogc3RvcExpbmUgKyAxCiAgICAgIH07CiAgICB9CiAgICBpZiAoaG9ub3JJbnRlbnRpYWxJbmRlbnQpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBpbmRlbnRhdGlvbjogc3RyaW5ncy5nZXRMZWFkaW5nV2hpdGVzcGFjZShtb2RlbC5nZXRMaW5lQ29udGVudChwcmVjZWRpbmdVbklnbm9yZWRMaW5lKSksCiAgICAgICAgYWN0aW9uOiBudWxsLAogICAgICAgIGxpbmU6IHByZWNlZGluZ1VuSWdub3JlZExpbmUKICAgICAgfTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIHNlYXJjaCBmcm9tIHByZWNlZGluZ1VuSWdub3JlZExpbmUgdW50aWwgd2UgZmluZCBvbmUgd2hvc2UgaW5kZW50IGlzIG5vdCB0ZW1wb3JhcnkKICAgICAgZm9yICh2YXIgX2kgPSBwcmVjZWRpbmdVbklnbm9yZWRMaW5lOyBfaSA+IDA7IF9pLS0pIHsKICAgICAgICB2YXIgbGluZUNvbnRlbnQgPSBtb2RlbC5nZXRMaW5lQ29udGVudChfaSk7CiAgICAgICAgaWYgKGluZGVudFJ1bGVzU3VwcG9ydC5zaG91bGRJbmNyZWFzZShsaW5lQ29udGVudCkpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGluZGVudGF0aW9uOiBzdHJpbmdzLmdldExlYWRpbmdXaGl0ZXNwYWNlKGxpbmVDb250ZW50KSwKICAgICAgICAgICAgYWN0aW9uOiBJbmRlbnRBY3Rpb24uSW5kZW50LAogICAgICAgICAgICBsaW5lOiBfaQogICAgICAgICAgfTsKICAgICAgICB9IGVsc2UgaWYgKGluZGVudFJ1bGVzU3VwcG9ydC5zaG91bGRJbmRlbnROZXh0TGluZShsaW5lQ29udGVudCkpIHsKICAgICAgICAgIHZhciBfc3RvcExpbmUgPSAwOwogICAgICAgICAgZm9yICh2YXIgaiA9IF9pIC0gMTsgaiA+IDA7IGotLSkgewogICAgICAgICAgICBpZiAoaW5kZW50UnVsZXNTdXBwb3J0LnNob3VsZEluZGVudE5leHRMaW5lKG1vZGVsLmdldExpbmVDb250ZW50KF9pKSkpIHsKICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBfc3RvcExpbmUgPSBqOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGluZGVudGF0aW9uOiBzdHJpbmdzLmdldExlYWRpbmdXaGl0ZXNwYWNlKG1vZGVsLmdldExpbmVDb250ZW50KF9zdG9wTGluZSArIDEpKSwKICAgICAgICAgICAgYWN0aW9uOiBudWxsLAogICAgICAgICAgICBsaW5lOiBfc3RvcExpbmUgKyAxCiAgICAgICAgICB9OwogICAgICAgIH0gZWxzZSBpZiAoaW5kZW50UnVsZXNTdXBwb3J0LnNob3VsZERlY3JlYXNlKGxpbmVDb250ZW50KSkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaW5kZW50YXRpb246IHN0cmluZ3MuZ2V0TGVhZGluZ1doaXRlc3BhY2UobGluZUNvbnRlbnQpLAogICAgICAgICAgICBhY3Rpb246IG51bGwsCiAgICAgICAgICAgIGxpbmU6IF9pCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gewogICAgICAgIGluZGVudGF0aW9uOiBzdHJpbmdzLmdldExlYWRpbmdXaGl0ZXNwYWNlKG1vZGVsLmdldExpbmVDb250ZW50KDEpKSwKICAgICAgICBhY3Rpb246IG51bGwsCiAgICAgICAgbGluZTogMQogICAgICB9OwogICAgfQogIH0KfQpleHBvcnQgZnVuY3Rpb24gZ2V0R29vZEluZGVudEZvckxpbmUoYXV0b0luZGVudCwgdmlydHVhbE1vZGVsLCBsYW5ndWFnZUlkLCBsaW5lTnVtYmVyLCBpbmRlbnRDb252ZXJ0ZXIsIGxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UpIHsKICBpZiAoYXV0b0luZGVudCA8IDQgLyogRWRpdG9yQXV0b0luZGVudFN0cmF0ZWd5LkZ1bGwgKi8pIHsKICAgIHJldHVybiBudWxsOwogIH0KICB2YXIgcmljaEVkaXRTdXBwb3J0ID0gbGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZS5nZXRMYW5ndWFnZUNvbmZpZ3VyYXRpb24obGFuZ3VhZ2VJZCk7CiAgaWYgKCFyaWNoRWRpdFN1cHBvcnQpIHsKICAgIHJldHVybiBudWxsOwogIH0KICB2YXIgaW5kZW50UnVsZXNTdXBwb3J0ID0gbGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZS5nZXRMYW5ndWFnZUNvbmZpZ3VyYXRpb24obGFuZ3VhZ2VJZCkuaW5kZW50UnVsZXNTdXBwb3J0OwogIGlmICghaW5kZW50UnVsZXNTdXBwb3J0KSB7CiAgICByZXR1cm4gbnVsbDsKICB9CiAgdmFyIGluZGVudCA9IGdldEluaGVyaXRJbmRlbnRGb3JMaW5lKGF1dG9JbmRlbnQsIHZpcnR1YWxNb2RlbCwgbGluZU51bWJlciwgdW5kZWZpbmVkLCBsYW5ndWFnZUNvbmZpZ3VyYXRpb25TZXJ2aWNlKTsKICB2YXIgbGluZUNvbnRlbnQgPSB2aXJ0dWFsTW9kZWwuZ2V0TGluZUNvbnRlbnQobGluZU51bWJlcik7CiAgaWYgKGluZGVudCkgewogICAgdmFyIGluaGVyaXRMaW5lID0gaW5kZW50LmxpbmU7CiAgICBpZiAoaW5oZXJpdExpbmUgIT09IHVuZGVmaW5lZCkgewogICAgICB2YXIgZW50ZXJSZXN1bHQgPSByaWNoRWRpdFN1cHBvcnQub25FbnRlcihhdXRvSW5kZW50LCAnJywgdmlydHVhbE1vZGVsLmdldExpbmVDb250ZW50KGluaGVyaXRMaW5lKSwgJycpOwogICAgICBpZiAoZW50ZXJSZXN1bHQpIHsKICAgICAgICB2YXIgaW5kZW50YXRpb24gPSBzdHJpbmdzLmdldExlYWRpbmdXaGl0ZXNwYWNlKHZpcnR1YWxNb2RlbC5nZXRMaW5lQ29udGVudChpbmhlcml0TGluZSkpOwogICAgICAgIGlmIChlbnRlclJlc3VsdC5yZW1vdmVUZXh0KSB7CiAgICAgICAgICBpbmRlbnRhdGlvbiA9IGluZGVudGF0aW9uLnN1YnN0cmluZygwLCBpbmRlbnRhdGlvbi5sZW5ndGggLSBlbnRlclJlc3VsdC5yZW1vdmVUZXh0KTsKICAgICAgICB9CiAgICAgICAgaWYgKGVudGVyUmVzdWx0LmluZGVudEFjdGlvbiA9PT0gSW5kZW50QWN0aW9uLkluZGVudCB8fCBlbnRlclJlc3VsdC5pbmRlbnRBY3Rpb24gPT09IEluZGVudEFjdGlvbi5JbmRlbnRPdXRkZW50KSB7CiAgICAgICAgICBpbmRlbnRhdGlvbiA9IGluZGVudENvbnZlcnRlci5zaGlmdEluZGVudChpbmRlbnRhdGlvbik7CiAgICAgICAgfSBlbHNlIGlmIChlbnRlclJlc3VsdC5pbmRlbnRBY3Rpb24gPT09IEluZGVudEFjdGlvbi5PdXRkZW50KSB7CiAgICAgICAgICBpbmRlbnRhdGlvbiA9IGluZGVudENvbnZlcnRlci51bnNoaWZ0SW5kZW50KGluZGVudGF0aW9uKTsKICAgICAgICB9CiAgICAgICAgaWYgKGluZGVudFJ1bGVzU3VwcG9ydC5zaG91bGREZWNyZWFzZShsaW5lQ29udGVudCkpIHsKICAgICAgICAgIGluZGVudGF0aW9uID0gaW5kZW50Q29udmVydGVyLnVuc2hpZnRJbmRlbnQoaW5kZW50YXRpb24pOwogICAgICAgIH0KICAgICAgICBpZiAoZW50ZXJSZXN1bHQuYXBwZW5kVGV4dCkgewogICAgICAgICAgaW5kZW50YXRpb24gKz0gZW50ZXJSZXN1bHQuYXBwZW5kVGV4dDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHN0cmluZ3MuZ2V0TGVhZGluZ1doaXRlc3BhY2UoaW5kZW50YXRpb24pOwogICAgICB9CiAgICB9CiAgICBpZiAoaW5kZW50UnVsZXNTdXBwb3J0LnNob3VsZERlY3JlYXNlKGxpbmVDb250ZW50KSkgewogICAgICBpZiAoaW5kZW50LmFjdGlvbiA9PT0gSW5kZW50QWN0aW9uLkluZGVudCkgewogICAgICAgIHJldHVybiBpbmRlbnQuaW5kZW50YXRpb247CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGluZGVudENvbnZlcnRlci51bnNoaWZ0SW5kZW50KGluZGVudC5pbmRlbnRhdGlvbik7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGlmIChpbmRlbnQuYWN0aW9uID09PSBJbmRlbnRBY3Rpb24uSW5kZW50KSB7CiAgICAgICAgcmV0dXJuIGluZGVudENvbnZlcnRlci5zaGlmdEluZGVudChpbmRlbnQuaW5kZW50YXRpb24pOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBpbmRlbnQuaW5kZW50YXRpb247CiAgICAgIH0KICAgIH0KICB9CiAgcmV0dXJuIG51bGw7Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldEluZGVudEZvckVudGVyKGF1dG9JbmRlbnQsIG1vZGVsLCByYW5nZSwgaW5kZW50Q29udmVydGVyLCBsYW5ndWFnZUNvbmZpZ3VyYXRpb25TZXJ2aWNlKSB7CiAgaWYgKGF1dG9JbmRlbnQgPCA0IC8qIEVkaXRvckF1dG9JbmRlbnRTdHJhdGVneS5GdWxsICovKSB7CiAgICByZXR1cm4gbnVsbDsKICB9CiAgbW9kZWwudG9rZW5pemF0aW9uLmZvcmNlVG9rZW5pemF0aW9uKHJhbmdlLnN0YXJ0TGluZU51bWJlcik7CiAgdmFyIGxpbmVUb2tlbnMgPSBtb2RlbC50b2tlbml6YXRpb24uZ2V0TGluZVRva2VucyhyYW5nZS5zdGFydExpbmVOdW1iZXIpOwogIHZhciBzY29wZWRMaW5lVG9rZW5zID0gY3JlYXRlU2NvcGVkTGluZVRva2VucyhsaW5lVG9rZW5zLCByYW5nZS5zdGFydENvbHVtbiAtIDEpOwogIHZhciBzY29wZWRMaW5lVGV4dCA9IHNjb3BlZExpbmVUb2tlbnMuZ2V0TGluZUNvbnRlbnQoKTsKICB2YXIgZW1iZWRkZWRMYW5ndWFnZSA9IGZhbHNlOwogIHZhciBiZWZvcmVFbnRlclRleHQ7CiAgaWYgKHNjb3BlZExpbmVUb2tlbnMuZmlyc3RDaGFyT2Zmc2V0ID4gMCAmJiBsaW5lVG9rZW5zLmdldExhbmd1YWdlSWQoMCkgIT09IHNjb3BlZExpbmVUb2tlbnMubGFuZ3VhZ2VJZCkgewogICAgLy8gd2UgYXJlIGluIHRoZSBlbWJlZGVkIGxhbmd1YWdlIGNvbnRlbnQKICAgIGVtYmVkZGVkTGFuZ3VhZ2UgPSB0cnVlOyAvLyBpZiBlbWJlZGRlZExhbmd1YWdlIGlzIHRydWUsIHRoZW4gd2UgZG9uJ3QgdG91Y2ggdGhlIGluZGVudGF0aW9uIG9mIGN1cnJlbnQgbGluZQogICAgYmVmb3JlRW50ZXJUZXh0ID0gc2NvcGVkTGluZVRleHQuc3Vic3RyKDAsIHJhbmdlLnN0YXJ0Q29sdW1uIC0gMSAtIHNjb3BlZExpbmVUb2tlbnMuZmlyc3RDaGFyT2Zmc2V0KTsKICB9IGVsc2UgewogICAgYmVmb3JlRW50ZXJUZXh0ID0gbGluZVRva2Vucy5nZXRMaW5lQ29udGVudCgpLnN1YnN0cmluZygwLCByYW5nZS5zdGFydENvbHVtbiAtIDEpOwogIH0KICB2YXIgYWZ0ZXJFbnRlclRleHQ7CiAgaWYgKHJhbmdlLmlzRW1wdHkoKSkgewogICAgYWZ0ZXJFbnRlclRleHQgPSBzY29wZWRMaW5lVGV4dC5zdWJzdHIocmFuZ2Uuc3RhcnRDb2x1bW4gLSAxIC0gc2NvcGVkTGluZVRva2Vucy5maXJzdENoYXJPZmZzZXQpOwogIH0gZWxzZSB7CiAgICB2YXIgZW5kU2NvcGVkTGluZVRva2VucyA9IGdldFNjb3BlZExpbmVUb2tlbnMobW9kZWwsIHJhbmdlLmVuZExpbmVOdW1iZXIsIHJhbmdlLmVuZENvbHVtbik7CiAgICBhZnRlckVudGVyVGV4dCA9IGVuZFNjb3BlZExpbmVUb2tlbnMuZ2V0TGluZUNvbnRlbnQoKS5zdWJzdHIocmFuZ2UuZW5kQ29sdW1uIC0gMSAtIHNjb3BlZExpbmVUb2tlbnMuZmlyc3RDaGFyT2Zmc2V0KTsKICB9CiAgdmFyIGluZGVudFJ1bGVzU3VwcG9ydCA9IGxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UuZ2V0TGFuZ3VhZ2VDb25maWd1cmF0aW9uKHNjb3BlZExpbmVUb2tlbnMubGFuZ3VhZ2VJZCkuaW5kZW50UnVsZXNTdXBwb3J0OwogIGlmICghaW5kZW50UnVsZXNTdXBwb3J0KSB7CiAgICByZXR1cm4gbnVsbDsKICB9CiAgdmFyIGJlZm9yZUVudGVyUmVzdWx0ID0gYmVmb3JlRW50ZXJUZXh0OwogIHZhciBiZWZvcmVFbnRlckluZGVudCA9IHN0cmluZ3MuZ2V0TGVhZGluZ1doaXRlc3BhY2UoYmVmb3JlRW50ZXJUZXh0KTsKICB2YXIgdmlydHVhbE1vZGVsID0gewogICAgdG9rZW5pemF0aW9uOiB7CiAgICAgIGdldExpbmVUb2tlbnM6IGZ1bmN0aW9uIGdldExpbmVUb2tlbnMobGluZU51bWJlcikgewogICAgICAgIHJldHVybiBtb2RlbC50b2tlbml6YXRpb24uZ2V0TGluZVRva2VucyhsaW5lTnVtYmVyKTsKICAgICAgfSwKICAgICAgZ2V0TGFuZ3VhZ2VJZDogZnVuY3Rpb24gZ2V0TGFuZ3VhZ2VJZCgpIHsKICAgICAgICByZXR1cm4gbW9kZWwuZ2V0TGFuZ3VhZ2VJZCgpOwogICAgICB9LAogICAgICBnZXRMYW5ndWFnZUlkQXRQb3NpdGlvbjogZnVuY3Rpb24gZ2V0TGFuZ3VhZ2VJZEF0UG9zaXRpb24obGluZU51bWJlciwgY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIG1vZGVsLmdldExhbmd1YWdlSWRBdFBvc2l0aW9uKGxpbmVOdW1iZXIsIGNvbHVtbik7CiAgICAgIH0KICAgIH0sCiAgICBnZXRMaW5lQ29udGVudDogZnVuY3Rpb24gZ2V0TGluZUNvbnRlbnQobGluZU51bWJlcikgewogICAgICBpZiAobGluZU51bWJlciA9PT0gcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyKSB7CiAgICAgICAgcmV0dXJuIGJlZm9yZUVudGVyUmVzdWx0OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBtb2RlbC5nZXRMaW5lQ29udGVudChsaW5lTnVtYmVyKTsKICAgICAgfQogICAgfQogIH07CiAgdmFyIGN1cnJlbnRMaW5lSW5kZW50ID0gc3RyaW5ncy5nZXRMZWFkaW5nV2hpdGVzcGFjZShsaW5lVG9rZW5zLmdldExpbmVDb250ZW50KCkpOwogIHZhciBhZnRlckVudGVyQWN0aW9uID0gZ2V0SW5oZXJpdEluZGVudEZvckxpbmUoYXV0b0luZGVudCwgdmlydHVhbE1vZGVsLCByYW5nZS5zdGFydExpbmVOdW1iZXIgKyAxLCB1bmRlZmluZWQsIGxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UpOwogIGlmICghYWZ0ZXJFbnRlckFjdGlvbikgewogICAgdmFyIGJlZm9yZUVudGVyID0gZW1iZWRkZWRMYW5ndWFnZSA/IGN1cnJlbnRMaW5lSW5kZW50IDogYmVmb3JlRW50ZXJJbmRlbnQ7CiAgICByZXR1cm4gewogICAgICBiZWZvcmVFbnRlcjogYmVmb3JlRW50ZXIsCiAgICAgIGFmdGVyRW50ZXI6IGJlZm9yZUVudGVyCiAgICB9OwogIH0KICB2YXIgYWZ0ZXJFbnRlckluZGVudCA9IGVtYmVkZGVkTGFuZ3VhZ2UgPyBjdXJyZW50TGluZUluZGVudCA6IGFmdGVyRW50ZXJBY3Rpb24uaW5kZW50YXRpb247CiAgaWYgKGFmdGVyRW50ZXJBY3Rpb24uYWN0aW9uID09PSBJbmRlbnRBY3Rpb24uSW5kZW50KSB7CiAgICBhZnRlckVudGVySW5kZW50ID0gaW5kZW50Q29udmVydGVyLnNoaWZ0SW5kZW50KGFmdGVyRW50ZXJJbmRlbnQpOwogIH0KICBpZiAoaW5kZW50UnVsZXNTdXBwb3J0LnNob3VsZERlY3JlYXNlKGFmdGVyRW50ZXJUZXh0KSkgewogICAgYWZ0ZXJFbnRlckluZGVudCA9IGluZGVudENvbnZlcnRlci51bnNoaWZ0SW5kZW50KGFmdGVyRW50ZXJJbmRlbnQpOwogIH0KICByZXR1cm4gewogICAgYmVmb3JlRW50ZXI6IGVtYmVkZGVkTGFuZ3VhZ2UgPyBjdXJyZW50TGluZUluZGVudCA6IGJlZm9yZUVudGVySW5kZW50LAogICAgYWZ0ZXJFbnRlcjogYWZ0ZXJFbnRlckluZGVudAogIH07Cn0KLyoqCiAqIFdlIHNob3VsZCBhbHdheXMgYWxsb3cgaW50ZW50aW9uYWwgaW5kZW50YXRpb24uIEl0IG1lYW5zLCBpZiB1c2VycyBjaGFuZ2UgdGhlIGluZGVudGF0aW9uIG9mIGBsaW5lTnVtYmVyYCBhbmQgdGhlIGNvbnRlbnQgb2YKICogdGhpcyBsaW5lIGRvZXNuJ3QgbWF0Y2ggZGVjcmVhc2VJbmRlbnRQYXR0ZXJuLCB3ZSBzaG91bGQgbm90IGFkanVzdCB0aGUgaW5kZW50YXRpb24uCiAqLwpleHBvcnQgZnVuY3Rpb24gZ2V0SW5kZW50QWN0aW9uRm9yVHlwZShhdXRvSW5kZW50LCBtb2RlbCwgcmFuZ2UsIGNoLCBpbmRlbnRDb252ZXJ0ZXIsIGxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UpIHsKICBpZiAoYXV0b0luZGVudCA8IDQgLyogRWRpdG9yQXV0b0luZGVudFN0cmF0ZWd5LkZ1bGwgKi8pIHsKICAgIHJldHVybiBudWxsOwogIH0KICB2YXIgc2NvcGVkTGluZVRva2VucyA9IGdldFNjb3BlZExpbmVUb2tlbnMobW9kZWwsIHJhbmdlLnN0YXJ0TGluZU51bWJlciwgcmFuZ2Uuc3RhcnRDb2x1bW4pOwogIGlmIChzY29wZWRMaW5lVG9rZW5zLmZpcnN0Q2hhck9mZnNldCkgewogICAgLy8gdGhpcyBsaW5lIGhhcyBtaXhlZCBsYW5ndWFnZXMgYW5kIGluZGVudGF0aW9uIHJ1bGVzIHdpbGwgbm90IHdvcmsKICAgIHJldHVybiBudWxsOwogIH0KICB2YXIgaW5kZW50UnVsZXNTdXBwb3J0ID0gbGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZS5nZXRMYW5ndWFnZUNvbmZpZ3VyYXRpb24oc2NvcGVkTGluZVRva2Vucy5sYW5ndWFnZUlkKS5pbmRlbnRSdWxlc1N1cHBvcnQ7CiAgaWYgKCFpbmRlbnRSdWxlc1N1cHBvcnQpIHsKICAgIHJldHVybiBudWxsOwogIH0KICB2YXIgc2NvcGVkTGluZVRleHQgPSBzY29wZWRMaW5lVG9rZW5zLmdldExpbmVDb250ZW50KCk7CiAgdmFyIGJlZm9yZVR5cGVUZXh0ID0gc2NvcGVkTGluZVRleHQuc3Vic3RyKDAsIHJhbmdlLnN0YXJ0Q29sdW1uIC0gMSAtIHNjb3BlZExpbmVUb2tlbnMuZmlyc3RDaGFyT2Zmc2V0KTsKICAvLyBzZWxlY3Rpb24gc3VwcG9ydAogIHZhciBhZnRlclR5cGVUZXh0OwogIGlmIChyYW5nZS5pc0VtcHR5KCkpIHsKICAgIGFmdGVyVHlwZVRleHQgPSBzY29wZWRMaW5lVGV4dC5zdWJzdHIocmFuZ2Uuc3RhcnRDb2x1bW4gLSAxIC0gc2NvcGVkTGluZVRva2Vucy5maXJzdENoYXJPZmZzZXQpOwogIH0gZWxzZSB7CiAgICB2YXIgZW5kU2NvcGVkTGluZVRva2VucyA9IGdldFNjb3BlZExpbmVUb2tlbnMobW9kZWwsIHJhbmdlLmVuZExpbmVOdW1iZXIsIHJhbmdlLmVuZENvbHVtbik7CiAgICBhZnRlclR5cGVUZXh0ID0gZW5kU2NvcGVkTGluZVRva2Vucy5nZXRMaW5lQ29udGVudCgpLnN1YnN0cihyYW5nZS5lbmRDb2x1bW4gLSAxIC0gc2NvcGVkTGluZVRva2Vucy5maXJzdENoYXJPZmZzZXQpOwogIH0KICAvLyBJZiBwcmV2aW91cyBjb250ZW50IGFscmVhZHkgbWF0Y2hlcyBkZWNyZWFzZUluZGVudFBhdHRlcm4sIGl0IG1lYW5zIGluZGVudGF0aW9uIG9mIHRoaXMgbGluZSBzaG91bGQgYWxyZWFkeSBiZSBhZGp1c3RlZAogIC8vIFVzZXJzIG1pZ2h0IGNoYW5nZSB0aGUgaW5kZW50YXRpb24gYnkgcHVycG9zZSBhbmQgd2Ugc2hvdWxkIGhvbm9yIHRoYXQgaW5zdGVhZCBvZiByZWFkanVzdGluZy4KICBpZiAoIWluZGVudFJ1bGVzU3VwcG9ydC5zaG91bGREZWNyZWFzZShiZWZvcmVUeXBlVGV4dCArIGFmdGVyVHlwZVRleHQpICYmIGluZGVudFJ1bGVzU3VwcG9ydC5zaG91bGREZWNyZWFzZShiZWZvcmVUeXBlVGV4dCArIGNoICsgYWZ0ZXJUeXBlVGV4dCkpIHsKICAgIC8vIGFmdGVyIHR5cGluZyBgY2hgLCB0aGUgY29udGVudCBtYXRjaGVzIGRlY3JlYXNlSW5kZW50UGF0dGVybiwgd2Ugc2hvdWxkIGFkanVzdCB0aGUgaW5kZW50IHRvIGEgZ29vZCBtYW5uZXIuCiAgICAvLyAxLiBHZXQgaW5oZXJpdGVkIGluZGVudCBhY3Rpb24KICAgIHZhciByID0gZ2V0SW5oZXJpdEluZGVudEZvckxpbmUoYXV0b0luZGVudCwgbW9kZWwsIHJhbmdlLnN0YXJ0TGluZU51bWJlciwgZmFsc2UsIGxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UpOwogICAgaWYgKCFyKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgdmFyIGluZGVudGF0aW9uID0gci5pbmRlbnRhdGlvbjsKICAgIGlmIChyLmFjdGlvbiAhPT0gSW5kZW50QWN0aW9uLkluZGVudCkgewogICAgICBpbmRlbnRhdGlvbiA9IGluZGVudENvbnZlcnRlci51bnNoaWZ0SW5kZW50KGluZGVudGF0aW9uKTsKICAgIH0KICAgIHJldHVybiBpbmRlbnRhdGlvbjsKICB9CiAgcmV0dXJuIG51bGw7Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldEluZGVudE1ldGFkYXRhKG1vZGVsLCBsaW5lTnVtYmVyLCBsYW5ndWFnZUNvbmZpZ3VyYXRpb25TZXJ2aWNlKSB7CiAgdmFyIGluZGVudFJ1bGVzU3VwcG9ydCA9IGxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UuZ2V0TGFuZ3VhZ2VDb25maWd1cmF0aW9uKG1vZGVsLmdldExhbmd1YWdlSWQoKSkuaW5kZW50UnVsZXNTdXBwb3J0OwogIGlmICghaW5kZW50UnVsZXNTdXBwb3J0KSB7CiAgICByZXR1cm4gbnVsbDsKICB9CiAgaWYgKGxpbmVOdW1iZXIgPCAxIHx8IGxpbmVOdW1iZXIgPiBtb2RlbC5nZXRMaW5lQ291bnQoKSkgewogICAgcmV0dXJuIG51bGw7CiAgfQogIHJldHVybiBpbmRlbnRSdWxlc1N1cHBvcnQuZ2V0SW5kZW50TWV0YWRhdGEobW9kZWwuZ2V0TGluZUNvbnRlbnQobGluZU51bWJlcikpOwp9"},{"version":3,"names":["strings","IndentAction","createScopedLineTokens","getScopedLineTokens","getPrecedingValidLine","model","lineNumber","indentRulesSupport","languageId","tokenization","getLanguageIdAtPosition","lastLineNumber","resultLineNumber","text","getLineContent","shouldIgnore","test","getInheritIndentForLine","autoIndent","honorIntentialIndent","languageConfigurationService","getLanguageConfiguration","getLanguageId","indentation","action","precedingUnIgnoredLine","precedingUnIgnoredLineContent","shouldIncrease","shouldIndentNextLine","getLeadingWhitespace","Indent","line","shouldDecrease","previousLine","previousLineIndentMetadata","getIndentMetadata","stopLine","i","lineContent","j","getGoodIndentForLine","virtualModel","indentConverter","richEditSupport","indent","undefined","inheritLine","enterResult","onEnter","removeText","substring","length","indentAction","IndentOutdent","shiftIndent","Outdent","unshiftIndent","appendText","getIndentForEnter","range","forceTokenization","startLineNumber","lineTokens","getLineTokens","scopedLineTokens","startColumn","scopedLineText","embeddedLanguage","beforeEnterText","firstCharOffset","substr","afterEnterText","isEmpty","endScopedLineTokens","endLineNumber","endColumn","beforeEnterResult","beforeEnterIndent","column","currentLineIndent","afterEnterAction","beforeEnter","afterEnter","afterEnterIndent","getIndentActionForType","ch","beforeTypeText","afterTypeText","r","getLineCount"],"sources":["/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/languages/autoIndent.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as strings from '../../../base/common/strings.js';\nimport { IndentAction } from './languageConfiguration.js';\nimport { createScopedLineTokens } from './supports.js';\nimport { getScopedLineTokens } from './languageConfigurationRegistry.js';\n/**\n * Get nearest preceding line which doesn't match unIndentPattern or contains all whitespace.\n * Result:\n * -1: run into the boundary of embedded languages\n * 0: every line above are invalid\n * else: nearest preceding line of the same language\n */\nfunction getPrecedingValidLine(model, lineNumber, indentRulesSupport) {\n    const languageId = model.tokenization.getLanguageIdAtPosition(lineNumber, 0);\n    if (lineNumber > 1) {\n        let lastLineNumber;\n        let resultLineNumber = -1;\n        for (lastLineNumber = lineNumber - 1; lastLineNumber >= 1; lastLineNumber--) {\n            if (model.tokenization.getLanguageIdAtPosition(lastLineNumber, 0) !== languageId) {\n                return resultLineNumber;\n            }\n            const text = model.getLineContent(lastLineNumber);\n            if (indentRulesSupport.shouldIgnore(text) || /^\\s+$/.test(text) || text === '') {\n                resultLineNumber = lastLineNumber;\n                continue;\n            }\n            return lastLineNumber;\n        }\n    }\n    return -1;\n}\n/**\n * Get inherited indentation from above lines.\n * 1. Find the nearest preceding line which doesn't match unIndentedLinePattern.\n * 2. If this line matches indentNextLinePattern or increaseIndentPattern, it means that the indent level of `lineNumber` should be 1 greater than this line.\n * 3. If this line doesn't match any indent rules\n *   a. check whether the line above it matches indentNextLinePattern\n *   b. If not, the indent level of this line is the result\n *   c. If so, it means the indent of this line is *temporary*, go upward utill we find a line whose indent is not temporary (the same workflow a -> b -> c).\n * 4. Otherwise, we fail to get an inherited indent from aboves. Return null and we should not touch the indent of `lineNumber`\n *\n * This function only return the inherited indent based on above lines, it doesn't check whether current line should decrease or not.\n */\nexport function getInheritIndentForLine(autoIndent, model, lineNumber, honorIntentialIndent = true, languageConfigurationService) {\n    if (autoIndent < 4 /* EditorAutoIndentStrategy.Full */) {\n        return null;\n    }\n    const indentRulesSupport = languageConfigurationService.getLanguageConfiguration(model.tokenization.getLanguageId()).indentRulesSupport;\n    if (!indentRulesSupport) {\n        return null;\n    }\n    if (lineNumber <= 1) {\n        return {\n            indentation: '',\n            action: null\n        };\n    }\n    const precedingUnIgnoredLine = getPrecedingValidLine(model, lineNumber, indentRulesSupport);\n    if (precedingUnIgnoredLine < 0) {\n        return null;\n    }\n    else if (precedingUnIgnoredLine < 1) {\n        return {\n            indentation: '',\n            action: null\n        };\n    }\n    const precedingUnIgnoredLineContent = model.getLineContent(precedingUnIgnoredLine);\n    if (indentRulesSupport.shouldIncrease(precedingUnIgnoredLineContent) || indentRulesSupport.shouldIndentNextLine(precedingUnIgnoredLineContent)) {\n        return {\n            indentation: strings.getLeadingWhitespace(precedingUnIgnoredLineContent),\n            action: IndentAction.Indent,\n            line: precedingUnIgnoredLine\n        };\n    }\n    else if (indentRulesSupport.shouldDecrease(precedingUnIgnoredLineContent)) {\n        return {\n            indentation: strings.getLeadingWhitespace(precedingUnIgnoredLineContent),\n            action: null,\n            line: precedingUnIgnoredLine\n        };\n    }\n    else {\n        // precedingUnIgnoredLine can not be ignored.\n        // it doesn't increase indent of following lines\n        // it doesn't increase just next line\n        // so current line is not affect by precedingUnIgnoredLine\n        // and then we should get a correct inheritted indentation from above lines\n        if (precedingUnIgnoredLine === 1) {\n            return {\n                indentation: strings.getLeadingWhitespace(model.getLineContent(precedingUnIgnoredLine)),\n                action: null,\n                line: precedingUnIgnoredLine\n            };\n        }\n        const previousLine = precedingUnIgnoredLine - 1;\n        const previousLineIndentMetadata = indentRulesSupport.getIndentMetadata(model.getLineContent(previousLine));\n        if (!(previousLineIndentMetadata & (1 /* IndentConsts.INCREASE_MASK */ | 2 /* IndentConsts.DECREASE_MASK */)) &&\n            (previousLineIndentMetadata & 4 /* IndentConsts.INDENT_NEXTLINE_MASK */)) {\n            let stopLine = 0;\n            for (let i = previousLine - 1; i > 0; i--) {\n                if (indentRulesSupport.shouldIndentNextLine(model.getLineContent(i))) {\n                    continue;\n                }\n                stopLine = i;\n                break;\n            }\n            return {\n                indentation: strings.getLeadingWhitespace(model.getLineContent(stopLine + 1)),\n                action: null,\n                line: stopLine + 1\n            };\n        }\n        if (honorIntentialIndent) {\n            return {\n                indentation: strings.getLeadingWhitespace(model.getLineContent(precedingUnIgnoredLine)),\n                action: null,\n                line: precedingUnIgnoredLine\n            };\n        }\n        else {\n            // search from precedingUnIgnoredLine until we find one whose indent is not temporary\n            for (let i = precedingUnIgnoredLine; i > 0; i--) {\n                const lineContent = model.getLineContent(i);\n                if (indentRulesSupport.shouldIncrease(lineContent)) {\n                    return {\n                        indentation: strings.getLeadingWhitespace(lineContent),\n                        action: IndentAction.Indent,\n                        line: i\n                    };\n                }\n                else if (indentRulesSupport.shouldIndentNextLine(lineContent)) {\n                    let stopLine = 0;\n                    for (let j = i - 1; j > 0; j--) {\n                        if (indentRulesSupport.shouldIndentNextLine(model.getLineContent(i))) {\n                            continue;\n                        }\n                        stopLine = j;\n                        break;\n                    }\n                    return {\n                        indentation: strings.getLeadingWhitespace(model.getLineContent(stopLine + 1)),\n                        action: null,\n                        line: stopLine + 1\n                    };\n                }\n                else if (indentRulesSupport.shouldDecrease(lineContent)) {\n                    return {\n                        indentation: strings.getLeadingWhitespace(lineContent),\n                        action: null,\n                        line: i\n                    };\n                }\n            }\n            return {\n                indentation: strings.getLeadingWhitespace(model.getLineContent(1)),\n                action: null,\n                line: 1\n            };\n        }\n    }\n}\nexport function getGoodIndentForLine(autoIndent, virtualModel, languageId, lineNumber, indentConverter, languageConfigurationService) {\n    if (autoIndent < 4 /* EditorAutoIndentStrategy.Full */) {\n        return null;\n    }\n    const richEditSupport = languageConfigurationService.getLanguageConfiguration(languageId);\n    if (!richEditSupport) {\n        return null;\n    }\n    const indentRulesSupport = languageConfigurationService.getLanguageConfiguration(languageId).indentRulesSupport;\n    if (!indentRulesSupport) {\n        return null;\n    }\n    const indent = getInheritIndentForLine(autoIndent, virtualModel, lineNumber, undefined, languageConfigurationService);\n    const lineContent = virtualModel.getLineContent(lineNumber);\n    if (indent) {\n        const inheritLine = indent.line;\n        if (inheritLine !== undefined) {\n            const enterResult = richEditSupport.onEnter(autoIndent, '', virtualModel.getLineContent(inheritLine), '');\n            if (enterResult) {\n                let indentation = strings.getLeadingWhitespace(virtualModel.getLineContent(inheritLine));\n                if (enterResult.removeText) {\n                    indentation = indentation.substring(0, indentation.length - enterResult.removeText);\n                }\n                if ((enterResult.indentAction === IndentAction.Indent) ||\n                    (enterResult.indentAction === IndentAction.IndentOutdent)) {\n                    indentation = indentConverter.shiftIndent(indentation);\n                }\n                else if (enterResult.indentAction === IndentAction.Outdent) {\n                    indentation = indentConverter.unshiftIndent(indentation);\n                }\n                if (indentRulesSupport.shouldDecrease(lineContent)) {\n                    indentation = indentConverter.unshiftIndent(indentation);\n                }\n                if (enterResult.appendText) {\n                    indentation += enterResult.appendText;\n                }\n                return strings.getLeadingWhitespace(indentation);\n            }\n        }\n        if (indentRulesSupport.shouldDecrease(lineContent)) {\n            if (indent.action === IndentAction.Indent) {\n                return indent.indentation;\n            }\n            else {\n                return indentConverter.unshiftIndent(indent.indentation);\n            }\n        }\n        else {\n            if (indent.action === IndentAction.Indent) {\n                return indentConverter.shiftIndent(indent.indentation);\n            }\n            else {\n                return indent.indentation;\n            }\n        }\n    }\n    return null;\n}\nexport function getIndentForEnter(autoIndent, model, range, indentConverter, languageConfigurationService) {\n    if (autoIndent < 4 /* EditorAutoIndentStrategy.Full */) {\n        return null;\n    }\n    model.tokenization.forceTokenization(range.startLineNumber);\n    const lineTokens = model.tokenization.getLineTokens(range.startLineNumber);\n    const scopedLineTokens = createScopedLineTokens(lineTokens, range.startColumn - 1);\n    const scopedLineText = scopedLineTokens.getLineContent();\n    let embeddedLanguage = false;\n    let beforeEnterText;\n    if (scopedLineTokens.firstCharOffset > 0 && lineTokens.getLanguageId(0) !== scopedLineTokens.languageId) {\n        // we are in the embeded language content\n        embeddedLanguage = true; // if embeddedLanguage is true, then we don't touch the indentation of current line\n        beforeEnterText = scopedLineText.substr(0, range.startColumn - 1 - scopedLineTokens.firstCharOffset);\n    }\n    else {\n        beforeEnterText = lineTokens.getLineContent().substring(0, range.startColumn - 1);\n    }\n    let afterEnterText;\n    if (range.isEmpty()) {\n        afterEnterText = scopedLineText.substr(range.startColumn - 1 - scopedLineTokens.firstCharOffset);\n    }\n    else {\n        const endScopedLineTokens = getScopedLineTokens(model, range.endLineNumber, range.endColumn);\n        afterEnterText = endScopedLineTokens.getLineContent().substr(range.endColumn - 1 - scopedLineTokens.firstCharOffset);\n    }\n    const indentRulesSupport = languageConfigurationService.getLanguageConfiguration(scopedLineTokens.languageId).indentRulesSupport;\n    if (!indentRulesSupport) {\n        return null;\n    }\n    const beforeEnterResult = beforeEnterText;\n    const beforeEnterIndent = strings.getLeadingWhitespace(beforeEnterText);\n    const virtualModel = {\n        tokenization: {\n            getLineTokens: (lineNumber) => {\n                return model.tokenization.getLineTokens(lineNumber);\n            },\n            getLanguageId: () => {\n                return model.getLanguageId();\n            },\n            getLanguageIdAtPosition: (lineNumber, column) => {\n                return model.getLanguageIdAtPosition(lineNumber, column);\n            },\n        },\n        getLineContent: (lineNumber) => {\n            if (lineNumber === range.startLineNumber) {\n                return beforeEnterResult;\n            }\n            else {\n                return model.getLineContent(lineNumber);\n            }\n        }\n    };\n    const currentLineIndent = strings.getLeadingWhitespace(lineTokens.getLineContent());\n    const afterEnterAction = getInheritIndentForLine(autoIndent, virtualModel, range.startLineNumber + 1, undefined, languageConfigurationService);\n    if (!afterEnterAction) {\n        const beforeEnter = embeddedLanguage ? currentLineIndent : beforeEnterIndent;\n        return {\n            beforeEnter: beforeEnter,\n            afterEnter: beforeEnter\n        };\n    }\n    let afterEnterIndent = embeddedLanguage ? currentLineIndent : afterEnterAction.indentation;\n    if (afterEnterAction.action === IndentAction.Indent) {\n        afterEnterIndent = indentConverter.shiftIndent(afterEnterIndent);\n    }\n    if (indentRulesSupport.shouldDecrease(afterEnterText)) {\n        afterEnterIndent = indentConverter.unshiftIndent(afterEnterIndent);\n    }\n    return {\n        beforeEnter: embeddedLanguage ? currentLineIndent : beforeEnterIndent,\n        afterEnter: afterEnterIndent\n    };\n}\n/**\n * We should always allow intentional indentation. It means, if users change the indentation of `lineNumber` and the content of\n * this line doesn't match decreaseIndentPattern, we should not adjust the indentation.\n */\nexport function getIndentActionForType(autoIndent, model, range, ch, indentConverter, languageConfigurationService) {\n    if (autoIndent < 4 /* EditorAutoIndentStrategy.Full */) {\n        return null;\n    }\n    const scopedLineTokens = getScopedLineTokens(model, range.startLineNumber, range.startColumn);\n    if (scopedLineTokens.firstCharOffset) {\n        // this line has mixed languages and indentation rules will not work\n        return null;\n    }\n    const indentRulesSupport = languageConfigurationService.getLanguageConfiguration(scopedLineTokens.languageId).indentRulesSupport;\n    if (!indentRulesSupport) {\n        return null;\n    }\n    const scopedLineText = scopedLineTokens.getLineContent();\n    const beforeTypeText = scopedLineText.substr(0, range.startColumn - 1 - scopedLineTokens.firstCharOffset);\n    // selection support\n    let afterTypeText;\n    if (range.isEmpty()) {\n        afterTypeText = scopedLineText.substr(range.startColumn - 1 - scopedLineTokens.firstCharOffset);\n    }\n    else {\n        const endScopedLineTokens = getScopedLineTokens(model, range.endLineNumber, range.endColumn);\n        afterTypeText = endScopedLineTokens.getLineContent().substr(range.endColumn - 1 - scopedLineTokens.firstCharOffset);\n    }\n    // If previous content already matches decreaseIndentPattern, it means indentation of this line should already be adjusted\n    // Users might change the indentation by purpose and we should honor that instead of readjusting.\n    if (!indentRulesSupport.shouldDecrease(beforeTypeText + afterTypeText) && indentRulesSupport.shouldDecrease(beforeTypeText + ch + afterTypeText)) {\n        // after typing `ch`, the content matches decreaseIndentPattern, we should adjust the indent to a good manner.\n        // 1. Get inherited indent action\n        const r = getInheritIndentForLine(autoIndent, model, range.startLineNumber, false, languageConfigurationService);\n        if (!r) {\n            return null;\n        }\n        let indentation = r.indentation;\n        if (r.action !== IndentAction.Indent) {\n            indentation = indentConverter.unshiftIndent(indentation);\n        }\n        return indentation;\n    }\n    return null;\n}\nexport function getIndentMetadata(model, lineNumber, languageConfigurationService) {\n    const indentRulesSupport = languageConfigurationService.getLanguageConfiguration(model.getLanguageId()).indentRulesSupport;\n    if (!indentRulesSupport) {\n        return null;\n    }\n    if (lineNumber < 1 || lineNumber > model.getLineCount()) {\n        return null;\n    }\n    return indentRulesSupport.getIndentMetadata(model.getLineContent(lineNumber));\n}\n"],"mappings":"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"}]}
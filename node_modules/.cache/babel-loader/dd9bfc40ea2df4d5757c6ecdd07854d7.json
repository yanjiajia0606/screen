{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanjiajia/Desktop/workspace/avue-data-new/src/page/build.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/src/page/build.vue","mtime":1671184349337},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkudW5zaGlmdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCBNb25hY29FZGl0b3IgZnJvbSAnQC9wYWdlL2NvbXBvbmVudHMvZWRpdG9yJzsKaW1wb3J0IGxheWVyIGZyb20gJy4vZ3JvdXAvbGF5ZXInOwppbXBvcnQgdG9wIGZyb20gJy4vZ3JvdXAvdG9wJzsKaW1wb3J0IGhlYWRlcnMgZnJvbSAnLi9ncm91cC9oZWFkZXInOwppbXBvcnQgaW1nbGlzdCBmcm9tICcuL2dyb3VwL2ltZ2xpc3QnOwppbXBvcnQgY29udGVudG1lbnUgZnJvbSAnLi9ncm91cC9jb250ZW50bWVudSc7CmltcG9ydCBjb2RlZWRpdCBmcm9tICcuL2dyb3VwL2NvZGUnOwppbXBvcnQgeyBkaWNPcHRpb24gfSBmcm9tICdAL29wdGlvbi9jb25maWcnOwppbXBvcnQgaW5pdCBmcm9tICdAL21peGlucy8nOwppbXBvcnQgeyBjcmVhdGVGaWxlLCB1dWlkIH0gZnJvbSAnQC91dGlscy91dGlscyc7CmltcG9ydCBjb21wb25lbnRzIGZyb20gJ0Avb3B0aW9uL2NvbXBvbmVudHMnOwppbXBvcnQgU2tldGNoUnVsZSBmcm9tICd2dWUtc2tldGNoLXJ1bGVyJzsKaW1wb3J0IHsgZ2V0TGlzdCBhcyBnZXREYkxpc3QgfSBmcm9tICdAL2FwaS9kYic7CmltcG9ydCB7IGdldExpc3QgYXMgZ2V0UmVjb3JkTGlzdCB9IGZyb20gJ0AvYXBpL3JlY29yZCc7CmltcG9ydCBjcnlwdG8gZnJvbSAnQC91dGlscy9jcnlwdG8nOwppbXBvcnQgYXBpUGFuZWwgZnJvbSAnQC9wYWdlL2NvbXBvbmVudHMvYXBpUGFuZWwnOwpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbaW5pdCwgY29tcG9uZW50c10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnRIaXN0b3J5SW5kZXg6IC0xLAogICAgICBjb3B5TmF2OiAnJywKICAgICAgbWVudUlkOiAnYXZ1ZS1kYXRhLW1lbnUnLAogICAgICBtZW51U2hvdzogdHJ1ZSwKICAgICAgcGFyYW1zU2hvdzogdHJ1ZSwKICAgICAgZ2xvYlNob3c6IGZhbHNlLAogICAgICBzaG93OiBmYWxzZSwKICAgICAgY2FjaGVMaXN0OiB7CiAgICAgICAgY29weTogbnVsbCwKICAgICAgICBoaXN0b3J5OiBbXQogICAgICB9LAogICAgICBrZXlzOiB7CiAgICAgICAgY3RybDogZmFsc2UKICAgICAgfSwKICAgICAgZGF0YVJlczogJycsCiAgICAgIGRiOiAnJywKICAgICAgc3FsOiAnJywKICAgICAgbmF2OiBbXSwKICAgICAgRElDOiB7CiAgICAgICAgc3FsOiBbXSwKICAgICAgICBkYXRhOiBbXQogICAgICB9LAogICAgICBsb2FkaW5nOiAnJywKICAgICAgY2hpbGRQcm9wczogewogICAgICAgIGxhYmVsOiAnbmFtZScsCiAgICAgICAgdmFsdWU6ICdpbmRleCcKICAgICAgfSwKICAgICAga2V5OiAnJywKICAgICAgbWVudUZsYWc6IHRydWUsCiAgICAgIGNvZGU6IHsKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgYm94OiBmYWxzZSwKICAgICAgICB0eXBlOiAnJywKICAgICAgICBvYmo6ICcnCiAgICAgIH0sCiAgICAgIGZvcm06IHt9LAogICAgICBkaWNPcHRpb246IGRpY09wdGlvbiwKICAgICAgbWVudVRhYnM6IDAsCiAgICAgIGRhdGFUYWJzOiAwLAogICAgICAvLyDmoIflsLoKICAgICAgc2NhbGU6IDAuOTQsCiAgICAgIC8v5Yid5aeL5YyW5qCH5bC655qE57yp5pS+CiAgICAgIHN0YXJ0WDogMCwKICAgICAgLy946L205qCH5bC65byA5aeL55qE5Z2Q5qCH5pWw5YC8CiAgICAgIHN0YXJ0WTogMCwKICAgICAgbGluZXM6IHsKICAgICAgICAvL+WIneWni+WMluawtOW5s+agh+WwuuS4iueahOWPguiAg+e6vwogICAgICAgIGg6IFtdLAogICAgICAgIHY6IFtdCiAgICAgIH0sCiAgICAgIHNoYWRvdzogewogICAgICAgIHg6IDAsCiAgICAgICAgeTogMAogICAgICB9LAogICAgICAvLyDpmLTlvbHlpKflsI8KICAgICAgdGhpY2s6IDIwLAogICAgICAvL+agh+WwuueahOWOmuW6pgogICAgICB3aWR0aDogMCwKICAgICAgLy8g5qCH5bC65a69LOWQjumdouS8muWIneWni+WMlgogICAgICBoZWlnaHQ6IDAsCiAgICAgIC8vIOagh+WwuumrmCzlkI7pnaLkvJrliJ3lp4vljJYKICAgICAgaXNTaG93UmVmZXJMaW5lOiB0cnVlLAogICAgICAvLyDmmL7npLrlj4LogIPnur8KICAgICAgaW1nT3BlbkRhdGE6ICdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNnQUFBQWJDQVlBQUFBT0VNMXVBQUFBQ1hCSVdYTUFBQXNUQUFBTEV3RUFtcHdZQUFBQUlHTklVazBBQUhvbEFBQ0Fnd0FBK2Y4QUFJRHBBQUIxTUFBQTZtQUFBRHFZQUFBWGI1SmZ4VVlBQUFRTlNVUkJWSGphN0pkdlNPTjFITWRmUDEyNi9zaFNtYVoxbnR1WmJUTGloT25TZEpsUGhJcXVCMFZSMURaTTlFbjB3Q0IzcUNYS1ZPaDg2bW1ha2RHRE9xeUhpdHlCaWRZTjFIUFlacWJoT1pwck1HVE9Vay85L1hyeVd5eHZlazVOSXU0TGcvSCtmUGo4WHQvUDk4L244eFVrU2VLL1BJVDdnUDhHb0NBSThjVFFBb1dBSGtnRlJDQUEzQUttZ2VCUkE4VmtPU1pnTXZBeThEWlFDcVFmNE9jRlJvRFBnWW16QW53ZGFBQXV4cEZsQ2JnR2ZBUjRUaFV3WWhjRTRRbmdFeG53NzFGV1Z1YXgyV3dCazhta1NFOVBWKzd0N1ltcnE2dmJ3OFBEMHVEZ1lPN0N3c0s1S1BjMTRFTkprajQ5N0Z0eEF3cUNZQUsra3ZjYkFOWFYxVTZIdzZISXlNaDRHbEFja0pId3pNek1yTTFteTNhNVhOb28wMVhnUFVtU2RrOE1DTHdFZkFtb0FQTHo4NzJqbzZPck9UazV4VkdCUTB0TFM1NzUrZm50N096c1JJUEJjRDRwS2VsY3RMMi92MyttdHJiV0xJcGlnaXhmQTk0Qk5rOEMrSm9NbHlSbjdXWnZiNjhtSVNFaEkrSVFDQVNtS3lvcTBqd2VUMjVFVTZsVTRhR2hvWm5LeWtwemROemw1ZVdiUnFQeHlXQXdtQ1pMM3dKdkFIZU9BL2lDUE1zSEFSd094N2pkYmkrSlhzN3Q3ZTNsckt5czFMVzFOVldzSlhhNzNaTjZ2YjQwV2x0ZlgzY2JESVowcjllYktVdjl3THZ4QWhZQzErVjdqZTd1N3JHNnVycm45dnUxdGJXTk56VTFsUjkwS2dzTEM1ZW1wNmNmQjVUUmVqZ2M5bWcwbXN5b1ROWURYZkVBamdGbVFHeHBhWmxvYm02T0JiRnJNcGwrZFRxZCtZZGNMenRiVzF2ZTVPUms3WDZEMysrZjB1bDArYUZRS0FYWUFGNlJKT242VVFHRFFCcmdFMFZSSlFqQ3c3RUFqVWJqOHRUVVZONGhnTHVibTV1M2xVcmxoVmpHK3ZyNnlhNnVyc2dXYUpjazZmSlJBVzhBendOaWEydnJSR05qWTh4bHROdnRFeDBkSGM4ZVJLZlg2Mis3M1c0MThOQittOC9ubTlMcGRFK0Z3K0ZIZ0QrQVMvRms4Q0p3STdJSGUzdDd4MnBxYXU3YWd4c2JHL05xdFRwM2EydExHUXR3Y25KeXZLU2s1SzdKaGNQaG56UWFUWFl3R0V5VnBRK0FLOGM1eGQ5RVp0L2UzdjU5UTBORDZmNUxlWEZ4OGNmeTh2SUxmcjlmSGRFVUNzVk9YMS9maE1WaXFkZ2ZPeFFLelJVVUZLaDlQdCtKVG5Iazc2dnlQWmdjcVI0OVBUM25FeE1UTS8reDBYWjNmZVBqNDcvTXpjMlJsWlZGVlZWVlJrcEtpbjUvM0pXVkZXZFJVVkZlSUJDSW5ON3Y1Tko1NXlTVjVFVVo4bEVBclZiNzI4aklpRGN2TCsrWk9OcW8wTURBd0syYW1wb3lVUlFUWlhsSTdvYitQSTFhWEFSOEFlZ2l1dFZxZFhaMmR0NnpGcy9PenJvc0ZzdGpMcGNyK2lSM0ErOUxrclJ6S3MyQ3JHVUNWNEMzb24zTlpyUEhhclgrWGx4Yy9NQVJ1NW5Ma2lSZFBiVnVKc2E0QkRRQ3hqajZRUkg0R3ZnWStQa3NPbXFGM0ZHL0tWY2M5VDA2NnMrQUg4Nnk1WThlT1hJMjgyWFF5SnRrUnY2ZC9wdmsvclB6L3dUNDF3QmliUnJwZU1zK1BBQUFBQUJKUlU1RXJrSmdnZz09JywKICAgICAgLy8g5bem5LiK6KeS5Zu+54mHCiAgICAgIGltZ0Nsb3NlOiAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCa0FBQUFaQ0FZQUFBREU2WVZqQUFBQUNYQklXWE1BQUFzVEFBQUxFd0VBbXB3WUFBQUFJR05JVWswQUFIb2xBQUNBZ3dBQStmOEFBSURwQUFCMU1BQUE2bUFBQURxWUFBQVhiNUpmeFVZQUFBUFlTVVJCVkhqYTdKVlBURlJYRkllLys5NmdHUkhFaFF6QkZNSktTS1NrTFRndEd4ZW1TWGNrdG9oVzJSQm1UQWpVQ2xJWVo2Q3hpK2ZRRGdPQ0xKZ0pocVRTQkF0TGRqYXhhU3FRV25EU05wMlUwSTZGRmgwU0RkVjBvTXg3cHd1WkNVWGpueVpOdXZCc2JuTHZ1ZmU3NTU1emZsZUpDUCsxcVJlUWZ3VlJTcVdtcW9GRElFM0EraVpYUURiR2xNbW1OVGF0UDV4UG4vMG9oT09nTGdOdElCOERPbEFLdkF6c0JUS0JQNEZGNER2Z2UxRHJ6d3NCYUFBdUFKOEN4YnB1ZXpVL1AzOTdRY0ZMWkdWbGNmLytmUllYRjFsYy9HM1ZOSk0vQUo4RHc4Q2RaNFFvUUk0QUlXQlhhV2twUTBORDV2Nzkrelc3M1o1K245WFZWV1puYjhyRXhJUTJNbktaV0N6Mk0vRGh3MWQ0ZWlUbmdYYWZ6MmRtWjJlYlBwOVA2K3ZybDVxYUkycDhmRnlpMGFoZVVsSmlIajc4dHBhVHMwc0hKQjZQVzRIQUozb2cwSTJJK0FIUGt5QWV1OTF1REE0T21yVzF0UnBBVDA5dnNyMjlYWE00Y2lXWlRKS1hsMmN0TEN5b0hUc3kxWlVybytKME9qTlNXUjhaR2JGY0xwZWVTQ1RPQXVjZkJ5a0RwdnI3KzdjM05qYW1TK2Jldlh2SjR1SVM0dkU3dHJhMnRqVy8zMis3ZmZ1MjFOZTdySm1aYjdWSUpLTDI3Tm1qcDBBREF3TTBOamF1QVcrSXlNMnRrQUduOC9XRzY5ZS9OalZOUzIwaUhBNnZkM1oycXJxNk90TXdERnN3R0xST256NmRjZmZ1M1dSUlVaRVZDQVJ3dVZ6YlV2NldaVm1WbFpYYTlQVDBSUkZwMmdxNTZuYTdEdzBPRHY2akdjNmNPV05kdS9abDhzYU5iL1JnTUdpMXRMU283dTV1YVc1dTFzckxLOHlEQncvYXVyc0QydWJtY2J0UHFuQTRkRlZFM3R3S3VWQmVYdjdlNU9Ta2FiUFowcEdFUXVHL1dsdGJpY1YrMFhidjNtMExCbnZXVzFxYXRiTm52Y2xMbDRiMGMrYytFcmZibGNvTGEydHJwdFBwMUNPUlNFQkVXcmRDU29CcHd6QjJlanllZEU2V2w1Zk5zckl5cWFpb2tGQW9wQndPaC9KNFBLYmY3OS9tY0RpUzBXaVVuSndjV3lvS3I5ZXJETU5ZQmc2SVNPeHgxZFdnNi9wQWIyK3Z0WkY4RFdCcWFucjk2TkVhbFVna3BLQ2dRSmFXbGpSTjA0akg0M1IxZGNtcFU2ZHNnQmlHb2J4ZXIzcW9HbnoycEQ1cEJmeDFkWFdheitjemk0cUtORUN0ckt5WVkyTmpWalFhMWZmdEs3YXFxOTloZEhSVW1wcWFWRWRIaHpVL1A1OHhQRHljQU40SHdzOGlLMjhCL3R6YzNMSmp4OTZscXFyS09uQ2dnc3pNekxSbVBIandRTTNNekZqMTlmWDYzTndjd0RKUUJVeW1LK0FwRUVEdEJEa09uRkJLdlphZnY5ZGVXRmhJZG5ZV0t5c3IzTHIxSzB0THZ5ZEU1Q3ZnSjFBblFacUJpODhEU1YxYUEwcUFWNENDRFJYK0ExZ0Fab0VmTi93L0FMcUFFeUFqend2WjhtYzhLdWtibGdHcUQvZ0NaT3l4a0JkLy9QOEc4dmNBTUszODNwbXI3YUVBQUFBQVNVVk9SSzVDWUlJPScsCiAgICAgIGRyYWdTbGlkZTogZmFsc2UgLy8g5ouW5Yqo5rua5Yqo5p2h5qCH6K6wCiAgICB9OwogIH0sCgogIGNvbXBvbmVudHM6IHsKICAgIE1vbmFjb0VkaXRvcjogTW9uYWNvRWRpdG9yLAogICAgaW1nbGlzdDogaW1nbGlzdCwKICAgIGxheWVyOiBsYXllciwKICAgIGNvZGVlZGl0OiBjb2RlZWRpdCwKICAgIHRvcDogdG9wLAogICAgaGVhZGVyczogaGVhZGVycywKICAgIGNvbnRlbnRtZW51OiBjb250ZW50bWVudSwKICAgIFNrZXRjaFJ1bGU6IFNrZXRjaFJ1bGUsCiAgICBhcGlQYW5lbDogYXBpUGFuZWwKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyDog73lkKbmkqTplIAKICAgIGNhblVuZG86IGZ1bmN0aW9uIGNhblVuZG8oKSB7CiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRIaXN0b3J5SW5kZXggPiAwOwogICAgfSwKICAgIGNhblJlZG86IGZ1bmN0aW9uIGNhblJlZG8oKSB7CiAgICAgIHJldHVybiB0aGlzLmNhY2hlTGlzdC5oaXN0b3J5Lmxlbmd0aCA+IHRoaXMuY3VycmVudEhpc3RvcnlJbmRleCArIDE7CiAgICB9LAogICAgaXNLZXlzQ3RybDogZnVuY3Rpb24gaXNLZXlzQ3RybCgpIHsKICAgICAgcmV0dXJuIHRoaXMua2V5cy5jdHJsID09IHRydWU7CiAgICB9LAogICAgaXNTdGF0aWM6IGZ1bmN0aW9uIGlzU3RhdGljKCkgewogICAgICByZXR1cm4gdGhpcy5hY3RpdmVPYmouZGF0YVR5cGUgPT0gMDsKICAgIH0sCiAgICBpc0FwaTogZnVuY3Rpb24gaXNBcGkoKSB7CiAgICAgIHJldHVybiB0aGlzLmFjdGl2ZU9iai5kYXRhVHlwZSA9PSAxOwogICAgfSwKICAgIGlzU3FsOiBmdW5jdGlvbiBpc1NxbCgpIHsKICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlT2JqLmRhdGFUeXBlID09IDI7CiAgICB9LAogICAgaXNXczogZnVuY3Rpb24gaXNXcygpIHsKICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlT2JqLmRhdGFUeXBlID09PSAzOwogICAgfSwKICAgIGlzUmVjb3JkOiBmdW5jdGlvbiBpc1JlY29yZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlT2JqLmRhdGFUeXBlID09IDQ7CiAgICB9LAogICAgaXNGb2xkZXI6IGZ1bmN0aW9uIGlzRm9sZGVyKCkgewogICAgICByZXR1cm4gdGhpcy5hY3RpdmVPYmouY2hpbGRyZW47CiAgICB9LAogICAgaXNBY3RpdmU6IGZ1bmN0aW9uIGlzQWN0aXZlKCkgewogICAgICByZXR1cm4gdGhpcy5hY3RpdmVPYmouaW5kZXg7CiAgICB9LAogICAgaXNTZWxlY3RBY3RpdmU6IGZ1bmN0aW9uIGlzU2VsZWN0QWN0aXZlKCkgewogICAgICByZXR1cm4gdGhpcy5hY3RpdmUubGVuZ3RoID4gMTsKICAgIH0sCiAgICBjaGlsZExpc3Q6IGZ1bmN0aW9uIGNoaWxkTGlzdCgpIHsKICAgICAgcmV0dXJuIHRoaXMubGlzdC5maWx0ZXIoZnVuY3Rpb24gKGVsZSkgewogICAgICAgIGlmIChlbGUuY2hpbGRyZW4pIHJldHVybiBmYWxzZTsKICAgICAgICB2YXIgY29tcG9uZW50ID0gZWxlLmNvbXBvbmVudCB8fCB7fTsKICAgICAgICByZXR1cm4gIVsndGFicyddLmluY2x1ZGVzKGNvbXBvbmVudC5wcm9wKTsKICAgICAgfSk7CiAgICB9LAogICAgYWN0aXZlQ29tcG9uZW50OiBmdW5jdGlvbiBhY3RpdmVDb21wb25lbnQoKSB7CiAgICAgIHJldHVybiB0aGlzLmFjdGl2ZU9iai5jb21wb25lbnQgfHwge307CiAgICB9LAogICAgYWN0aXZlT3B0aW9uOiBmdW5jdGlvbiBhY3RpdmVPcHRpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLmFjdGl2ZU9iai5vcHRpb24gfHwge307CiAgICB9LAogICAgYWN0aXZlT2JqOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHZhciBpdGVtID0gdGhpcy5maW5kbGlzdCh0aGlzLmFjdGl2ZUluZGV4KSB8fCB7fTsKICAgICAgICBpZiAoIWl0ZW0uY2hpbGQpIGl0ZW0uY2hpbGQgPSB7fTsKICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgfQogICAgfSwKICAgIGFjdGl2ZUxpc3Q6IGZ1bmN0aW9uIGFjdGl2ZUxpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciByZXN1bHQgPSBbXTsKICAgICAgdGhpcy5hY3RpdmUuZm9yRWFjaChmdW5jdGlvbiAoZWxlKSB7CiAgICAgICAgdmFyIGl0ZW0gPSBfdGhpcy5maW5kbmF2KGVsZSk7CiAgICAgICAgcmVzdWx0LnB1c2goaXRlbS5pdGVtKTsKICAgICAgfSk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgLyog5qCH5bC655So55qEICovcGFsZXR0ZTogZnVuY3Rpb24gcGFsZXR0ZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBiZ0NvbG9yOiAnIzE4MTgxYycsCiAgICAgICAgLy8gcnVsZXIgYmcgY29sb3IKICAgICAgICBsb25nZmdDb2xvcjogJyNCQUJCQkMnLAogICAgICAgIC8vIHJ1bGVyIGxvbmdlciBtYXJrIGNvbG9yCiAgICAgICAgc2hvcnRmZ0NvbG9yOiAnIzlDOUM5QycsCiAgICAgICAgLy8gcnVsZXIgc2hvcnRlciBtYXJrIGNvbG9yCiAgICAgICAgZm9udENvbG9yOiAnI2ZmZicsCiAgICAgICAgLy8gcnVsZXIgZm9udCBjb2xvcgogICAgICAgIHNoYWRvd0NvbG9yOiAnIzE4MTgxYycsCiAgICAgICAgLy8gcnVsZXIgc2hhZG93IGNvbG9yCiAgICAgICAgbGluZUNvbG9yOiAnI0VCNTY0OCcsCiAgICAgICAgYm9yZGVyQ29sb3I6ICcjQjVCNUI1JywKICAgICAgICBjb3JuZXJBY3RpdmVDb2xvcjogJyNmZmYnCiAgICAgIH07CiAgICB9LAogICAgLy8g55S75biD5aSn5bCPLOS4gOWumuimgeaYr2NvbXB1dGVy6YeM6Z2iLOWQpuWImee8qeaUvumhtemdouS8muWkseaViAogICAgY2FudmFzU3R5bGU6IGZ1bmN0aW9uIGNhbnZhc1N0eWxlKCkgewogICAgICByZXR1cm4gewogICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCAtIDUzMCArICdweCcsCiAgICAgICAgdHJhbnNmb3JtOiAic2NhbGUoIi5jb25jYXQodGhpcy5zY2FsZSwgIikiKQogICAgICB9OwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIG5hdjogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCwgb2xkdmFsKSB7CiAgICAgICAgdGhpcy5yZWNvcmRNYWluKHZhbCwgb2xkdmFsKTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfSwKICAgIGFjdGl2ZU9iajogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgIGlmICh0aGlzLmFjdGl2ZU9iai5zcWwgJiYgdGhpcy5pc1NxbCkgewogICAgICAgICAgdmFyIG1vZGUgPSBKU09OLnBhcnNlKGNyeXB0by5kZWNyeXB0KHRoaXMuYWN0aXZlT2JqLnNxbCkpOwogICAgICAgICAgdGhpcy5kYiA9IG1vZGUuaWQ7CiAgICAgICAgICB0aGlzLnNxbCA9IG1vZGUuc3FsOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmRiID0gJyc7CiAgICAgICAgICB0aGlzLnNxbCA9ICcnOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfSwKICAgICdhY3RpdmVPYmouZGF0YVR5cGUnOiBmdW5jdGlvbiBhY3RpdmVPYmpEYXRhVHlwZSgpIHsKICAgICAgdGhpcy5kYXRhVGFicyA9ICcwJzsKICAgIH0sCiAgICBvdmVyYWN0aXZlOiBmdW5jdGlvbiBvdmVyYWN0aXZlKG4sIG8pIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIDsKICAgICAgW28sIG5dLmZvckVhY2goZnVuY3Rpb24gKGVsZSwgaW5kZXgpIHsKICAgICAgICBpZiAoIWVsZSkgcmV0dXJuOwogICAgICAgIF90aGlzMi5zZXRBY3RpdmUoZWxlLCBpbmRleCA9PT0gMSwgJ3NldE92ZXJBY3RpdmUnKTsKICAgICAgfSk7CiAgICB9LAogICAgYWN0aXZlOiBmdW5jdGlvbiBhY3RpdmUobiwgbykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgOwogICAgICBbbywgbl0uZm9yRWFjaChmdW5jdGlvbiAoZWxlLCBpbmRleCkgewogICAgICAgIGVsZS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBfdGhpczMuc2V0QWN0aXZlKGl0ZW0sIGluZGV4ID09PSAxLCAnc2V0QWN0aXZlJyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICAvLyDliJ3lp4vljJbpgInpobnljaEKICAgICAgdGhpcy5tZW51VGFicyA9ICcwJzsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXREYXRhTGlzdCgpOwogICAgd2luZG93LnRocyA9IHRoaXM7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXM0LmluaXRGdW4oKTsKICAgICAgX3RoaXM0LmluaXRTaXplKCk7CiAgICAgIF90aGlzNC5saXN0ZW5LZXkoKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlQ29weUluZGV4OiBmdW5jdGlvbiBoYW5kbGVDb3B5SW5kZXgoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICB0aGlzLiRDbGlwYm9hcmQoewogICAgICAgIHRleHQ6IHRoaXMuYWN0aXZlT2JqLmluZGV4CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNS4kbWVzc2FnZS5zdWNjZXNzKCflpI3liLbmiJDlip8nKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNS4kbWVzc2FnZS5lcnJvcign5aSN5Yi25aSx6LSlJyk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVRhYkNsaWNrOiBmdW5jdGlvbiBoYW5kbGVUYWJDbGljayh0YWIpIHsKICAgICAgaWYgKHRhYi5uYW1lID09ICcxJykgewogICAgICAgIHRoaXMuaGFuZGxlUmVzKGZhbHNlKTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUltcG9ydDogZnVuY3Rpb24gaGFuZGxlSW1wb3J0KGZpbGUsIGZpbGVMaXMpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIHRoaXMuJEV4cG9ydC54bHN4KGZpbGUucmF3KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXM2LmFjdGl2ZU9iai5kYXRhID0gZGF0YS5yZXN1bHRzOwogICAgICAgIF90aGlzNi4kbWVzc2FnZS5zdWNjZXNzKCflr7zlhaXmiJDlip8nKTsKICAgICAgICBfdGhpczYuaGFuZGxlUmVzKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVJlZnJlc2g6IGZ1bmN0aW9uIGhhbmRsZVJlZnJlc2goKSB7CiAgICAgIHJldHVybiB0aGlzLiRyZWZzLmNvbnRhaW5lci5oYW5kbGVSZWZyZXNoKCk7CiAgICB9LAogICAgaGFuZGxlUmVzOiBmdW5jdGlvbiBoYW5kbGVSZXMoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwogICAgICB2YXIgdGlwID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0cnVlOwogICAgICBpZiAodGhpcy5pc1NxbCkgewogICAgICAgIHRoaXMuJHNldCh0aGlzLmFjdGl2ZU9iaiwgJ3NxbCcsIGNyeXB0by5lbmNyeXB0KEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgIGlkOiB0aGlzLmRiLAogICAgICAgICAgc3FsOiB0aGlzLnNxbAogICAgICAgIH0pKSk7CiAgICAgIH0KICAgICAgdGhpcy5oYW5kbGVSZWZyZXNoKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHJlcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgICAgICAgaWYgKCFfdGhpczcudmFsaWRhdGVudWxsKHJlcykpIHsKICAgICAgICAgIF90aGlzNy5kYXRhUmVzID0gSlNPTi5zdHJpbmdpZnkocmVzLCBudWxsLCA0KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXM3LmRhdGFSZXMgPSAnJzsKICAgICAgICB9CiAgICAgICAgaWYgKHRpcCkgX3RoaXM3LiRtZXNzYWdlLnN1Y2Nlc3MoJ+ivt+axguaVsOaNruaIkOWKnycpOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVTZXR0aW5nOiBmdW5jdGlvbiBoYW5kbGVTZXR0aW5nKCkgewogICAgICB0aGlzLmRhdGFUYWJzID0gMDsKICAgICAgdGhpcy5kYXRhUmVzID0gJyc7CiAgICAgIHRoaXMuaGFuZGxlUmVzKGZhbHNlKTsKICAgICAgdGhpcy5zaG93ID0gdHJ1ZTsKICAgIH0sCiAgICBpbml0RGF0YUxpc3Q6IGZ1bmN0aW9uIGluaXREYXRhTGlzdCgpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CiAgICAgIGdldERiTGlzdCh7CiAgICAgICAgY3VycmVudDogMSwKICAgICAgICBzaXplOiAxMDAKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YS5kYXRhOwogICAgICAgIF90aGlzOC5ESUMuc3FsID0gZGF0YS5yZWNvcmRzLm1hcChmdW5jdGlvbiAoZWxlKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBsYWJlbDogZWxlLm5hbWUsCiAgICAgICAgICAgIHZhbHVlOiBlbGUuaWQKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICBnZXRSZWNvcmRMaXN0KHsKICAgICAgICBjdXJyZW50OiAxLAogICAgICAgIHNpemU6IDEwMAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgX3RoaXM4LkRJQy5kYXRhID0gZGF0YS5yZWNvcmRzLm1hcChmdW5jdGlvbiAoZWxlKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBsYWJlbDogZWxlLm5hbWUsCiAgICAgICAgICAgIHZhbHVlOiBlbGUuaWQKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGNsb3NlQ29kZTogZnVuY3Rpb24gY2xvc2VDb2RlKHZhbHVlKSB7CiAgICAgIGlmICh0aGlzLmNvbmZpZ0RhdGEuaW5jbHVkZXModGhpcy5jb2RlLnR5cGUpKSB7CiAgICAgICAgdGhpcy5jb25maWdbdGhpcy5jb2RlLnR5cGVdID0gdmFsdWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hY3RpdmVPYmpbdGhpcy5jb2RlLnR5cGVdID0gdmFsdWU7CiAgICAgIH0KICAgICAgdGhpcy5oYW5kbGVSZXMoZmFsc2UpOwogICAgfSwKICAgIG9wZW5Db2RlOiBmdW5jdGlvbiBvcGVuQ29kZSh0eXBlLCB0aXRsZSkgewogICAgICB0aGlzLmNvZGUudHlwZSA9IHR5cGU7CiAgICAgIHRoaXMuY29kZS50aXRsZSA9IHRpdGxlOwogICAgICBpZiAodGhpcy5jb25maWdEYXRhLmluY2x1ZGVzKHR5cGUpKSB7CiAgICAgICAgdGhpcy5jb2RlLm9iaiA9IHRoaXMuY29uZmlnW3R5cGVdOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY29kZS5vYmogPSB0aGlzLmFjdGl2ZU9ialt0eXBlXTsKICAgICAgfQogICAgICB0aGlzLmNvZGUuYm94ID0gdHJ1ZTsKICAgIH0sCiAgICBpbml0RnVuOiBmdW5jdGlvbiBpbml0RnVuKCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKICAgICAgOwogICAgICBbJ3NldFNjYWxlJ10uZm9yRWFjaChmdW5jdGlvbiAoZWxlKSB7CiAgICAgICAgX3RoaXM5W2VsZV0gPSBfdGhpczkuJHJlZnMuY29udGFpbmVyW2VsZV07CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWPs+mUruiPnOWNlQogICAgaGFuZGxlQ29udGV4dE1lbnU6IGZ1bmN0aW9uIGhhbmRsZUNvbnRleHRNZW51KCkgewogICAgICB2YXIgaXRlbSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgICAgIHZhciBkb25lID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7CiAgICAgIGlmICghaXRlbS5pbmRleCB8fCB0aGlzLmlzS2V5c0N0cmwpIHJldHVybjtlbHNlIGlmICghdGhpcy5pc1NlbGVjdEFjdGl2ZSkgewogICAgICAgIHRoaXMuYWN0aXZlID0gW2l0ZW0uaW5kZXhdOwogICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBpdGVtLmluZGV4OwogICAgICB9CiAgICAgIGRvbmUoKTsKICAgIH0sCiAgICAvL+ebkeWQrOmUruebmOeahOaMiemUrgogICAgbGlzdGVuS2V5OiBmdW5jdGlvbiBsaXN0ZW5LZXkoKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKICAgICAgdmFyIHNlY3Rpb24gPSB0aGlzLiRyZWZzLnNlY3Rpb247CiAgICAgIHNlY3Rpb24ub25rZXlkb3duID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIga2V5Q29kZSA9IGUua2V5Q29kZTsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgaWYgKGtleUNvZGUgPT0gMTcpIHsKICAgICAgICAgIF90aGlzMTAua2V5cy5jdHJsID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKGtleUNvZGUgPT0gNjcgJiYgX3RoaXMxMC5rZXlzLmN0cmwpIHsKICAgICAgICAgIGlmICghX3RoaXMxMC5hY3RpdmVPYmopIHJldHVybjsKICAgICAgICAgIF90aGlzMTAuY2FjaGVMaXN0LmNvcHkgPSBfdGhpczEwLmRlZXBDbG9uZShfdGhpczEwLmFjdGl2ZU9iaik7CiAgICAgICAgICBfdGhpczEwLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WkjeWItue7hOS7tuaIkOWKnycpOwogICAgICAgIH0gZWxzZSBpZiAoa2V5Q29kZSA9PSA4NiAmJiBfdGhpczEwLmtleXMuY3RybCkgewogICAgICAgICAgaWYgKCFfdGhpczEwLmNhY2hlTGlzdC5jb3B5KSByZXR1cm47CiAgICAgICAgICBfdGhpczEwLm5hdi51bnNoaWZ0KF90aGlzMTAuZGVlcENsb25lKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX3RoaXMxMC5jYWNoZUxpc3QuY29weSksIHsKICAgICAgICAgICAgaW5kZXg6IHV1aWQoKSwKICAgICAgICAgICAgbmFtZTogX3RoaXMxMC5jYWNoZUxpc3QuY29weS5uYW1lICsgJ++8iOWkjeWItu+8iScsCiAgICAgICAgICAgIGxlZnQ6IDAsCiAgICAgICAgICAgIHRvcDogMAogICAgICAgICAgfSkpKTsKICAgICAgICAgIF90aGlzMTAuJG1lc3NhZ2Uuc3VjY2Vzcygn57KY6LS057uE5Lu25oiQ5YqfJyk7CiAgICAgICAgfQogICAgICB9OwogICAgICBzZWN0aW9uLm9ua2V5dXAgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciBrZXlDb2RlID0gZS5rZXlDb2RlOwogICAgICAgIGlmIChrZXlDb2RlID09IDE3KSB7CiAgICAgICAgICBfdGhpczEwLmtleXMuY3RybCA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICBzZXRBY3RpdmU6IGZ1bmN0aW9uIHNldEFjdGl2ZSh2YWwsIHJlc3VsdCwgZnVuKSB7CiAgICAgIHZhciBvYmogPSB0aGlzLiRyZWZzLmNvbnRhaW5lci5nZXREcmFnT2JqKHZhbCk7CiAgICAgIGlmICghdGhpcy52YWxpZGF0ZW51bGwob2JqKSkgb2JqWzBdW2Z1bl0ocmVzdWx0KTsKICAgIH0sCiAgICAvL+aJuemHj+aIkOe7hAogICAgaGFuZGxlRm9sZGVyOiBmdW5jdGlvbiBoYW5kbGVGb2xkZXIoKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKICAgICAgdmFyIGZvbGRlciA9IGNyZWF0ZUZpbGUoKTsKICAgICAgdGhpcy5hY3RpdmUuZm9yRWFjaChmdW5jdGlvbiAoaW5kZXgpIHsKICAgICAgICB2YXIgX3RoaXMxMSRmaW5kbmF2ID0gX3RoaXMxMS5maW5kbmF2KGluZGV4KSwKICAgICAgICAgIGl0ZW1MaXN0ID0gX3RoaXMxMSRmaW5kbmF2Lml0ZW1MaXN0LAogICAgICAgICAgaXRlbUluZGV4ID0gX3RoaXMxMSRmaW5kbmF2Lml0ZW1JbmRleDsKICAgICAgICB2YXIgb2JqID0gaXRlbUxpc3Quc3BsaWNlKGl0ZW1JbmRleCwgMSlbMF07CiAgICAgICAgZm9sZGVyLmNoaWxkcmVuLnB1c2gob2JqKTsKICAgICAgfSk7CiAgICAgIHRoaXMubmF2LnB1c2goZm9sZGVyKTsKICAgICAgdGhpcy5oYW5kbGVJbml0QWN0aXZlKCk7CiAgICB9LAogICAgLy/mibnph4/liKDpmaQKICAgIGhhbmRsZURlbGV0ZVNlbGVjdDogZnVuY3Rpb24gaGFuZGxlRGVsZXRlU2VsZWN0KCkgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CiAgICAgIHRoaXMuJGNvbmZpcm0oIlx1NjYyRlx1NTQyNlx1NjI3OVx1OTFDRlx1NTIyMFx1OTY2NFx1NjI0MFx1OTAwOVx1NTZGRVx1NUM0Mj8iLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMxMi5hY3RpdmUuZm9yRWFjaChmdW5jdGlvbiAoaW5kZXgpIHsKICAgICAgICAgIHZhciBfdGhpczEyJGZpbmRuYXYgPSBfdGhpczEyLmZpbmRuYXYoaW5kZXgpLAogICAgICAgICAgICBpdGVtTGlzdCA9IF90aGlzMTIkZmluZG5hdi5pdGVtTGlzdCwKICAgICAgICAgICAgaXRlbUluZGV4ID0gX3RoaXMxMiRmaW5kbmF2Lml0ZW1JbmRleDsKICAgICAgICAgIGl0ZW1MaXN0LnNwbGljZShpdGVtSW5kZXgsIDEpOwogICAgICAgIH0pOwogICAgICAgIF90aGlzMTIuaGFuZGxlSW5pdEFjdGl2ZSgpOwogICAgICB9KTsKICAgIH0sCiAgICB2YWxpZFByb3A6IGZ1bmN0aW9uIHZhbGlkUHJvcChuYW1lLCBsaXN0KSB7CiAgICAgIGlmIChsaXN0KSByZXR1cm4gbGlzdC5pbmNsdWRlcyh0aGlzLmFjdGl2ZUNvbXBvbmVudC5wcm9wKSB8fCB0aGlzLmFjdGl2ZS5sZW5ndGggPiAxOwogICAgICByZXR1cm4gdGhpcy5kaWNPcHRpb25bbmFtZV0uaW5jbHVkZXModGhpcy5hY3RpdmVDb21wb25lbnQucHJvcCk7CiAgICB9LAogICAgZm9ybWF0VG9vbHRpcDogZnVuY3Rpb24gZm9ybWF0VG9vbHRpcCh2YWwpIHsKICAgICAgcmV0dXJuIHBhcnNlSW50KHZhbCk7CiAgICB9LAogICAgLy/miZPlvIDlm77lupMKICAgIGhhbmRsZU9wZW5JbWc6IGZ1bmN0aW9uIGhhbmRsZU9wZW5JbWcoaXRlbSwgdHlwZSkgewogICAgICB0aGlzLiRyZWZzLmltZ2xpc3Qub3BlbkltZyhpdGVtLCB0eXBlKTsKICAgIH0sCiAgICAvL+WbvuW6k+ahhuWbnuiwg+i1i+WAvAogICAgaGFuZGxlU2V0aW1nOiBmdW5jdGlvbiBoYW5kbGVTZXRpbWcodmFsLCB0eXBlKSB7CiAgICAgIHZhciBwYXJhbXMgPSB0eXBlLnNwbGl0KCcuJylbMV07CiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCdjb25maWcnKSkgewogICAgICAgIHRoaXMuY29uZmlnW3BhcmFtc10gPSB2YWw7CiAgICAgIH0gZWxzZSBpZiAodHlwZS5pbmNsdWRlcygnYWN0aXZlT2JqLmRhdGEudmFsdWUnKSkgewogICAgICAgIHRoaXMuYWN0aXZlT2JqLmRhdGEudmFsdWUgPSB2YWw7CiAgICAgIH0gZWxzZSBpZiAodHlwZS5pbmNsdWRlcygnYWN0aXZlT2JqLmRhdGEnKSkgewogICAgICAgIHRoaXMuYWN0aXZlT2JqLmRhdGEgPSB2YWw7CiAgICAgIH0gZWxzZSBpZiAodHlwZS5pbmNsdWRlcygnYWN0aXZlT2JqJykpIHsKICAgICAgICB0aGlzLmFjdGl2ZU9ialtwYXJhbXNdID0gdmFsOwogICAgICB9IGVsc2UgaWYgKHR5cGUuaW5jbHVkZXMoJ2FjdGl2ZU9wdGlvbicpKSB7CiAgICAgICAgdGhpcy5hY3RpdmVPcHRpb25bcGFyYW1zXSA9IHZhbDsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZVNjcm9sbDogZnVuY3Rpb24gaGFuZGxlU2Nyb2xsKCkgewogICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgc2NyZWVuc1JlY3QgPSBfdGhpczEzLiRyZWZzLnNjcmVlbnNSZWYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgdmFyIGNhbnZhc1JlY3QgPSBfdGhpczEzLiRyZWZzLmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAvLyDmoIflsLrlvIDlp4vnmoTliLvluqYKICAgICAgICB2YXIgc3RhcnRYID0gKHNjcmVlbnNSZWN0LmxlZnQgKyBfdGhpczEzLnRoaWNrIC0gY2FudmFzUmVjdC5sZWZ0KSAvIF90aGlzMTMuc2NhbGU7CiAgICAgICAgdmFyIHN0YXJ0WSA9IChzY3JlZW5zUmVjdC50b3AgKyBfdGhpczEzLnRoaWNrIC0gY2FudmFzUmVjdC50b3ApIC8gX3RoaXMxMy5zY2FsZTsKICAgICAgICBfdGhpczEzLnN0YXJ0WCA9IHN0YXJ0WCA+PiAwOwogICAgICAgIF90aGlzMTMuc3RhcnRZID0gc3RhcnRZID4+IDA7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaOp+WItue8qeaUvuWAvAogICAgaGFuZGxlV2hlZWw6IGZ1bmN0aW9uIGhhbmRsZVdoZWVsKGUpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwogICAgICBpZiAoZS5jdHJsS2V5IHx8IGUubWV0YUtleSkgewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICB2YXIgbmV4dFNjYWxlID0gcGFyc2VGbG9hdChNYXRoLm1heCgwLjIsIHRoaXMuc2NhbGUgLSBlLmRlbHRhWSAvIDUwMCkudG9GaXhlZCgyKSk7CiAgICAgICAgdGhpcy5zY2FsZSA9IG5leHRTY2FsZTsKICAgICAgfQogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMxNC5oYW5kbGVTY3JvbGwoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Yid5aeL5YyW5qCH5bC65pWw5YC8CiAgICBpbml0U2l6ZTogZnVuY3Rpb24gaW5pdFNpemUoKSB7CiAgICAgIHZhciBkb21XID0gdGhpcy4kcmVmcy5zZWN0aW9uOwogICAgICB2YXIgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCAtIDUyMDsKICAgICAgdmFyIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAtIDgwOwogICAgICBkb21XLnN0eWxlLndpZHRoID0gd2lkdGggKyAncHgnOwogICAgICBkb21XLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7CiAgICAgIHRoaXMud2lkdGggPSB3aWR0aDsKICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7CiAgICAgIC8vIOeUu+W4g+mYtOW9semDqOWIhgogICAgICB0aGlzLnNoYWRvdyA9IHsKICAgICAgICB4OiAwLAogICAgICAgIHk6IDAsCiAgICAgICAgd2lkdGg6IHdpZHRoLAogICAgICAgIGhlaWdodDogaGVpZ2h0CiAgICAgIH07CiAgICAgIC8vIOa7muWKqOWxheS4rQogICAgICB2YXIgZG9tID0gdGhpcy4kcmVmcy5jb250YWluZXJSZWYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIHRoaXMuJHJlZnMuc2NyZWVuc1JlZi5zY3JvbGxMZWZ0ID0gZG9tLndpZHRoIC8gMiAtIDEwOwogICAgICB0aGlzLiRyZWZzLnNjcmVlbnNSZWYuc2Nyb2xsVG9wID0gZG9tLmhlaWdodCAvIDIgLSA1MDsKICAgIH0sCiAgICAvLyDlm77niYfngrnlh7vkuovku7YKICAgIGltZ0NsaWNrOiBmdW5jdGlvbiBpbWdDbGljaygpIHsKICAgICAgdGhpcy5pc1Nob3dSZWZlckxpbmUgPSAhdGhpcy5pc1Nob3dSZWZlckxpbmU7CiAgICB9LAogICAgLy8g6byg5qCH5oyJ5LiL5LqL5Lu2CiAgICBkcmFnTW91c2Vkb3duOiBmdW5jdGlvbiBkcmFnTW91c2Vkb3duKGUpIHsKICAgICAgLy8g5aaC5p6c5oyJ5LiL5LqG56m65qC86ZSuLOS4lOaMieS4i+m8oOagh+W3pumUrizpgqPkuYjpvKDmoIflj5jmipPmiYss5byA5ZCv5rua5Yqo5p2h6ZqP6byg5qCH5ouW5Yqo55qE5pON5L2cCiAgICAgIHRoaXMuaGFuZGxlSW5pdEFjdGl2ZSgpOwogICAgICB0aGlzLmRyYWdTbGlkZSA9IHRydWU7CiAgICAgIHdpbmRvdy5zdGFyZHJhZ0V2ZW50ID0gZTsKICAgICAgd2luZG93LnN0YXJ0U2xpZGVYID0gdGhpcy4kcmVmcy5zY3JlZW5zUmVmLnNjcm9sbExlZnQ7CiAgICAgIHdpbmRvdy5zdGFydFNsaWRlWSA9IHRoaXMuJHJlZnMuc2NyZWVuc1JlZi5zY3JvbGxUb3A7CiAgICB9LAogICAgLy/pvKDmoIfmiqzotbfmk43kvZwKICAgIGRyYWdNb3VzZXVwOiBmdW5jdGlvbiBkcmFnTW91c2V1cCgpIHsKICAgICAgdGhpcy5kcmFnU2xpZGUgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDpvKDmoIfnp7vliqjpqprmk43kvZwKICAgIGRyYWdNb3VzZW1vdmU6IGZ1bmN0aW9uIGRyYWdNb3VzZW1vdmUoZSkgewogICAgICBpZiAodGhpcy5kcmFnU2xpZGUpIHsKICAgICAgICB2YXIgeCA9IGUuY2xpZW50WCAtIHdpbmRvdy5zdGFyZHJhZ0V2ZW50LmNsaWVudFg7CiAgICAgICAgdmFyIHkgPSBlLmNsaWVudFkgLSB3aW5kb3cuc3RhcmRyYWdFdmVudC5jbGllbnRZOwogICAgICAgIHRoaXMuJHJlZnMuc2NyZWVuc1JlZi5zY3JvbGxMZWZ0ID0gd2luZG93LnN0YXJ0U2xpZGVYIC0geDsKICAgICAgICB0aGlzLiRyZWZzLnNjcmVlbnNSZWYuc2Nyb2xsVG9wID0gd2luZG93LnN0YXJ0U2xpZGVZIC0geTsKICAgICAgfQogICAgfSwKICAgIHNlbGVjdE5hdjogZnVuY3Rpb24gc2VsZWN0TmF2KGl0ZW0pIHsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbSkpIHsKICAgICAgICB0aGlzLmFjdGl2ZSA9IHRoaXMuYWN0aXZlLmNvbmNhdChpdGVtKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmlzS2V5c0N0cmwpIHsKICAgICAgICB0aGlzLmFjdGl2ZS5wdXNoKGl0ZW0pOwogICAgICB9IGVsc2UgaWYgKCF0aGlzLmFjdGl2ZS5pbmNsdWRlcyhpdGVtKSkgewogICAgICAgIHRoaXMuYWN0aXZlID0gW2l0ZW1dOwogICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBpdGVtOwogICAgICB9CiAgICB9LAogICAgcmVjb3JkTWFpbjogZnVuY3Rpb24gcmVjb3JkTWFpbih2YWwsIG9sZHZhbCkgewogICAgICBpZiAoSlNPTi5zdHJpbmdpZnkodmFsKSAhPSB0aGlzLmNvcHlOYXYpIHsKICAgICAgICB2YXIgbmV3c3QgPSBKU09OLnN0cmluZ2lmeSh2YWwpOwogICAgICAgIGlmIChuZXdzdCAhPSB0aGlzLmNvcHlOYXYpIHsKICAgICAgICAgIHRoaXMuY29weU5hdiA9IG5ld3N0OwogICAgICAgICAgdGhpcy5hZGRIaXN0b3J5Q2FjaGUodmFsKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGFkZEhpc3RvcnlDYWNoZTogZnVuY3Rpb24gYWRkSGlzdG9yeUNhY2hlKHZhbCkgewogICAgICBpZiAodGhpcy5jdXJyZW50SGlzdG9yeUluZGV4ICsgMSA8IHRoaXMuY2FjaGVMaXN0Lmhpc3RvcnkubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5jYWNoZUxpc3QuaGlzdG9yeS5zcGxpY2UodGhpcy5jdXJyZW50SGlzdG9yeUluZGV4ICsgMSk7CiAgICAgIH0KICAgICAgdGhpcy5jYWNoZUxpc3QuaGlzdG9yeS5wdXNoKHsKICAgICAgICBuYXY6IHRoaXMuZGVlcENsb25lKHZhbCkKICAgICAgfSk7CiAgICAgIHRoaXMuY2FjaGVMaXN0Lmhpc3Rvcnkuc3BsaWNlKDEwMCk7CiAgICAgIHRoaXMuY3VycmVudEhpc3RvcnlJbmRleCsrOwogICAgfSwKICAgIGVkaXRvclVuZG86IGZ1bmN0aW9uIGVkaXRvclVuZG8oKSB7CiAgICAgIGlmICghdGhpcy5jYW5VbmRvKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuY3VycmVudEhpc3RvcnlJbmRleC0tOwogICAgICB0aGlzLnJlbGFwY2VFZGl0b3JTdGF0ZSgpOwogICAgfSwKICAgIGVkaXRvclJlZG86IGZ1bmN0aW9uIGVkaXRvclJlZG8oKSB7CiAgICAgIGlmICghdGhpcy5jYW5SZWRvKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGhhbmRsZVJlZnJlc2g7CiAgICAgIHRoaXMuY3VycmVudEhpc3RvcnlJbmRleCsrOwogICAgICB0aGlzLnJlbGFwY2VFZGl0b3JTdGF0ZSgpOwogICAgfSwKICAgIHJlbGFwY2VFZGl0b3JTdGF0ZTogZnVuY3Rpb24gcmVsYXBjZUVkaXRvclN0YXRlKCkgewogICAgICB2YXIgcHJldlN0YXRlID0gdGhpcy5jYWNoZUxpc3QuaGlzdG9yeVt0aGlzLmN1cnJlbnRIaXN0b3J5SW5kZXhdOwogICAgICB0aGlzLm5hdiA9IHRoaXMuZGVlcENsb25lKHByZXZTdGF0ZS5uYXYpOwogICAgICB0aGlzLmNvcHlOYXYgPSBKU09OLnN0cmluZ2lmeShwcmV2U3RhdGUubmF2KTsKICAgIH0sCiAgICB1cGRhdGVBcGk6IGZ1bmN0aW9uIHVwZGF0ZUFwaShwYXJhbXMpIHsKICAgICAgdmFyIHVybCA9IHBhcmFtcy51cmwsCiAgICAgICAgbWV0aG9kID0gcGFyYW1zLm1ldGhvZDsKICAgICAgdGhpcy4kc2V0KHRoaXMuYWN0aXZlT2JqLCAndXJsJywgdXJsKTsKICAgICAgdGhpcy4kc2V0KHRoaXMuYWN0aXZlT2JqLCAnZGF0YU1ldGhvZCcsIG1ldGhvZCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;AA4qBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;MACA;MACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;QACAF;QACAf;MACA;MACAkB;MACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;QACA;QACAC;QACAC;MACA;MACAC;QAAAC;QAAAC;MAAA;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC,aACA;MAAA;MACAC,UACA;MACAC;IACA;EACA;;EACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACAC;QACA;QACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MACA;QACA;QACAC;MACA;MACA;IACA;IACA,UACAC;MACA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QACAC;QACAC;MACA;IACA;IACA;IACAC;MACA;QACA5C;QACA6C;MACA;IACA;EACA;EACAC;IACAzE;MACA0E;QACA;MACA;MACAC;IACA;IACAjB;MACAgB;QACA;UACA;UACA;UACA;QACA;UACA;UACA;QACA;MACA;MACAC;IACA;IACA;MACA;IACA;IACAC;MAAA;MACA;MAAA;QACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MAAA;QACAC;UACA;QACA;MACA;MACA;MACA;IACA;EACA;EACAC;IACA;IACAC;EACA;EACAC;IAAA;IACAC;MACA;MACA;MACA;IACA;EACA;EACAC;IACAC;MAAA;MACA;QACAC;MACA,GACAC;QACA;MACA,GACAC;QACA;MACA;IACA;IACAC;MACA;QACA;MACA;IACA;IACAC;MAAA;MACA;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MAAA;MACA;QACA,UACA,gBACA,OACAC,eACAC;UACAC;UACA/F;QACA,GACA,CACA;MACA;MACA;QAAA;QACA;UACA;QACA;UACA;QACA;QACA;MACA;IACA;IACAgG;MACA;MACA;MACA;MACA;IACA;IACAC;MAAA;MACAC;QACAC;QACAC;MACA;QACA;QACA;UACA;YACA/F;YACAC;UACA;QACA;MACA;MACA+F;QACAF;QACAC;MACA;QACA;QACA;UACA;YACA/F;YACAC;UACA;QACA;MACA;IACA;IACAgG;MACA;QACA;MACA;QACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;QACA;MACA;QACA;MACA;MACA;IACA;IACAC;MAAA;MACA;MAAA;QACA;MACA;IACA;IACA;IACAC;MAAA;MAAA;MACA,gDACA;QACA;QACA;MACA;MACAC;IACA;IACA;IACAC;MAAA;MACA;MACAC;QACA;QACAC;QACA;UACA;QACA;UACA;UACA;UACA;QACA;UACA;UACA,oBACA,kDACA,yBACA;YACAC;YACAC;YACAC;YACAzE;UACA,GACA,CACA;UACA;QACA;MACA;MACAqE;QACA;QACA;UACA;QACA;MACA;IACA;IACAK;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;QACA;UAAAC;UAAAC;QACA;QACAC;MACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACAC;QACAC;QACA5G;MACA;QACA;UACA;YAAAuG;YAAAC;UACAD;QACA;QACA;MACA;IACA;IACAM;MACA,UACA,OACAC;MAEA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;MACA;QACA;MACA;QACA;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MAAA;MACA;QACA;QACA;QACA;QACA,aACA;QACA,aACA;QACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACAlB;QACA,2BACAmB,sDACA;QACA;MACA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACAC;MACAA;MACA;MACA;MACA;MACA;QAAAzG;QAAAC;QAAAE;QAAAC;MAAA;MACA;MACA;MACA;MACA;IACA;IACA;IACAsG;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACAnD;MACAA;MACAA;IACA;IACA;IACAoD;MACA;IACA;IACA;IACAC;MACA;QACA;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;QACA;QACA;MACA;IACA;IACAC;MACA;QACA;QACA;UACA;UACA;QACA;UACA;QACA;MACA;IACA;IACAC;MACA;QACA;MACA;MACA;QACAxI;MACA;MACA;MACA;IACA;IACAyI;MACA;QACA;MACA;MACA;MACA;IACA;IACAC;MACA;QACA;MACA;MACAhD;MACA;MACA;IACA;IACAiD;MACA;MACA;MACA;IACA;IACAC;MACA;QAAAC;MACA;MACA;IACA;EACA;AACA","names":["mixins","data","currentHistoryIndex","copyNav","menuId","menuShow","paramsShow","globShow","show","cacheList","copy","history","keys","ctrl","dataRes","db","sql","nav","DIC","loading","childProps","label","value","key","menuFlag","code","title","box","type","obj","form","dicOption","menuTabs","dataTabs","scale","startX","startY","lines","h","v","shadow","x","y","thick","width","height","isShowReferLine","imgOpenData","imgClose","dragSlide","components","MonacoEditor","imglist","layer","codeedit","top","headers","contentmenu","SketchRule","apiPanel","computed","canUndo","canRedo","isKeysCtrl","isStatic","isApi","isSql","isWs","isRecord","isFolder","isActive","isSelectActive","childList","activeComponent","activeOption","activeObj","get","activeList","result","palette","bgColor","longfgColor","shortfgColor","fontColor","shadowColor","lineColor","borderColor","cornerActiveColor","canvasStyle","transform","watch","handler","deep","overactive","active","ele","created","window","mounted","setTimeout","methods","handleCopyIndex","text","then","catch","handleTabClick","handleImport","handleRefresh","handleRes","crypto","JSON","id","handleSetting","initDataList","getDbList","current","size","getRecordList","closeCode","openCode","initFun","handleContextMenu","done","listenKey","section","e","index","name","left","setActive","handleFolder","itemList","itemIndex","folder","handleDeleteSelect","confirmButtonText","cancelButtonText","validProp","list","formatTooltip","handleOpenImg","handleSetimg","handleScroll","handleWheel","Math","initSize","domW","imgClick","dragMousedown","dragMouseup","dragMousemove","selectNav","recordMain","addHistoryCache","editorUndo","editorRedo","relapceEditorState","updateApi","method"],"sourceRoot":"src/page","sources":["build.vue"],"sourcesContent":["<template>\n  <div class=\"build\">\n    <contentmenu ref=\"contentmenu\"></contentmenu>\n    <imglist ref=\"imglist\" @change=\"handleSetimg\"></imglist>\n    <headers></headers>\n    <top ref=\"top\"></top>\n    <div class=\"app\" :class=\"{ 'app--none': !menuFlag }\">\n      <div\n        class=\"menu\"\n        v-show=\"menuFlag && menuShow\"\n        @click.self=\"handleMouseDown\"\n      >\n        <p class=\"title\">图层</p>\n        <layer ref=\"layer\" :nav=\"nav\"></layer>\n      </div>\n      <!-- 中间区域 -->\n      <div ref=\"section\" class=\"section\">\n        <div class=\"refer-line-img\" @click=\"imgClick\">\n          <img :src=\"isShowReferLine ? imgOpenData : imgClose\" />\n        </div>\n        <sketch-rule\n          :thick=\"thick\"\n          :scale=\"scale\"\n          :width=\"width\"\n          :height=\"height\"\n          :startX=\"startX\"\n          :startY=\"startY\"\n          :isShowReferLine=\"isShowReferLine\"\n          :palette=\"palette\"\n          :shadow=\"shadow\"\n          :horLineArr=\"lines.h\"\n          :verLineArr=\"lines.v\"\n        />\n        <div\n          ref=\"screensRef\"\n          id=\"screens\"\n          :class=\"dragSlide ? 'dragghanle' : ''\"\n          @mousedown.stop=\"dragMousedown\"\n          @mouseup=\"dragMouseup\"\n          @mousemove=\"dragMousemove\"\n          @wheel=\"handleWheel\"\n          @scroll=\"handleScroll\"\n        >\n          <div ref=\"containerRef\" class=\"screen-container\">\n            <div class=\"canvas\" ref=\"canvas\" :style=\"canvasStyle\">\n              <container ref=\"container\" :wscale=\"scale\"></container>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"menu params\" v-show=\"menuFlag && paramsShow\">\n        <el-tabs\n          class=\"menu__tabs\"\n          @tab-click=\"handleTabClick\"\n          stretch\n          v-model=\"menuTabs\"\n        >\n          <el-tab-pane name=\"0\">\n            <span slot=\"label\"><i class=\"el-icon-setting\"></i>配置</span>\n            <el-form label-width=\"110px\" label-position=\"left\" size=\"small\">\n              <!-- 组件配置 -->\n              <template v-if=\"!validProp('', [undefined])\">\n                <p class=\"title\">{{ activeObj.title }}</p>\n                <el-form-item label=\"图层名称\">\n                  <avue-input v-model=\"activeObj.name\"></avue-input>\n                </el-form-item>\n                <el-form-item label=\"隐藏\">\n                  <avue-switch v-model=\"activeObj.display\"></avue-switch>\n                </el-form-item>\n                <template v-if=\"validProp('colorList')\">\n                  <el-form-item label=\"系统配色\">\n                    <avue-switch\n                      v-model=\"activeOption.switchTheme\"\n                    ></avue-switch>\n                  </el-form-item>\n                </template>\n                <component :is=\"activeComponent.prop + 'Option'\"></component>\n                <main-option></main-option>\n              </template>\n              <!-- 多选配置选项 -->\n              <template v-else-if=\"isSelectActive\">\n                <el-form-item label=\"水平方式\">\n                  <el-tooltip content=\"左对齐\" placement=\"top\">\n                    <i\n                      class=\"el-icon-s-fold icon\"\n                      @click=\"$refs.container.handlePostionSelect('left')\"\n                    ></i>\n                  </el-tooltip>\n                  <el-tooltip content=\"居中对齐\" placement=\"top\">\n                    <i\n                      class=\"el-icon-s-operation icon\"\n                      @click=\"$refs.container.handlePostionSelect('center')\"\n                    ></i>\n                  </el-tooltip>\n                  <el-tooltip content=\"右对齐\" placement=\"top\">\n                    <i\n                      class=\"el-icon-s-unfold icon\"\n                      @click=\"$refs.container.handlePostionSelect('right')\"\n                    ></i>\n                  </el-tooltip>\n                </el-form-item>\n                <el-form-item label=\"垂直方式\">\n                  <el-tooltip content=\"顶对齐\" placement=\"top\">\n                    <i\n                      class=\"el-icon-s-fold icon\"\n                      @click=\"$refs.container.handlePostionSelect('top')\"\n                    ></i>\n                  </el-tooltip>\n                  <el-tooltip content=\"中部对齐\" placement=\"top\">\n                    <i\n                      class=\"el-icon-s-operation icon\"\n                      @click=\"$refs.container.handlePostionSelect('middle')\"\n                    ></i>\n                  </el-tooltip>\n                  <el-tooltip content=\"底对齐\" placement=\"top\">\n                    <i\n                      class=\"el-icon-s-unfold icon\"\n                      @click=\"$refs.container.handlePostionSelect('bottom')\"\n                    ></i>\n                  </el-tooltip>\n                </el-form-item>\n                <el-form-item label-width=\"0\">\n                  <el-button\n                    type=\"primary\"\n                    size=\"small\"\n                    class=\"block\"\n                    @click=\"handleFolder\"\n                    >成组</el-button\n                  >\n                </el-form-item>\n                <el-form-item label-width=\"0\">\n                  <el-button\n                    type=\"danger\"\n                    size=\"small\"\n                    class=\"block\"\n                    @click=\"handleDeleteSelect\"\n                    >删除</el-button\n                  >\n                </el-form-item>\n              </template>\n              <!-- 主屏的配置项 -->\n              <template v-else>\n                <el-form-item label=\"大屏大小\">\n                  <div class=\"flex\">\n                    <avue-input-number\n                      style=\"width: 130px\"\n                      v-model=\"config.width\"\n                    ></avue-input-number>\n                    &nbsp;x&nbsp;\n                    <avue-input-number\n                      style=\"width: 130px\"\n                      v-model=\"config.height\"\n                    ></avue-input-number>\n                  </div>\n                </el-form-item>\n                <el-form-item label=\"大屏简介\">\n                  <avue-input\n                    v-model=\"config.info\"\n                    type=\"textarea\"\n                    :min-rows=\"5\"\n                  ></avue-input>\n                </el-form-item>\n                <el-form-item label=\"背景颜色\">\n                  <avue-input-color\n                    v-model=\"config.backgroundColor\"\n                  ></avue-input-color>\n                </el-form-item>\n                <el-form-item label=\"背景图片\">\n                  <img\n                    :src=\"config.backgroundImage\"\n                    @click=\"\n                      handleOpenImg('config.backgroundImage', 'background')\n                    \"\n                    alt=\"\"\n                    width=\"100%\"\n                  />\n                  <el-input clearable v-model=\"config.backgroundImage\">\n                    <div\n                      @click=\"\n                        handleOpenImg('config.backgroundImage', 'background')\n                      \"\n                      slot=\"append\"\n                    >\n                      <i class=\"iconfont icon-img\"></i>\n                    </div>\n                  </el-input>\n                </el-form-item>\n                <el-form-item label=\"预览方式\">\n                  <el-radio-group v-model=\"config.screen\">\n                    <el-radio label=\"x\">X轴铺满，Y轴自适应滚动</el-radio>\n                    <el-radio label=\"y\">Y轴铺满，X轴自适应滚动</el-radio>\n                    <el-radio label=\"xy\">强行拉伸画面，填充所有视图</el-radio>\n                  </el-radio-group>\n                </el-form-item>\n                <el-form-item label-width=\"0\">\n                  <el-button\n                    size=\"small\"\n                    type=\"primary\"\n                    class=\"block\"\n                    @click=\"globShow = true\"\n                    >更多设置</el-button\n                  >\n                </el-form-item>\n              </template>\n            </el-form>\n          </el-tab-pane>\n          <!-- 数据配置 -->\n          <el-tab-pane name=\"1\" v-if=\"validProp('dataList')\">\n            <span slot=\"label\"><i class=\"el-icon-document-copy\"></i>数据</span>\n            <template v-if=\"menuTabs == 1\">\n              <el-form label-width=\"120px\" label-position=\"left\" size=\"small\">\n                <el-form-item label=\"数据类型\">\n                  <avue-select\n                    v-model=\"activeObj.dataType\"\n                    :dic=\"dicOption.dataType\"\n                  ></avue-select>\n                </el-form-item>\n                <template v-if=\"isSql\">\n                  <el-form-item label=\"数据源选择\">\n                    <avue-select :dic=\"DIC.sql\" v-model=\"db\"></avue-select>\n                  </el-form-item>\n                  <el-form-item label=\"SQL语句\" label-position=\"top\">\n                    <monaco-editor\n                      v-model=\"sql\"\n                      language=\"sql\"\n                      height=\"100\"\n                    ></monaco-editor>\n                  </el-form-item>\n                </template>\n                <template v-else-if=\"isApi\">\n                  <!-- <el-form-item label=\"接口地址\">\n                    <avue-input v-model=\"activeObj.url\"></avue-input>\n                  </el-form-item>\n                  <el-form-item label=\"请求方式\">\n                    <avue-select\n                      v-model=\"activeObj.dataMethod\"\n                      :dic=\"dicOption.dataMethod\"\n                    ></avue-select>\n                  </el-form-item> -->\n                  <apiPanel @updateapi=\"updateApi\"></apiPanel>\n                </template>\n                <template v-else-if=\"isWs\">\n                  <el-form-item label=\"WS地址\">\n                    <el-input v-model=\"activeObj.wsUrl\"> </el-input>\n                  </el-form-item>\n                </template>\n                <template v-else-if=\"isRecord\">\n                  <el-form-item label=\"数据集选择\">\n                    <avue-select\n                      :dic=\"DIC.data\"\n                      v-model=\"activeObj.record\"\n                    ></avue-select>\n                  </el-form-item>\n                </template>\n                <el-form-item label=\"刷新时间\" v-if=\"isApi || isWs || isSql\">\n                  <avue-input-number\n                    v-model=\"activeObj.time\"\n                    placeholder=\"0\"\n                  ></avue-input-number>\n                </el-form-item>\n                <el-form-item label-width=\"0\">\n                  <el-button\n                    size=\"small\"\n                    type=\"primary\"\n                    class=\"block\"\n                    @click=\"handleSetting\"\n                    >更多设置</el-button\n                  >\n                </el-form-item>\n                <el-form-item label-width=\"0\">\n                  <el-button\n                    size=\"small\"\n                    type=\"danger\"\n                    class=\"block\"\n                    @click=\"openCode('stylesFormatter', '编辑样式')\"\n                    >编辑样式</el-button\n                  >\n                </el-form-item>\n                <el-form-item label-width=\"0\">\n                  <el-button\n                    size=\"small\"\n                    type=\"primary\"\n                    class=\"block\"\n                    @click=\"handleRes\"\n                    >请求数据</el-button\n                  >\n                </el-form-item>\n                <el-form-item label-width=\"0\">\n                  <monaco-editor\n                    v-model=\"dataRes\"\n                    disabled\n                    height=\"400\"\n                  ></monaco-editor>\n                </el-form-item>\n              </el-form>\n            </template>\n          </el-tab-pane>\n          <!-- 交互事件配置 -->\n          <el-tab-pane name=\"2\" v-if=\"validProp('eventList')\">\n            <span slot=\"label\"><i class=\"el-icon-thumb\"></i>交互</span>\n            <el-form label-width=\"120px\" label-position=\"left\" size=\"small\">\n              <el-form-item label=\"子类\">\n                <avue-select\n                  multiple\n                  v-model=\"activeObj.child.index\"\n                  :dic=\"childList\"\n                  :props=\"childProps\"\n                >\n                </avue-select>\n              </el-form-item>\n              <el-form-item label=\"参数名称\">\n                <avue-input v-model=\"activeObj.child.paramName\"></avue-input>\n              </el-form-item>\n              <el-form-item label=\"映射字段\">\n                <avue-input\n                  v-model=\"activeObj.child.paramValue\"\n                  placeholder=\"默认为value\"\n                ></avue-input>\n              </el-form-item>\n            </el-form>\n          </el-tab-pane>\n          <!-- 其他事件配置 -->\n          <el-tab-pane name=\"3\" v-if=\"!validProp('', [undefined])\">\n            <span slot=\"label\"><i class=\"el-icon-mouse\"></i>事件</span>\n            <el-form label-width=\"120px\" label-position=\"left\" size=\"small\">\n              <el-form-item label=\"点击事件\">\n                <el-button\n                  size=\"small\"\n                  type=\"primary\"\n                  @click=\"openCode('clickFormatter', '点击事件')\"\n                  >编辑</el-button\n                >\n              </el-form-item>\n              <template v-if=\"validProp('labelFormatterList')\">\n                <el-form-item label=\"提示事件\">\n                  <el-button\n                    size=\"small\"\n                    type=\"primary\"\n                    @click=\"openCode('formatter', '提示事件')\"\n                    >编辑</el-button\n                  >\n                </el-form-item>\n                <el-form-item label=\"标题事件\">\n                  <el-button\n                    size=\"small\"\n                    type=\"primary\"\n                    @click=\"openCode('labelFormatter', '标题事件')\"\n                    >编辑</el-button\n                  >\n                </el-form-item>\n              </template>\n            </el-form>\n          </el-tab-pane>\n          <!-- 基本参数配置 -->\n          <el-tab-pane name=\"4\" v-if=\"isActive\">\n            <span slot=\"label\"><i class=\"el-icon-folder\"></i>参数</span>\n            <el-form label-width=\"90px\" label-position=\"left\" size=\"small\">\n              <el-form-item label=\"序号\">\n                <avue-input\n                  @click.native=\"handleCopyIndex\"\n                  v-model=\"activeObj.index\"\n                  disabled\n                >\n                </avue-input>\n              </el-form-item>\n              <el-form-item label=\"进入动画\">\n                <avue-select\n                  filterable\n                  allow-create\n                  v-model=\"activeComponent.animated\"\n                  :dic=\"dicOption.animated\"\n                ></avue-select>\n                <div>\n                  <a\n                    href=\"https://www.dowebok.com/demo/2014/98/\"\n                    target=\"_blank\"\n                    >点击查看动画类型</a\n                  >\n                </div>\n              </el-form-item>\n              <el-form-item label=\"位置\">\n                <div class=\"flex\">\n                  <avue-input-number\n                    style=\"width: 130px\"\n                    v-model=\"activeObj.left\"\n                  ></avue-input-number>\n                  &nbsp;x&nbsp;\n                  <avue-input-number\n                    style=\"width: 130px\"\n                    v-model=\"activeObj.top\"\n                  ></avue-input-number>\n                </div>\n              </el-form-item>\n              <el-form-item label=\"尺寸\">\n                <div class=\"flex\">\n                  <avue-input-number\n                    style=\"width: 130px\"\n                    v-model=\"activeComponent.width\"\n                  ></avue-input-number>\n                  &nbsp;x&nbsp;\n                  <avue-input-number\n                    style=\"width: 130px\"\n                    v-model=\"activeComponent.height\"\n                  ></avue-input-number>\n                </div>\n              </el-form-item>\n              <el-form-item label=\"透视\">\n                <avue-slider\n                  v-model=\"activeComponent.perspective\"\n                  :max=\"1000\"\n                ></avue-slider>\n              </el-form-item>\n              <el-form-item label=\"缩放\">\n                <avue-slider\n                  v-model=\"activeComponent.scale\"\n                  :max=\"10\"\n                ></avue-slider>\n              </el-form-item>\n              <el-form-item label=\"透明度\">\n                <avue-slider\n                  :step=\"0.1\"\n                  v-model=\"activeComponent.opacity\"\n                  :max=\"1\"\n                ></avue-slider>\n              </el-form-item>\n              <el-form-item label=\"X旋转度\">\n                <avue-slider\n                  v-model=\"activeComponent.rotateX\"\n                  :min=\"-360\"\n                  :max=\"360\"\n                ></avue-slider>\n              </el-form-item>\n              <el-form-item label=\"Y旋转度\">\n                <avue-slider\n                  v-model=\"activeComponent.rotateY\"\n                  :min=\"-360\"\n                  :max=\"360\"\n                ></avue-slider>\n              </el-form-item>\n              <el-form-item label=\"Z旋转度\">\n                <avue-slider\n                  v-model=\"activeComponent.rotateZ\"\n                  :min=\"-360\"\n                  :max=\"360\"\n                ></avue-slider>\n              </el-form-item>\n            </el-form>\n          </el-tab-pane>\n        </el-tabs>\n      </div>\n    </div>\n    <codeedit\n      @submit=\"closeCode\"\n      v-if=\"code.box\"\n      :title=\"code.title\"\n      :type=\"code.type\"\n      v-model=\"code.obj\"\n      :visible.sync=\"code.box\"\n    ></codeedit>\n    <el-dialog\n      append-to-body\n      top=\"1%\"\n      title=\"更多设置\"\n      :close-on-click-modal=\"false\"\n      :visible.sync=\"globShow\"\n      width=\"70%\"\n    >\n      <el-form size=\"small\" label-width=\"130px\">\n        <el-form-item label=\"全局请求地址\">\n          <avue-input v-model=\"config.url\" placeholder=\"/\"></avue-input>\n        </el-form-item>\n        <el-form-item label=\"全局请求参数\">\n          <monaco-editor\n            v-model=\"config.query\"\n            language=\"javascript\"\n            disabled\n            height=\"100\"\n          ></monaco-editor>\n          <el-button\n            type=\"primary\"\n            icon=\"el-icon-edit\"\n            @click=\"openCode('query', '全局请求参数')\"\n            >编辑</el-button\n          >\n        </el-form-item>\n        <el-form-item label=\"全局请求头\">\n          <monaco-editor\n            v-model=\"config.header\"\n            language=\"javascript\"\n            disabled\n            height=\"100\"\n          ></monaco-editor>\n          <el-button\n            type=\"primary\"\n            icon=\"el-icon-edit\"\n            @click=\"openCode('header', '全局请求头')\"\n            >编辑</el-button\n          >\n        </el-form-item>\n        <el-form-item label=\"大屏水印\">\n          <avue-switch v-model=\"config.mark.show\"></avue-switch>\n        </el-form-item>\n        <template v-if=\"config.mark.show\">\n          <el-form-item label=\"内容\">\n            <avue-input v-model=\"config.mark.text\"></avue-input>\n          </el-form-item>\n          <el-form-item label=\"大小\">\n            <avue-input-number\n              v-model=\"config.mark.fontSize\"\n            ></avue-input-number>\n          </el-form-item>\n          <el-form-item label=\"颜色\">\n            <avue-input-color v-model=\"config.mark.color\"></avue-input-color>\n          </el-form-item>\n          <el-form-item label=\"角度\">\n            <avue-input-number v-model=\"config.mark.degree\"></avue-input-number>\n          </el-form-item>\n        </template>\n      </el-form>\n    </el-dialog>\n    <el-dialog\n      append-to-body\n      top=\"1%\"\n      title=\"更多设置\"\n      :close-on-click-modal=\"false\"\n      :visible.sync=\"show\"\n      width=\"70%\"\n    >\n      <el-form size=\"small\" label-width=\"130px\">\n        <el-form-item label=\"数据类型\">\n          <avue-select\n            v-model=\"activeObj.dataType\"\n            :dic=\"dicOption.dataType\"\n          ></avue-select>\n        </el-form-item>\n        <template v-if=\"isStatic\">\n          <el-form-item label=\"数据值\" label-position=\"top\">\n            <el-button\n              size=\"small\"\n              type=\"primary\"\n              icon=\"el-icon-edit\"\n              @click=\"openCode('data', '数据值')\"\n              >编辑数据值</el-button\n            >\n            &nbsp;\n            <el-upload\n              :show-file-list=\"false\"\n              :auto-upload=\"false\"\n              style=\"display: inline-block\"\n              accept=\".xls,.xlsx\"\n              :on-change=\"handleImport\"\n            >\n              <el-button size=\"small\" icon=\"el-icon-upload\" type=\"success\"\n                >导入数据(Excel)</el-button\n              >\n            </el-upload>\n          </el-form-item>\n        </template>\n        <template v-else-if=\"isSql\">\n          <el-form-item label=\"数据源选择\">\n            <avue-select :dic=\"DIC.sql\" v-model=\"db\"></avue-select>\n          </el-form-item>\n\n          <el-form-item label=\"SQL语句\" label-position=\"top\">\n            <el-tooltip\n              effect=\"dark\"\n              content=\"如果要获取变量，直接写成函数返回sql语句即可\"\n              placement=\"top\"\n            >\n              <i class=\"el-icon-info\"></i>\n            </el-tooltip>\n            <monaco-editor\n              v-model=\"sql\"\n              language=\"sql\"\n              height=\"100\"\n            ></monaco-editor>\n          </el-form-item>\n        </template>\n        <template v-else-if=\"isApi\">\n          <!-- <el-form-item label=\"接口地址\">\n            <avue-input v-model=\"activeObj.url\"></avue-input>\n          </el-form-item>\n          <el-form-item label=\"请求方式\">\n            <avue-select\n              v-model=\"activeObj.dataMethod\"\n              :dic=\"dicOption.dataMethod\"\n            ></avue-select>\n          </el-form-item> -->\n          <apiPanel @getApi=\"getApi\"></apiPanel>\n        </template>\n        <template v-else-if=\"isWs\">\n          <el-form-item label=\"WS地址\">\n            <el-input v-model=\"activeObj.wsUrl\"> </el-input>\n          </el-form-item>\n        </template>\n        <template v-else-if=\"isRecord\">\n          <el-form-item label=\"数据集选择\">\n            <avue-select\n              :dic=\"DIC.data\"\n              v-model=\"activeObj.record\"\n            ></avue-select>\n          </el-form-item>\n        </template>\n        <el-form-item label=\"请求配置\" v-if=\"isWs || isApi\">\n          <el-tabs class=\"menu__tabs\" v-model=\"dataTabs\">\n            <el-tab-pane label=\"请求参数（Body）\" name=\"0\">\n              <template v-if=\"dataTabs == 0\">\n                <el-radio-group\n                  v-if=\"['post', 'put'].includes(activeObj.dataMethod)\"\n                  v-model=\"activeObj.dataQueryType\"\n                >\n                  <el-radio label=\"json\">JSON数据</el-radio>\n                  <el-radio label=\"form\">FORM表单</el-radio>\n                </el-radio-group>\n                <monaco-editor\n                  v-model=\"activeObj.dataQuery\"\n                  language=\"javascript\"\n                  disabled\n                  height=\"100\"\n                ></monaco-editor>\n                <el-button\n                  size=\"small\"\n                  type=\"primary\"\n                  icon=\"el-icon-edit\"\n                  @click=\"openCode('dataQuery', '请求参数')\"\n                  >编辑</el-button\n                >\n              </template>\n            </el-tab-pane>\n            <el-tab-pane label=\"请求头（Headers）\" name=\"1\" v-if=\"isApi\">\n              <template v-if=\"dataTabs == 1\">\n                <monaco-editor\n                  v-model=\"activeObj.dataHeader\"\n                  language=\"javascript\"\n                  disabled\n                  height=\"100\"\n                ></monaco-editor>\n                <el-button\n                  size=\"small\"\n                  type=\"primary\"\n                  icon=\"el-icon-edit\"\n                  @click=\"openCode('dataHeader', '请求头')\"\n                  >编辑</el-button\n                >\n              </template>\n            </el-tab-pane>\n          </el-tabs>\n        </el-form-item>\n        <el-form-item label=\"过滤器\">\n          <monaco-editor\n            v-model=\"activeObj.dataFormatter\"\n            language=\"javascript\"\n            disabled\n            height=\"100\"\n          ></monaco-editor>\n          <el-button\n            size=\"small\"\n            type=\"primary\"\n            icon=\"el-icon-edit\"\n            @click=\"openCode('dataFormatter', '编辑过滤器')\"\n            >编辑</el-button\n          >\n        </el-form-item>\n        <el-form-item label=\"响应数据\">\n          <monaco-editor\n            v-model=\"dataRes\"\n            disabled\n            height=\"200\"\n          ></monaco-editor>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button\n          size=\"small\"\n          type=\"primary\"\n          icon=\"el-icon-refresh\"\n          @click=\"handleRes\"\n          >请求数据</el-button\n        >\n      </span>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport MonacoEditor from '@/page/components/editor'\nimport layer from './group/layer'\nimport top from './group/top'\nimport headers from './group/header'\nimport imglist from './group/imglist'\nimport contentmenu from './group/contentmenu'\nimport codeedit from './group/code'\nimport { dicOption } from '@/option/config'\nimport init from '@/mixins/'\nimport { createFile, uuid } from '@/utils/utils'\nimport components from '@/option/components'\nimport SketchRule from 'vue-sketch-ruler'\nimport { getList as getDbList } from '@/api/db'\nimport { getList as getRecordList } from '@/api/record'\nimport crypto from '@/utils/crypto'\nimport apiPanel from '@/page/components/apiPanel'\n\nexport default {\n  mixins: [init, components],\n  data() {\n    return {\n      currentHistoryIndex: -1,\n      copyNav: '',\n      menuId: 'avue-data-menu',\n      menuShow: true,\n      paramsShow: true,\n      globShow: false,\n      show: false,\n      cacheList: {\n        copy: null,\n        history: [],\n      },\n      keys: {\n        ctrl: false,\n      },\n      dataRes: '',\n      db: '',\n      sql: '',\n      nav: [],\n      DIC: {\n        sql: [],\n        data: [],\n      },\n      loading: '',\n      childProps: {\n        label: 'name',\n        value: 'index',\n      },\n      key: '',\n      menuFlag: true,\n      code: {\n        title: '',\n        box: false,\n        type: '',\n        obj: '',\n      },\n      form: {},\n      dicOption: dicOption,\n      menuTabs: 0,\n      dataTabs: 0,\n      // 标尺\n      scale: 0.94, //初始化标尺的缩放\n      startX: 0, //x轴标尺开始的坐标数值\n      startY: 0,\n      lines: {\n        //初始化水平标尺上的参考线\n        h: [],\n        v: [],\n      },\n      shadow: { x: 0, y: 0 }, // 阴影大小\n      thick: 20, //标尺的厚度\n      width: 0, // 标尺宽,后面会初始化\n      height: 0, // 标尺高,后面会初始化\n      isShowReferLine: true, // 显示参考线\n      imgOpenData:\n        'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAbCAYAAAAOEM1uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAQNSURBVHja7JdvSON1HMdfP126/shSmaZ1ntuZbTLihOnSdJlPhIquB0VR1DZM9En0wCB3qCXKVOh86mmakdGDOqyHityBidYN1HPYZqbhOZprMGTOUk/9/XryWyxvek5NIu4Lg/H+fPj8Xt/P98/n8xUkSeK/PIT7gP8GoCAI8cTQAoWAHkgFRCAA3AKmgeBRA8VkOSZgMvAy8DZQCqQf4OcFRoDPgYmzAnwdaAAuxpFlCbgGfAR4ThUwYhcE4QngExnw71FWVuax2WwBk8mkSE9PV+7t7Ymrq6vbw8PD0uDgYO7CwsK5KPc14ENJkj497FtxAwqCYAK+kvcbANXV1U6Hw6HIyMh4GlAckJHwzMzMrM1my3a5XNoo01XgPUmSdk8MCLwEfAmoAPLz872jo6OrOTk5xVGBQ0tLS575+fnt7OzsRIPBcD4pKelctL2/v3+mtrbWLIpigixfA94BNk8C+JoMlyRn7WZvb68mISEhI+IQCASmKyoq0jweT25EU6lU4aGhoZnKykpzdNzl5eWbRqPxyWAwmCZL3wJvAHeOA/iCPMsHARwOx7jdbi+JXs7t7e3lrKys1LW1NVWsJXa73ZN6vb40WltfX3cbDIZ0r9ebKUv9wLvxAhYC1+V7je7u7rG6urrn9vu1tbWNNzU1lR90KgsLC5emp6cfB5TRejgc9mg0msyoTNYDXfEAjgFmQGxpaZlobm6OBbFrMpl+dTqd+YdcLztbW1ve5ORk7X6D3++f0ul0+aFQKAXYAF6RJOn6UQGDQBrgE0VRJQjCw7EAjUbj8tTUVN4hgLubm5u3lUrlhVjG+vr6ya6ursgWaJck6fJRAW8AzwNia2vrRGNjY8xltNvtEx0dHc8eRKfX62+73W418NB+m8/nm9LpdE+Fw+FHgD+AS/Fk8CJwI7IHe3t7x2pqau7agxsbG/NqtTp3a2tLGQtwcnJyvKSk5K7JhcPhnzQaTXYwGEyVpQ+AK8c5xd9EZt/e3v59Q0ND6f5LeXFx8cfy8vILfr9fHdEUCsVOX1/fhMViqdgfOxQKzRUUFKh9Pt+JTnHk76vyPZgcqR49PT3nExMTM/+x0XZ3fePj47/Mzc2RlZVFVVVVRkpKin5/3JWVFWdRUVFeIBCInN7v5NJ55ySV5EUZ8lEArVb728jIiDcvL++ZONqo0MDAwK2ampoyURQTZXlI7ob+PI1aXAR8AegiutVqdXZ2dt6zFs/OzrosFstjLpcr+iR3A+9LkrRzKs2CrGUCV4C3on3NZrPHarX+Xlxc/MARu5nLkiRdPbVuJsa4BDQCxjj6QRH4GvgY+PksOmqF3FG/KVcc9T066s+AH86y5Y8eOXI282XQyJtkRv6d/pvk/rPz/wT41wBibRrpeMs+PAAAAABJRU5ErkJggg==', // 左上角图片\n      imgClose:\n        'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAPYSURBVHja7JVPTFRXFIe/+96gGRHEhQzBFMJKSKSkLTgtGxemSXcktohW2RBmTAjUClIYZ6Cxi+fQDgOCLJgJhqTSBAtLdjaxaSqQWnDSNp2U0I6FFh0SDdV0oMx7pwuZCUXjnyZNuvBsbnLvufe7555zfleJCP+1qReQfwVRSqWmqoFDIE3A+iZXQDbGlMmmNTatP5xPn/0ohOOgLgNtIB8DOlAKvAzsBTKBP4FF4Dvge1DrzwsBaAAuAJ8CxbpuezU/P397QcFLZGVlcf/+fRYXF1lc/G3VNJM/AJ8Dw8CdZ4QoQI4AIWBXaWkpQ0ND5v79+zW73Z5+n9XVVWZnb8rExIQ2MnKZWCz2M/Dhw1d4eiTngXafz2dmZ2ebPp9P6+vrl5qaI2p8fFyi0aheUlJiHj78tpaTs0sHJB6PW4HAJ3og0I2I+AHPkyAeu91uDA4OmrW1tRpAT09vsr29XXM4ciWZTJKXl2ctLCyoHTsy1ZUro+J0OjNSWR8ZGbFcLpeeSCTOAucfBykDpvr7+7c3NjamS+bevXvJ4uIS4vE7tra2tjW/32+7ffu21Ne7rJmZb7VIJKL27Nmjp0ADAwM0NjauAW+IyM2tkAGn8/WG69e/NjVNS20iHA6vd3Z2qrq6OtMwDFswGLROnz6dcffu3WRRUZEVCARwuVzbUv6WZVmVlZXa9PT0RRFp2gq56na7Dw0ODv6jGc6cOWNdu/Zl8saNb/RgMGi1tLSo7u5uaW5u1srLK8yDBw/aursD2ubmcbtPqnA4dFVE3twKuVBeXv7e5OSkabPZ0pGEQuG/WltbicV+0Xbv3m0LBnvWW1qatbNnvclLl4b0c+c+ErfblcoLa2trptPp1CORSEBEWrdCSoBpwzB2ejyedE6Wl5fNsrIyqaiokFAopBwOh/J4PKbf79/mcDiS0WiUnJwcWyoKr9erDMNYBg6ISOxx1dWg6/pAb2+vtZF8DWBqanr96NEalUgkpKCgQJaWljRN04jH43R1dcmpU6dsgBiGobxer3qoGnz2pD5pBfx1dXWaz+czi4qKNECtrKyYY2NjVjQa1fftK7aqq99hdHRUmpqaVEdHhzU/P58xPDycAN4Hws8iK28B/tzc3LJjx96lqqrKOnCggszMzLRmPHjwQM3MzFj19fX63NwcwDJQBUymK+ApEEDtBDkOnFBKvZafv9deWFhIdnYWKysr3Lr1K0tLvydE5CvgJ1AnQZqBi88DSV1aA0qAV4CCDRX+A1gAZoEfN/w/ALqAEyAjzwvZ8mc8KukblgGqD/gCZOyxkBd//P8G8vcAMK383pmr7aEAAAAASUVORK5CYII=',\n      dragSlide: false, // 拖动滚动条标记\n    }\n  },\n  components: {\n    MonacoEditor,\n    imglist,\n    layer,\n    codeedit,\n    top,\n    headers,\n    contentmenu,\n    SketchRule,\n    apiPanel,\n  },\n  computed: {\n    // 能否撤销\n    canUndo() {\n      return this.currentHistoryIndex > 0\n    },\n    canRedo() {\n      return this.cacheList.history.length > this.currentHistoryIndex + 1\n    },\n    isKeysCtrl() {\n      return this.keys.ctrl == true\n    },\n    isStatic() {\n      return this.activeObj.dataType == 0\n    },\n    isApi() {\n      return this.activeObj.dataType == 1\n    },\n    isSql() {\n      return this.activeObj.dataType == 2\n    },\n    isWs() {\n      return this.activeObj.dataType === 3\n    },\n    isRecord() {\n      return this.activeObj.dataType == 4\n    },\n    isFolder() {\n      return this.activeObj.children\n    },\n    isActive() {\n      return this.activeObj.index\n    },\n    isSelectActive() {\n      return this.active.length > 1\n    },\n    childList() {\n      return this.list.filter((ele) => {\n        if (ele.children) return false\n        let component = ele.component || {}\n        return !['tabs'].includes(component.prop)\n      })\n    },\n    activeComponent() {\n      return this.activeObj.component || {}\n    },\n    activeOption() {\n      return this.activeObj.option || {}\n    },\n    activeObj: {\n      get() {\n        let item = this.findlist(this.activeIndex) || {}\n        if (!item.child) item.child = {}\n        return item\n      },\n    },\n    activeList() {\n      let result = []\n      this.active.forEach((ele) => {\n        let item = this.findnav(ele)\n        result.push(item.item)\n      })\n      return result\n    },\n    /* 标尺用的 */\n    palette() {\n      return {\n        bgColor: '#18181c', // ruler bg color\n        longfgColor: '#BABBBC', // ruler longer mark color\n        shortfgColor: '#9C9C9C', // ruler shorter mark color\n        fontColor: '#fff', // ruler font color\n        shadowColor: '#18181c', // ruler shadow color\n        lineColor: '#EB5648',\n        borderColor: '#B5B5B5',\n        cornerActiveColor: '#fff',\n      }\n    },\n    // 画布大小,一定要是computer里面,否则缩放页面会失效\n    canvasStyle() {\n      return {\n        width: window.innerWidth - 530 + 'px',\n        transform: `scale(${this.scale})`,\n      }\n    },\n  },\n  watch: {\n    nav: {\n      handler(val, oldval) {\n        this.recordMain(val, oldval)\n      },\n      deep: true,\n    },\n    activeObj: {\n      handler(val) {\n        if (this.activeObj.sql && this.isSql) {\n          let mode = JSON.parse(crypto.decrypt(this.activeObj.sql))\n          this.db = mode.id\n          this.sql = mode.sql\n        } else {\n          this.db = ''\n          this.sql = ''\n        }\n      },\n      deep: true,\n    },\n    'activeObj.dataType'() {\n      this.dataTabs = '0'\n    },\n    overactive(n, o) {\n      ;[o, n].forEach((ele, index) => {\n        if (!ele) return\n        this.setActive(ele, index === 1, 'setOverActive')\n      })\n    },\n    active(n, o) {\n      ;[o, n].forEach((ele, index) => {\n        ele.forEach((item) => {\n          this.setActive(item, index === 1, 'setActive')\n        })\n      })\n      // 初始化选项卡\n      this.menuTabs = '0'\n    },\n  },\n  created() {\n    this.initDataList()\n    window.ths = this\n  },\n  mounted() {\n    setTimeout(() => {\n      this.initFun()\n      this.initSize()\n      this.listenKey()\n    })\n  },\n  methods: {\n    handleCopyIndex() {\n      this.$Clipboard({\n        text: this.activeObj.index,\n      })\n        .then(() => {\n          this.$message.success('复制成功')\n        })\n        .catch(() => {\n          this.$message.error('复制失败')\n        })\n    },\n    handleTabClick(tab) {\n      if (tab.name == '1') {\n        this.handleRes(false)\n      }\n    },\n    handleImport(file, fileLis) {\n      this.$Export.xlsx(file.raw).then((data) => {\n        this.activeObj.data = data.results\n        this.$message.success('导入成功')\n        this.handleRes()\n      })\n    },\n    handleRefresh() {\n      return this.$refs.container.handleRefresh()\n    },\n    handleRes(tip = true) {\n      if (this.isSql) {\n        this.$set(\n          this.activeObj,\n          'sql',\n          crypto.encrypt(\n            JSON.stringify({\n              id: this.db,\n              sql: this.sql,\n            })\n          )\n        )\n      }\n      this.handleRefresh().then((res = {}) => {\n        if (!this.validatenull(res)) {\n          this.dataRes = JSON.stringify(res, null, 4)\n        } else {\n          this.dataRes = ''\n        }\n        if (tip) this.$message.success('请求数据成功')\n      })\n    },\n    handleSetting() {\n      this.dataTabs = 0\n      this.dataRes = ''\n      this.handleRes(false)\n      this.show = true\n    },\n    initDataList() {\n      getDbList({\n        current: 1,\n        size: 100,\n      }).then((res) => {\n        const data = res.data.data\n        this.DIC.sql = data.records.map((ele) => {\n          return {\n            label: ele.name,\n            value: ele.id,\n          }\n        })\n      })\n      getRecordList({\n        current: 1,\n        size: 100,\n      }).then((res) => {\n        const data = res.data.data\n        this.DIC.data = data.records.map((ele) => {\n          return {\n            label: ele.name,\n            value: ele.id,\n          }\n        })\n      })\n    },\n    closeCode(value) {\n      if (this.configData.includes(this.code.type)) {\n        this.config[this.code.type] = value\n      } else {\n        this.activeObj[this.code.type] = value\n      }\n      this.handleRes(false)\n    },\n    openCode(type, title) {\n      this.code.type = type\n      this.code.title = title\n      if (this.configData.includes(type)) {\n        this.code.obj = this.config[type]\n      } else {\n        this.code.obj = this.activeObj[type]\n      }\n      this.code.box = true\n    },\n    initFun() {\n      ;['setScale'].forEach((ele) => {\n        this[ele] = this.$refs.container[ele]\n      })\n    },\n    // 右键菜单\n    handleContextMenu(item = {}, done) {\n      if (!item.index || this.isKeysCtrl) return\n      else if (!this.isSelectActive) {\n        this.active = [item.index]\n        this.activeIndex = item.index\n      }\n      done()\n    },\n    //监听键盘的按键\n    listenKey() {\n      let section = this.$refs.section\n      section.onkeydown = (e) => {\n        const keyCode = e.keyCode\n        e.preventDefault()\n        if (keyCode == 17) {\n          this.keys.ctrl = true\n        } else if (keyCode == 67 && this.keys.ctrl) {\n          if (!this.activeObj) return\n          this.cacheList.copy = this.deepClone(this.activeObj)\n          this.$message.success('复制组件成功')\n        } else if (keyCode == 86 && this.keys.ctrl) {\n          if (!this.cacheList.copy) return\n          this.nav.unshift(\n            this.deepClone({\n              ...this.cacheList.copy,\n              ...{\n                index: uuid(),\n                name: this.cacheList.copy.name + '（复制）',\n                left: 0,\n                top: 0,\n              },\n            })\n          )\n          this.$message.success('粘贴组件成功')\n        }\n      }\n      section.onkeyup = (e) => {\n        const keyCode = e.keyCode\n        if (keyCode == 17) {\n          this.keys.ctrl = false\n        }\n      }\n    },\n    setActive(val, result, fun) {\n      const obj = this.$refs.container.getDragObj(val)\n      if (!this.validatenull(obj)) obj[0][fun](result)\n    },\n    //批量成组\n    handleFolder() {\n      let folder = createFile()\n      this.active.forEach((index) => {\n        let { itemList, itemIndex } = this.findnav(index)\n        let obj = itemList.splice(itemIndex, 1)[0]\n        folder.children.push(obj)\n      })\n      this.nav.push(folder)\n      this.handleInitActive()\n    },\n    //批量删除\n    handleDeleteSelect() {\n      this.$confirm(`是否批量删除所选图层?`, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning',\n      }).then(() => {\n        this.active.forEach((index) => {\n          let { itemList, itemIndex } = this.findnav(index)\n          itemList.splice(itemIndex, 1)\n        })\n        this.handleInitActive()\n      })\n    },\n    validProp(name, list) {\n      if (list)\n        return (\n          list.includes(this.activeComponent.prop) || this.active.length > 1\n        )\n      return this.dicOption[name].includes(this.activeComponent.prop)\n    },\n    formatTooltip(val) {\n      return parseInt(val)\n    },\n    //打开图库\n    handleOpenImg(item, type) {\n      this.$refs.imglist.openImg(item, type)\n    },\n    //图库框回调赋值\n    handleSetimg(val, type) {\n      let params = type.split('.')[1]\n      if (type.includes('config')) {\n        this.config[params] = val\n      } else if (type.includes('activeObj.data.value')) {\n        this.activeObj.data.value = val\n      } else if (type.includes('activeObj.data')) {\n        this.activeObj.data = val\n      } else if (type.includes('activeObj')) {\n        this.activeObj[params] = val\n      } else if (type.includes('activeOption')) {\n        this.activeOption[params] = val\n      }\n    },\n    handleScroll() {\n      this.$nextTick(() => {\n        const screensRect = this.$refs.screensRef.getBoundingClientRect()\n        const canvasRect = this.$refs.canvas.getBoundingClientRect()\n        // 标尺开始的刻度\n        const startX =\n          (screensRect.left + this.thick - canvasRect.left) / this.scale\n        const startY =\n          (screensRect.top + this.thick - canvasRect.top) / this.scale\n        this.startX = startX >> 0\n        this.startY = startY >> 0\n      })\n    },\n    // 控制缩放值\n    handleWheel(e) {\n      if (e.ctrlKey || e.metaKey) {\n        e.preventDefault()\n        const nextScale = parseFloat(\n          Math.max(0.2, this.scale - e.deltaY / 500).toFixed(2)\n        )\n        this.scale = nextScale\n      }\n      this.$nextTick(() => {\n        this.handleScroll()\n      })\n    },\n    // 初始化标尺数值\n    initSize() {\n      const domW = this.$refs.section\n      let width = window.innerWidth - 520\n      let height = window.innerHeight - 80\n      domW.style.width = width + 'px'\n      domW.style.height = height + 'px'\n      this.width = width\n      this.height = height\n      // 画布阴影部分\n      this.shadow = { x: 0, y: 0, width, height }\n      // 滚动居中\n      let dom = this.$refs.containerRef.getBoundingClientRect()\n      this.$refs.screensRef.scrollLeft = dom.width / 2 - 10\n      this.$refs.screensRef.scrollTop = dom.height / 2 - 50\n    },\n    // 图片点击事件\n    imgClick() {\n      this.isShowReferLine = !this.isShowReferLine\n    },\n    // 鼠标按下事件\n    dragMousedown(e) {\n      // 如果按下了空格键,且按下鼠标左键,那么鼠标变抓手,开启滚动条随鼠标拖动的操作\n      this.handleInitActive()\n      this.dragSlide = true\n      window.stardragEvent = e\n      window.startSlideX = this.$refs.screensRef.scrollLeft\n      window.startSlideY = this.$refs.screensRef.scrollTop\n    },\n    //鼠标抬起操作\n    dragMouseup() {\n      this.dragSlide = false\n    },\n    // 鼠标移动骚操作\n    dragMousemove(e) {\n      if (this.dragSlide) {\n        let x = e.clientX - window.stardragEvent.clientX\n        let y = e.clientY - window.stardragEvent.clientY\n        this.$refs.screensRef.scrollLeft = window.startSlideX - x\n        this.$refs.screensRef.scrollTop = window.startSlideY - y\n      }\n    },\n    selectNav(item) {\n      if (Array.isArray(item)) {\n        this.active = this.active.concat(item)\n      } else if (this.isKeysCtrl) {\n        this.active.push(item)\n      } else if (!this.active.includes(item)) {\n        this.active = [item]\n        this.activeIndex = item\n      }\n    },\n    recordMain(val, oldval) {\n      if (JSON.stringify(val) != this.copyNav) {\n        let newst = JSON.stringify(val)\n        if (newst != this.copyNav) {\n          this.copyNav = newst\n          this.addHistoryCache(val)\n        } else {\n          return\n        }\n      }\n    },\n    addHistoryCache(val) {\n      if (this.currentHistoryIndex + 1 < this.cacheList.history.length) {\n        this.cacheList.history.splice(this.currentHistoryIndex + 1)\n      }\n      this.cacheList.history.push({\n        nav: this.deepClone(val),\n      })\n      this.cacheList.history.splice(100)\n      this.currentHistoryIndex++\n    },\n    editorUndo() {\n      if (!this.canUndo) {\n        return\n      }\n      this.currentHistoryIndex--\n      this.relapceEditorState()\n    },\n    editorRedo() {\n      if (!this.canRedo) {\n        return\n      }\n      handleRefresh\n      this.currentHistoryIndex++\n      this.relapceEditorState()\n    },\n    relapceEditorState() {\n      const prevState = this.cacheList.history[this.currentHistoryIndex]\n      this.nav = this.deepClone(prevState.nav)\n      this.copyNav = JSON.stringify(prevState.nav)\n    },\n    updateApi(params) {\n      const { url, method } = params\n      this.$set(this.activeObj, 'url', url)\n      this.$set(this.activeObj, 'dataMethod', method)\n    },\n  },\n}\n</script>\n<style lang=\"scss\">\n@import '../styles/style.scss';\n.refer-line-img {\n  position: absolute;\n  left: 0;\n  z-index: 5;\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  img {\n    width: 100%;\n  }\n}\n#screens {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n}\n\n.screen-container {\n  position: relative;\n  width: 5000px;\n  height: 3000px;\n  background: url('/img/screen.png') repeat;\n}\n\n.dragghanle {\n  cursor: pointer;\n}\n.canvas {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n}\n.section {\n  flex: 1;\n  overflow: hidden;\n  position: relative;\n}\n</style>\n"]}]}
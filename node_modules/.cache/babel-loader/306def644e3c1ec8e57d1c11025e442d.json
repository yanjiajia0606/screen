{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eS5qcyI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzLmpzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci5jYXVzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5kb3QtYWxsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnN0aWNreS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi4KICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCnZhciBfX2F3YWl0ZXIgPSB0aGlzICYmIHRoaXMuX19hd2FpdGVyIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHsKICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgewogICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgcmVzb2x2ZSh2YWx1ZSk7CiAgICB9KTsKICB9CiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsKICAgICAgdHJ5IHsKICAgICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICByZWplY3QoZSk7CiAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7CiAgICAgIHRyeSB7CiAgICAgICAgc3RlcChnZW5lcmF0b3JbInRocm93Il0odmFsdWUpKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHJlamVjdChlKTsKICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsKICAgICAgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7CiAgICB9CiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7CiAgfSk7Cn07CmltcG9ydCB7IHN0cmluZ0RpZmYgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9kaWZmL2RpZmYuanMnOwppbXBvcnQgeyBnbG9iYWxzIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vcGxhdGZvcm0uanMnOwppbXBvcnQgeyBVUkkgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi91cmkuanMnOwppbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gJy4uL2NvcmUvcG9zaXRpb24uanMnOwppbXBvcnQgeyBSYW5nZSB9IGZyb20gJy4uL2NvcmUvcmFuZ2UuanMnOwppbXBvcnQgeyBEaWZmQ29tcHV0ZXIgfSBmcm9tICcuLi9kaWZmL2RpZmZDb21wdXRlci5qcyc7CmltcG9ydCB7IE1pcnJvclRleHRNb2RlbCBhcyBCYXNlTWlycm9yTW9kZWwgfSBmcm9tICcuLi9tb2RlbC9taXJyb3JUZXh0TW9kZWwuanMnOwppbXBvcnQgeyBlbnN1cmVWYWxpZFdvcmREZWZpbml0aW9uLCBnZXRXb3JkQXRUZXh0IH0gZnJvbSAnLi4vY29yZS93b3JkSGVscGVyLmpzJzsKaW1wb3J0IHsgY29tcHV0ZUxpbmtzIGFzIF9jb21wdXRlTGlua3MgfSBmcm9tICcuLi9sYW5ndWFnZXMvbGlua0NvbXB1dGVyLmpzJzsKaW1wb3J0IHsgQmFzaWNJbnBsYWNlUmVwbGFjZSB9IGZyb20gJy4uL2xhbmd1YWdlcy9zdXBwb3J0cy9pbnBsYWNlUmVwbGFjZVN1cHBvcnQuanMnOwppbXBvcnQgeyBjcmVhdGVNb25hY29CYXNlQVBJIH0gZnJvbSAnLi9lZGl0b3JCYXNlQXBpLmpzJzsKaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vdHlwZXMuanMnOwppbXBvcnQgeyBTdG9wV2F0Y2ggfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9zdG9wd2F0Y2guanMnOwppbXBvcnQgeyBVbmljb2RlVGV4dE1vZGVsSGlnaGxpZ2h0ZXIgfSBmcm9tICcuL3VuaWNvZGVUZXh0TW9kZWxIaWdobGlnaHRlci5qcyc7Ci8qKgogKiBAaW50ZXJuYWwKICovCmV4cG9ydCB2YXIgTWlycm9yTW9kZWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9CYXNlTWlycm9yTW9kZWwpIHsKICBfaW5oZXJpdHMoTWlycm9yTW9kZWwsIF9CYXNlTWlycm9yTW9kZWwpOwogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoTWlycm9yTW9kZWwpOwogIGZ1bmN0aW9uIE1pcnJvck1vZGVsKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1pcnJvck1vZGVsKTsKICAgIHJldHVybiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CiAgX2NyZWF0ZUNsYXNzKE1pcnJvck1vZGVsLCBbewogICAga2V5OiAidXJpIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fdXJpOwogICAgfQogIH0sIHsKICAgIGtleTogImVvbCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2VvbDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRWYWx1ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7CiAgICAgIHJldHVybiB0aGlzLmdldFRleHQoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRMaW5lc0NvbnRlbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldExpbmVzQ29udGVudCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2xpbmVzLnNsaWNlKDApOwogICAgfQogIH0sIHsKICAgIGtleTogImdldExpbmVDb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TGluZUNvdW50KCkgewogICAgICByZXR1cm4gdGhpcy5fbGluZXMubGVuZ3RoOwogICAgfQogIH0sIHsKICAgIGtleTogImdldExpbmVDb250ZW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMaW5lQ29udGVudChsaW5lTnVtYmVyKSB7CiAgICAgIHJldHVybiB0aGlzLl9saW5lc1tsaW5lTnVtYmVyIC0gMV07CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0V29yZEF0UG9zaXRpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFdvcmRBdFBvc2l0aW9uKHBvc2l0aW9uLCB3b3JkRGVmaW5pdGlvbikgewogICAgICB2YXIgd29yZEF0VGV4dCA9IGdldFdvcmRBdFRleHQocG9zaXRpb24uY29sdW1uLCBlbnN1cmVWYWxpZFdvcmREZWZpbml0aW9uKHdvcmREZWZpbml0aW9uKSwgdGhpcy5fbGluZXNbcG9zaXRpb24ubGluZU51bWJlciAtIDFdLCAwKTsKICAgICAgaWYgKHdvcmRBdFRleHQpIHsKICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHBvc2l0aW9uLmxpbmVOdW1iZXIsIHdvcmRBdFRleHQuc3RhcnRDb2x1bW4sIHBvc2l0aW9uLmxpbmVOdW1iZXIsIHdvcmRBdFRleHQuZW5kQ29sdW1uKTsKICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ3b3JkcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gd29yZHMod29yZERlZmluaXRpb24pIHsKICAgICAgdmFyIGxpbmVzID0gdGhpcy5fbGluZXM7CiAgICAgIHZhciB3b3JkZW5pemUgPSB0aGlzLl93b3JkZW5pemUuYmluZCh0aGlzKTsKICAgICAgdmFyIGxpbmVOdW1iZXIgPSAwOwogICAgICB2YXIgbGluZVRleHQgPSAnJzsKICAgICAgdmFyIHdvcmRSYW5nZXNJZHggPSAwOwogICAgICB2YXIgd29yZFJhbmdlcyA9IFtdOwogICAgICByZXR1cm4gX2RlZmluZVByb3BlcnR5KHt9LCBTeW1ib2wuaXRlcmF0b3IsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciB2YWx1ZTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIXRydWUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICghKHdvcmRSYW5nZXNJZHggPCB3b3JkUmFuZ2VzLmxlbmd0aCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFsdWUgPSBsaW5lVGV4dC5zdWJzdHJpbmcod29yZFJhbmdlc1t3b3JkUmFuZ2VzSWR4XS5zdGFydCwgd29yZFJhbmdlc1t3b3JkUmFuZ2VzSWR4XS5lbmQpOwogICAgICAgICAgICAgICAgd29yZFJhbmdlc0lkeCArPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgaWYgKCEobGluZU51bWJlciA8IGxpbmVzLmxlbmd0aCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGxpbmVUZXh0ID0gbGluZXNbbGluZU51bWJlcl07CiAgICAgICAgICAgICAgICB3b3JkUmFuZ2VzID0gd29yZGVuaXplKGxpbmVUZXh0LCB3b3JkRGVmaW5pdGlvbik7CiAgICAgICAgICAgICAgICB3b3JkUmFuZ2VzSWR4ID0gMDsKICAgICAgICAgICAgICAgIGxpbmVOdW1iZXIgKz0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJicmVhayIsIDE4KTsKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDA7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRMaW5lV29yZHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldExpbmVXb3JkcyhsaW5lTnVtYmVyLCB3b3JkRGVmaW5pdGlvbikgewogICAgICB2YXIgY29udGVudCA9IHRoaXMuX2xpbmVzW2xpbmVOdW1iZXIgLSAxXTsKICAgICAgdmFyIHJhbmdlcyA9IHRoaXMuX3dvcmRlbml6ZShjb250ZW50LCB3b3JkRGVmaW5pdGlvbik7CiAgICAgIHZhciB3b3JkcyA9IFtdOwogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocmFuZ2VzKSwKICAgICAgICBfc3RlcDsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHJhbmdlID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICB3b3Jkcy5wdXNoKHsKICAgICAgICAgICAgd29yZDogY29udGVudC5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCksCiAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiByYW5nZS5zdGFydCArIDEsCiAgICAgICAgICAgIGVuZENvbHVtbjogcmFuZ2UuZW5kICsgMQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHdvcmRzOwogICAgfQogIH0sIHsKICAgIGtleTogIl93b3JkZW5pemUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF93b3JkZW5pemUoY29udGVudCwgd29yZERlZmluaXRpb24pIHsKICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICB2YXIgbWF0Y2g7CiAgICAgIHdvcmREZWZpbml0aW9uLmxhc3RJbmRleCA9IDA7IC8vIHJlc2V0IGxhc3RJbmRleCBqdXN0IHRvIGJlIHN1cmUKICAgICAgd2hpbGUgKG1hdGNoID0gd29yZERlZmluaXRpb24uZXhlYyhjb250ZW50KSkgewogICAgICAgIGlmIChtYXRjaFswXS5sZW5ndGggPT09IDApIHsKICAgICAgICAgIC8vIGl0IGRpZCBtYXRjaCB0aGUgZW1wdHkgc3RyaW5nCiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgcmVzdWx0LnB1c2goewogICAgICAgICAgc3RhcnQ6IG1hdGNoLmluZGV4LAogICAgICAgICAgZW5kOiBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aAogICAgICAgIH0pOwogICAgICB9CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0VmFsdWVJblJhbmdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZUluUmFuZ2UocmFuZ2UpIHsKICAgICAgcmFuZ2UgPSB0aGlzLl92YWxpZGF0ZVJhbmdlKHJhbmdlKTsKICAgICAgaWYgKHJhbmdlLnN0YXJ0TGluZU51bWJlciA9PT0gcmFuZ2UuZW5kTGluZU51bWJlcikgewogICAgICAgIHJldHVybiB0aGlzLl9saW5lc1tyYW5nZS5zdGFydExpbmVOdW1iZXIgLSAxXS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnRDb2x1bW4gLSAxLCByYW5nZS5lbmRDb2x1bW4gLSAxKTsKICAgICAgfQogICAgICB2YXIgbGluZUVuZGluZyA9IHRoaXMuX2VvbDsKICAgICAgdmFyIHN0YXJ0TGluZUluZGV4ID0gcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyIC0gMTsKICAgICAgdmFyIGVuZExpbmVJbmRleCA9IHJhbmdlLmVuZExpbmVOdW1iZXIgLSAxOwogICAgICB2YXIgcmVzdWx0TGluZXMgPSBbXTsKICAgICAgcmVzdWx0TGluZXMucHVzaCh0aGlzLl9saW5lc1tzdGFydExpbmVJbmRleF0uc3Vic3RyaW5nKHJhbmdlLnN0YXJ0Q29sdW1uIC0gMSkpOwogICAgICBmb3IgKHZhciBpID0gc3RhcnRMaW5lSW5kZXggKyAxOyBpIDwgZW5kTGluZUluZGV4OyBpKyspIHsKICAgICAgICByZXN1bHRMaW5lcy5wdXNoKHRoaXMuX2xpbmVzW2ldKTsKICAgICAgfQogICAgICByZXN1bHRMaW5lcy5wdXNoKHRoaXMuX2xpbmVzW2VuZExpbmVJbmRleF0uc3Vic3RyaW5nKDAsIHJhbmdlLmVuZENvbHVtbiAtIDEpKTsKICAgICAgcmV0dXJuIHJlc3VsdExpbmVzLmpvaW4obGluZUVuZGluZyk7CiAgICB9CiAgfSwgewogICAga2V5OiAib2Zmc2V0QXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9mZnNldEF0KHBvc2l0aW9uKSB7CiAgICAgIHBvc2l0aW9uID0gdGhpcy5fdmFsaWRhdGVQb3NpdGlvbihwb3NpdGlvbik7CiAgICAgIHRoaXMuX2Vuc3VyZUxpbmVTdGFydHMoKTsKICAgICAgcmV0dXJuIHRoaXMuX2xpbmVTdGFydHMuZ2V0UHJlZml4U3VtKHBvc2l0aW9uLmxpbmVOdW1iZXIgLSAyKSArIChwb3NpdGlvbi5jb2x1bW4gLSAxKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwb3NpdGlvbkF0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBwb3NpdGlvbkF0KG9mZnNldCkgewogICAgICBvZmZzZXQgPSBNYXRoLmZsb29yKG9mZnNldCk7CiAgICAgIG9mZnNldCA9IE1hdGgubWF4KDAsIG9mZnNldCk7CiAgICAgIHRoaXMuX2Vuc3VyZUxpbmVTdGFydHMoKTsKICAgICAgdmFyIG91dCA9IHRoaXMuX2xpbmVTdGFydHMuZ2V0SW5kZXhPZihvZmZzZXQpOwogICAgICB2YXIgbGluZUxlbmd0aCA9IHRoaXMuX2xpbmVzW291dC5pbmRleF0ubGVuZ3RoOwogICAgICAvLyBFbnN1cmUgd2UgcmV0dXJuIGEgdmFsaWQgcG9zaXRpb24KICAgICAgcmV0dXJuIHsKICAgICAgICBsaW5lTnVtYmVyOiAxICsgb3V0LmluZGV4LAogICAgICAgIGNvbHVtbjogMSArIE1hdGgubWluKG91dC5yZW1haW5kZXIsIGxpbmVMZW5ndGgpCiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAiX3ZhbGlkYXRlUmFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF92YWxpZGF0ZVJhbmdlKHJhbmdlKSB7CiAgICAgIHZhciBzdGFydCA9IHRoaXMuX3ZhbGlkYXRlUG9zaXRpb24oewogICAgICAgIGxpbmVOdW1iZXI6IHJhbmdlLnN0YXJ0TGluZU51bWJlciwKICAgICAgICBjb2x1bW46IHJhbmdlLnN0YXJ0Q29sdW1uCiAgICAgIH0pOwogICAgICB2YXIgZW5kID0gdGhpcy5fdmFsaWRhdGVQb3NpdGlvbih7CiAgICAgICAgbGluZU51bWJlcjogcmFuZ2UuZW5kTGluZU51bWJlciwKICAgICAgICBjb2x1bW46IHJhbmdlLmVuZENvbHVtbgogICAgICB9KTsKICAgICAgaWYgKHN0YXJ0LmxpbmVOdW1iZXIgIT09IHJhbmdlLnN0YXJ0TGluZU51bWJlciB8fCBzdGFydC5jb2x1bW4gIT09IHJhbmdlLnN0YXJ0Q29sdW1uIHx8IGVuZC5saW5lTnVtYmVyICE9PSByYW5nZS5lbmRMaW5lTnVtYmVyIHx8IGVuZC5jb2x1bW4gIT09IHJhbmdlLmVuZENvbHVtbikgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBzdGFydExpbmVOdW1iZXI6IHN0YXJ0LmxpbmVOdW1iZXIsCiAgICAgICAgICBzdGFydENvbHVtbjogc3RhcnQuY29sdW1uLAogICAgICAgICAgZW5kTGluZU51bWJlcjogZW5kLmxpbmVOdW1iZXIsCiAgICAgICAgICBlbmRDb2x1bW46IGVuZC5jb2x1bW4KICAgICAgICB9OwogICAgICB9CiAgICAgIHJldHVybiByYW5nZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfdmFsaWRhdGVQb3NpdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3ZhbGlkYXRlUG9zaXRpb24ocG9zaXRpb24pIHsKICAgICAgaWYgKCFQb3NpdGlvbi5pc0lQb3NpdGlvbihwb3NpdGlvbikpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBwb3NpdGlvbicpOwogICAgICB9CiAgICAgIHZhciBsaW5lTnVtYmVyID0gcG9zaXRpb24ubGluZU51bWJlciwKICAgICAgICBjb2x1bW4gPSBwb3NpdGlvbi5jb2x1bW47CiAgICAgIHZhciBoYXNDaGFuZ2VkID0gZmFsc2U7CiAgICAgIGlmIChsaW5lTnVtYmVyIDwgMSkgewogICAgICAgIGxpbmVOdW1iZXIgPSAxOwogICAgICAgIGNvbHVtbiA9IDE7CiAgICAgICAgaGFzQ2hhbmdlZCA9IHRydWU7CiAgICAgIH0gZWxzZSBpZiAobGluZU51bWJlciA+IHRoaXMuX2xpbmVzLmxlbmd0aCkgewogICAgICAgIGxpbmVOdW1iZXIgPSB0aGlzLl9saW5lcy5sZW5ndGg7CiAgICAgICAgY29sdW1uID0gdGhpcy5fbGluZXNbbGluZU51bWJlciAtIDFdLmxlbmd0aCArIDE7CiAgICAgICAgaGFzQ2hhbmdlZCA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIG1heENoYXJhY3RlciA9IHRoaXMuX2xpbmVzW2xpbmVOdW1iZXIgLSAxXS5sZW5ndGggKyAxOwogICAgICAgIGlmIChjb2x1bW4gPCAxKSB7CiAgICAgICAgICBjb2x1bW4gPSAxOwogICAgICAgICAgaGFzQ2hhbmdlZCA9IHRydWU7CiAgICAgICAgfSBlbHNlIGlmIChjb2x1bW4gPiBtYXhDaGFyYWN0ZXIpIHsKICAgICAgICAgIGNvbHVtbiA9IG1heENoYXJhY3RlcjsKICAgICAgICAgIGhhc0NoYW5nZWQgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIWhhc0NoYW5nZWQpIHsKICAgICAgICByZXR1cm4gcG9zaXRpb247CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGxpbmVOdW1iZXI6IGxpbmVOdW1iZXIsCiAgICAgICAgICBjb2x1bW46IGNvbHVtbgogICAgICAgIH07CiAgICAgIH0KICAgIH0KICB9XSk7CiAgcmV0dXJuIE1pcnJvck1vZGVsOwp9KEJhc2VNaXJyb3JNb2RlbCk7Ci8qKgogKiBAaW50ZXJuYWwKICovCmV4cG9ydCB2YXIgRWRpdG9yU2ltcGxlV29ya2VyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBFZGl0b3JTaW1wbGVXb3JrZXIoaG9zdCwgZm9yZWlnbk1vZHVsZUZhY3RvcnkpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFZGl0b3JTaW1wbGVXb3JrZXIpOwogICAgdGhpcy5faG9zdCA9IGhvc3Q7CiAgICB0aGlzLl9tb2RlbHMgPSBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgdGhpcy5fZm9yZWlnbk1vZHVsZUZhY3RvcnkgPSBmb3JlaWduTW9kdWxlRmFjdG9yeTsKICAgIHRoaXMuX2ZvcmVpZ25Nb2R1bGUgPSBudWxsOwogIH0KICBfY3JlYXRlQ2xhc3MoRWRpdG9yU2ltcGxlV29ya2VyLCBbewogICAga2V5OiAiZGlzcG9zZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcG9zZSgpIHsKICAgICAgdGhpcy5fbW9kZWxzID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfZ2V0TW9kZWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRNb2RlbCh1cmkpIHsKICAgICAgcmV0dXJuIHRoaXMuX21vZGVsc1t1cmldOwogICAgfQogIH0sIHsKICAgIGtleTogIl9nZXRNb2RlbHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRNb2RlbHMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBhbGwgPSBbXTsKICAgICAgT2JqZWN0LmtleXModGhpcy5fbW9kZWxzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICByZXR1cm4gYWxsLnB1c2goX3RoaXMuX21vZGVsc1trZXldKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBhbGw7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWNjZXB0TmV3TW9kZWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFjY2VwdE5ld01vZGVsKGRhdGEpIHsKICAgICAgdGhpcy5fbW9kZWxzW2RhdGEudXJsXSA9IG5ldyBNaXJyb3JNb2RlbChVUkkucGFyc2UoZGF0YS51cmwpLCBkYXRhLmxpbmVzLCBkYXRhLkVPTCwgZGF0YS52ZXJzaW9uSWQpOwogICAgfQogIH0sIHsKICAgIGtleTogImFjY2VwdE1vZGVsQ2hhbmdlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWNjZXB0TW9kZWxDaGFuZ2VkKHN0clVSTCwgZSkgewogICAgICBpZiAoIXRoaXMuX21vZGVsc1tzdHJVUkxdKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBtb2RlbCA9IHRoaXMuX21vZGVsc1tzdHJVUkxdOwogICAgICBtb2RlbC5vbkV2ZW50cyhlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhY2NlcHRSZW1vdmVkTW9kZWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFjY2VwdFJlbW92ZWRNb2RlbChzdHJVUkwpIHsKICAgICAgaWYgKCF0aGlzLl9tb2RlbHNbc3RyVVJMXSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBkZWxldGUgdGhpcy5fbW9kZWxzW3N0clVSTF07CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tcHV0ZVVuaWNvZGVIaWdobGlnaHRzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wdXRlVW5pY29kZUhpZ2hsaWdodHModXJsLCBvcHRpb25zLCByYW5nZSkgewogICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIG1vZGVsOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBtb2RlbCA9IHRoaXMuX2dldE1vZGVsKHVybCk7CiAgICAgICAgICAgICAgICBpZiAobW9kZWwpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICAgIHJhbmdlczogW10sCiAgICAgICAgICAgICAgICAgIGhhc01vcmU6IGZhbHNlLAogICAgICAgICAgICAgICAgICBhbWJpZ3VvdXNDaGFyYWN0ZXJDb3VudDogMCwKICAgICAgICAgICAgICAgICAgaW52aXNpYmxlQ2hhcmFjdGVyQ291bnQ6IDAsCiAgICAgICAgICAgICAgICAgIG5vbkJhc2ljQXNjaWlDaGFyYWN0ZXJDb3VudDogMAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIFVuaWNvZGVUZXh0TW9kZWxIaWdobGlnaHRlci5jb21wdXRlVW5pY29kZUhpZ2hsaWdodHMobW9kZWwsIG9wdGlvbnMsIHJhbmdlKSk7CiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwogICAgfQogICAgLy8gLS0tLSBCRUdJTiBkaWZmIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgfSwgewogICAga2V5OiAiY29tcHV0ZURpZmYiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXB1dGVEaWZmKG9yaWdpbmFsVXJsLCBtb2RpZmllZFVybCwgaWdub3JlVHJpbVdoaXRlc3BhY2UsIG1heENvbXB1dGF0aW9uVGltZSkgewogICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIG9yaWdpbmFsLCBtb2RpZmllZDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgb3JpZ2luYWwgPSB0aGlzLl9nZXRNb2RlbChvcmlnaW5hbFVybCk7CiAgICAgICAgICAgICAgICBtb2RpZmllZCA9IHRoaXMuX2dldE1vZGVsKG1vZGlmaWVkVXJsKTsKICAgICAgICAgICAgICAgIGlmICghKCFvcmlnaW5hbCB8fCAhbW9kaWZpZWQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgbnVsbCk7CiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIEVkaXRvclNpbXBsZVdvcmtlci5jb21wdXRlRGlmZihvcmlnaW5hbCwgbW9kaWZpZWQsIGlnbm9yZVRyaW1XaGl0ZXNwYWNlLCBtYXhDb21wdXRhdGlvblRpbWUpKTsKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpOwogICAgICB9KSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tcHV0ZU1vcmVNaW5pbWFsRWRpdHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXB1dGVNb3JlTWluaW1hbEVkaXRzKG1vZGVsVXJsLCBlZGl0cykgewogICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIG1vZGVsLCByZXN1bHQsIGxhc3RFb2wsIF9pdGVyYXRvcjIsIF9zdGVwMiwgX3N0ZXAyJHZhbHVlLCByYW5nZSwgdGV4dCwgZW9sLCBvcmlnaW5hbCwgY2hhbmdlcywgZWRpdE9mZnNldCwgX2l0ZXJhdG9yMywgX3N0ZXAzLCBjaGFuZ2UsIHN0YXJ0LCBlbmQsIG5ld0VkaXQ7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG1vZGVsID0gdGhpcy5fZ2V0TW9kZWwobW9kZWxVcmwpOwogICAgICAgICAgICAgICAgaWYgKG1vZGVsKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgZWRpdHMpOwogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdOwogICAgICAgICAgICAgICAgbGFzdEVvbCA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIGVkaXRzID0gZWRpdHMuc2xpY2UoMCkuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgICAgICAgICBpZiAoYS5yYW5nZSAmJiBiLnJhbmdlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJhbmdlLmNvbXBhcmVSYW5nZXNVc2luZ1N0YXJ0cyhhLnJhbmdlLCBiLnJhbmdlKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAvLyBlb2wgb25seSBjaGFuZ2VzIHNob3VsZCBnbyB0byB0aGUgZW5kCiAgICAgICAgICAgICAgICAgIHZhciBhUm5nID0gYS5yYW5nZSA/IDAgOiAxOwogICAgICAgICAgICAgICAgICB2YXIgYlJuZyA9IGIucmFuZ2UgPyAwIDogMTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGFSbmcgLSBiUm5nOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZWRpdHMpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5zKCk7CiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgaWYgKChfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF9zdGVwMiR2YWx1ZSA9IF9zdGVwMi52YWx1ZSwgcmFuZ2UgPSBfc3RlcDIkdmFsdWUucmFuZ2UsIHRleHQgPSBfc3RlcDIkdmFsdWUudGV4dCwgZW9sID0gX3N0ZXAyJHZhbHVlLmVvbDsKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZW9sID09PSAnbnVtYmVyJykgewogICAgICAgICAgICAgICAgICBsYXN0RW9sID0gZW9sOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCEoUmFuZ2UuaXNFbXB0eShyYW5nZSkgJiYgIXRleHQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoImNvbnRpbnVlIiwgMjUpOwogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBvcmlnaW5hbCA9IG1vZGVsLmdldFZhbHVlSW5SYW5nZShyYW5nZSk7CiAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cclxufFxufFxyL2csIG1vZGVsLmVvbCk7CiAgICAgICAgICAgICAgICBpZiAoIShvcmlnaW5hbCA9PT0gdGV4dCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgiY29udGludWUiLCAyNSk7CiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIGlmICghKE1hdGgubWF4KHRleHQubGVuZ3RoLCBvcmlnaW5hbC5sZW5ndGgpID4gRWRpdG9yU2ltcGxlV29ya2VyLl9kaWZmTGltaXQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goewogICAgICAgICAgICAgICAgICByYW5nZTogcmFuZ2UsCiAgICAgICAgICAgICAgICAgIHRleHQ6IHRleHQKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoImNvbnRpbnVlIiwgMjUpOwogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICAvLyBjb21wdXRlIGRpZmYgYmV0d2VlbiBvcmlnaW5hbCBhbmQgZWRpdC50ZXh0CiAgICAgICAgICAgICAgICBjaGFuZ2VzID0gc3RyaW5nRGlmZihvcmlnaW5hbCwgdGV4dCwgZmFsc2UpOwogICAgICAgICAgICAgICAgZWRpdE9mZnNldCA9IG1vZGVsLm9mZnNldEF0KFJhbmdlLmxpZnQocmFuZ2UpLmdldFN0YXJ0UG9zaXRpb24oKSk7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoY2hhbmdlcyk7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICAgIGNoYW5nZSA9IF9zdGVwMy52YWx1ZTsKICAgICAgICAgICAgICAgICAgICBzdGFydCA9IG1vZGVsLnBvc2l0aW9uQXQoZWRpdE9mZnNldCArIGNoYW5nZS5vcmlnaW5hbFN0YXJ0KTsKICAgICAgICAgICAgICAgICAgICBlbmQgPSBtb2RlbC5wb3NpdGlvbkF0KGVkaXRPZmZzZXQgKyBjaGFuZ2Uub3JpZ2luYWxTdGFydCArIGNoYW5nZS5vcmlnaW5hbExlbmd0aCk7CiAgICAgICAgICAgICAgICAgICAgbmV3RWRpdCA9IHsKICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHRleHQuc3Vic3RyKGNoYW5nZS5tb2RpZmllZFN0YXJ0LCBjaGFuZ2UubW9kaWZpZWRMZW5ndGgpLAogICAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IHsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRMaW5lTnVtYmVyOiBzdGFydC5saW5lTnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICBzdGFydENvbHVtbjogc3RhcnQuY29sdW1uLAogICAgICAgICAgICAgICAgICAgICAgICBlbmRMaW5lTnVtYmVyOiBlbmQubGluZU51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgZW5kQ29sdW1uOiBlbmQuY29sdW1uCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICBpZiAobW9kZWwuZ2V0VmFsdWVJblJhbmdlKG5ld0VkaXQucmFuZ2UpICE9PSBuZXdFZGl0LnRleHQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ld0VkaXQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMuZShlcnIpOwogICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5mKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDMyOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMjk7CiAgICAgICAgICAgICAgICBfY29udGV4dDQudDAgPSBfY29udGV4dDRbImNhdGNoIl0oNyk7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLmUoX2NvbnRleHQ0LnQwKTsKICAgICAgICAgICAgICBjYXNlIDMyOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAzMjsKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5maW5pc2goMzIpOwogICAgICAgICAgICAgIGNhc2UgMzU6CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGxhc3RFb2wgPT09ICdudW1iZXInKSB7CiAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBlb2w6IGxhc3RFb2wsCiAgICAgICAgICAgICAgICAgICAgdGV4dDogJycsCiAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IHsKICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0TGluZU51bWJlcjogMCwKICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiAwLAogICAgICAgICAgICAgICAgICAgICAgZW5kTGluZU51bWJlcjogMCwKICAgICAgICAgICAgICAgICAgICAgIGVuZENvbHVtbjogMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKICAgICAgICAgICAgICBjYXNlIDM3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0LCB0aGlzLCBbWzcsIDI5LCAzMiwgMzVdXSk7CiAgICAgIH0pKTsKICAgIH0KICAgIC8vIC0tLS0gRU5EIG1pbmltYWwgZWRpdHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgfSwgewogICAga2V5OiAiY29tcHV0ZUxpbmtzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wdXRlTGlua3MobW9kZWxVcmwpIHsKICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciBtb2RlbDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbW9kZWwgPSB0aGlzLl9nZXRNb2RlbChtb2RlbFVybCk7CiAgICAgICAgICAgICAgICBpZiAobW9kZWwpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBudWxsKTsKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgX2NvbXB1dGVMaW5rcyhtb2RlbCkpOwogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSwgdGhpcyk7CiAgICAgIH0pKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0ZXh0dWFsU3VnZ2VzdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdGV4dHVhbFN1Z2dlc3QobW9kZWxVcmxzLCBsZWFkaW5nV29yZCwgd29yZERlZiwgd29yZERlZkZsYWdzKSB7CiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICB2YXIgc3csIHdvcmREZWZSZWdFeHAsIHNlZW4sIF9pdGVyYXRvcjQsIF9zdGVwNCwgdXJsLCBtb2RlbCwgX2l0ZXJhdG9yNSwgX3N0ZXA1LCB3b3JkOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdyA9IG5ldyBTdG9wV2F0Y2godHJ1ZSk7CiAgICAgICAgICAgICAgICB3b3JkRGVmUmVnRXhwID0gbmV3IFJlZ0V4cCh3b3JkRGVmLCB3b3JkRGVmRmxhZ3MpOwogICAgICAgICAgICAgICAgc2VlbiA9IG5ldyBTZXQoKTsKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihtb2RlbFVybHMpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2LnByZXYgPSA0OwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5zKCk7CiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgaWYgKChfc3RlcDQgPSBfaXRlcmF0b3I0Lm4oKSkuZG9uZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDMzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHVybCA9IF9zdGVwNC52YWx1ZTsKICAgICAgICAgICAgICAgIG1vZGVsID0gdGhpcy5fZ2V0TW9kZWwodXJsKTsKICAgICAgICAgICAgICAgIGlmIChtb2RlbCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJjb250aW51ZSIsIDMxKTsKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2l0ZXJhdG9yNSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG1vZGVsLndvcmRzKHdvcmREZWZSZWdFeHApKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5wcmV2ID0gMTI7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3I1LnMoKTsKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgaWYgKChfc3RlcDUgPSBfaXRlcmF0b3I1Lm4oKSkuZG9uZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdvcmQgPSBfc3RlcDUudmFsdWU7CiAgICAgICAgICAgICAgICBpZiAoISh3b3JkID09PSBsZWFkaW5nV29yZCB8fCAhaXNOYU4oTnVtYmVyKHdvcmQpKSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgiY29udGludWUiLCAyMSk7CiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIHNlZW4uYWRkKHdvcmQpOwogICAgICAgICAgICAgICAgaWYgKCEoc2Vlbi5zaXplID4gRWRpdG9yU2ltcGxlV29ya2VyLl9zdWdnZXN0aW9uc0xpbWl0KSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJicmVhayIsIDMzKTsKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI4OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5wcmV2ID0gMjU7CiAgICAgICAgICAgICAgICBfY29udGV4dDYudDAgPSBfY29udGV4dDZbImNhdGNoIl0oMTIpOwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yNS5lKF9jb250ZXh0Ni50MCk7CiAgICAgICAgICAgICAgY2FzZSAyODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5wcmV2ID0gMjg7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3I1LmYoKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuZmluaXNoKDI4KTsKICAgICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgY2FzZSAzMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMzg7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICBjYXNlIDM1OgogICAgICAgICAgICAgICAgX2NvbnRleHQ2LnByZXYgPSAzNTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni50MSA9IF9jb250ZXh0NlsiY2F0Y2giXSg0KTsKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQuZShfY29udGV4dDYudDEpOwogICAgICAgICAgICAgIGNhc2UgMzg6CiAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDM4OwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5mKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmZpbmlzaCgzOCk7CiAgICAgICAgICAgICAgY2FzZSA0MToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICAgIHdvcmRzOiBBcnJheS5mcm9tKHNlZW4pLAogICAgICAgICAgICAgICAgICBkdXJhdGlvbjogc3cuZWxhcHNlZCgpCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjYXNlIDQyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2LCB0aGlzLCBbWzQsIDM1LCAzOCwgNDFdLCBbMTIsIDI1LCAyOCwgMzFdXSk7CiAgICAgIH0pKTsKICAgIH0KICAgIC8vIC0tLS0gRU5EIHN1Z2dlc3QgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vI3JlZ2lvbiAtLSB3b3JkIHJhbmdlcyAtLQogIH0sIHsKICAgIGtleTogImNvbXB1dGVXb3JkUmFuZ2VzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wdXRlV29yZFJhbmdlcyhtb2RlbFVybCwgcmFuZ2UsIHdvcmREZWYsIHdvcmREZWZGbGFncykgewogICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIG1vZGVsLCB3b3JkRGVmUmVnRXhwLCByZXN1bHQsIGxpbmUsIHdvcmRzLCBfaXRlcmF0b3I2LCBfc3RlcDYsIHdvcmQsIGFycmF5OwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBtb2RlbCA9IHRoaXMuX2dldE1vZGVsKG1vZGVsVXJsKTsKICAgICAgICAgICAgICAgIGlmIChtb2RlbCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoInJldHVybiIsIE9iamVjdC5jcmVhdGUobnVsbCkpOwogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHdvcmREZWZSZWdFeHAgPSBuZXcgUmVnRXhwKHdvcmREZWYsIHdvcmREZWZGbGFncyk7CiAgICAgICAgICAgICAgICByZXN1bHQgPSBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgICAgICAgICAgICAgbGluZSA9IHJhbmdlLnN0YXJ0TGluZU51bWJlcjsKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBpZiAoIShsaW5lIDwgcmFuZ2UuZW5kTGluZU51bWJlcikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAzMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB3b3JkcyA9IG1vZGVsLmdldExpbmVXb3JkcyhsaW5lLCB3b3JkRGVmUmVnRXhwKTsKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjYgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih3b3Jkcyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3I2LnMoKTsKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgaWYgKChfc3RlcDYgPSBfaXRlcmF0b3I2Lm4oKSkuZG9uZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdvcmQgPSBfc3RlcDYudmFsdWU7CiAgICAgICAgICAgICAgICBpZiAoaXNOYU4oTnVtYmVyKHdvcmQud29yZCkpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoImNvbnRpbnVlIiwgMTgpOwogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBhcnJheSA9IHJlc3VsdFt3b3JkLndvcmRdOwogICAgICAgICAgICAgICAgaWYgKCFhcnJheSkgewogICAgICAgICAgICAgICAgICBhcnJheSA9IFtdOwogICAgICAgICAgICAgICAgICByZXN1bHRbd29yZC53b3JkXSA9IGFycmF5OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYXJyYXkucHVzaCh7CiAgICAgICAgICAgICAgICAgIHN0YXJ0TGluZU51bWJlcjogbGluZSwKICAgICAgICAgICAgICAgICAgc3RhcnRDb2x1bW46IHdvcmQuc3RhcnRDb2x1bW4sCiAgICAgICAgICAgICAgICAgIGVuZExpbmVOdW1iZXI6IGxpbmUsCiAgICAgICAgICAgICAgICAgIGVuZENvbHVtbjogd29yZC5lbmRDb2x1bW4KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSAyMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny50MCA9IF9jb250ZXh0N1siY2F0Y2giXSg5KTsKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjYuZShfY29udGV4dDcudDApOwogICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDI1OwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yNi5mKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmZpbmlzaCgyNSk7CiAgICAgICAgICAgICAgY2FzZSAyODoKICAgICAgICAgICAgICAgIGxpbmUrKzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIGNhc2UgMzE6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKICAgICAgICAgICAgICBjYXNlIDMyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3LCB0aGlzLCBbWzksIDIyLCAyNSwgMjhdXSk7CiAgICAgIH0pKTsKICAgIH0KICAgIC8vI2VuZHJlZ2lvbgogIH0sIHsKICAgIGtleTogIm5hdmlnYXRlVmFsdWVTZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG5hdmlnYXRlVmFsdWVTZXQobW9kZWxVcmwsIHJhbmdlLCB1cCwgd29yZERlZiwgd29yZERlZkZsYWdzKSB7CiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICB2YXIgbW9kZWwsIHdvcmREZWZSZWdFeHAsIHNlbGVjdGlvblRleHQsIHdvcmRSYW5nZSwgd29yZCwgcmVzdWx0OwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBtb2RlbCA9IHRoaXMuX2dldE1vZGVsKG1vZGVsVXJsKTsKICAgICAgICAgICAgICAgIGlmIChtb2RlbCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoInJldHVybiIsIG51bGwpOwogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHdvcmREZWZSZWdFeHAgPSBuZXcgUmVnRXhwKHdvcmREZWYsIHdvcmREZWZGbGFncyk7CiAgICAgICAgICAgICAgICBpZiAocmFuZ2Uuc3RhcnRDb2x1bW4gPT09IHJhbmdlLmVuZENvbHVtbikgewogICAgICAgICAgICAgICAgICByYW5nZSA9IHsKICAgICAgICAgICAgICAgICAgICBzdGFydExpbmVOdW1iZXI6IHJhbmdlLnN0YXJ0TGluZU51bWJlciwKICAgICAgICAgICAgICAgICAgICBzdGFydENvbHVtbjogcmFuZ2Uuc3RhcnRDb2x1bW4sCiAgICAgICAgICAgICAgICAgICAgZW5kTGluZU51bWJlcjogcmFuZ2UuZW5kTGluZU51bWJlciwKICAgICAgICAgICAgICAgICAgICBlbmRDb2x1bW46IHJhbmdlLmVuZENvbHVtbiArIDEKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHNlbGVjdGlvblRleHQgPSBtb2RlbC5nZXRWYWx1ZUluUmFuZ2UocmFuZ2UpOwogICAgICAgICAgICAgICAgd29yZFJhbmdlID0gbW9kZWwuZ2V0V29yZEF0UG9zaXRpb24oewogICAgICAgICAgICAgICAgICBsaW5lTnVtYmVyOiByYW5nZS5zdGFydExpbmVOdW1iZXIsCiAgICAgICAgICAgICAgICAgIGNvbHVtbjogcmFuZ2Uuc3RhcnRDb2x1bW4KICAgICAgICAgICAgICAgIH0sIHdvcmREZWZSZWdFeHApOwogICAgICAgICAgICAgICAgaWYgKHdvcmRSYW5nZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoInJldHVybiIsIG51bGwpOwogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIHdvcmQgPSBtb2RlbC5nZXRWYWx1ZUluUmFuZ2Uod29yZFJhbmdlKTsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IEJhc2ljSW5wbGFjZVJlcGxhY2UuSU5TVEFOQ0UubmF2aWdhdGVWYWx1ZVNldChyYW5nZSwgc2VsZWN0aW9uVGV4dCwgd29yZFJhbmdlLCB3b3JkLCB1cCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4LCB0aGlzKTsKICAgICAgfSkpOwogICAgfQogICAgLy8gLS0tLSBCRUdJTiBmb3JlaWduIG1vZHVsZSBzdXBwb3J0IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgfSwgewogICAga2V5OiAibG9hZEZvcmVpZ25Nb2R1bGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRGb3JlaWduTW9kdWxlKG1vZHVsZUlkLCBjcmVhdGVEYXRhLCBmb3JlaWduSG9zdE1ldGhvZHMpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHZhciBwcm94eU1ldGhvZFJlcXVlc3QgPSBmdW5jdGlvbiBwcm94eU1ldGhvZFJlcXVlc3QobWV0aG9kLCBhcmdzKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMi5faG9zdC5maHIobWV0aG9kLCBhcmdzKTsKICAgICAgfTsKICAgICAgdmFyIGZvcmVpZ25Ib3N0ID0gdHlwZXMuY3JlYXRlUHJveHlPYmplY3QoZm9yZWlnbkhvc3RNZXRob2RzLCBwcm94eU1ldGhvZFJlcXVlc3QpOwogICAgICB2YXIgY3R4ID0gewogICAgICAgIGhvc3Q6IGZvcmVpZ25Ib3N0LAogICAgICAgIGdldE1pcnJvck1vZGVsczogZnVuY3Rpb24gZ2V0TWlycm9yTW9kZWxzKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzMi5fZ2V0TW9kZWxzKCk7CiAgICAgICAgfQogICAgICB9OwogICAgICBpZiAodGhpcy5fZm9yZWlnbk1vZHVsZUZhY3RvcnkpIHsKICAgICAgICB0aGlzLl9mb3JlaWduTW9kdWxlID0gdGhpcy5fZm9yZWlnbk1vZHVsZUZhY3RvcnkoY3R4LCBjcmVhdGVEYXRhKTsKICAgICAgICAvLyBzdGF0aWMgZm9yZWluZyBtb2R1bGUKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHR5cGVzLmdldEFsbE1ldGhvZE5hbWVzKHRoaXMuX2ZvcmVpZ25Nb2R1bGUpKTsKICAgICAgfQogICAgICAvLyBFU00tY29tbWVudC1iZWdpbgogICAgICAvLyAJCXJldHVybiBuZXcgUHJvbWlzZTxhbnk+KChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgLy8gCQkJcmVxdWlyZShbbW9kdWxlSWRdLCAoZm9yZWlnbk1vZHVsZTogeyBjcmVhdGU6IElGb3JlaWduTW9kdWxlRmFjdG9yeSB9KSA9PiB7CiAgICAgIC8vIAkJCQl0aGlzLl9mb3JlaWduTW9kdWxlID0gZm9yZWlnbk1vZHVsZS5jcmVhdGUoY3R4LCBjcmVhdGVEYXRhKTsKICAgICAgLy8gCiAgICAgIC8vIAkJCQlyZXNvbHZlKHR5cGVzLmdldEFsbE1ldGhvZE5hbWVzKHRoaXMuX2ZvcmVpZ25Nb2R1bGUpKTsKICAgICAgLy8gCiAgICAgIC8vIAkJCX0sIHJlamVjdCk7CiAgICAgIC8vIAkJfSk7CiAgICAgIC8vIEVTTS1jb21tZW50LWVuZAogICAgICAvLyBFU00tdW5jb21tZW50LWJlZ2luCiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoIlVuZXhwZWN0ZWQgdXNhZ2UiKSk7CiAgICAgIC8vIEVTTS11bmNvbW1lbnQtZW5kCiAgICB9CiAgICAvLyBmb3JlaWduIG1ldGhvZCByZXF1ZXN0CiAgfSwgewogICAga2V5OiAiZm1yIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmbXIobWV0aG9kLCBhcmdzKSB7CiAgICAgIGlmICghdGhpcy5fZm9yZWlnbk1vZHVsZSB8fCB0eXBlb2YgdGhpcy5fZm9yZWlnbk1vZHVsZVttZXRob2RdICE9PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignTWlzc2luZyByZXF1ZXN0SGFuZGxlciBvciBtZXRob2Q6ICcgKyBtZXRob2QpKTsKICAgICAgfQogICAgICB0cnkgewogICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fZm9yZWlnbk1vZHVsZVttZXRob2RdLmFwcGx5KHRoaXMuX2ZvcmVpZ25Nb2R1bGUsIGFyZ3MpKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTsKICAgICAgfQogICAgfQogIH1dLCBbewogICAga2V5OiAiY29tcHV0ZURpZmYiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXB1dGVEaWZmKG9yaWdpbmFsVGV4dE1vZGVsLCBtb2RpZmllZFRleHRNb2RlbCwgaWdub3JlVHJpbVdoaXRlc3BhY2UsIG1heENvbXB1dGF0aW9uVGltZSkgewogICAgICB2YXIgb3JpZ2luYWxMaW5lcyA9IG9yaWdpbmFsVGV4dE1vZGVsLmdldExpbmVzQ29udGVudCgpOwogICAgICB2YXIgbW9kaWZpZWRMaW5lcyA9IG1vZGlmaWVkVGV4dE1vZGVsLmdldExpbmVzQ29udGVudCgpOwogICAgICB2YXIgZGlmZkNvbXB1dGVyID0gbmV3IERpZmZDb21wdXRlcihvcmlnaW5hbExpbmVzLCBtb2RpZmllZExpbmVzLCB7CiAgICAgICAgc2hvdWxkQ29tcHV0ZUNoYXJDaGFuZ2VzOiB0cnVlLAogICAgICAgIHNob3VsZFBvc3RQcm9jZXNzQ2hhckNoYW5nZXM6IHRydWUsCiAgICAgICAgc2hvdWxkSWdub3JlVHJpbVdoaXRlc3BhY2U6IGlnbm9yZVRyaW1XaGl0ZXNwYWNlLAogICAgICAgIHNob3VsZE1ha2VQcmV0dHlEaWZmOiB0cnVlLAogICAgICAgIG1heENvbXB1dGF0aW9uVGltZTogbWF4Q29tcHV0YXRpb25UaW1lCiAgICAgIH0pOwogICAgICB2YXIgZGlmZlJlc3VsdCA9IGRpZmZDb21wdXRlci5jb21wdXRlRGlmZigpOwogICAgICB2YXIgaWRlbnRpY2FsID0gZGlmZlJlc3VsdC5jaGFuZ2VzLmxlbmd0aCA+IDAgPyBmYWxzZSA6IHRoaXMuX21vZGVsc0FyZUlkZW50aWNhbChvcmlnaW5hbFRleHRNb2RlbCwgbW9kaWZpZWRUZXh0TW9kZWwpOwogICAgICByZXR1cm4gewogICAgICAgIHF1aXRFYXJseTogZGlmZlJlc3VsdC5xdWl0RWFybHksCiAgICAgICAgaWRlbnRpY2FsOiBpZGVudGljYWwsCiAgICAgICAgY2hhbmdlczogZGlmZlJlc3VsdC5jaGFuZ2VzCiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAiX21vZGVsc0FyZUlkZW50aWNhbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX21vZGVsc0FyZUlkZW50aWNhbChvcmlnaW5hbCwgbW9kaWZpZWQpIHsKICAgICAgdmFyIG9yaWdpbmFsTGluZUNvdW50ID0gb3JpZ2luYWwuZ2V0TGluZUNvdW50KCk7CiAgICAgIHZhciBtb2RpZmllZExpbmVDb3VudCA9IG1vZGlmaWVkLmdldExpbmVDb3VudCgpOwogICAgICBpZiAob3JpZ2luYWxMaW5lQ291bnQgIT09IG1vZGlmaWVkTGluZUNvdW50KSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGZvciAodmFyIGxpbmUgPSAxOyBsaW5lIDw9IG9yaWdpbmFsTGluZUNvdW50OyBsaW5lKyspIHsKICAgICAgICB2YXIgb3JpZ2luYWxMaW5lID0gb3JpZ2luYWwuZ2V0TGluZUNvbnRlbnQobGluZSk7CiAgICAgICAgdmFyIG1vZGlmaWVkTGluZSA9IG1vZGlmaWVkLmdldExpbmVDb250ZW50KGxpbmUpOwogICAgICAgIGlmIChvcmlnaW5hbExpbmUgIT09IG1vZGlmaWVkTGluZSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIEVkaXRvclNpbXBsZVdvcmtlcjsKfSgpOwovLyAtLS0tIEVORCBkaWZmIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIC0tLS0gQkVHSU4gbWluaW1hbCBlZGl0cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KRWRpdG9yU2ltcGxlV29ya2VyLl9kaWZmTGltaXQgPSAxMDAwMDA7Ci8vIC0tLS0gQkVHSU4gc3VnZ2VzdCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpFZGl0b3JTaW1wbGVXb3JrZXIuX3N1Z2dlc3Rpb25zTGltaXQgPSAxMDAwMDsKLyoqCiAqIENhbGxlZCBvbiB0aGUgd29ya2VyIHNpZGUKICogQGludGVybmFsCiAqLwpleHBvcnQgZnVuY3Rpb24gY3JlYXRlKGhvc3QpIHsKICByZXR1cm4gbmV3IEVkaXRvclNpbXBsZVdvcmtlcihob3N0LCBudWxsKTsKfQppZiAodHlwZW9mIGltcG9ydFNjcmlwdHMgPT09ICdmdW5jdGlvbicpIHsKICAvLyBSdW5uaW5nIGluIGEgd2ViIHdvcmtlcgogIGdsb2JhbHMubW9uYWNvID0gY3JlYXRlTW9uYWNvQmFzZUFQSSgpOwp9"},{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","stringDiff","globals","URI","Position","Range","DiffComputer","MirrorTextModel","BaseMirrorModel","ensureValidWordDefinition","getWordAtText","computeLinks","BasicInplaceReplace","createMonacoBaseAPI","types","StopWatch","UnicodeTextModelHighlighter","MirrorModel","_uri","_eol","getText","_lines","slice","length","lineNumber","position","wordDefinition","wordAtText","column","startColumn","endColumn","lines","wordenize","_wordenize","bind","lineText","wordRangesIdx","wordRanges","Symbol","iterator","substring","start","end","content","ranges","words","range","push","word","match","lastIndex","exec","index","_validateRange","startLineNumber","endLineNumber","lineEnding","startLineIndex","endLineIndex","resultLines","i","join","_validatePosition","_ensureLineStarts","_lineStarts","getPrefixSum","offset","Math","floor","max","out","getIndexOf","lineLength","min","remainder","isIPosition","Error","hasChanged","maxCharacter","EditorSimpleWorker","host","foreignModuleFactory","_host","_models","Object","create","_foreignModuleFactory","_foreignModule","uri","all","keys","forEach","key","data","url","parse","EOL","versionId","strURL","model","onEvents","options","_getModel","hasMore","ambiguousCharacterCount","invisibleCharacterCount","nonBasicAsciiCharacterCount","computeUnicodeHighlights","originalUrl","modifiedUrl","ignoreTrimWhitespace","maxComputationTime","original","modified","computeDiff","modelUrl","edits","lastEol","undefined","sort","a","b","compareRangesUsingStarts","aRng","bRng","text","eol","isEmpty","getValueInRange","replace","_diffLimit","changes","editOffset","offsetAt","lift","getStartPosition","change","positionAt","originalStart","originalLength","newEdit","substr","modifiedStart","modifiedLength","modelUrls","leadingWord","wordDef","wordDefFlags","sw","wordDefRegExp","RegExp","seen","Set","isNaN","Number","add","size","_suggestionsLimit","Array","from","duration","elapsed","line","getLineWords","array","up","selectionText","wordRange","getWordAtPosition","INSTANCE","navigateValueSet","moduleId","createData","foreignHostMethods","proxyMethodRequest","method","args","fhr","foreignHost","createProxyObject","ctx","getMirrorModels","_getModels","getAllMethodNames","originalTextModel","modifiedTextModel","originalLines","getLinesContent","modifiedLines","diffComputer","shouldComputeCharChanges","shouldPostProcessCharChanges","shouldIgnoreTrimWhitespace","shouldMakePrettyDiff","diffResult","identical","_modelsAreIdentical","quitEarly","originalLineCount","getLineCount","modifiedLineCount","originalLine","getLineContent","modifiedLine","importScripts","monaco"],"sources":["/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { stringDiff } from '../../../base/common/diff/diff.js';\nimport { globals } from '../../../base/common/platform.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { Position } from '../core/position.js';\nimport { Range } from '../core/range.js';\nimport { DiffComputer } from '../diff/diffComputer.js';\nimport { MirrorTextModel as BaseMirrorModel } from '../model/mirrorTextModel.js';\nimport { ensureValidWordDefinition, getWordAtText } from '../core/wordHelper.js';\nimport { computeLinks } from '../languages/linkComputer.js';\nimport { BasicInplaceReplace } from '../languages/supports/inplaceReplaceSupport.js';\nimport { createMonacoBaseAPI } from './editorBaseApi.js';\nimport * as types from '../../../base/common/types.js';\nimport { StopWatch } from '../../../base/common/stopwatch.js';\nimport { UnicodeTextModelHighlighter } from './unicodeTextModelHighlighter.js';\n/**\n * @internal\n */\nexport class MirrorModel extends BaseMirrorModel {\n    get uri() {\n        return this._uri;\n    }\n    get eol() {\n        return this._eol;\n    }\n    getValue() {\n        return this.getText();\n    }\n    getLinesContent() {\n        return this._lines.slice(0);\n    }\n    getLineCount() {\n        return this._lines.length;\n    }\n    getLineContent(lineNumber) {\n        return this._lines[lineNumber - 1];\n    }\n    getWordAtPosition(position, wordDefinition) {\n        const wordAtText = getWordAtText(position.column, ensureValidWordDefinition(wordDefinition), this._lines[position.lineNumber - 1], 0);\n        if (wordAtText) {\n            return new Range(position.lineNumber, wordAtText.startColumn, position.lineNumber, wordAtText.endColumn);\n        }\n        return null;\n    }\n    words(wordDefinition) {\n        const lines = this._lines;\n        const wordenize = this._wordenize.bind(this);\n        let lineNumber = 0;\n        let lineText = '';\n        let wordRangesIdx = 0;\n        let wordRanges = [];\n        return {\n            *[Symbol.iterator]() {\n                while (true) {\n                    if (wordRangesIdx < wordRanges.length) {\n                        const value = lineText.substring(wordRanges[wordRangesIdx].start, wordRanges[wordRangesIdx].end);\n                        wordRangesIdx += 1;\n                        yield value;\n                    }\n                    else {\n                        if (lineNumber < lines.length) {\n                            lineText = lines[lineNumber];\n                            wordRanges = wordenize(lineText, wordDefinition);\n                            wordRangesIdx = 0;\n                            lineNumber += 1;\n                        }\n                        else {\n                            break;\n                        }\n                    }\n                }\n            }\n        };\n    }\n    getLineWords(lineNumber, wordDefinition) {\n        const content = this._lines[lineNumber - 1];\n        const ranges = this._wordenize(content, wordDefinition);\n        const words = [];\n        for (const range of ranges) {\n            words.push({\n                word: content.substring(range.start, range.end),\n                startColumn: range.start + 1,\n                endColumn: range.end + 1\n            });\n        }\n        return words;\n    }\n    _wordenize(content, wordDefinition) {\n        const result = [];\n        let match;\n        wordDefinition.lastIndex = 0; // reset lastIndex just to be sure\n        while (match = wordDefinition.exec(content)) {\n            if (match[0].length === 0) {\n                // it did match the empty string\n                break;\n            }\n            result.push({ start: match.index, end: match.index + match[0].length });\n        }\n        return result;\n    }\n    getValueInRange(range) {\n        range = this._validateRange(range);\n        if (range.startLineNumber === range.endLineNumber) {\n            return this._lines[range.startLineNumber - 1].substring(range.startColumn - 1, range.endColumn - 1);\n        }\n        const lineEnding = this._eol;\n        const startLineIndex = range.startLineNumber - 1;\n        const endLineIndex = range.endLineNumber - 1;\n        const resultLines = [];\n        resultLines.push(this._lines[startLineIndex].substring(range.startColumn - 1));\n        for (let i = startLineIndex + 1; i < endLineIndex; i++) {\n            resultLines.push(this._lines[i]);\n        }\n        resultLines.push(this._lines[endLineIndex].substring(0, range.endColumn - 1));\n        return resultLines.join(lineEnding);\n    }\n    offsetAt(position) {\n        position = this._validatePosition(position);\n        this._ensureLineStarts();\n        return this._lineStarts.getPrefixSum(position.lineNumber - 2) + (position.column - 1);\n    }\n    positionAt(offset) {\n        offset = Math.floor(offset);\n        offset = Math.max(0, offset);\n        this._ensureLineStarts();\n        const out = this._lineStarts.getIndexOf(offset);\n        const lineLength = this._lines[out.index].length;\n        // Ensure we return a valid position\n        return {\n            lineNumber: 1 + out.index,\n            column: 1 + Math.min(out.remainder, lineLength)\n        };\n    }\n    _validateRange(range) {\n        const start = this._validatePosition({ lineNumber: range.startLineNumber, column: range.startColumn });\n        const end = this._validatePosition({ lineNumber: range.endLineNumber, column: range.endColumn });\n        if (start.lineNumber !== range.startLineNumber\n            || start.column !== range.startColumn\n            || end.lineNumber !== range.endLineNumber\n            || end.column !== range.endColumn) {\n            return {\n                startLineNumber: start.lineNumber,\n                startColumn: start.column,\n                endLineNumber: end.lineNumber,\n                endColumn: end.column\n            };\n        }\n        return range;\n    }\n    _validatePosition(position) {\n        if (!Position.isIPosition(position)) {\n            throw new Error('bad position');\n        }\n        let { lineNumber, column } = position;\n        let hasChanged = false;\n        if (lineNumber < 1) {\n            lineNumber = 1;\n            column = 1;\n            hasChanged = true;\n        }\n        else if (lineNumber > this._lines.length) {\n            lineNumber = this._lines.length;\n            column = this._lines[lineNumber - 1].length + 1;\n            hasChanged = true;\n        }\n        else {\n            const maxCharacter = this._lines[lineNumber - 1].length + 1;\n            if (column < 1) {\n                column = 1;\n                hasChanged = true;\n            }\n            else if (column > maxCharacter) {\n                column = maxCharacter;\n                hasChanged = true;\n            }\n        }\n        if (!hasChanged) {\n            return position;\n        }\n        else {\n            return { lineNumber, column };\n        }\n    }\n}\n/**\n * @internal\n */\nexport class EditorSimpleWorker {\n    constructor(host, foreignModuleFactory) {\n        this._host = host;\n        this._models = Object.create(null);\n        this._foreignModuleFactory = foreignModuleFactory;\n        this._foreignModule = null;\n    }\n    dispose() {\n        this._models = Object.create(null);\n    }\n    _getModel(uri) {\n        return this._models[uri];\n    }\n    _getModels() {\n        const all = [];\n        Object.keys(this._models).forEach((key) => all.push(this._models[key]));\n        return all;\n    }\n    acceptNewModel(data) {\n        this._models[data.url] = new MirrorModel(URI.parse(data.url), data.lines, data.EOL, data.versionId);\n    }\n    acceptModelChanged(strURL, e) {\n        if (!this._models[strURL]) {\n            return;\n        }\n        const model = this._models[strURL];\n        model.onEvents(e);\n    }\n    acceptRemovedModel(strURL) {\n        if (!this._models[strURL]) {\n            return;\n        }\n        delete this._models[strURL];\n    }\n    computeUnicodeHighlights(url, options, range) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const model = this._getModel(url);\n            if (!model) {\n                return { ranges: [], hasMore: false, ambiguousCharacterCount: 0, invisibleCharacterCount: 0, nonBasicAsciiCharacterCount: 0 };\n            }\n            return UnicodeTextModelHighlighter.computeUnicodeHighlights(model, options, range);\n        });\n    }\n    // ---- BEGIN diff --------------------------------------------------------------------------\n    computeDiff(originalUrl, modifiedUrl, ignoreTrimWhitespace, maxComputationTime) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const original = this._getModel(originalUrl);\n            const modified = this._getModel(modifiedUrl);\n            if (!original || !modified) {\n                return null;\n            }\n            return EditorSimpleWorker.computeDiff(original, modified, ignoreTrimWhitespace, maxComputationTime);\n        });\n    }\n    static computeDiff(originalTextModel, modifiedTextModel, ignoreTrimWhitespace, maxComputationTime) {\n        const originalLines = originalTextModel.getLinesContent();\n        const modifiedLines = modifiedTextModel.getLinesContent();\n        const diffComputer = new DiffComputer(originalLines, modifiedLines, {\n            shouldComputeCharChanges: true,\n            shouldPostProcessCharChanges: true,\n            shouldIgnoreTrimWhitespace: ignoreTrimWhitespace,\n            shouldMakePrettyDiff: true,\n            maxComputationTime: maxComputationTime\n        });\n        const diffResult = diffComputer.computeDiff();\n        const identical = (diffResult.changes.length > 0 ? false : this._modelsAreIdentical(originalTextModel, modifiedTextModel));\n        return {\n            quitEarly: diffResult.quitEarly,\n            identical: identical,\n            changes: diffResult.changes\n        };\n    }\n    static _modelsAreIdentical(original, modified) {\n        const originalLineCount = original.getLineCount();\n        const modifiedLineCount = modified.getLineCount();\n        if (originalLineCount !== modifiedLineCount) {\n            return false;\n        }\n        for (let line = 1; line <= originalLineCount; line++) {\n            const originalLine = original.getLineContent(line);\n            const modifiedLine = modified.getLineContent(line);\n            if (originalLine !== modifiedLine) {\n                return false;\n            }\n        }\n        return true;\n    }\n    computeMoreMinimalEdits(modelUrl, edits) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const model = this._getModel(modelUrl);\n            if (!model) {\n                return edits;\n            }\n            const result = [];\n            let lastEol = undefined;\n            edits = edits.slice(0).sort((a, b) => {\n                if (a.range && b.range) {\n                    return Range.compareRangesUsingStarts(a.range, b.range);\n                }\n                // eol only changes should go to the end\n                const aRng = a.range ? 0 : 1;\n                const bRng = b.range ? 0 : 1;\n                return aRng - bRng;\n            });\n            for (let { range, text, eol } of edits) {\n                if (typeof eol === 'number') {\n                    lastEol = eol;\n                }\n                if (Range.isEmpty(range) && !text) {\n                    // empty change\n                    continue;\n                }\n                const original = model.getValueInRange(range);\n                text = text.replace(/\\r\\n|\\n|\\r/g, model.eol);\n                if (original === text) {\n                    // noop\n                    continue;\n                }\n                // make sure diff won't take too long\n                if (Math.max(text.length, original.length) > EditorSimpleWorker._diffLimit) {\n                    result.push({ range, text });\n                    continue;\n                }\n                // compute diff between original and edit.text\n                const changes = stringDiff(original, text, false);\n                const editOffset = model.offsetAt(Range.lift(range).getStartPosition());\n                for (const change of changes) {\n                    const start = model.positionAt(editOffset + change.originalStart);\n                    const end = model.positionAt(editOffset + change.originalStart + change.originalLength);\n                    const newEdit = {\n                        text: text.substr(change.modifiedStart, change.modifiedLength),\n                        range: { startLineNumber: start.lineNumber, startColumn: start.column, endLineNumber: end.lineNumber, endColumn: end.column }\n                    };\n                    if (model.getValueInRange(newEdit.range) !== newEdit.text) {\n                        result.push(newEdit);\n                    }\n                }\n            }\n            if (typeof lastEol === 'number') {\n                result.push({ eol: lastEol, text: '', range: { startLineNumber: 0, startColumn: 0, endLineNumber: 0, endColumn: 0 } });\n            }\n            return result;\n        });\n    }\n    // ---- END minimal edits ---------------------------------------------------------------\n    computeLinks(modelUrl) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const model = this._getModel(modelUrl);\n            if (!model) {\n                return null;\n            }\n            return computeLinks(model);\n        });\n    }\n    textualSuggest(modelUrls, leadingWord, wordDef, wordDefFlags) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const sw = new StopWatch(true);\n            const wordDefRegExp = new RegExp(wordDef, wordDefFlags);\n            const seen = new Set();\n            outer: for (const url of modelUrls) {\n                const model = this._getModel(url);\n                if (!model) {\n                    continue;\n                }\n                for (const word of model.words(wordDefRegExp)) {\n                    if (word === leadingWord || !isNaN(Number(word))) {\n                        continue;\n                    }\n                    seen.add(word);\n                    if (seen.size > EditorSimpleWorker._suggestionsLimit) {\n                        break outer;\n                    }\n                }\n            }\n            return { words: Array.from(seen), duration: sw.elapsed() };\n        });\n    }\n    // ---- END suggest --------------------------------------------------------------------------\n    //#region -- word ranges --\n    computeWordRanges(modelUrl, range, wordDef, wordDefFlags) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const model = this._getModel(modelUrl);\n            if (!model) {\n                return Object.create(null);\n            }\n            const wordDefRegExp = new RegExp(wordDef, wordDefFlags);\n            const result = Object.create(null);\n            for (let line = range.startLineNumber; line < range.endLineNumber; line++) {\n                const words = model.getLineWords(line, wordDefRegExp);\n                for (const word of words) {\n                    if (!isNaN(Number(word.word))) {\n                        continue;\n                    }\n                    let array = result[word.word];\n                    if (!array) {\n                        array = [];\n                        result[word.word] = array;\n                    }\n                    array.push({\n                        startLineNumber: line,\n                        startColumn: word.startColumn,\n                        endLineNumber: line,\n                        endColumn: word.endColumn\n                    });\n                }\n            }\n            return result;\n        });\n    }\n    //#endregion\n    navigateValueSet(modelUrl, range, up, wordDef, wordDefFlags) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const model = this._getModel(modelUrl);\n            if (!model) {\n                return null;\n            }\n            const wordDefRegExp = new RegExp(wordDef, wordDefFlags);\n            if (range.startColumn === range.endColumn) {\n                range = {\n                    startLineNumber: range.startLineNumber,\n                    startColumn: range.startColumn,\n                    endLineNumber: range.endLineNumber,\n                    endColumn: range.endColumn + 1\n                };\n            }\n            const selectionText = model.getValueInRange(range);\n            const wordRange = model.getWordAtPosition({ lineNumber: range.startLineNumber, column: range.startColumn }, wordDefRegExp);\n            if (!wordRange) {\n                return null;\n            }\n            const word = model.getValueInRange(wordRange);\n            const result = BasicInplaceReplace.INSTANCE.navigateValueSet(range, selectionText, wordRange, word, up);\n            return result;\n        });\n    }\n    // ---- BEGIN foreign module support --------------------------------------------------------------------------\n    loadForeignModule(moduleId, createData, foreignHostMethods) {\n        const proxyMethodRequest = (method, args) => {\n            return this._host.fhr(method, args);\n        };\n        const foreignHost = types.createProxyObject(foreignHostMethods, proxyMethodRequest);\n        const ctx = {\n            host: foreignHost,\n            getMirrorModels: () => {\n                return this._getModels();\n            }\n        };\n        if (this._foreignModuleFactory) {\n            this._foreignModule = this._foreignModuleFactory(ctx, createData);\n            // static foreing module\n            return Promise.resolve(types.getAllMethodNames(this._foreignModule));\n        }\n        // ESM-comment-begin\n        // \t\treturn new Promise<any>((resolve, reject) => {\n        // \t\t\trequire([moduleId], (foreignModule: { create: IForeignModuleFactory }) => {\n        // \t\t\t\tthis._foreignModule = foreignModule.create(ctx, createData);\n        // \n        // \t\t\t\tresolve(types.getAllMethodNames(this._foreignModule));\n        // \n        // \t\t\t}, reject);\n        // \t\t});\n        // ESM-comment-end\n        // ESM-uncomment-begin\n        return Promise.reject(new Error(`Unexpected usage`));\n        // ESM-uncomment-end\n    }\n    // foreign method request\n    fmr(method, args) {\n        if (!this._foreignModule || typeof this._foreignModule[method] !== 'function') {\n            return Promise.reject(new Error('Missing requestHandler or method: ' + method));\n        }\n        try {\n            return Promise.resolve(this._foreignModule[method].apply(this._foreignModule, args));\n        }\n        catch (e) {\n            return Promise.reject(e);\n        }\n    }\n}\n// ---- END diff --------------------------------------------------------------------------\n// ---- BEGIN minimal edits ---------------------------------------------------------------\nEditorSimpleWorker._diffLimit = 100000;\n// ---- BEGIN suggest --------------------------------------------------------------------------\nEditorSimpleWorker._suggestionsLimit = 10000;\n/**\n * Called on the worker side\n * @internal\n */\nexport function create(host) {\n    return new EditorSimpleWorker(host, null);\n}\nif (typeof importScripts === 'function') {\n    // Running in a web worker\n    globals.monaco = createMonacoBaseAPI();\n}\n"],"mappings":"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"}]}
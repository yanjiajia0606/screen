{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/languageFeatureRegistry.js","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/languageFeatureRegistry.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiOwovKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLgogKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJy4uLy4uL2Jhc2UvY29tbW9uL2V2ZW50LmpzJzsKaW1wb3J0IHsgdG9EaXNwb3NhYmxlIH0gZnJvbSAnLi4vLi4vYmFzZS9jb21tb24vbGlmZWN5Y2xlLmpzJzsKaW1wb3J0IHsgc2hvdWxkU3luY2hyb25pemVNb2RlbCB9IGZyb20gJy4vbW9kZWwuanMnOwppbXBvcnQgeyBzY29yZSB9IGZyb20gJy4vbGFuZ3VhZ2VTZWxlY3Rvci5qcyc7CmZ1bmN0aW9uIGlzRXhjbHVzaXZlKHNlbGVjdG9yKSB7CiAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gJ3N0cmluZycpIHsKICAgIHJldHVybiBmYWxzZTsKICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc2VsZWN0b3IpKSB7CiAgICByZXR1cm4gc2VsZWN0b3IuZXZlcnkoaXNFeGNsdXNpdmUpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gISFzZWxlY3Rvci5leGNsdXNpdmU7IC8vIFRPRE86IG1pY3Jvc29mdC9UeXBlU2NyaXB0IzQyNzY4CiAgfQp9CnZhciBNYXRjaENhbmRpZGF0ZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gTWF0Y2hDYW5kaWRhdGUodXJpLCBsYW5ndWFnZUlkLCBub3RlYm9va1VyaSwgbm90ZWJvb2tUeXBlKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWF0Y2hDYW5kaWRhdGUpOwogICAgdGhpcy51cmkgPSB1cmk7CiAgICB0aGlzLmxhbmd1YWdlSWQgPSBsYW5ndWFnZUlkOwogICAgdGhpcy5ub3RlYm9va1VyaSA9IG5vdGVib29rVXJpOwogICAgdGhpcy5ub3RlYm9va1R5cGUgPSBub3RlYm9va1R5cGU7CiAgfQogIF9jcmVhdGVDbGFzcyhNYXRjaENhbmRpZGF0ZSwgW3sKICAgIGtleTogImVxdWFscyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZXF1YWxzKG90aGVyKSB7CiAgICAgIHZhciBfYSwgX2I7CiAgICAgIHJldHVybiB0aGlzLm5vdGVib29rVHlwZSA9PT0gb3RoZXIubm90ZWJvb2tUeXBlICYmIHRoaXMubGFuZ3VhZ2VJZCA9PT0gb3RoZXIubGFuZ3VhZ2VJZCAmJiB0aGlzLnVyaS50b1N0cmluZygpID09PSBvdGhlci51cmkudG9TdHJpbmcoKSAmJiAoKF9hID0gdGhpcy5ub3RlYm9va1VyaSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRvU3RyaW5nKCkpID09PSAoKF9iID0gb3RoZXIubm90ZWJvb2tVcmkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi50b1N0cmluZygpKTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIE1hdGNoQ2FuZGlkYXRlOwp9KCk7CmV4cG9ydCB2YXIgTGFuZ3VhZ2VGZWF0dXJlUmVnaXN0cnkgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIExhbmd1YWdlRmVhdHVyZVJlZ2lzdHJ5KF9ub3RlYm9va0luZm9SZXNvbHZlcikgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExhbmd1YWdlRmVhdHVyZVJlZ2lzdHJ5KTsKICAgIHRoaXMuX25vdGVib29rSW5mb1Jlc29sdmVyID0gX25vdGVib29rSW5mb1Jlc29sdmVyOwogICAgdGhpcy5fY2xvY2sgPSAwOwogICAgdGhpcy5fZW50cmllcyA9IFtdOwogICAgdGhpcy5fb25EaWRDaGFuZ2UgPSBuZXcgRW1pdHRlcigpOwogICAgdGhpcy5vbkRpZENoYW5nZSA9IHRoaXMuX29uRGlkQ2hhbmdlLmV2ZW50OwogIH0KICBfY3JlYXRlQ2xhc3MoTGFuZ3VhZ2VGZWF0dXJlUmVnaXN0cnksIFt7CiAgICBrZXk6ICJyZWdpc3RlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVnaXN0ZXIoc2VsZWN0b3IsIHByb3ZpZGVyKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBlbnRyeSA9IHsKICAgICAgICBzZWxlY3Rvcjogc2VsZWN0b3IsCiAgICAgICAgcHJvdmlkZXI6IHByb3ZpZGVyLAogICAgICAgIF9zY29yZTogLTEsCiAgICAgICAgX3RpbWU6IHRoaXMuX2Nsb2NrKysKICAgICAgfTsKICAgICAgdGhpcy5fZW50cmllcy5wdXNoKGVudHJ5KTsKICAgICAgdGhpcy5fbGFzdENhbmRpZGF0ZSA9IHVuZGVmaW5lZDsKICAgICAgdGhpcy5fb25EaWRDaGFuZ2UuZmlyZSh0aGlzLl9lbnRyaWVzLmxlbmd0aCk7CiAgICAgIHJldHVybiB0b0Rpc3Bvc2FibGUoZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChlbnRyeSkgewogICAgICAgICAgdmFyIGlkeCA9IF90aGlzLl9lbnRyaWVzLmluZGV4T2YoZW50cnkpOwogICAgICAgICAgaWYgKGlkeCA+PSAwKSB7CiAgICAgICAgICAgIF90aGlzLl9lbnRyaWVzLnNwbGljZShpZHgsIDEpOwogICAgICAgICAgICBfdGhpcy5fbGFzdENhbmRpZGF0ZSA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgX3RoaXMuX29uRGlkQ2hhbmdlLmZpcmUoX3RoaXMuX2VudHJpZXMubGVuZ3RoKTsKICAgICAgICAgICAgZW50cnkgPSB1bmRlZmluZWQ7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJoYXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhcyhtb2RlbCkgewogICAgICByZXR1cm4gdGhpcy5hbGwobW9kZWwpLmxlbmd0aCA+IDA7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWxsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhbGwobW9kZWwpIHsKICAgICAgaWYgKCFtb2RlbCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgICB0aGlzLl91cGRhdGVTY29yZXMobW9kZWwpOwogICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgIC8vIGZyb20gcmVnaXN0cnkKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuX2VudHJpZXMpLAogICAgICAgIF9zdGVwOwogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgZW50cnkgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIGlmIChlbnRyeS5fc2NvcmUgPiAwKSB7CiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGVudHJ5LnByb3ZpZGVyKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQogIH0sIHsKICAgIGtleTogIm9yZGVyZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9yZGVyZWQobW9kZWwpIHsKICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICB0aGlzLl9vcmRlcmVkRm9yRWFjaChtb2RlbCwgZnVuY3Rpb24gKGVudHJ5KSB7CiAgICAgICAgcmV0dXJuIHJlc3VsdC5wdXNoKGVudHJ5LnByb3ZpZGVyKTsKICAgICAgfSk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgfSwgewogICAga2V5OiAib3JkZXJlZEdyb3VwcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb3JkZXJlZEdyb3Vwcyhtb2RlbCkgewogICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgIHZhciBsYXN0QnVja2V0OwogICAgICB2YXIgbGFzdEJ1Y2tldFNjb3JlOwogICAgICB0aGlzLl9vcmRlcmVkRm9yRWFjaChtb2RlbCwgZnVuY3Rpb24gKGVudHJ5KSB7CiAgICAgICAgaWYgKGxhc3RCdWNrZXQgJiYgbGFzdEJ1Y2tldFNjb3JlID09PSBlbnRyeS5fc2NvcmUpIHsKICAgICAgICAgIGxhc3RCdWNrZXQucHVzaChlbnRyeS5wcm92aWRlcik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxhc3RCdWNrZXRTY29yZSA9IGVudHJ5Ll9zY29yZTsKICAgICAgICAgIGxhc3RCdWNrZXQgPSBbZW50cnkucHJvdmlkZXJdOwogICAgICAgICAgcmVzdWx0LnB1c2gobGFzdEJ1Y2tldCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfb3JkZXJlZEZvckVhY2giLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9vcmRlcmVkRm9yRWFjaChtb2RlbCwgY2FsbGJhY2spIHsKICAgICAgdGhpcy5fdXBkYXRlU2NvcmVzKG1vZGVsKTsKICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLl9lbnRyaWVzKSwKICAgICAgICBfc3RlcDI7CiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBlbnRyeSA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgIGlmIChlbnRyeS5fc2NvcmUgPiAwKSB7CiAgICAgICAgICAgIGNhbGxiYWNrKGVudHJ5KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiX3VwZGF0ZVNjb3JlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZVNjb3Jlcyhtb2RlbCkgewogICAgICB2YXIgX2EsIF9iOwogICAgICB2YXIgbm90ZWJvb2tJbmZvID0gKF9hID0gdGhpcy5fbm90ZWJvb2tJbmZvUmVzb2x2ZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRoaXMsIG1vZGVsLnVyaSk7CiAgICAgIC8vIHVzZSB0aGUgdXJpIChzY2hlbWUsIHBhdHRlcm4pIG9mIHRoZSBub3RlYm9vayBpbmZvIGlmZiB3ZSBoYXZlIG9uZQogICAgICAvLyBvdGhlcndpc2UgaXQncyB0aGUgbW9kZWwncy9kb2N1bWVudCdzIHVyaQogICAgICB2YXIgY2FuZGlkYXRlID0gbm90ZWJvb2tJbmZvID8gbmV3IE1hdGNoQ2FuZGlkYXRlKG1vZGVsLnVyaSwgbW9kZWwuZ2V0TGFuZ3VhZ2VJZCgpLCBub3RlYm9va0luZm8udXJpLCBub3RlYm9va0luZm8udHlwZSkgOiBuZXcgTWF0Y2hDYW5kaWRhdGUobW9kZWwudXJpLCBtb2RlbC5nZXRMYW5ndWFnZUlkKCksIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTsKICAgICAgaWYgKChfYiA9IHRoaXMuX2xhc3RDYW5kaWRhdGUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5lcXVhbHMoY2FuZGlkYXRlKSkgewogICAgICAgIC8vIG5vdGhpbmcgaGFzIGNoYW5nZWQKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5fbGFzdENhbmRpZGF0ZSA9IGNhbmRpZGF0ZTsKICAgICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLl9lbnRyaWVzKSwKICAgICAgICBfc3RlcDM7CiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBlbnRyeSA9IF9zdGVwMy52YWx1ZTsKICAgICAgICAgIGVudHJ5Ll9zY29yZSA9IHNjb3JlKGVudHJ5LnNlbGVjdG9yLCBjYW5kaWRhdGUudXJpLCBjYW5kaWRhdGUubGFuZ3VhZ2VJZCwgc2hvdWxkU3luY2hyb25pemVNb2RlbChtb2RlbCksIGNhbmRpZGF0ZS5ub3RlYm9va1VyaSwgY2FuZGlkYXRlLm5vdGVib29rVHlwZSk7CiAgICAgICAgICBpZiAoaXNFeGNsdXNpdmUoZW50cnkuc2VsZWN0b3IpICYmIGVudHJ5Ll9zY29yZSA+IDApIHsKICAgICAgICAgICAgLy8gc3VwcG9ydCBmb3Igb25lIGV4Y2x1c2l2ZSBzZWxlY3RvciB0aGF0IG92ZXJ3cml0ZXMKICAgICAgICAgICAgLy8gYW55IG90aGVyIHNlbGVjdG9yCiAgICAgICAgICAgIHZhciBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5fZW50cmllcyksCiAgICAgICAgICAgICAgX3N0ZXA0OwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNC5zKCk7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICB2YXIgX2VudHJ5ID0gX3N0ZXA0LnZhbHVlOwogICAgICAgICAgICAgICAgX2VudHJ5Ll9zY29yZSA9IDA7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICBfaXRlcmF0b3I0LmUoZXJyKTsKICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICBfaXRlcmF0b3I0LmYoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbnRyeS5fc2NvcmUgPSAxMDAwOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLy8gbmVlZHMgc29ydGluZwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IzLmYoKTsKICAgICAgfQogICAgICB0aGlzLl9lbnRyaWVzLnNvcnQoTGFuZ3VhZ2VGZWF0dXJlUmVnaXN0cnkuX2NvbXBhcmVCeVNjb3JlQW5kVGltZSk7CiAgICB9CiAgfV0sIFt7CiAgICBrZXk6ICJfY29tcGFyZUJ5U2NvcmVBbmRUaW1lIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfY29tcGFyZUJ5U2NvcmVBbmRUaW1lKGEsIGIpIHsKICAgICAgaWYgKGEuX3Njb3JlIDwgYi5fc2NvcmUpIHsKICAgICAgICByZXR1cm4gMTsKICAgICAgfSBlbHNlIGlmIChhLl9zY29yZSA+IGIuX3Njb3JlKSB7CiAgICAgICAgcmV0dXJuIC0xOwogICAgICB9IGVsc2UgaWYgKGEuX3RpbWUgPCBiLl90aW1lKSB7CiAgICAgICAgcmV0dXJuIDE7CiAgICAgIH0gZWxzZSBpZiAoYS5fdGltZSA+IGIuX3RpbWUpIHsKICAgICAgICByZXR1cm4gLTE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KICAgIH0KICB9XSk7CiAgcmV0dXJuIExhbmd1YWdlRmVhdHVyZVJlZ2lzdHJ5Owp9KCk7"},{"version":3,"names":["Emitter","toDisposable","shouldSynchronizeModel","score","isExclusive","selector","Array","isArray","every","exclusive","MatchCandidate","uri","languageId","notebookUri","notebookType","other","_a","_b","toString","LanguageFeatureRegistry","_notebookInfoResolver","_clock","_entries","_onDidChange","onDidChange","event","provider","entry","_score","_time","push","_lastCandidate","undefined","fire","length","idx","indexOf","splice","model","all","_updateScores","result","_orderedForEach","lastBucket","lastBucketScore","callback","notebookInfo","call","candidate","getLanguageId","type","equals","sort","_compareByScoreAndTime","a","b"],"sources":["/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/languageFeatureRegistry.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../base/common/event.js';\nimport { toDisposable } from '../../base/common/lifecycle.js';\nimport { shouldSynchronizeModel } from './model.js';\nimport { score } from './languageSelector.js';\nfunction isExclusive(selector) {\n    if (typeof selector === 'string') {\n        return false;\n    }\n    else if (Array.isArray(selector)) {\n        return selector.every(isExclusive);\n    }\n    else {\n        return !!selector.exclusive; // TODO: microsoft/TypeScript#42768\n    }\n}\nclass MatchCandidate {\n    constructor(uri, languageId, notebookUri, notebookType) {\n        this.uri = uri;\n        this.languageId = languageId;\n        this.notebookUri = notebookUri;\n        this.notebookType = notebookType;\n    }\n    equals(other) {\n        var _a, _b;\n        return this.notebookType === other.notebookType\n            && this.languageId === other.languageId\n            && this.uri.toString() === other.uri.toString()\n            && ((_a = this.notebookUri) === null || _a === void 0 ? void 0 : _a.toString()) === ((_b = other.notebookUri) === null || _b === void 0 ? void 0 : _b.toString());\n    }\n}\nexport class LanguageFeatureRegistry {\n    constructor(_notebookInfoResolver) {\n        this._notebookInfoResolver = _notebookInfoResolver;\n        this._clock = 0;\n        this._entries = [];\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n    }\n    register(selector, provider) {\n        let entry = {\n            selector,\n            provider,\n            _score: -1,\n            _time: this._clock++\n        };\n        this._entries.push(entry);\n        this._lastCandidate = undefined;\n        this._onDidChange.fire(this._entries.length);\n        return toDisposable(() => {\n            if (entry) {\n                const idx = this._entries.indexOf(entry);\n                if (idx >= 0) {\n                    this._entries.splice(idx, 1);\n                    this._lastCandidate = undefined;\n                    this._onDidChange.fire(this._entries.length);\n                    entry = undefined;\n                }\n            }\n        });\n    }\n    has(model) {\n        return this.all(model).length > 0;\n    }\n    all(model) {\n        if (!model) {\n            return [];\n        }\n        this._updateScores(model);\n        const result = [];\n        // from registry\n        for (const entry of this._entries) {\n            if (entry._score > 0) {\n                result.push(entry.provider);\n            }\n        }\n        return result;\n    }\n    ordered(model) {\n        const result = [];\n        this._orderedForEach(model, entry => result.push(entry.provider));\n        return result;\n    }\n    orderedGroups(model) {\n        const result = [];\n        let lastBucket;\n        let lastBucketScore;\n        this._orderedForEach(model, entry => {\n            if (lastBucket && lastBucketScore === entry._score) {\n                lastBucket.push(entry.provider);\n            }\n            else {\n                lastBucketScore = entry._score;\n                lastBucket = [entry.provider];\n                result.push(lastBucket);\n            }\n        });\n        return result;\n    }\n    _orderedForEach(model, callback) {\n        this._updateScores(model);\n        for (const entry of this._entries) {\n            if (entry._score > 0) {\n                callback(entry);\n            }\n        }\n    }\n    _updateScores(model) {\n        var _a, _b;\n        const notebookInfo = (_a = this._notebookInfoResolver) === null || _a === void 0 ? void 0 : _a.call(this, model.uri);\n        // use the uri (scheme, pattern) of the notebook info iff we have one\n        // otherwise it's the model's/document's uri\n        const candidate = notebookInfo\n            ? new MatchCandidate(model.uri, model.getLanguageId(), notebookInfo.uri, notebookInfo.type)\n            : new MatchCandidate(model.uri, model.getLanguageId(), undefined, undefined);\n        if ((_b = this._lastCandidate) === null || _b === void 0 ? void 0 : _b.equals(candidate)) {\n            // nothing has changed\n            return;\n        }\n        this._lastCandidate = candidate;\n        for (const entry of this._entries) {\n            entry._score = score(entry.selector, candidate.uri, candidate.languageId, shouldSynchronizeModel(model), candidate.notebookUri, candidate.notebookType);\n            if (isExclusive(entry.selector) && entry._score > 0) {\n                // support for one exclusive selector that overwrites\n                // any other selector\n                for (const entry of this._entries) {\n                    entry._score = 0;\n                }\n                entry._score = 1000;\n                break;\n            }\n        }\n        // needs sorting\n        this._entries.sort(LanguageFeatureRegistry._compareByScoreAndTime);\n    }\n    static _compareByScoreAndTime(a, b) {\n        if (a._score < b._score) {\n            return 1;\n        }\n        else if (a._score > b._score) {\n            return -1;\n        }\n        else if (a._time < b._time) {\n            return 1;\n        }\n        else if (a._time > b._time) {\n            return -1;\n        }\n        else {\n            return 0;\n        }\n    }\n}\n"],"mappings":"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"}]}
{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/base/browser/ui/scrollbar/scrollableElement.js","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/base/browser/ui/scrollbar/scrollableElement.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9nZXQgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXQuanMiOwppbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YuanMiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMuanMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIuanMiOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2suanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwovKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLgogKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KaW1wb3J0IHsgZ2V0Wm9vbUZhY3RvciB9IGZyb20gJy4uLy4uL2Jyb3dzZXIuanMnOwppbXBvcnQgKiBhcyBkb20gZnJvbSAnLi4vLi4vZG9tLmpzJzsKaW1wb3J0IHsgY3JlYXRlRmFzdERvbU5vZGUgfSBmcm9tICcuLi8uLi9mYXN0RG9tTm9kZS5qcyc7CmltcG9ydCB7IFN0YW5kYXJkV2hlZWxFdmVudCB9IGZyb20gJy4uLy4uL21vdXNlRXZlbnQuanMnOwppbXBvcnQgeyBIb3Jpem9udGFsU2Nyb2xsYmFyIH0gZnJvbSAnLi9ob3Jpem9udGFsU2Nyb2xsYmFyLmpzJzsKaW1wb3J0IHsgVmVydGljYWxTY3JvbGxiYXIgfSBmcm9tICcuL3ZlcnRpY2FsU2Nyb2xsYmFyLmpzJzsKaW1wb3J0IHsgV2lkZ2V0IH0gZnJvbSAnLi4vd2lkZ2V0LmpzJzsKaW1wb3J0IHsgVGltZW91dFRpbWVyIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL2FzeW5jLmpzJzsKaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9ldmVudC5qcyc7CmltcG9ydCB7IGRpc3Bvc2UgYXMgX2Rpc3Bvc2UgfSBmcm9tICcuLi8uLi8uLi9jb21tb24vbGlmZWN5Y2xlLmpzJzsKaW1wb3J0ICogYXMgcGxhdGZvcm0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL3BsYXRmb3JtLmpzJzsKaW1wb3J0IHsgU2Nyb2xsYWJsZSB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9zY3JvbGxhYmxlLmpzJzsKaW1wb3J0ICcuL21lZGlhL3Njcm9sbGJhcnMuY3NzJzsKdmFyIEhJREVfVElNRU9VVCA9IDUwMDsKdmFyIFNDUk9MTF9XSEVFTF9TRU5TSVRJVklUWSA9IDUwOwp2YXIgU0NST0xMX1dIRUVMX1NNT09USF9TQ1JPTExfRU5BQkxFRCA9IHRydWU7CnZhciBNb3VzZVdoZWVsQ2xhc3NpZmllckl0ZW0gPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUNsYXNzKGZ1bmN0aW9uIE1vdXNlV2hlZWxDbGFzc2lmaWVySXRlbSh0aW1lc3RhbXAsIGRlbHRhWCwgZGVsdGFZKSB7CiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1vdXNlV2hlZWxDbGFzc2lmaWVySXRlbSk7CiAgdGhpcy50aW1lc3RhbXAgPSB0aW1lc3RhbXA7CiAgdGhpcy5kZWx0YVggPSBkZWx0YVg7CiAgdGhpcy5kZWx0YVkgPSBkZWx0YVk7CiAgdGhpcy5zY29yZSA9IDA7Cn0pOwpleHBvcnQgdmFyIE1vdXNlV2hlZWxDbGFzc2lmaWVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBNb3VzZVdoZWVsQ2xhc3NpZmllcigpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNb3VzZVdoZWVsQ2xhc3NpZmllcik7CiAgICB0aGlzLl9jYXBhY2l0eSA9IDU7CiAgICB0aGlzLl9tZW1vcnkgPSBbXTsKICAgIHRoaXMuX2Zyb250ID0gLTE7CiAgICB0aGlzLl9yZWFyID0gLTE7CiAgfQogIF9jcmVhdGVDbGFzcyhNb3VzZVdoZWVsQ2xhc3NpZmllciwgW3sKICAgIGtleTogImlzUGh5c2ljYWxNb3VzZVdoZWVsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc1BoeXNpY2FsTW91c2VXaGVlbCgpIHsKICAgICAgaWYgKHRoaXMuX2Zyb250ID09PSAtMSAmJiB0aGlzLl9yZWFyID09PSAtMSkgewogICAgICAgIC8vIG5vIGVsZW1lbnRzCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIC8vIDAuNSAqIGxhc3QgKyAwLjI1ICogMm5kIGxhc3QgKyAwLjEyNSAqIDNyZCBsYXN0ICsgLi4uCiAgICAgIHZhciByZW1haW5pbmdJbmZsdWVuY2UgPSAxOwogICAgICB2YXIgc2NvcmUgPSAwOwogICAgICB2YXIgaXRlcmF0aW9uID0gMTsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5fcmVhcjsKICAgICAgZG8gewogICAgICAgIHZhciBpbmZsdWVuY2UgPSBpbmRleCA9PT0gdGhpcy5fZnJvbnQgPyByZW1haW5pbmdJbmZsdWVuY2UgOiBNYXRoLnBvdygyLCAtaXRlcmF0aW9uKTsKICAgICAgICByZW1haW5pbmdJbmZsdWVuY2UgLT0gaW5mbHVlbmNlOwogICAgICAgIHNjb3JlICs9IHRoaXMuX21lbW9yeVtpbmRleF0uc2NvcmUgKiBpbmZsdWVuY2U7CiAgICAgICAgaWYgKGluZGV4ID09PSB0aGlzLl9mcm9udCkgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGluZGV4ID0gKHRoaXMuX2NhcGFjaXR5ICsgaW5kZXggLSAxKSAlIHRoaXMuX2NhcGFjaXR5OwogICAgICAgIGl0ZXJhdGlvbisrOwogICAgICB9IHdoaWxlICh0cnVlKTsKICAgICAgcmV0dXJuIHNjb3JlIDw9IDAuNTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhY2NlcHQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFjY2VwdCh0aW1lc3RhbXAsIGRlbHRhWCwgZGVsdGFZKSB7CiAgICAgIHZhciBpdGVtID0gbmV3IE1vdXNlV2hlZWxDbGFzc2lmaWVySXRlbSh0aW1lc3RhbXAsIGRlbHRhWCwgZGVsdGFZKTsKICAgICAgaXRlbS5zY29yZSA9IHRoaXMuX2NvbXB1dGVTY29yZShpdGVtKTsKICAgICAgaWYgKHRoaXMuX2Zyb250ID09PSAtMSAmJiB0aGlzLl9yZWFyID09PSAtMSkgewogICAgICAgIHRoaXMuX21lbW9yeVswXSA9IGl0ZW07CiAgICAgICAgdGhpcy5fZnJvbnQgPSAwOwogICAgICAgIHRoaXMuX3JlYXIgPSAwOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuX3JlYXIgPSAodGhpcy5fcmVhciArIDEpICUgdGhpcy5fY2FwYWNpdHk7CiAgICAgICAgaWYgKHRoaXMuX3JlYXIgPT09IHRoaXMuX2Zyb250KSB7CiAgICAgICAgICAvLyBEcm9wIG9sZGVzdAogICAgICAgICAgdGhpcy5fZnJvbnQgPSAodGhpcy5fZnJvbnQgKyAxKSAlIHRoaXMuX2NhcGFjaXR5OwogICAgICAgIH0KICAgICAgICB0aGlzLl9tZW1vcnlbdGhpcy5fcmVhcl0gPSBpdGVtOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIEEgc2NvcmUgYmV0d2VlbiAwIGFuZCAxIGZvciBgaXRlbWAuCiAgICAgKiAgLSBhIHNjb3JlIHRvd2FyZHMgMCBpbmRpY2F0ZXMgdGhhdCB0aGUgc291cmNlIGFwcGVhcnMgdG8gYmUgYSBwaHlzaWNhbCBtb3VzZSB3aGVlbAogICAgICogIC0gYSBzY29yZSB0b3dhcmRzIDEgaW5kaWNhdGVzIHRoYXQgdGhlIHNvdXJjZSBhcHBlYXJzIHRvIGJlIGEgdG91Y2hwYWQgb3IgbWFnaWMgbW91c2UsIGV0Yy4KICAgICAqLwogIH0sIHsKICAgIGtleTogIl9jb21wdXRlU2NvcmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9jb21wdXRlU2NvcmUoaXRlbSkgewogICAgICBpZiAoTWF0aC5hYnMoaXRlbS5kZWx0YVgpID4gMCAmJiBNYXRoLmFicyhpdGVtLmRlbHRhWSkgPiAwKSB7CiAgICAgICAgLy8gYm90aCBheGVzIGV4ZXJjaXNlZCA9PiBkZWZpbml0ZWx5IG5vdCBhIHBoeXNpY2FsIG1vdXNlIHdoZWVsCiAgICAgICAgcmV0dXJuIDE7CiAgICAgIH0KICAgICAgdmFyIHNjb3JlID0gMC41OwogICAgICB2YXIgcHJldiA9IHRoaXMuX2Zyb250ID09PSAtMSAmJiB0aGlzLl9yZWFyID09PSAtMSA/IG51bGwgOiB0aGlzLl9tZW1vcnlbdGhpcy5fcmVhcl07CiAgICAgIGlmIChwcmV2KSB7CiAgICAgICAgLy8gY29uc3QgZGVsdGFUID0gaXRlbS50aW1lc3RhbXAgLSBwcmV2LnRpbWVzdGFtcDsKICAgICAgICAvLyBpZiAoZGVsdGFUIDwgMTAwMCAvIDMwKSB7CiAgICAgICAgLy8gCS8vIHNvb25lciB0aGFuIFggdGltZXMgcGVyIHNlY29uZCA9PiBpbmRpY2F0b3IgdGhhdCB0aGlzIGlzIG5vdCBhIHBoeXNpY2FsIG1vdXNlIHdoZWVsCiAgICAgICAgLy8gCXNjb3JlICs9IDAuMjU7CiAgICAgICAgLy8gfQogICAgICAgIC8vIGlmIChpdGVtLmRlbHRhWCA9PT0gcHJldi5kZWx0YVggJiYgaXRlbS5kZWx0YVkgPT09IHByZXYuZGVsdGFZKSB7CiAgICAgICAgLy8gCS8vIGVxdWFsIGFtcGxpdHVkZSA9PiBpbmRpY2F0b3IgdGhhdCB0aGlzIGlzIGEgcGh5c2ljYWwgbW91c2Ugd2hlZWwKICAgICAgICAvLyAJc2NvcmUgLT0gMC4yNTsKICAgICAgICAvLyB9CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLl9pc0FsbW9zdEludChpdGVtLmRlbHRhWCkgfHwgIXRoaXMuX2lzQWxtb3N0SW50KGl0ZW0uZGVsdGFZKSkgewogICAgICAgIC8vIG5vbi1pbnRlZ2VyIGRlbHRhcyA9PiBpbmRpY2F0b3IgdGhhdCB0aGlzIGlzIG5vdCBhIHBoeXNpY2FsIG1vdXNlIHdoZWVsCiAgICAgICAgc2NvcmUgKz0gMC4yNTsKICAgICAgfQogICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgoc2NvcmUsIDApLCAxKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfaXNBbG1vc3RJbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9pc0FsbW9zdEludCh2YWx1ZSkgewogICAgICB2YXIgZGVsdGEgPSBNYXRoLmFicyhNYXRoLnJvdW5kKHZhbHVlKSAtIHZhbHVlKTsKICAgICAgcmV0dXJuIGRlbHRhIDwgMC4wMTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIE1vdXNlV2hlZWxDbGFzc2lmaWVyOwp9KCk7Ck1vdXNlV2hlZWxDbGFzc2lmaWVyLklOU1RBTkNFID0gbmV3IE1vdXNlV2hlZWxDbGFzc2lmaWVyKCk7CmV4cG9ydCB2YXIgQWJzdHJhY3RTY3JvbGxhYmxlRWxlbWVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1dpZGdldCkgewogIF9pbmhlcml0cyhBYnN0cmFjdFNjcm9sbGFibGVFbGVtZW50LCBfV2lkZ2V0KTsKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEFic3RyYWN0U2Nyb2xsYWJsZUVsZW1lbnQpOwogIGZ1bmN0aW9uIEFic3RyYWN0U2Nyb2xsYWJsZUVsZW1lbnQoZWxlbWVudCwgb3B0aW9ucywgc2Nyb2xsYWJsZSkgewogICAgdmFyIF90aGlzOwogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFic3RyYWN0U2Nyb2xsYWJsZUVsZW1lbnQpOwogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKTsKICAgIF90aGlzLl9vblNjcm9sbCA9IF90aGlzLl9yZWdpc3RlcihuZXcgRW1pdHRlcigpKTsKICAgIF90aGlzLm9uU2Nyb2xsID0gX3RoaXMuX29uU2Nyb2xsLmV2ZW50OwogICAgX3RoaXMuX29uV2lsbFNjcm9sbCA9IF90aGlzLl9yZWdpc3RlcihuZXcgRW1pdHRlcigpKTsKICAgIGVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJzsKICAgIF90aGlzLl9vcHRpb25zID0gcmVzb2x2ZU9wdGlvbnMob3B0aW9ucyk7CiAgICBfdGhpcy5fc2Nyb2xsYWJsZSA9IHNjcm9sbGFibGU7CiAgICBfdGhpcy5fcmVnaXN0ZXIoX3RoaXMuX3Njcm9sbGFibGUub25TY3JvbGwoZnVuY3Rpb24gKGUpIHsKICAgICAgX3RoaXMuX29uV2lsbFNjcm9sbC5maXJlKGUpOwogICAgICBfdGhpcy5fb25EaWRTY3JvbGwoZSk7CiAgICAgIF90aGlzLl9vblNjcm9sbC5maXJlKGUpOwogICAgfSkpOwogICAgdmFyIHNjcm9sbGJhckhvc3QgPSB7CiAgICAgIG9uTW91c2VXaGVlbDogZnVuY3Rpb24gb25Nb3VzZVdoZWVsKG1vdXNlV2hlZWxFdmVudCkgewogICAgICAgIHJldHVybiBfdGhpcy5fb25Nb3VzZVdoZWVsKG1vdXNlV2hlZWxFdmVudCk7CiAgICAgIH0sCiAgICAgIG9uRHJhZ1N0YXJ0OiBmdW5jdGlvbiBvbkRyYWdTdGFydCgpIHsKICAgICAgICByZXR1cm4gX3RoaXMuX29uRHJhZ1N0YXJ0KCk7CiAgICAgIH0sCiAgICAgIG9uRHJhZ0VuZDogZnVuY3Rpb24gb25EcmFnRW5kKCkgewogICAgICAgIHJldHVybiBfdGhpcy5fb25EcmFnRW5kKCk7CiAgICAgIH0KICAgIH07CiAgICBfdGhpcy5fdmVydGljYWxTY3JvbGxiYXIgPSBfdGhpcy5fcmVnaXN0ZXIobmV3IFZlcnRpY2FsU2Nyb2xsYmFyKF90aGlzLl9zY3JvbGxhYmxlLCBfdGhpcy5fb3B0aW9ucywgc2Nyb2xsYmFySG9zdCkpOwogICAgX3RoaXMuX2hvcml6b250YWxTY3JvbGxiYXIgPSBfdGhpcy5fcmVnaXN0ZXIobmV3IEhvcml6b250YWxTY3JvbGxiYXIoX3RoaXMuX3Njcm9sbGFibGUsIF90aGlzLl9vcHRpb25zLCBzY3JvbGxiYXJIb3N0KSk7CiAgICBfdGhpcy5fZG9tTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgX3RoaXMuX2RvbU5vZGUuY2xhc3NOYW1lID0gJ21vbmFjby1zY3JvbGxhYmxlLWVsZW1lbnQgJyArIF90aGlzLl9vcHRpb25zLmNsYXNzTmFtZTsKICAgIF90aGlzLl9kb21Ob2RlLnNldEF0dHJpYnV0ZSgncm9sZScsICdwcmVzZW50YXRpb24nKTsKICAgIF90aGlzLl9kb21Ob2RlLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJzsKICAgIF90aGlzLl9kb21Ob2RlLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7CiAgICBfdGhpcy5fZG9tTm9kZS5hcHBlbmRDaGlsZChlbGVtZW50KTsKICAgIF90aGlzLl9kb21Ob2RlLmFwcGVuZENoaWxkKF90aGlzLl9ob3Jpem9udGFsU2Nyb2xsYmFyLmRvbU5vZGUuZG9tTm9kZSk7CiAgICBfdGhpcy5fZG9tTm9kZS5hcHBlbmRDaGlsZChfdGhpcy5fdmVydGljYWxTY3JvbGxiYXIuZG9tTm9kZS5kb21Ob2RlKTsKICAgIGlmIChfdGhpcy5fb3B0aW9ucy51c2VTaGFkb3dzKSB7CiAgICAgIF90aGlzLl9sZWZ0U2hhZG93RG9tTm9kZSA9IGNyZWF0ZUZhc3REb21Ob2RlKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKTsKICAgICAgX3RoaXMuX2xlZnRTaGFkb3dEb21Ob2RlLnNldENsYXNzTmFtZSgnc2hhZG93Jyk7CiAgICAgIF90aGlzLl9kb21Ob2RlLmFwcGVuZENoaWxkKF90aGlzLl9sZWZ0U2hhZG93RG9tTm9kZS5kb21Ob2RlKTsKICAgICAgX3RoaXMuX3RvcFNoYWRvd0RvbU5vZGUgPSBjcmVhdGVGYXN0RG9tTm9kZShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSk7CiAgICAgIF90aGlzLl90b3BTaGFkb3dEb21Ob2RlLnNldENsYXNzTmFtZSgnc2hhZG93Jyk7CiAgICAgIF90aGlzLl9kb21Ob2RlLmFwcGVuZENoaWxkKF90aGlzLl90b3BTaGFkb3dEb21Ob2RlLmRvbU5vZGUpOwogICAgICBfdGhpcy5fdG9wTGVmdFNoYWRvd0RvbU5vZGUgPSBjcmVhdGVGYXN0RG9tTm9kZShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSk7CiAgICAgIF90aGlzLl90b3BMZWZ0U2hhZG93RG9tTm9kZS5zZXRDbGFzc05hbWUoJ3NoYWRvdycpOwogICAgICBfdGhpcy5fZG9tTm9kZS5hcHBlbmRDaGlsZChfdGhpcy5fdG9wTGVmdFNoYWRvd0RvbU5vZGUuZG9tTm9kZSk7CiAgICB9IGVsc2UgewogICAgICBfdGhpcy5fbGVmdFNoYWRvd0RvbU5vZGUgPSBudWxsOwogICAgICBfdGhpcy5fdG9wU2hhZG93RG9tTm9kZSA9IG51bGw7CiAgICAgIF90aGlzLl90b3BMZWZ0U2hhZG93RG9tTm9kZSA9IG51bGw7CiAgICB9CiAgICBfdGhpcy5fbGlzdGVuT25Eb21Ob2RlID0gX3RoaXMuX29wdGlvbnMubGlzdGVuT25Eb21Ob2RlIHx8IF90aGlzLl9kb21Ob2RlOwogICAgX3RoaXMuX21vdXNlV2hlZWxUb0Rpc3Bvc2UgPSBbXTsKICAgIF90aGlzLl9zZXRMaXN0ZW5pbmdUb01vdXNlV2hlZWwoX3RoaXMuX29wdGlvbnMuaGFuZGxlTW91c2VXaGVlbCk7CiAgICBfdGhpcy5vbm1vdXNlb3ZlcihfdGhpcy5fbGlzdGVuT25Eb21Ob2RlLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gX3RoaXMuX29uTW91c2VPdmVyKGUpOwogICAgfSk7CiAgICBfdGhpcy5vbm1vdXNlbGVhdmUoX3RoaXMuX2xpc3Rlbk9uRG9tTm9kZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIF90aGlzLl9vbk1vdXNlTGVhdmUoZSk7CiAgICB9KTsKICAgIF90aGlzLl9oaWRlVGltZW91dCA9IF90aGlzLl9yZWdpc3RlcihuZXcgVGltZW91dFRpbWVyKCkpOwogICAgX3RoaXMuX2lzRHJhZ2dpbmcgPSBmYWxzZTsKICAgIF90aGlzLl9tb3VzZUlzT3ZlciA9IGZhbHNlOwogICAgX3RoaXMuX3Nob3VsZFJlbmRlciA9IHRydWU7CiAgICBfdGhpcy5fcmV2ZWFsT25TY3JvbGwgPSB0cnVlOwogICAgcmV0dXJuIF90aGlzOwogIH0KICBfY3JlYXRlQ2xhc3MoQWJzdHJhY3RTY3JvbGxhYmxlRWxlbWVudCwgW3sKICAgIGtleTogIm9wdGlvbnMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9vcHRpb25zOwogICAgfQogIH0sIHsKICAgIGtleTogImRpc3Bvc2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7CiAgICAgIHRoaXMuX21vdXNlV2hlZWxUb0Rpc3Bvc2UgPSBfZGlzcG9zZSh0aGlzLl9tb3VzZVdoZWVsVG9EaXNwb3NlKTsKICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoQWJzdHJhY3RTY3JvbGxhYmxlRWxlbWVudC5wcm90b3R5cGUpLCAiZGlzcG9zZSIsIHRoaXMpLmNhbGwodGhpcyk7CiAgICB9CiAgICAvKioKICAgICAqIEdldCB0aGUgZ2VuZXJhdGVkICdzY3JvbGxhYmxlJyBkb20gbm9kZQogICAgICovCiAgfSwgewogICAga2V5OiAiZ2V0RG9tTm9kZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RG9tTm9kZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvbU5vZGU7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0T3ZlcnZpZXdSdWxlckxheW91dEluZm8iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldE92ZXJ2aWV3UnVsZXJMYXlvdXRJbmZvKCkgewogICAgICByZXR1cm4gewogICAgICAgIHBhcmVudDogdGhpcy5fZG9tTm9kZSwKICAgICAgICBpbnNlcnRCZWZvcmU6IHRoaXMuX3ZlcnRpY2FsU2Nyb2xsYmFyLmRvbU5vZGUuZG9tTm9kZQogICAgICB9OwogICAgfQogICAgLyoqCiAgICAgKiBEZWxlZ2F0ZSBhIHBvaW50ZXIgZG93biBldmVudCB0byB0aGUgdmVydGljYWwgc2Nyb2xsYmFyLgogICAgICogVGhpcyBpcyB0byBoZWxwIHdpdGggY2xpY2tpbmcgc29tZXdoZXJlIGVsc2UgYW5kIGhhdmluZyB0aGUgc2Nyb2xsYmFyIHJlYWN0LgogICAgICovCiAgfSwgewogICAga2V5OiAiZGVsZWdhdGVWZXJ0aWNhbFNjcm9sbGJhclBvaW50ZXJEb3duIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxlZ2F0ZVZlcnRpY2FsU2Nyb2xsYmFyUG9pbnRlckRvd24oYnJvd3NlckV2ZW50KSB7CiAgICAgIHRoaXMuX3ZlcnRpY2FsU2Nyb2xsYmFyLmRlbGVnYXRlUG9pbnRlckRvd24oYnJvd3NlckV2ZW50KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRTY3JvbGxEaW1lbnNpb25zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTY3JvbGxEaW1lbnNpb25zKCkgewogICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsYWJsZS5nZXRTY3JvbGxEaW1lbnNpb25zKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0U2Nyb2xsRGltZW5zaW9ucyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U2Nyb2xsRGltZW5zaW9ucyhkaW1lbnNpb25zKSB7CiAgICAgIHRoaXMuX3Njcm9sbGFibGUuc2V0U2Nyb2xsRGltZW5zaW9ucyhkaW1lbnNpb25zLCBmYWxzZSk7CiAgICB9CiAgICAvKioKICAgICAqIFVwZGF0ZSB0aGUgY2xhc3MgbmFtZSBvZiB0aGUgc2Nyb2xsYWJsZSBlbGVtZW50LgogICAgICovCiAgfSwgewogICAga2V5OiAidXBkYXRlQ2xhc3NOYW1lIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVDbGFzc05hbWUobmV3Q2xhc3NOYW1lKSB7CiAgICAgIHRoaXMuX29wdGlvbnMuY2xhc3NOYW1lID0gbmV3Q2xhc3NOYW1lOwogICAgICAvLyBEZWZhdWx0cyBhcmUgZGlmZmVyZW50IG9uIE1hY3MKICAgICAgaWYgKHBsYXRmb3JtLmlzTWFjaW50b3NoKSB7CiAgICAgICAgdGhpcy5fb3B0aW9ucy5jbGFzc05hbWUgKz0gJyBtYWMnOwogICAgICB9CiAgICAgIHRoaXMuX2RvbU5vZGUuY2xhc3NOYW1lID0gJ21vbmFjby1zY3JvbGxhYmxlLWVsZW1lbnQgJyArIHRoaXMuX29wdGlvbnMuY2xhc3NOYW1lOwogICAgfQogICAgLyoqCiAgICAgKiBVcGRhdGUgY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgc2Nyb2xsYmFyLgogICAgICovCiAgfSwgewogICAga2V5OiAidXBkYXRlT3B0aW9ucyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlT3B0aW9ucyhuZXdPcHRpb25zKSB7CiAgICAgIGlmICh0eXBlb2YgbmV3T3B0aW9ucy5oYW5kbGVNb3VzZVdoZWVsICE9PSAndW5kZWZpbmVkJykgewogICAgICAgIHRoaXMuX29wdGlvbnMuaGFuZGxlTW91c2VXaGVlbCA9IG5ld09wdGlvbnMuaGFuZGxlTW91c2VXaGVlbDsKICAgICAgICB0aGlzLl9zZXRMaXN0ZW5pbmdUb01vdXNlV2hlZWwodGhpcy5fb3B0aW9ucy5oYW5kbGVNb3VzZVdoZWVsKTsKICAgICAgfQogICAgICBpZiAodHlwZW9mIG5ld09wdGlvbnMubW91c2VXaGVlbFNjcm9sbFNlbnNpdGl2aXR5ICE9PSAndW5kZWZpbmVkJykgewogICAgICAgIHRoaXMuX29wdGlvbnMubW91c2VXaGVlbFNjcm9sbFNlbnNpdGl2aXR5ID0gbmV3T3B0aW9ucy5tb3VzZVdoZWVsU2Nyb2xsU2Vuc2l0aXZpdHk7CiAgICAgIH0KICAgICAgaWYgKHR5cGVvZiBuZXdPcHRpb25zLmZhc3RTY3JvbGxTZW5zaXRpdml0eSAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICB0aGlzLl9vcHRpb25zLmZhc3RTY3JvbGxTZW5zaXRpdml0eSA9IG5ld09wdGlvbnMuZmFzdFNjcm9sbFNlbnNpdGl2aXR5OwogICAgICB9CiAgICAgIGlmICh0eXBlb2YgbmV3T3B0aW9ucy5zY3JvbGxQcmVkb21pbmFudEF4aXMgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgdGhpcy5fb3B0aW9ucy5zY3JvbGxQcmVkb21pbmFudEF4aXMgPSBuZXdPcHRpb25zLnNjcm9sbFByZWRvbWluYW50QXhpczsKICAgICAgfQogICAgICBpZiAodHlwZW9mIG5ld09wdGlvbnMuaG9yaXpvbnRhbCAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICB0aGlzLl9vcHRpb25zLmhvcml6b250YWwgPSBuZXdPcHRpb25zLmhvcml6b250YWw7CiAgICAgIH0KICAgICAgaWYgKHR5cGVvZiBuZXdPcHRpb25zLnZlcnRpY2FsICE9PSAndW5kZWZpbmVkJykgewogICAgICAgIHRoaXMuX29wdGlvbnMudmVydGljYWwgPSBuZXdPcHRpb25zLnZlcnRpY2FsOwogICAgICB9CiAgICAgIGlmICh0eXBlb2YgbmV3T3B0aW9ucy5ob3Jpem9udGFsU2Nyb2xsYmFyU2l6ZSAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICB0aGlzLl9vcHRpb25zLmhvcml6b250YWxTY3JvbGxiYXJTaXplID0gbmV3T3B0aW9ucy5ob3Jpem9udGFsU2Nyb2xsYmFyU2l6ZTsKICAgICAgfQogICAgICBpZiAodHlwZW9mIG5ld09wdGlvbnMudmVydGljYWxTY3JvbGxiYXJTaXplICE9PSAndW5kZWZpbmVkJykgewogICAgICAgIHRoaXMuX29wdGlvbnMudmVydGljYWxTY3JvbGxiYXJTaXplID0gbmV3T3B0aW9ucy52ZXJ0aWNhbFNjcm9sbGJhclNpemU7CiAgICAgIH0KICAgICAgaWYgKHR5cGVvZiBuZXdPcHRpb25zLnNjcm9sbEJ5UGFnZSAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICB0aGlzLl9vcHRpb25zLnNjcm9sbEJ5UGFnZSA9IG5ld09wdGlvbnMuc2Nyb2xsQnlQYWdlOwogICAgICB9CiAgICAgIHRoaXMuX2hvcml6b250YWxTY3JvbGxiYXIudXBkYXRlT3B0aW9ucyh0aGlzLl9vcHRpb25zKTsKICAgICAgdGhpcy5fdmVydGljYWxTY3JvbGxiYXIudXBkYXRlT3B0aW9ucyh0aGlzLl9vcHRpb25zKTsKICAgICAgaWYgKCF0aGlzLl9vcHRpb25zLmxhenlSZW5kZXIpIHsKICAgICAgICB0aGlzLl9yZW5kZXIoKTsKICAgICAgfQogICAgfQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0gbW91c2Ugd2hlZWwgc2Nyb2xsaW5nIC0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgfSwgewogICAga2V5OiAiX3NldExpc3RlbmluZ1RvTW91c2VXaGVlbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3NldExpc3RlbmluZ1RvTW91c2VXaGVlbChzaG91bGRMaXN0ZW4pIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHZhciBpc0xpc3RlbmluZyA9IHRoaXMuX21vdXNlV2hlZWxUb0Rpc3Bvc2UubGVuZ3RoID4gMDsKICAgICAgaWYgKGlzTGlzdGVuaW5nID09PSBzaG91bGRMaXN0ZW4pIHsKICAgICAgICAvLyBObyBjaGFuZ2UKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgLy8gU3RvcCBsaXN0ZW5pbmcgKGlmIG5lY2Vzc2FyeSkKICAgICAgdGhpcy5fbW91c2VXaGVlbFRvRGlzcG9zZSA9IF9kaXNwb3NlKHRoaXMuX21vdXNlV2hlZWxUb0Rpc3Bvc2UpOwogICAgICAvLyBTdGFydCBsaXN0ZW5pbmcgKGlmIG5lY2Vzc2FyeSkKICAgICAgaWYgKHNob3VsZExpc3RlbikgewogICAgICAgIHZhciBvbk1vdXNlV2hlZWwgPSBmdW5jdGlvbiBvbk1vdXNlV2hlZWwoYnJvd3NlckV2ZW50KSB7CiAgICAgICAgICBfdGhpczIuX29uTW91c2VXaGVlbChuZXcgU3RhbmRhcmRXaGVlbEV2ZW50KGJyb3dzZXJFdmVudCkpOwogICAgICAgIH07CiAgICAgICAgdGhpcy5fbW91c2VXaGVlbFRvRGlzcG9zZS5wdXNoKGRvbS5hZGREaXNwb3NhYmxlTGlzdGVuZXIodGhpcy5fbGlzdGVuT25Eb21Ob2RlLCBkb20uRXZlbnRUeXBlLk1PVVNFX1dIRUVMLCBvbk1vdXNlV2hlZWwsIHsKICAgICAgICAgIHBhc3NpdmU6IGZhbHNlCiAgICAgICAgfSkpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiX29uTW91c2VXaGVlbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX29uTW91c2VXaGVlbChlKSB7CiAgICAgIHZhciBjbGFzc2lmaWVyID0gTW91c2VXaGVlbENsYXNzaWZpZXIuSU5TVEFOQ0U7CiAgICAgIGlmIChTQ1JPTExfV0hFRUxfU01PT1RIX1NDUk9MTF9FTkFCTEVEKSB7CiAgICAgICAgdmFyIG9zWm9vbUZhY3RvciA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIC8gZ2V0Wm9vbUZhY3RvcigpOwogICAgICAgIGlmIChwbGF0Zm9ybS5pc1dpbmRvd3MgfHwgcGxhdGZvcm0uaXNMaW51eCkgewogICAgICAgICAgLy8gT24gV2luZG93cyBhbmQgTGludXgsIHRoZSBpbmNvbWluZyBkZWx0YSBldmVudHMgYXJlIG11bHRpcGxpZWQgd2l0aCB0aGUgT1Mgem9vbSBmYWN0b3IuCiAgICAgICAgICAvLyBUaGUgT1Mgem9vbSBmYWN0b3IgY2FuIGJlIHJldmVyc2UgZW5naW5lZXJlZCBieSB1c2luZyB0aGUgZGV2aWNlIHBpeGVsIHJhdGlvIGFuZCB0aGUgY29uZmlndXJlZCB6b29tIGZhY3RvciBpbnRvIGFjY291bnQuCiAgICAgICAgICBjbGFzc2lmaWVyLmFjY2VwdChEYXRlLm5vdygpLCBlLmRlbHRhWCAvIG9zWm9vbUZhY3RvciwgZS5kZWx0YVkgLyBvc1pvb21GYWN0b3IpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjbGFzc2lmaWVyLmFjY2VwdChEYXRlLm5vdygpLCBlLmRlbHRhWCwgZS5kZWx0YVkpOwogICAgICAgIH0KICAgICAgfQogICAgICAvLyBjb25zb2xlLmxvZyhgJHtEYXRlLm5vdygpfSwgJHtlLmRlbHRhWX0sICR7ZS5kZWx0YVh9YCk7CiAgICAgIHZhciBkaWRTY3JvbGwgPSBmYWxzZTsKICAgICAgaWYgKGUuZGVsdGFZIHx8IGUuZGVsdGFYKSB7CiAgICAgICAgdmFyIGRlbHRhWSA9IGUuZGVsdGFZICogdGhpcy5fb3B0aW9ucy5tb3VzZVdoZWVsU2Nyb2xsU2Vuc2l0aXZpdHk7CiAgICAgICAgdmFyIGRlbHRhWCA9IGUuZGVsdGFYICogdGhpcy5fb3B0aW9ucy5tb3VzZVdoZWVsU2Nyb2xsU2Vuc2l0aXZpdHk7CiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuc2Nyb2xsUHJlZG9taW5hbnRBeGlzKSB7CiAgICAgICAgICBpZiAoTWF0aC5hYnMoZGVsdGFZKSA+PSBNYXRoLmFicyhkZWx0YVgpKSB7CiAgICAgICAgICAgIGRlbHRhWCA9IDA7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkZWx0YVkgPSAwOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5mbGlwQXhlcykgewogICAgICAgICAgdmFyIF9yZWYgPSBbZGVsdGFYLCBkZWx0YVldOwogICAgICAgICAgZGVsdGFZID0gX3JlZlswXTsKICAgICAgICAgIGRlbHRhWCA9IF9yZWZbMV07CiAgICAgICAgfQogICAgICAgIC8vIENvbnZlcnQgdmVydGljYWwgc2Nyb2xsaW5nIHRvIGhvcml6b250YWwgaWYgc2hpZnQgaXMgaGVsZCwgdGhpcwogICAgICAgIC8vIGlzIGhhbmRsZWQgYXQgYSBoaWdoZXIgbGV2ZWwgb24gTWFjCiAgICAgICAgdmFyIHNoaWZ0Q29udmVydCA9ICFwbGF0Zm9ybS5pc01hY2ludG9zaCAmJiBlLmJyb3dzZXJFdmVudCAmJiBlLmJyb3dzZXJFdmVudC5zaGlmdEtleTsKICAgICAgICBpZiAoKHRoaXMuX29wdGlvbnMuc2Nyb2xsWVRvWCB8fCBzaGlmdENvbnZlcnQpICYmICFkZWx0YVgpIHsKICAgICAgICAgIGRlbHRhWCA9IGRlbHRhWTsKICAgICAgICAgIGRlbHRhWSA9IDA7CiAgICAgICAgfQogICAgICAgIGlmIChlLmJyb3dzZXJFdmVudCAmJiBlLmJyb3dzZXJFdmVudC5hbHRLZXkpIHsKICAgICAgICAgIC8vIGZhc3RTY3JvbGxpbmcKICAgICAgICAgIGRlbHRhWCA9IGRlbHRhWCAqIHRoaXMuX29wdGlvbnMuZmFzdFNjcm9sbFNlbnNpdGl2aXR5OwogICAgICAgICAgZGVsdGFZID0gZGVsdGFZICogdGhpcy5fb3B0aW9ucy5mYXN0U2Nyb2xsU2Vuc2l0aXZpdHk7CiAgICAgICAgfQogICAgICAgIHZhciBmdXR1cmVTY3JvbGxQb3NpdGlvbiA9IHRoaXMuX3Njcm9sbGFibGUuZ2V0RnV0dXJlU2Nyb2xsUG9zaXRpb24oKTsKICAgICAgICB2YXIgZGVzaXJlZFNjcm9sbFBvc2l0aW9uID0ge307CiAgICAgICAgaWYgKGRlbHRhWSkgewogICAgICAgICAgdmFyIGRlbHRhU2Nyb2xsVG9wID0gU0NST0xMX1dIRUVMX1NFTlNJVElWSVRZICogZGVsdGFZOwogICAgICAgICAgLy8gSGVyZSB3ZSBjb252ZXJ0IHZhbHVlcyBzdWNoIGFzIC0wLjMgdG8gLTEgb3IgMC4zIHRvIDEsIG90aGVyd2lzZSBsb3cgc3BlZWQgc2Nyb2xsaW5nIHdpbGwgbmV2ZXIgc2Nyb2xsCiAgICAgICAgICB2YXIgZGVzaXJlZFNjcm9sbFRvcCA9IGZ1dHVyZVNjcm9sbFBvc2l0aW9uLnNjcm9sbFRvcCAtIChkZWx0YVNjcm9sbFRvcCA8IDAgPyBNYXRoLmZsb29yKGRlbHRhU2Nyb2xsVG9wKSA6IE1hdGguY2VpbChkZWx0YVNjcm9sbFRvcCkpOwogICAgICAgICAgdGhpcy5fdmVydGljYWxTY3JvbGxiYXIud3JpdGVTY3JvbGxQb3NpdGlvbihkZXNpcmVkU2Nyb2xsUG9zaXRpb24sIGRlc2lyZWRTY3JvbGxUb3ApOwogICAgICAgIH0KICAgICAgICBpZiAoZGVsdGFYKSB7CiAgICAgICAgICB2YXIgZGVsdGFTY3JvbGxMZWZ0ID0gU0NST0xMX1dIRUVMX1NFTlNJVElWSVRZICogZGVsdGFYOwogICAgICAgICAgLy8gSGVyZSB3ZSBjb252ZXJ0IHZhbHVlcyBzdWNoIGFzIC0wLjMgdG8gLTEgb3IgMC4zIHRvIDEsIG90aGVyd2lzZSBsb3cgc3BlZWQgc2Nyb2xsaW5nIHdpbGwgbmV2ZXIgc2Nyb2xsCiAgICAgICAgICB2YXIgZGVzaXJlZFNjcm9sbExlZnQgPSBmdXR1cmVTY3JvbGxQb3NpdGlvbi5zY3JvbGxMZWZ0IC0gKGRlbHRhU2Nyb2xsTGVmdCA8IDAgPyBNYXRoLmZsb29yKGRlbHRhU2Nyb2xsTGVmdCkgOiBNYXRoLmNlaWwoZGVsdGFTY3JvbGxMZWZ0KSk7CiAgICAgICAgICB0aGlzLl9ob3Jpem9udGFsU2Nyb2xsYmFyLndyaXRlU2Nyb2xsUG9zaXRpb24oZGVzaXJlZFNjcm9sbFBvc2l0aW9uLCBkZXNpcmVkU2Nyb2xsTGVmdCk7CiAgICAgICAgfQogICAgICAgIC8vIENoZWNrIHRoYXQgd2UgYXJlIHNjcm9sbGluZyB0b3dhcmRzIGEgbG9jYXRpb24gd2hpY2ggaXMgdmFsaWQKICAgICAgICBkZXNpcmVkU2Nyb2xsUG9zaXRpb24gPSB0aGlzLl9zY3JvbGxhYmxlLnZhbGlkYXRlU2Nyb2xsUG9zaXRpb24oZGVzaXJlZFNjcm9sbFBvc2l0aW9uKTsKICAgICAgICBpZiAoZnV0dXJlU2Nyb2xsUG9zaXRpb24uc2Nyb2xsTGVmdCAhPT0gZGVzaXJlZFNjcm9sbFBvc2l0aW9uLnNjcm9sbExlZnQgfHwgZnV0dXJlU2Nyb2xsUG9zaXRpb24uc2Nyb2xsVG9wICE9PSBkZXNpcmVkU2Nyb2xsUG9zaXRpb24uc2Nyb2xsVG9wKSB7CiAgICAgICAgICB2YXIgY2FuUGVyZm9ybVNtb290aFNjcm9sbCA9IFNDUk9MTF9XSEVFTF9TTU9PVEhfU0NST0xMX0VOQUJMRUQgJiYgdGhpcy5fb3B0aW9ucy5tb3VzZVdoZWVsU21vb3RoU2Nyb2xsICYmIGNsYXNzaWZpZXIuaXNQaHlzaWNhbE1vdXNlV2hlZWwoKTsKICAgICAgICAgIGlmIChjYW5QZXJmb3JtU21vb3RoU2Nyb2xsKSB7CiAgICAgICAgICAgIHRoaXMuX3Njcm9sbGFibGUuc2V0U2Nyb2xsUG9zaXRpb25TbW9vdGgoZGVzaXJlZFNjcm9sbFBvc2l0aW9uKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuX3Njcm9sbGFibGUuc2V0U2Nyb2xsUG9zaXRpb25Ob3coZGVzaXJlZFNjcm9sbFBvc2l0aW9uKTsKICAgICAgICAgIH0KICAgICAgICAgIGRpZFNjcm9sbCA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICAgIHZhciBjb25zdW1lTW91c2VXaGVlbCA9IGRpZFNjcm9sbDsKICAgICAgaWYgKCFjb25zdW1lTW91c2VXaGVlbCAmJiB0aGlzLl9vcHRpb25zLmFsd2F5c0NvbnN1bWVNb3VzZVdoZWVsKSB7CiAgICAgICAgY29uc3VtZU1vdXNlV2hlZWwgPSB0cnVlOwogICAgICB9CiAgICAgIGlmICghY29uc3VtZU1vdXNlV2hlZWwgJiYgdGhpcy5fb3B0aW9ucy5jb25zdW1lTW91c2VXaGVlbElmU2Nyb2xsYmFySXNOZWVkZWQgJiYgKHRoaXMuX3ZlcnRpY2FsU2Nyb2xsYmFyLmlzTmVlZGVkKCkgfHwgdGhpcy5faG9yaXpvbnRhbFNjcm9sbGJhci5pc05lZWRlZCgpKSkgewogICAgICAgIGNvbnN1bWVNb3VzZVdoZWVsID0gdHJ1ZTsKICAgICAgfQogICAgICBpZiAoY29uc3VtZU1vdXNlV2hlZWwpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogIl9vbkRpZFNjcm9sbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX29uRGlkU2Nyb2xsKGUpIHsKICAgICAgdGhpcy5fc2hvdWxkUmVuZGVyID0gdGhpcy5faG9yaXpvbnRhbFNjcm9sbGJhci5vbkRpZFNjcm9sbChlKSB8fCB0aGlzLl9zaG91bGRSZW5kZXI7CiAgICAgIHRoaXMuX3Nob3VsZFJlbmRlciA9IHRoaXMuX3ZlcnRpY2FsU2Nyb2xsYmFyLm9uRGlkU2Nyb2xsKGUpIHx8IHRoaXMuX3Nob3VsZFJlbmRlcjsKICAgICAgaWYgKHRoaXMuX29wdGlvbnMudXNlU2hhZG93cykgewogICAgICAgIHRoaXMuX3Nob3VsZFJlbmRlciA9IHRydWU7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuX3JldmVhbE9uU2Nyb2xsKSB7CiAgICAgICAgdGhpcy5fcmV2ZWFsKCk7CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLl9vcHRpb25zLmxhenlSZW5kZXIpIHsKICAgICAgICB0aGlzLl9yZW5kZXIoKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBSZW5kZXIgLyBtdXRhdGUgdGhlIERPTSBub3cuCiAgICAgKiBTaG91bGQgYmUgdXNlZCB0b2dldGhlciB3aXRoIHRoZSBjdG9yIG9wdGlvbiBgbGF6eVJlbmRlcmAuCiAgICAgKi8KICB9LCB7CiAgICBrZXk6ICJyZW5kZXJOb3ciLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlck5vdygpIHsKICAgICAgaWYgKCF0aGlzLl9vcHRpb25zLmxhenlSZW5kZXIpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSB1c2UgYGxhenlSZW5kZXJgIHRvZ2V0aGVyIHdpdGggYHJlbmRlck5vd2AhJyk7CiAgICAgIH0KICAgICAgdGhpcy5fcmVuZGVyKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX3JlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbmRlcigpIHsKICAgICAgaWYgKCF0aGlzLl9zaG91bGRSZW5kZXIpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5fc2hvdWxkUmVuZGVyID0gZmFsc2U7CiAgICAgIHRoaXMuX2hvcml6b250YWxTY3JvbGxiYXIucmVuZGVyKCk7CiAgICAgIHRoaXMuX3ZlcnRpY2FsU2Nyb2xsYmFyLnJlbmRlcigpOwogICAgICBpZiAodGhpcy5fb3B0aW9ucy51c2VTaGFkb3dzKSB7CiAgICAgICAgdmFyIHNjcm9sbFN0YXRlID0gdGhpcy5fc2Nyb2xsYWJsZS5nZXRDdXJyZW50U2Nyb2xsUG9zaXRpb24oKTsKICAgICAgICB2YXIgZW5hYmxlVG9wID0gc2Nyb2xsU3RhdGUuc2Nyb2xsVG9wID4gMDsKICAgICAgICB2YXIgZW5hYmxlTGVmdCA9IHNjcm9sbFN0YXRlLnNjcm9sbExlZnQgPiAwOwogICAgICAgIHZhciBsZWZ0Q2xhc3NOYW1lID0gZW5hYmxlTGVmdCA/ICcgbGVmdCcgOiAnJzsKICAgICAgICB2YXIgdG9wQ2xhc3NOYW1lID0gZW5hYmxlVG9wID8gJyB0b3AnIDogJyc7CiAgICAgICAgdmFyIHRvcExlZnRDbGFzc05hbWUgPSBlbmFibGVMZWZ0IHx8IGVuYWJsZVRvcCA/ICcgdG9wLWxlZnQtY29ybmVyJyA6ICcnOwogICAgICAgIHRoaXMuX2xlZnRTaGFkb3dEb21Ob2RlLnNldENsYXNzTmFtZSgic2hhZG93Ii5jb25jYXQobGVmdENsYXNzTmFtZSkpOwogICAgICAgIHRoaXMuX3RvcFNoYWRvd0RvbU5vZGUuc2V0Q2xhc3NOYW1lKCJzaGFkb3ciLmNvbmNhdCh0b3BDbGFzc05hbWUpKTsKICAgICAgICB0aGlzLl90b3BMZWZ0U2hhZG93RG9tTm9kZS5zZXRDbGFzc05hbWUoInNoYWRvdyIuY29uY2F0KHRvcExlZnRDbGFzc05hbWUpLmNvbmNhdCh0b3BDbGFzc05hbWUpLmNvbmNhdChsZWZ0Q2xhc3NOYW1lKSk7CiAgICAgIH0KICAgIH0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tIGZhZGUgaW4gLyBmYWRlIG91dCAtLS0tLS0tLS0tLS0tLS0tLS0tLQogIH0sIHsKICAgIGtleTogIl9vbkRyYWdTdGFydCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX29uRHJhZ1N0YXJ0KCkgewogICAgICB0aGlzLl9pc0RyYWdnaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5fcmV2ZWFsKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX29uRHJhZ0VuZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX29uRHJhZ0VuZCgpIHsKICAgICAgdGhpcy5faXNEcmFnZ2luZyA9IGZhbHNlOwogICAgICB0aGlzLl9oaWRlKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX29uTW91c2VMZWF2ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX29uTW91c2VMZWF2ZShlKSB7CiAgICAgIHRoaXMuX21vdXNlSXNPdmVyID0gZmFsc2U7CiAgICAgIHRoaXMuX2hpZGUoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfb25Nb3VzZU92ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9vbk1vdXNlT3ZlcihlKSB7CiAgICAgIHRoaXMuX21vdXNlSXNPdmVyID0gdHJ1ZTsKICAgICAgdGhpcy5fcmV2ZWFsKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX3JldmVhbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3JldmVhbCgpIHsKICAgICAgdGhpcy5fdmVydGljYWxTY3JvbGxiYXIuYmVnaW5SZXZlYWwoKTsKICAgICAgdGhpcy5faG9yaXpvbnRhbFNjcm9sbGJhci5iZWdpblJldmVhbCgpOwogICAgICB0aGlzLl9zY2hlZHVsZUhpZGUoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfaGlkZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2hpZGUoKSB7CiAgICAgIGlmICghdGhpcy5fbW91c2VJc092ZXIgJiYgIXRoaXMuX2lzRHJhZ2dpbmcpIHsKICAgICAgICB0aGlzLl92ZXJ0aWNhbFNjcm9sbGJhci5iZWdpbkhpZGUoKTsKICAgICAgICB0aGlzLl9ob3Jpem9udGFsU2Nyb2xsYmFyLmJlZ2luSGlkZSgpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiX3NjaGVkdWxlSGlkZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3NjaGVkdWxlSGlkZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIGlmICghdGhpcy5fbW91c2VJc092ZXIgJiYgIXRoaXMuX2lzRHJhZ2dpbmcpIHsKICAgICAgICB0aGlzLl9oaWRlVGltZW91dC5jYW5jZWxBbmRTZXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzMy5faGlkZSgpOwogICAgICAgIH0sIEhJREVfVElNRU9VVCk7CiAgICAgIH0KICAgIH0KICB9XSk7CiAgcmV0dXJuIEFic3RyYWN0U2Nyb2xsYWJsZUVsZW1lbnQ7Cn0oV2lkZ2V0KTsKZXhwb3J0IHZhciBTY3JvbGxhYmxlRWxlbWVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Fic3RyYWN0U2Nyb2xsYWJsZUVsKSB7CiAgX2luaGVyaXRzKFNjcm9sbGFibGVFbGVtZW50LCBfQWJzdHJhY3RTY3JvbGxhYmxlRWwpOwogIHZhciBfc3VwZXIyID0gX2NyZWF0ZVN1cGVyKFNjcm9sbGFibGVFbGVtZW50KTsKICBmdW5jdGlvbiBTY3JvbGxhYmxlRWxlbWVudChlbGVtZW50LCBvcHRpb25zKSB7CiAgICB2YXIgX3RoaXM0OwogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNjcm9sbGFibGVFbGVtZW50KTsKICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgb3B0aW9ucy5tb3VzZVdoZWVsU21vb3RoU2Nyb2xsID0gZmFsc2U7CiAgICB2YXIgc2Nyb2xsYWJsZSA9IG5ldyBTY3JvbGxhYmxlKHsKICAgICAgZm9yY2VJbnRlZ2VyVmFsdWVzOiB0cnVlLAogICAgICBzbW9vdGhTY3JvbGxEdXJhdGlvbjogMCwKICAgICAgc2NoZWR1bGVBdE5leHRBbmltYXRpb25GcmFtZTogZnVuY3Rpb24gc2NoZWR1bGVBdE5leHRBbmltYXRpb25GcmFtZShjYWxsYmFjaykgewogICAgICAgIHJldHVybiBkb20uc2NoZWR1bGVBdE5leHRBbmltYXRpb25GcmFtZShjYWxsYmFjayk7CiAgICAgIH0KICAgIH0pOwogICAgX3RoaXM0ID0gX3N1cGVyMi5jYWxsKHRoaXMsIGVsZW1lbnQsIG9wdGlvbnMsIHNjcm9sbGFibGUpOwogICAgX3RoaXM0Ll9yZWdpc3RlcihzY3JvbGxhYmxlKTsKICAgIHJldHVybiBfdGhpczQ7CiAgfQogIF9jcmVhdGVDbGFzcyhTY3JvbGxhYmxlRWxlbWVudCwgW3sKICAgIGtleTogInNldFNjcm9sbFBvc2l0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTY3JvbGxQb3NpdGlvbih1cGRhdGUpIHsKICAgICAgdGhpcy5fc2Nyb2xsYWJsZS5zZXRTY3JvbGxQb3NpdGlvbk5vdyh1cGRhdGUpOwogICAgfQogIH1dKTsKICByZXR1cm4gU2Nyb2xsYWJsZUVsZW1lbnQ7Cn0oQWJzdHJhY3RTY3JvbGxhYmxlRWxlbWVudCk7CmV4cG9ydCB2YXIgU21vb3RoU2Nyb2xsYWJsZUVsZW1lbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9BYnN0cmFjdFNjcm9sbGFibGVFbDIpIHsKICBfaW5oZXJpdHMoU21vb3RoU2Nyb2xsYWJsZUVsZW1lbnQsIF9BYnN0cmFjdFNjcm9sbGFibGVFbDIpOwogIHZhciBfc3VwZXIzID0gX2NyZWF0ZVN1cGVyKFNtb290aFNjcm9sbGFibGVFbGVtZW50KTsKICBmdW5jdGlvbiBTbW9vdGhTY3JvbGxhYmxlRWxlbWVudChlbGVtZW50LCBvcHRpb25zLCBzY3JvbGxhYmxlKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU21vb3RoU2Nyb2xsYWJsZUVsZW1lbnQpOwogICAgcmV0dXJuIF9zdXBlcjMuY2FsbCh0aGlzLCBlbGVtZW50LCBvcHRpb25zLCBzY3JvbGxhYmxlKTsKICB9CiAgX2NyZWF0ZUNsYXNzKFNtb290aFNjcm9sbGFibGVFbGVtZW50LCBbewogICAga2V5OiAic2V0U2Nyb2xsUG9zaXRpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNjcm9sbFBvc2l0aW9uKHVwZGF0ZSkgewogICAgICBpZiAodXBkYXRlLnJldXNlQW5pbWF0aW9uKSB7CiAgICAgICAgdGhpcy5fc2Nyb2xsYWJsZS5zZXRTY3JvbGxQb3NpdGlvblNtb290aCh1cGRhdGUsIHVwZGF0ZS5yZXVzZUFuaW1hdGlvbik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5fc2Nyb2xsYWJsZS5zZXRTY3JvbGxQb3NpdGlvbk5vdyh1cGRhdGUpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0U2Nyb2xsUG9zaXRpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNjcm9sbFBvc2l0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsYWJsZS5nZXRDdXJyZW50U2Nyb2xsUG9zaXRpb24oKTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIFNtb290aFNjcm9sbGFibGVFbGVtZW50Owp9KEFic3RyYWN0U2Nyb2xsYWJsZUVsZW1lbnQpOwpleHBvcnQgdmFyIERvbVNjcm9sbGFibGVFbGVtZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQWJzdHJhY3RTY3JvbGxhYmxlRWwzKSB7CiAgX2luaGVyaXRzKERvbVNjcm9sbGFibGVFbGVtZW50LCBfQWJzdHJhY3RTY3JvbGxhYmxlRWwzKTsKICB2YXIgX3N1cGVyNCA9IF9jcmVhdGVTdXBlcihEb21TY3JvbGxhYmxlRWxlbWVudCk7CiAgZnVuY3Rpb24gRG9tU2Nyb2xsYWJsZUVsZW1lbnQoZWxlbWVudCwgb3B0aW9ucykgewogICAgdmFyIF90aGlzNTsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEb21TY3JvbGxhYmxlRWxlbWVudCk7CiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKICAgIG9wdGlvbnMubW91c2VXaGVlbFNtb290aFNjcm9sbCA9IGZhbHNlOwogICAgdmFyIHNjcm9sbGFibGUgPSBuZXcgU2Nyb2xsYWJsZSh7CiAgICAgIGZvcmNlSW50ZWdlclZhbHVlczogZmFsc2UsCiAgICAgIHNtb290aFNjcm9sbER1cmF0aW9uOiAwLAogICAgICBzY2hlZHVsZUF0TmV4dEFuaW1hdGlvbkZyYW1lOiBmdW5jdGlvbiBzY2hlZHVsZUF0TmV4dEFuaW1hdGlvbkZyYW1lKGNhbGxiYWNrKSB7CiAgICAgICAgcmV0dXJuIGRvbS5zY2hlZHVsZUF0TmV4dEFuaW1hdGlvbkZyYW1lKGNhbGxiYWNrKTsKICAgICAgfQogICAgfSk7CiAgICBfdGhpczUgPSBfc3VwZXI0LmNhbGwodGhpcywgZWxlbWVudCwgb3B0aW9ucywgc2Nyb2xsYWJsZSk7CiAgICBfdGhpczUuX3JlZ2lzdGVyKHNjcm9sbGFibGUpOwogICAgX3RoaXM1Ll9lbGVtZW50ID0gZWxlbWVudDsKICAgIF90aGlzNS5vblNjcm9sbChmdW5jdGlvbiAoZSkgewogICAgICBpZiAoZS5zY3JvbGxUb3BDaGFuZ2VkKSB7CiAgICAgICAgX3RoaXM1Ll9lbGVtZW50LnNjcm9sbFRvcCA9IGUuc2Nyb2xsVG9wOwogICAgICB9CiAgICAgIGlmIChlLnNjcm9sbExlZnRDaGFuZ2VkKSB7CiAgICAgICAgX3RoaXM1Ll9lbGVtZW50LnNjcm9sbExlZnQgPSBlLnNjcm9sbExlZnQ7CiAgICAgIH0KICAgIH0pOwogICAgX3RoaXM1LnNjYW5Eb21Ob2RlKCk7CiAgICByZXR1cm4gX3RoaXM1OwogIH0KICBfY3JlYXRlQ2xhc3MoRG9tU2Nyb2xsYWJsZUVsZW1lbnQsIFt7CiAgICBrZXk6ICJzZXRTY3JvbGxQb3NpdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U2Nyb2xsUG9zaXRpb24odXBkYXRlKSB7CiAgICAgIHRoaXMuX3Njcm9sbGFibGUuc2V0U2Nyb2xsUG9zaXRpb25Ob3codXBkYXRlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRTY3JvbGxQb3NpdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2Nyb2xsUG9zaXRpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxhYmxlLmdldEN1cnJlbnRTY3JvbGxQb3NpdGlvbigpOwogICAgfQogIH0sIHsKICAgIGtleTogInNjYW5Eb21Ob2RlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzY2FuRG9tTm9kZSgpIHsKICAgICAgLy8gd2lkdGgsIHNjcm9sbExlZnQsIHNjcm9sbFdpZHRoLCBoZWlnaHQsIHNjcm9sbFRvcCwgc2Nyb2xsSGVpZ2h0CiAgICAgIHRoaXMuc2V0U2Nyb2xsRGltZW5zaW9ucyh7CiAgICAgICAgd2lkdGg6IHRoaXMuX2VsZW1lbnQuY2xpZW50V2lkdGgsCiAgICAgICAgc2Nyb2xsV2lkdGg6IHRoaXMuX2VsZW1lbnQuc2Nyb2xsV2lkdGgsCiAgICAgICAgaGVpZ2h0OiB0aGlzLl9lbGVtZW50LmNsaWVudEhlaWdodCwKICAgICAgICBzY3JvbGxIZWlnaHQ6IHRoaXMuX2VsZW1lbnQuc2Nyb2xsSGVpZ2h0CiAgICAgIH0pOwogICAgICB0aGlzLnNldFNjcm9sbFBvc2l0aW9uKHsKICAgICAgICBzY3JvbGxMZWZ0OiB0aGlzLl9lbGVtZW50LnNjcm9sbExlZnQsCiAgICAgICAgc2Nyb2xsVG9wOiB0aGlzLl9lbGVtZW50LnNjcm9sbFRvcAogICAgICB9KTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIERvbVNjcm9sbGFibGVFbGVtZW50Owp9KEFic3RyYWN0U2Nyb2xsYWJsZUVsZW1lbnQpOwpmdW5jdGlvbiByZXNvbHZlT3B0aW9ucyhvcHRzKSB7CiAgdmFyIHJlc3VsdCA9IHsKICAgIGxhenlSZW5kZXI6IHR5cGVvZiBvcHRzLmxhenlSZW5kZXIgIT09ICd1bmRlZmluZWQnID8gb3B0cy5sYXp5UmVuZGVyIDogZmFsc2UsCiAgICBjbGFzc05hbWU6IHR5cGVvZiBvcHRzLmNsYXNzTmFtZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRzLmNsYXNzTmFtZSA6ICcnLAogICAgdXNlU2hhZG93czogdHlwZW9mIG9wdHMudXNlU2hhZG93cyAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRzLnVzZVNoYWRvd3MgOiB0cnVlLAogICAgaGFuZGxlTW91c2VXaGVlbDogdHlwZW9mIG9wdHMuaGFuZGxlTW91c2VXaGVlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRzLmhhbmRsZU1vdXNlV2hlZWwgOiB0cnVlLAogICAgZmxpcEF4ZXM6IHR5cGVvZiBvcHRzLmZsaXBBeGVzICE9PSAndW5kZWZpbmVkJyA/IG9wdHMuZmxpcEF4ZXMgOiBmYWxzZSwKICAgIGNvbnN1bWVNb3VzZVdoZWVsSWZTY3JvbGxiYXJJc05lZWRlZDogdHlwZW9mIG9wdHMuY29uc3VtZU1vdXNlV2hlZWxJZlNjcm9sbGJhcklzTmVlZGVkICE9PSAndW5kZWZpbmVkJyA/IG9wdHMuY29uc3VtZU1vdXNlV2hlZWxJZlNjcm9sbGJhcklzTmVlZGVkIDogZmFsc2UsCiAgICBhbHdheXNDb25zdW1lTW91c2VXaGVlbDogdHlwZW9mIG9wdHMuYWx3YXlzQ29uc3VtZU1vdXNlV2hlZWwgIT09ICd1bmRlZmluZWQnID8gb3B0cy5hbHdheXNDb25zdW1lTW91c2VXaGVlbCA6IGZhbHNlLAogICAgc2Nyb2xsWVRvWDogdHlwZW9mIG9wdHMuc2Nyb2xsWVRvWCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRzLnNjcm9sbFlUb1ggOiBmYWxzZSwKICAgIG1vdXNlV2hlZWxTY3JvbGxTZW5zaXRpdml0eTogdHlwZW9mIG9wdHMubW91c2VXaGVlbFNjcm9sbFNlbnNpdGl2aXR5ICE9PSAndW5kZWZpbmVkJyA/IG9wdHMubW91c2VXaGVlbFNjcm9sbFNlbnNpdGl2aXR5IDogMSwKICAgIGZhc3RTY3JvbGxTZW5zaXRpdml0eTogdHlwZW9mIG9wdHMuZmFzdFNjcm9sbFNlbnNpdGl2aXR5ICE9PSAndW5kZWZpbmVkJyA/IG9wdHMuZmFzdFNjcm9sbFNlbnNpdGl2aXR5IDogNSwKICAgIHNjcm9sbFByZWRvbWluYW50QXhpczogdHlwZW9mIG9wdHMuc2Nyb2xsUHJlZG9taW5hbnRBeGlzICE9PSAndW5kZWZpbmVkJyA/IG9wdHMuc2Nyb2xsUHJlZG9taW5hbnRBeGlzIDogdHJ1ZSwKICAgIG1vdXNlV2hlZWxTbW9vdGhTY3JvbGw6IHR5cGVvZiBvcHRzLm1vdXNlV2hlZWxTbW9vdGhTY3JvbGwgIT09ICd1bmRlZmluZWQnID8gb3B0cy5tb3VzZVdoZWVsU21vb3RoU2Nyb2xsIDogdHJ1ZSwKICAgIGFycm93U2l6ZTogdHlwZW9mIG9wdHMuYXJyb3dTaXplICE9PSAndW5kZWZpbmVkJyA/IG9wdHMuYXJyb3dTaXplIDogMTEsCiAgICBsaXN0ZW5PbkRvbU5vZGU6IHR5cGVvZiBvcHRzLmxpc3Rlbk9uRG9tTm9kZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRzLmxpc3Rlbk9uRG9tTm9kZSA6IG51bGwsCiAgICBob3Jpem9udGFsOiB0eXBlb2Ygb3B0cy5ob3Jpem9udGFsICE9PSAndW5kZWZpbmVkJyA/IG9wdHMuaG9yaXpvbnRhbCA6IDEgLyogU2Nyb2xsYmFyVmlzaWJpbGl0eS5BdXRvICovLAogICAgaG9yaXpvbnRhbFNjcm9sbGJhclNpemU6IHR5cGVvZiBvcHRzLmhvcml6b250YWxTY3JvbGxiYXJTaXplICE9PSAndW5kZWZpbmVkJyA/IG9wdHMuaG9yaXpvbnRhbFNjcm9sbGJhclNpemUgOiAxMCwKICAgIGhvcml6b250YWxTbGlkZXJTaXplOiB0eXBlb2Ygb3B0cy5ob3Jpem9udGFsU2xpZGVyU2l6ZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRzLmhvcml6b250YWxTbGlkZXJTaXplIDogMCwKICAgIGhvcml6b250YWxIYXNBcnJvd3M6IHR5cGVvZiBvcHRzLmhvcml6b250YWxIYXNBcnJvd3MgIT09ICd1bmRlZmluZWQnID8gb3B0cy5ob3Jpem9udGFsSGFzQXJyb3dzIDogZmFsc2UsCiAgICB2ZXJ0aWNhbDogdHlwZW9mIG9wdHMudmVydGljYWwgIT09ICd1bmRlZmluZWQnID8gb3B0cy52ZXJ0aWNhbCA6IDEgLyogU2Nyb2xsYmFyVmlzaWJpbGl0eS5BdXRvICovLAogICAgdmVydGljYWxTY3JvbGxiYXJTaXplOiB0eXBlb2Ygb3B0cy52ZXJ0aWNhbFNjcm9sbGJhclNpemUgIT09ICd1bmRlZmluZWQnID8gb3B0cy52ZXJ0aWNhbFNjcm9sbGJhclNpemUgOiAxMCwKICAgIHZlcnRpY2FsSGFzQXJyb3dzOiB0eXBlb2Ygb3B0cy52ZXJ0aWNhbEhhc0Fycm93cyAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRzLnZlcnRpY2FsSGFzQXJyb3dzIDogZmFsc2UsCiAgICB2ZXJ0aWNhbFNsaWRlclNpemU6IHR5cGVvZiBvcHRzLnZlcnRpY2FsU2xpZGVyU2l6ZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRzLnZlcnRpY2FsU2xpZGVyU2l6ZSA6IDAsCiAgICBzY3JvbGxCeVBhZ2U6IHR5cGVvZiBvcHRzLnNjcm9sbEJ5UGFnZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRzLnNjcm9sbEJ5UGFnZSA6IGZhbHNlCiAgfTsKICByZXN1bHQuaG9yaXpvbnRhbFNsaWRlclNpemUgPSB0eXBlb2Ygb3B0cy5ob3Jpem9udGFsU2xpZGVyU2l6ZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRzLmhvcml6b250YWxTbGlkZXJTaXplIDogcmVzdWx0Lmhvcml6b250YWxTY3JvbGxiYXJTaXplOwogIHJlc3VsdC52ZXJ0aWNhbFNsaWRlclNpemUgPSB0eXBlb2Ygb3B0cy52ZXJ0aWNhbFNsaWRlclNpemUgIT09ICd1bmRlZmluZWQnID8gb3B0cy52ZXJ0aWNhbFNsaWRlclNpemUgOiByZXN1bHQudmVydGljYWxTY3JvbGxiYXJTaXplOwogIC8vIERlZmF1bHRzIGFyZSBkaWZmZXJlbnQgb24gTWFjcwogIGlmIChwbGF0Zm9ybS5pc01hY2ludG9zaCkgewogICAgcmVzdWx0LmNsYXNzTmFtZSArPSAnIG1hYyc7CiAgfQogIHJldHVybiByZXN1bHQ7Cn0="},{"version":3,"names":["getZoomFactor","dom","createFastDomNode","StandardWheelEvent","HorizontalScrollbar","VerticalScrollbar","Widget","TimeoutTimer","Emitter","dispose","platform","Scrollable","HIDE_TIMEOUT","SCROLL_WHEEL_SENSITIVITY","SCROLL_WHEEL_SMOOTH_SCROLL_ENABLED","MouseWheelClassifierItem","timestamp","deltaX","deltaY","score","MouseWheelClassifier","_capacity","_memory","_front","_rear","remainingInfluence","iteration","index","influence","Math","pow","item","_computeScore","abs","prev","_isAlmostInt","min","max","value","delta","round","INSTANCE","AbstractScrollableElement","element","options","scrollable","_onScroll","_register","onScroll","event","_onWillScroll","style","overflow","_options","resolveOptions","_scrollable","e","fire","_onDidScroll","scrollbarHost","onMouseWheel","mouseWheelEvent","_onMouseWheel","onDragStart","_onDragStart","onDragEnd","_onDragEnd","_verticalScrollbar","_horizontalScrollbar","_domNode","document","createElement","className","setAttribute","position","appendChild","domNode","useShadows","_leftShadowDomNode","setClassName","_topShadowDomNode","_topLeftShadowDomNode","_listenOnDomNode","listenOnDomNode","_mouseWheelToDispose","_setListeningToMouseWheel","handleMouseWheel","onmouseover","_onMouseOver","onmouseleave","_onMouseLeave","_hideTimeout","_isDragging","_mouseIsOver","_shouldRender","_revealOnScroll","parent","insertBefore","browserEvent","delegatePointerDown","getScrollDimensions","dimensions","setScrollDimensions","newClassName","isMacintosh","newOptions","mouseWheelScrollSensitivity","fastScrollSensitivity","scrollPredominantAxis","horizontal","vertical","horizontalScrollbarSize","verticalScrollbarSize","scrollByPage","updateOptions","lazyRender","_render","shouldListen","isListening","length","push","addDisposableListener","EventType","MOUSE_WHEEL","passive","classifier","osZoomFactor","window","devicePixelRatio","isWindows","isLinux","accept","Date","now","didScroll","flipAxes","shiftConvert","shiftKey","scrollYToX","altKey","futureScrollPosition","getFutureScrollPosition","desiredScrollPosition","deltaScrollTop","desiredScrollTop","scrollTop","floor","ceil","writeScrollPosition","deltaScrollLeft","desiredScrollLeft","scrollLeft","validateScrollPosition","canPerformSmoothScroll","mouseWheelSmoothScroll","isPhysicalMouseWheel","setScrollPositionSmooth","setScrollPositionNow","consumeMouseWheel","alwaysConsumeMouseWheel","consumeMouseWheelIfScrollbarIsNeeded","isNeeded","preventDefault","stopPropagation","onDidScroll","_reveal","Error","render","scrollState","getCurrentScrollPosition","enableTop","enableLeft","leftClassName","topClassName","topLeftClassName","_hide","beginReveal","_scheduleHide","beginHide","cancelAndSet","ScrollableElement","forceIntegerValues","smoothScrollDuration","scheduleAtNextAnimationFrame","callback","update","SmoothScrollableElement","reuseAnimation","DomScrollableElement","_element","scrollTopChanged","scrollLeftChanged","scanDomNode","width","clientWidth","scrollWidth","height","clientHeight","scrollHeight","setScrollPosition","opts","result","arrowSize","horizontalSliderSize","horizontalHasArrows","verticalHasArrows","verticalSliderSize"],"sources":["/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/base/browser/ui/scrollbar/scrollableElement.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { getZoomFactor } from '../../browser.js';\nimport * as dom from '../../dom.js';\nimport { createFastDomNode } from '../../fastDomNode.js';\nimport { StandardWheelEvent } from '../../mouseEvent.js';\nimport { HorizontalScrollbar } from './horizontalScrollbar.js';\nimport { VerticalScrollbar } from './verticalScrollbar.js';\nimport { Widget } from '../widget.js';\nimport { TimeoutTimer } from '../../../common/async.js';\nimport { Emitter } from '../../../common/event.js';\nimport { dispose } from '../../../common/lifecycle.js';\nimport * as platform from '../../../common/platform.js';\nimport { Scrollable } from '../../../common/scrollable.js';\nimport './media/scrollbars.css';\nconst HIDE_TIMEOUT = 500;\nconst SCROLL_WHEEL_SENSITIVITY = 50;\nconst SCROLL_WHEEL_SMOOTH_SCROLL_ENABLED = true;\nclass MouseWheelClassifierItem {\n    constructor(timestamp, deltaX, deltaY) {\n        this.timestamp = timestamp;\n        this.deltaX = deltaX;\n        this.deltaY = deltaY;\n        this.score = 0;\n    }\n}\nexport class MouseWheelClassifier {\n    constructor() {\n        this._capacity = 5;\n        this._memory = [];\n        this._front = -1;\n        this._rear = -1;\n    }\n    isPhysicalMouseWheel() {\n        if (this._front === -1 && this._rear === -1) {\n            // no elements\n            return false;\n        }\n        // 0.5 * last + 0.25 * 2nd last + 0.125 * 3rd last + ...\n        let remainingInfluence = 1;\n        let score = 0;\n        let iteration = 1;\n        let index = this._rear;\n        do {\n            const influence = (index === this._front ? remainingInfluence : Math.pow(2, -iteration));\n            remainingInfluence -= influence;\n            score += this._memory[index].score * influence;\n            if (index === this._front) {\n                break;\n            }\n            index = (this._capacity + index - 1) % this._capacity;\n            iteration++;\n        } while (true);\n        return (score <= 0.5);\n    }\n    accept(timestamp, deltaX, deltaY) {\n        const item = new MouseWheelClassifierItem(timestamp, deltaX, deltaY);\n        item.score = this._computeScore(item);\n        if (this._front === -1 && this._rear === -1) {\n            this._memory[0] = item;\n            this._front = 0;\n            this._rear = 0;\n        }\n        else {\n            this._rear = (this._rear + 1) % this._capacity;\n            if (this._rear === this._front) {\n                // Drop oldest\n                this._front = (this._front + 1) % this._capacity;\n            }\n            this._memory[this._rear] = item;\n        }\n    }\n    /**\n     * A score between 0 and 1 for `item`.\n     *  - a score towards 0 indicates that the source appears to be a physical mouse wheel\n     *  - a score towards 1 indicates that the source appears to be a touchpad or magic mouse, etc.\n     */\n    _computeScore(item) {\n        if (Math.abs(item.deltaX) > 0 && Math.abs(item.deltaY) > 0) {\n            // both axes exercised => definitely not a physical mouse wheel\n            return 1;\n        }\n        let score = 0.5;\n        const prev = (this._front === -1 && this._rear === -1 ? null : this._memory[this._rear]);\n        if (prev) {\n            // const deltaT = item.timestamp - prev.timestamp;\n            // if (deltaT < 1000 / 30) {\n            // \t// sooner than X times per second => indicator that this is not a physical mouse wheel\n            // \tscore += 0.25;\n            // }\n            // if (item.deltaX === prev.deltaX && item.deltaY === prev.deltaY) {\n            // \t// equal amplitude => indicator that this is a physical mouse wheel\n            // \tscore -= 0.25;\n            // }\n        }\n        if (!this._isAlmostInt(item.deltaX) || !this._isAlmostInt(item.deltaY)) {\n            // non-integer deltas => indicator that this is not a physical mouse wheel\n            score += 0.25;\n        }\n        return Math.min(Math.max(score, 0), 1);\n    }\n    _isAlmostInt(value) {\n        const delta = Math.abs(Math.round(value) - value);\n        return (delta < 0.01);\n    }\n}\nMouseWheelClassifier.INSTANCE = new MouseWheelClassifier();\nexport class AbstractScrollableElement extends Widget {\n    constructor(element, options, scrollable) {\n        super();\n        this._onScroll = this._register(new Emitter());\n        this.onScroll = this._onScroll.event;\n        this._onWillScroll = this._register(new Emitter());\n        element.style.overflow = 'hidden';\n        this._options = resolveOptions(options);\n        this._scrollable = scrollable;\n        this._register(this._scrollable.onScroll((e) => {\n            this._onWillScroll.fire(e);\n            this._onDidScroll(e);\n            this._onScroll.fire(e);\n        }));\n        const scrollbarHost = {\n            onMouseWheel: (mouseWheelEvent) => this._onMouseWheel(mouseWheelEvent),\n            onDragStart: () => this._onDragStart(),\n            onDragEnd: () => this._onDragEnd(),\n        };\n        this._verticalScrollbar = this._register(new VerticalScrollbar(this._scrollable, this._options, scrollbarHost));\n        this._horizontalScrollbar = this._register(new HorizontalScrollbar(this._scrollable, this._options, scrollbarHost));\n        this._domNode = document.createElement('div');\n        this._domNode.className = 'monaco-scrollable-element ' + this._options.className;\n        this._domNode.setAttribute('role', 'presentation');\n        this._domNode.style.position = 'relative';\n        this._domNode.style.overflow = 'hidden';\n        this._domNode.appendChild(element);\n        this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode);\n        this._domNode.appendChild(this._verticalScrollbar.domNode.domNode);\n        if (this._options.useShadows) {\n            this._leftShadowDomNode = createFastDomNode(document.createElement('div'));\n            this._leftShadowDomNode.setClassName('shadow');\n            this._domNode.appendChild(this._leftShadowDomNode.domNode);\n            this._topShadowDomNode = createFastDomNode(document.createElement('div'));\n            this._topShadowDomNode.setClassName('shadow');\n            this._domNode.appendChild(this._topShadowDomNode.domNode);\n            this._topLeftShadowDomNode = createFastDomNode(document.createElement('div'));\n            this._topLeftShadowDomNode.setClassName('shadow');\n            this._domNode.appendChild(this._topLeftShadowDomNode.domNode);\n        }\n        else {\n            this._leftShadowDomNode = null;\n            this._topShadowDomNode = null;\n            this._topLeftShadowDomNode = null;\n        }\n        this._listenOnDomNode = this._options.listenOnDomNode || this._domNode;\n        this._mouseWheelToDispose = [];\n        this._setListeningToMouseWheel(this._options.handleMouseWheel);\n        this.onmouseover(this._listenOnDomNode, (e) => this._onMouseOver(e));\n        this.onmouseleave(this._listenOnDomNode, (e) => this._onMouseLeave(e));\n        this._hideTimeout = this._register(new TimeoutTimer());\n        this._isDragging = false;\n        this._mouseIsOver = false;\n        this._shouldRender = true;\n        this._revealOnScroll = true;\n    }\n    get options() {\n        return this._options;\n    }\n    dispose() {\n        this._mouseWheelToDispose = dispose(this._mouseWheelToDispose);\n        super.dispose();\n    }\n    /**\n     * Get the generated 'scrollable' dom node\n     */\n    getDomNode() {\n        return this._domNode;\n    }\n    getOverviewRulerLayoutInfo() {\n        return {\n            parent: this._domNode,\n            insertBefore: this._verticalScrollbar.domNode.domNode,\n        };\n    }\n    /**\n     * Delegate a pointer down event to the vertical scrollbar.\n     * This is to help with clicking somewhere else and having the scrollbar react.\n     */\n    delegateVerticalScrollbarPointerDown(browserEvent) {\n        this._verticalScrollbar.delegatePointerDown(browserEvent);\n    }\n    getScrollDimensions() {\n        return this._scrollable.getScrollDimensions();\n    }\n    setScrollDimensions(dimensions) {\n        this._scrollable.setScrollDimensions(dimensions, false);\n    }\n    /**\n     * Update the class name of the scrollable element.\n     */\n    updateClassName(newClassName) {\n        this._options.className = newClassName;\n        // Defaults are different on Macs\n        if (platform.isMacintosh) {\n            this._options.className += ' mac';\n        }\n        this._domNode.className = 'monaco-scrollable-element ' + this._options.className;\n    }\n    /**\n     * Update configuration options for the scrollbar.\n     */\n    updateOptions(newOptions) {\n        if (typeof newOptions.handleMouseWheel !== 'undefined') {\n            this._options.handleMouseWheel = newOptions.handleMouseWheel;\n            this._setListeningToMouseWheel(this._options.handleMouseWheel);\n        }\n        if (typeof newOptions.mouseWheelScrollSensitivity !== 'undefined') {\n            this._options.mouseWheelScrollSensitivity = newOptions.mouseWheelScrollSensitivity;\n        }\n        if (typeof newOptions.fastScrollSensitivity !== 'undefined') {\n            this._options.fastScrollSensitivity = newOptions.fastScrollSensitivity;\n        }\n        if (typeof newOptions.scrollPredominantAxis !== 'undefined') {\n            this._options.scrollPredominantAxis = newOptions.scrollPredominantAxis;\n        }\n        if (typeof newOptions.horizontal !== 'undefined') {\n            this._options.horizontal = newOptions.horizontal;\n        }\n        if (typeof newOptions.vertical !== 'undefined') {\n            this._options.vertical = newOptions.vertical;\n        }\n        if (typeof newOptions.horizontalScrollbarSize !== 'undefined') {\n            this._options.horizontalScrollbarSize = newOptions.horizontalScrollbarSize;\n        }\n        if (typeof newOptions.verticalScrollbarSize !== 'undefined') {\n            this._options.verticalScrollbarSize = newOptions.verticalScrollbarSize;\n        }\n        if (typeof newOptions.scrollByPage !== 'undefined') {\n            this._options.scrollByPage = newOptions.scrollByPage;\n        }\n        this._horizontalScrollbar.updateOptions(this._options);\n        this._verticalScrollbar.updateOptions(this._options);\n        if (!this._options.lazyRender) {\n            this._render();\n        }\n    }\n    // -------------------- mouse wheel scrolling --------------------\n    _setListeningToMouseWheel(shouldListen) {\n        const isListening = (this._mouseWheelToDispose.length > 0);\n        if (isListening === shouldListen) {\n            // No change\n            return;\n        }\n        // Stop listening (if necessary)\n        this._mouseWheelToDispose = dispose(this._mouseWheelToDispose);\n        // Start listening (if necessary)\n        if (shouldListen) {\n            const onMouseWheel = (browserEvent) => {\n                this._onMouseWheel(new StandardWheelEvent(browserEvent));\n            };\n            this._mouseWheelToDispose.push(dom.addDisposableListener(this._listenOnDomNode, dom.EventType.MOUSE_WHEEL, onMouseWheel, { passive: false }));\n        }\n    }\n    _onMouseWheel(e) {\n        const classifier = MouseWheelClassifier.INSTANCE;\n        if (SCROLL_WHEEL_SMOOTH_SCROLL_ENABLED) {\n            const osZoomFactor = window.devicePixelRatio / getZoomFactor();\n            if (platform.isWindows || platform.isLinux) {\n                // On Windows and Linux, the incoming delta events are multiplied with the OS zoom factor.\n                // The OS zoom factor can be reverse engineered by using the device pixel ratio and the configured zoom factor into account.\n                classifier.accept(Date.now(), e.deltaX / osZoomFactor, e.deltaY / osZoomFactor);\n            }\n            else {\n                classifier.accept(Date.now(), e.deltaX, e.deltaY);\n            }\n        }\n        // console.log(`${Date.now()}, ${e.deltaY}, ${e.deltaX}`);\n        let didScroll = false;\n        if (e.deltaY || e.deltaX) {\n            let deltaY = e.deltaY * this._options.mouseWheelScrollSensitivity;\n            let deltaX = e.deltaX * this._options.mouseWheelScrollSensitivity;\n            if (this._options.scrollPredominantAxis) {\n                if (Math.abs(deltaY) >= Math.abs(deltaX)) {\n                    deltaX = 0;\n                }\n                else {\n                    deltaY = 0;\n                }\n            }\n            if (this._options.flipAxes) {\n                [deltaY, deltaX] = [deltaX, deltaY];\n            }\n            // Convert vertical scrolling to horizontal if shift is held, this\n            // is handled at a higher level on Mac\n            const shiftConvert = !platform.isMacintosh && e.browserEvent && e.browserEvent.shiftKey;\n            if ((this._options.scrollYToX || shiftConvert) && !deltaX) {\n                deltaX = deltaY;\n                deltaY = 0;\n            }\n            if (e.browserEvent && e.browserEvent.altKey) {\n                // fastScrolling\n                deltaX = deltaX * this._options.fastScrollSensitivity;\n                deltaY = deltaY * this._options.fastScrollSensitivity;\n            }\n            const futureScrollPosition = this._scrollable.getFutureScrollPosition();\n            let desiredScrollPosition = {};\n            if (deltaY) {\n                const deltaScrollTop = SCROLL_WHEEL_SENSITIVITY * deltaY;\n                // Here we convert values such as -0.3 to -1 or 0.3 to 1, otherwise low speed scrolling will never scroll\n                const desiredScrollTop = futureScrollPosition.scrollTop - (deltaScrollTop < 0 ? Math.floor(deltaScrollTop) : Math.ceil(deltaScrollTop));\n                this._verticalScrollbar.writeScrollPosition(desiredScrollPosition, desiredScrollTop);\n            }\n            if (deltaX) {\n                const deltaScrollLeft = SCROLL_WHEEL_SENSITIVITY * deltaX;\n                // Here we convert values such as -0.3 to -1 or 0.3 to 1, otherwise low speed scrolling will never scroll\n                const desiredScrollLeft = futureScrollPosition.scrollLeft - (deltaScrollLeft < 0 ? Math.floor(deltaScrollLeft) : Math.ceil(deltaScrollLeft));\n                this._horizontalScrollbar.writeScrollPosition(desiredScrollPosition, desiredScrollLeft);\n            }\n            // Check that we are scrolling towards a location which is valid\n            desiredScrollPosition = this._scrollable.validateScrollPosition(desiredScrollPosition);\n            if (futureScrollPosition.scrollLeft !== desiredScrollPosition.scrollLeft || futureScrollPosition.scrollTop !== desiredScrollPosition.scrollTop) {\n                const canPerformSmoothScroll = (SCROLL_WHEEL_SMOOTH_SCROLL_ENABLED\n                    && this._options.mouseWheelSmoothScroll\n                    && classifier.isPhysicalMouseWheel());\n                if (canPerformSmoothScroll) {\n                    this._scrollable.setScrollPositionSmooth(desiredScrollPosition);\n                }\n                else {\n                    this._scrollable.setScrollPositionNow(desiredScrollPosition);\n                }\n                didScroll = true;\n            }\n        }\n        let consumeMouseWheel = didScroll;\n        if (!consumeMouseWheel && this._options.alwaysConsumeMouseWheel) {\n            consumeMouseWheel = true;\n        }\n        if (!consumeMouseWheel && this._options.consumeMouseWheelIfScrollbarIsNeeded && (this._verticalScrollbar.isNeeded() || this._horizontalScrollbar.isNeeded())) {\n            consumeMouseWheel = true;\n        }\n        if (consumeMouseWheel) {\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    }\n    _onDidScroll(e) {\n        this._shouldRender = this._horizontalScrollbar.onDidScroll(e) || this._shouldRender;\n        this._shouldRender = this._verticalScrollbar.onDidScroll(e) || this._shouldRender;\n        if (this._options.useShadows) {\n            this._shouldRender = true;\n        }\n        if (this._revealOnScroll) {\n            this._reveal();\n        }\n        if (!this._options.lazyRender) {\n            this._render();\n        }\n    }\n    /**\n     * Render / mutate the DOM now.\n     * Should be used together with the ctor option `lazyRender`.\n     */\n    renderNow() {\n        if (!this._options.lazyRender) {\n            throw new Error('Please use `lazyRender` together with `renderNow`!');\n        }\n        this._render();\n    }\n    _render() {\n        if (!this._shouldRender) {\n            return;\n        }\n        this._shouldRender = false;\n        this._horizontalScrollbar.render();\n        this._verticalScrollbar.render();\n        if (this._options.useShadows) {\n            const scrollState = this._scrollable.getCurrentScrollPosition();\n            const enableTop = scrollState.scrollTop > 0;\n            const enableLeft = scrollState.scrollLeft > 0;\n            const leftClassName = (enableLeft ? ' left' : '');\n            const topClassName = (enableTop ? ' top' : '');\n            const topLeftClassName = (enableLeft || enableTop ? ' top-left-corner' : '');\n            this._leftShadowDomNode.setClassName(`shadow${leftClassName}`);\n            this._topShadowDomNode.setClassName(`shadow${topClassName}`);\n            this._topLeftShadowDomNode.setClassName(`shadow${topLeftClassName}${topClassName}${leftClassName}`);\n        }\n    }\n    // -------------------- fade in / fade out --------------------\n    _onDragStart() {\n        this._isDragging = true;\n        this._reveal();\n    }\n    _onDragEnd() {\n        this._isDragging = false;\n        this._hide();\n    }\n    _onMouseLeave(e) {\n        this._mouseIsOver = false;\n        this._hide();\n    }\n    _onMouseOver(e) {\n        this._mouseIsOver = true;\n        this._reveal();\n    }\n    _reveal() {\n        this._verticalScrollbar.beginReveal();\n        this._horizontalScrollbar.beginReveal();\n        this._scheduleHide();\n    }\n    _hide() {\n        if (!this._mouseIsOver && !this._isDragging) {\n            this._verticalScrollbar.beginHide();\n            this._horizontalScrollbar.beginHide();\n        }\n    }\n    _scheduleHide() {\n        if (!this._mouseIsOver && !this._isDragging) {\n            this._hideTimeout.cancelAndSet(() => this._hide(), HIDE_TIMEOUT);\n        }\n    }\n}\nexport class ScrollableElement extends AbstractScrollableElement {\n    constructor(element, options) {\n        options = options || {};\n        options.mouseWheelSmoothScroll = false;\n        const scrollable = new Scrollable({\n            forceIntegerValues: true,\n            smoothScrollDuration: 0,\n            scheduleAtNextAnimationFrame: (callback) => dom.scheduleAtNextAnimationFrame(callback)\n        });\n        super(element, options, scrollable);\n        this._register(scrollable);\n    }\n    setScrollPosition(update) {\n        this._scrollable.setScrollPositionNow(update);\n    }\n}\nexport class SmoothScrollableElement extends AbstractScrollableElement {\n    constructor(element, options, scrollable) {\n        super(element, options, scrollable);\n    }\n    setScrollPosition(update) {\n        if (update.reuseAnimation) {\n            this._scrollable.setScrollPositionSmooth(update, update.reuseAnimation);\n        }\n        else {\n            this._scrollable.setScrollPositionNow(update);\n        }\n    }\n    getScrollPosition() {\n        return this._scrollable.getCurrentScrollPosition();\n    }\n}\nexport class DomScrollableElement extends AbstractScrollableElement {\n    constructor(element, options) {\n        options = options || {};\n        options.mouseWheelSmoothScroll = false;\n        const scrollable = new Scrollable({\n            forceIntegerValues: false,\n            smoothScrollDuration: 0,\n            scheduleAtNextAnimationFrame: (callback) => dom.scheduleAtNextAnimationFrame(callback)\n        });\n        super(element, options, scrollable);\n        this._register(scrollable);\n        this._element = element;\n        this.onScroll((e) => {\n            if (e.scrollTopChanged) {\n                this._element.scrollTop = e.scrollTop;\n            }\n            if (e.scrollLeftChanged) {\n                this._element.scrollLeft = e.scrollLeft;\n            }\n        });\n        this.scanDomNode();\n    }\n    setScrollPosition(update) {\n        this._scrollable.setScrollPositionNow(update);\n    }\n    getScrollPosition() {\n        return this._scrollable.getCurrentScrollPosition();\n    }\n    scanDomNode() {\n        // width, scrollLeft, scrollWidth, height, scrollTop, scrollHeight\n        this.setScrollDimensions({\n            width: this._element.clientWidth,\n            scrollWidth: this._element.scrollWidth,\n            height: this._element.clientHeight,\n            scrollHeight: this._element.scrollHeight\n        });\n        this.setScrollPosition({\n            scrollLeft: this._element.scrollLeft,\n            scrollTop: this._element.scrollTop,\n        });\n    }\n}\nfunction resolveOptions(opts) {\n    const result = {\n        lazyRender: (typeof opts.lazyRender !== 'undefined' ? opts.lazyRender : false),\n        className: (typeof opts.className !== 'undefined' ? opts.className : ''),\n        useShadows: (typeof opts.useShadows !== 'undefined' ? opts.useShadows : true),\n        handleMouseWheel: (typeof opts.handleMouseWheel !== 'undefined' ? opts.handleMouseWheel : true),\n        flipAxes: (typeof opts.flipAxes !== 'undefined' ? opts.flipAxes : false),\n        consumeMouseWheelIfScrollbarIsNeeded: (typeof opts.consumeMouseWheelIfScrollbarIsNeeded !== 'undefined' ? opts.consumeMouseWheelIfScrollbarIsNeeded : false),\n        alwaysConsumeMouseWheel: (typeof opts.alwaysConsumeMouseWheel !== 'undefined' ? opts.alwaysConsumeMouseWheel : false),\n        scrollYToX: (typeof opts.scrollYToX !== 'undefined' ? opts.scrollYToX : false),\n        mouseWheelScrollSensitivity: (typeof opts.mouseWheelScrollSensitivity !== 'undefined' ? opts.mouseWheelScrollSensitivity : 1),\n        fastScrollSensitivity: (typeof opts.fastScrollSensitivity !== 'undefined' ? opts.fastScrollSensitivity : 5),\n        scrollPredominantAxis: (typeof opts.scrollPredominantAxis !== 'undefined' ? opts.scrollPredominantAxis : true),\n        mouseWheelSmoothScroll: (typeof opts.mouseWheelSmoothScroll !== 'undefined' ? opts.mouseWheelSmoothScroll : true),\n        arrowSize: (typeof opts.arrowSize !== 'undefined' ? opts.arrowSize : 11),\n        listenOnDomNode: (typeof opts.listenOnDomNode !== 'undefined' ? opts.listenOnDomNode : null),\n        horizontal: (typeof opts.horizontal !== 'undefined' ? opts.horizontal : 1 /* ScrollbarVisibility.Auto */),\n        horizontalScrollbarSize: (typeof opts.horizontalScrollbarSize !== 'undefined' ? opts.horizontalScrollbarSize : 10),\n        horizontalSliderSize: (typeof opts.horizontalSliderSize !== 'undefined' ? opts.horizontalSliderSize : 0),\n        horizontalHasArrows: (typeof opts.horizontalHasArrows !== 'undefined' ? opts.horizontalHasArrows : false),\n        vertical: (typeof opts.vertical !== 'undefined' ? opts.vertical : 1 /* ScrollbarVisibility.Auto */),\n        verticalScrollbarSize: (typeof opts.verticalScrollbarSize !== 'undefined' ? opts.verticalScrollbarSize : 10),\n        verticalHasArrows: (typeof opts.verticalHasArrows !== 'undefined' ? opts.verticalHasArrows : false),\n        verticalSliderSize: (typeof opts.verticalSliderSize !== 'undefined' ? opts.verticalSliderSize : 0),\n        scrollByPage: (typeof opts.scrollByPage !== 'undefined' ? opts.scrollByPage : false)\n    };\n    result.horizontalSliderSize = (typeof opts.horizontalSliderSize !== 'undefined' ? opts.horizontalSliderSize : result.horizontalScrollbarSize);\n    result.verticalSliderSize = (typeof opts.verticalSliderSize !== 'undefined' ? opts.verticalSliderSize : result.verticalScrollbarSize);\n    // Defaults are different on Macs\n    if (platform.isMacintosh) {\n        result.className += ' mac';\n    }\n    return result;\n}\n"],"mappings":"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"}]}
{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/services/languageService.js","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/services/languageService.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0IF9nZXQgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXQuanMiOwppbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YuanMiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMuanMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7Ci8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uCiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwppbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vZXZlbnQuanMnOwppbXBvcnQgeyBEaXNwb3NhYmxlIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vbGlmZWN5Y2xlLmpzJzsKaW1wb3J0IHsgTGFuZ3VhZ2VzUmVnaXN0cnkgfSBmcm9tICcuL2xhbmd1YWdlc1JlZ2lzdHJ5LmpzJzsKaW1wb3J0IHsgZmlyc3RPckRlZmF1bHQgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9hcnJheXMuanMnOwppbXBvcnQgeyBUb2tlbml6YXRpb25SZWdpc3RyeSB9IGZyb20gJy4uL2xhbmd1YWdlcy5qcyc7CmltcG9ydCB7IFBMQUlOVEVYVF9MQU5HVUFHRV9JRCB9IGZyb20gJy4uL2xhbmd1YWdlcy9tb2Rlc1JlZ2lzdHJ5LmpzJzsKZXhwb3J0IHZhciBMYW5ndWFnZVNlcnZpY2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9EaXNwb3NhYmxlKSB7CiAgX2luaGVyaXRzKExhbmd1YWdlU2VydmljZSwgX0Rpc3Bvc2FibGUpOwogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoTGFuZ3VhZ2VTZXJ2aWNlKTsKICBmdW5jdGlvbiBMYW5ndWFnZVNlcnZpY2UoKSB7CiAgICB2YXIgX3RoaXM7CiAgICB2YXIgd2Fybk9uT3ZlcndyaXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMYW5ndWFnZVNlcnZpY2UpOwogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKTsKICAgIF90aGlzLl9vbkRpZEVuY291bnRlckxhbmd1YWdlID0gX3RoaXMuX3JlZ2lzdGVyKG5ldyBFbWl0dGVyKCkpOwogICAgX3RoaXMub25EaWRFbmNvdW50ZXJMYW5ndWFnZSA9IF90aGlzLl9vbkRpZEVuY291bnRlckxhbmd1YWdlLmV2ZW50OwogICAgX3RoaXMuX29uRGlkQ2hhbmdlID0gX3RoaXMuX3JlZ2lzdGVyKG5ldyBFbWl0dGVyKHsKICAgICAgbGVha1dhcm5pbmdUaHJlc2hvbGQ6IDIwMCAvKiBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L3ZzY29kZS9pc3N1ZXMvMTE5OTY4ICovCiAgICB9KSk7CiAgICBfdGhpcy5vbkRpZENoYW5nZSA9IF90aGlzLl9vbkRpZENoYW5nZS5ldmVudDsKICAgIExhbmd1YWdlU2VydmljZS5pbnN0YW5jZUNvdW50Kys7CiAgICBfdGhpcy5fZW5jb3VudGVyZWRMYW5ndWFnZXMgPSBuZXcgU2V0KCk7CiAgICBfdGhpcy5fcmVnaXN0cnkgPSBfdGhpcy5fcmVnaXN0ZXIobmV3IExhbmd1YWdlc1JlZ2lzdHJ5KHRydWUsIHdhcm5Pbk92ZXJ3cml0ZSkpOwogICAgX3RoaXMubGFuZ3VhZ2VJZENvZGVjID0gX3RoaXMuX3JlZ2lzdHJ5Lmxhbmd1YWdlSWRDb2RlYzsKICAgIF90aGlzLl9yZWdpc3RlcihfdGhpcy5fcmVnaXN0cnkub25EaWRDaGFuZ2UoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gX3RoaXMuX29uRGlkQ2hhbmdlLmZpcmUoKTsKICAgIH0pKTsKICAgIHJldHVybiBfdGhpczsKICB9CiAgX2NyZWF0ZUNsYXNzKExhbmd1YWdlU2VydmljZSwgW3sKICAgIGtleTogImRpc3Bvc2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7CiAgICAgIExhbmd1YWdlU2VydmljZS5pbnN0YW5jZUNvdW50LS07CiAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKExhbmd1YWdlU2VydmljZS5wcm90b3R5cGUpLCAiZGlzcG9zZSIsIHRoaXMpLmNhbGwodGhpcyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNSZWdpc3RlcmVkTGFuZ3VhZ2VJZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNSZWdpc3RlcmVkTGFuZ3VhZ2VJZChsYW5ndWFnZUlkKSB7CiAgICAgIHJldHVybiB0aGlzLl9yZWdpc3RyeS5pc1JlZ2lzdGVyZWRMYW5ndWFnZUlkKGxhbmd1YWdlSWQpOwogICAgfQogIH0sIHsKICAgIGtleTogImdldExhbmd1YWdlSWRCeUxhbmd1YWdlTmFtZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TGFuZ3VhZ2VJZEJ5TGFuZ3VhZ2VOYW1lKGxhbmd1YWdlTmFtZSkgewogICAgICByZXR1cm4gdGhpcy5fcmVnaXN0cnkuZ2V0TGFuZ3VhZ2VJZEJ5TGFuZ3VhZ2VOYW1lKGxhbmd1YWdlTmFtZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0TGFuZ3VhZ2VJZEJ5TWltZVR5cGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldExhbmd1YWdlSWRCeU1pbWVUeXBlKG1pbWVUeXBlKSB7CiAgICAgIHJldHVybiB0aGlzLl9yZWdpc3RyeS5nZXRMYW5ndWFnZUlkQnlNaW1lVHlwZShtaW1lVHlwZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ3Vlc3NMYW5ndWFnZUlkQnlGaWxlcGF0aE9yRmlyc3RMaW5lIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBndWVzc0xhbmd1YWdlSWRCeUZpbGVwYXRoT3JGaXJzdExpbmUocmVzb3VyY2UsIGZpcnN0TGluZSkgewogICAgICB2YXIgbGFuZ3VhZ2VJZHMgPSB0aGlzLl9yZWdpc3RyeS5ndWVzc0xhbmd1YWdlSWRCeUZpbGVwYXRoT3JGaXJzdExpbmUocmVzb3VyY2UsIGZpcnN0TGluZSk7CiAgICAgIHJldHVybiBmaXJzdE9yRGVmYXVsdChsYW5ndWFnZUlkcywgbnVsbCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY3JlYXRlQnlJZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlQnlJZChsYW5ndWFnZUlkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICByZXR1cm4gbmV3IExhbmd1YWdlU2VsZWN0aW9uKHRoaXMub25EaWRDaGFuZ2UsIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMyLl9jcmVhdGVBbmRHZXRMYW5ndWFnZUlkZW50aWZpZXIobGFuZ3VhZ2VJZCk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImNyZWF0ZUJ5RmlsZXBhdGhPckZpcnN0TGluZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlQnlGaWxlcGF0aE9yRmlyc3RMaW5lKHJlc291cmNlLCBmaXJzdExpbmUpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHJldHVybiBuZXcgTGFuZ3VhZ2VTZWxlY3Rpb24odGhpcy5vbkRpZENoYW5nZSwgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBsYW5ndWFnZUlkID0gX3RoaXMzLmd1ZXNzTGFuZ3VhZ2VJZEJ5RmlsZXBhdGhPckZpcnN0TGluZShyZXNvdXJjZSwgZmlyc3RMaW5lKTsKICAgICAgICByZXR1cm4gX3RoaXMzLl9jcmVhdGVBbmRHZXRMYW5ndWFnZUlkZW50aWZpZXIobGFuZ3VhZ2VJZCk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogIl9jcmVhdGVBbmRHZXRMYW5ndWFnZUlkZW50aWZpZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVBbmRHZXRMYW5ndWFnZUlkZW50aWZpZXIobGFuZ3VhZ2VJZCkgewogICAgICBpZiAoIWxhbmd1YWdlSWQgfHwgIXRoaXMuaXNSZWdpc3RlcmVkTGFuZ3VhZ2VJZChsYW5ndWFnZUlkKSkgewogICAgICAgIC8vIEZhbGwgYmFjayB0byBwbGFpbiB0ZXh0IGlmIGxhbmd1YWdlIGlzIHVua25vd24KICAgICAgICBsYW5ndWFnZUlkID0gUExBSU5URVhUX0xBTkdVQUdFX0lEOwogICAgICB9CiAgICAgIGlmICghdGhpcy5fZW5jb3VudGVyZWRMYW5ndWFnZXMuaGFzKGxhbmd1YWdlSWQpKSB7CiAgICAgICAgdGhpcy5fZW5jb3VudGVyZWRMYW5ndWFnZXMuYWRkKGxhbmd1YWdlSWQpOwogICAgICAgIC8vIEVuc3VyZSB0b2tlbml6ZXJzIGFyZSBjcmVhdGVkCiAgICAgICAgVG9rZW5pemF0aW9uUmVnaXN0cnkuZ2V0T3JDcmVhdGUobGFuZ3VhZ2VJZCk7CiAgICAgICAgLy8gRmlyZSBldmVudAogICAgICAgIHRoaXMuX29uRGlkRW5jb3VudGVyTGFuZ3VhZ2UuZmlyZShsYW5ndWFnZUlkKTsKICAgICAgfQogICAgICByZXR1cm4gbGFuZ3VhZ2VJZDsKICAgIH0KICB9XSk7CiAgcmV0dXJuIExhbmd1YWdlU2VydmljZTsKfShEaXNwb3NhYmxlKTsKTGFuZ3VhZ2VTZXJ2aWNlLmluc3RhbmNlQ291bnQgPSAwOwp2YXIgTGFuZ3VhZ2VTZWxlY3Rpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIExhbmd1YWdlU2VsZWN0aW9uKF9vbkRpZENoYW5nZUxhbmd1YWdlcywgX3NlbGVjdG9yKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGFuZ3VhZ2VTZWxlY3Rpb24pOwogICAgdGhpcy5fb25EaWRDaGFuZ2VMYW5ndWFnZXMgPSBfb25EaWRDaGFuZ2VMYW5ndWFnZXM7CiAgICB0aGlzLl9zZWxlY3RvciA9IF9zZWxlY3RvcjsKICAgIHRoaXMuX2xpc3RlbmVyID0gbnVsbDsKICAgIHRoaXMuX2VtaXR0ZXIgPSBudWxsOwogICAgdGhpcy5sYW5ndWFnZUlkID0gdGhpcy5fc2VsZWN0b3IoKTsKICB9CiAgX2NyZWF0ZUNsYXNzKExhbmd1YWdlU2VsZWN0aW9uLCBbewogICAga2V5OiAiX2Rpc3Bvc2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9kaXNwb3NlKCkgewogICAgICBpZiAodGhpcy5fbGlzdGVuZXIpIHsKICAgICAgICB0aGlzLl9saXN0ZW5lci5kaXNwb3NlKCk7CiAgICAgICAgdGhpcy5fbGlzdGVuZXIgPSBudWxsOwogICAgICB9CiAgICAgIGlmICh0aGlzLl9lbWl0dGVyKSB7CiAgICAgICAgdGhpcy5fZW1pdHRlci5kaXNwb3NlKCk7CiAgICAgICAgdGhpcy5fZW1pdHRlciA9IG51bGw7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJvbkRpZENoYW5nZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIGlmICghdGhpcy5fbGlzdGVuZXIpIHsKICAgICAgICB0aGlzLl9saXN0ZW5lciA9IHRoaXMuX29uRGlkQ2hhbmdlTGFuZ3VhZ2VzKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBfdGhpczQuX2V2YWx1YXRlKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLl9lbWl0dGVyKSB7CiAgICAgICAgdGhpcy5fZW1pdHRlciA9IG5ldyBFbWl0dGVyKHsKICAgICAgICAgIG9uTGFzdExpc3RlbmVyUmVtb3ZlOiBmdW5jdGlvbiBvbkxhc3RMaXN0ZW5lclJlbW92ZSgpIHsKICAgICAgICAgICAgX3RoaXM0Ll9kaXNwb3NlKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuX2VtaXR0ZXIuZXZlbnQ7CiAgICB9CiAgfSwgewogICAga2V5OiAiX2V2YWx1YXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfZXZhbHVhdGUoKSB7CiAgICAgIHZhciBfYTsKICAgICAgdmFyIGxhbmd1YWdlSWQgPSB0aGlzLl9zZWxlY3RvcigpOwogICAgICBpZiAobGFuZ3VhZ2VJZCA9PT0gdGhpcy5sYW5ndWFnZUlkKSB7CiAgICAgICAgLy8gbm8gY2hhbmdlCiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMubGFuZ3VhZ2VJZCA9IGxhbmd1YWdlSWQ7CiAgICAgIChfYSA9IHRoaXMuX2VtaXR0ZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5maXJlKHRoaXMubGFuZ3VhZ2VJZCk7CiAgICB9CiAgfV0pOwogIHJldHVybiBMYW5ndWFnZVNlbGVjdGlvbjsKfSgpOw=="},{"version":3,"names":["Emitter","Disposable","LanguagesRegistry","firstOrDefault","TokenizationRegistry","PLAINTEXT_LANGUAGE_ID","LanguageService","warnOnOverwrite","_onDidEncounterLanguage","_register","onDidEncounterLanguage","event","_onDidChange","leakWarningThreshold","onDidChange","instanceCount","_encounteredLanguages","Set","_registry","languageIdCodec","fire","languageId","isRegisteredLanguageId","languageName","getLanguageIdByLanguageName","mimeType","getLanguageIdByMimeType","resource","firstLine","languageIds","guessLanguageIdByFilepathOrFirstLine","LanguageSelection","_createAndGetLanguageIdentifier","has","add","getOrCreate","_onDidChangeLanguages","_selector","_listener","_emitter","dispose","_evaluate","onLastListenerRemove","_dispose","_a"],"sources":["/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/services/languageService.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { LanguagesRegistry } from './languagesRegistry.js';\nimport { firstOrDefault } from '../../../base/common/arrays.js';\nimport { TokenizationRegistry } from '../languages.js';\nimport { PLAINTEXT_LANGUAGE_ID } from '../languages/modesRegistry.js';\nexport class LanguageService extends Disposable {\n    constructor(warnOnOverwrite = false) {\n        super();\n        this._onDidEncounterLanguage = this._register(new Emitter());\n        this.onDidEncounterLanguage = this._onDidEncounterLanguage.event;\n        this._onDidChange = this._register(new Emitter({ leakWarningThreshold: 200 /* https://github.com/microsoft/vscode/issues/119968 */ }));\n        this.onDidChange = this._onDidChange.event;\n        LanguageService.instanceCount++;\n        this._encounteredLanguages = new Set();\n        this._registry = this._register(new LanguagesRegistry(true, warnOnOverwrite));\n        this.languageIdCodec = this._registry.languageIdCodec;\n        this._register(this._registry.onDidChange(() => this._onDidChange.fire()));\n    }\n    dispose() {\n        LanguageService.instanceCount--;\n        super.dispose();\n    }\n    isRegisteredLanguageId(languageId) {\n        return this._registry.isRegisteredLanguageId(languageId);\n    }\n    getLanguageIdByLanguageName(languageName) {\n        return this._registry.getLanguageIdByLanguageName(languageName);\n    }\n    getLanguageIdByMimeType(mimeType) {\n        return this._registry.getLanguageIdByMimeType(mimeType);\n    }\n    guessLanguageIdByFilepathOrFirstLine(resource, firstLine) {\n        const languageIds = this._registry.guessLanguageIdByFilepathOrFirstLine(resource, firstLine);\n        return firstOrDefault(languageIds, null);\n    }\n    createById(languageId) {\n        return new LanguageSelection(this.onDidChange, () => {\n            return this._createAndGetLanguageIdentifier(languageId);\n        });\n    }\n    createByFilepathOrFirstLine(resource, firstLine) {\n        return new LanguageSelection(this.onDidChange, () => {\n            const languageId = this.guessLanguageIdByFilepathOrFirstLine(resource, firstLine);\n            return this._createAndGetLanguageIdentifier(languageId);\n        });\n    }\n    _createAndGetLanguageIdentifier(languageId) {\n        if (!languageId || !this.isRegisteredLanguageId(languageId)) {\n            // Fall back to plain text if language is unknown\n            languageId = PLAINTEXT_LANGUAGE_ID;\n        }\n        if (!this._encounteredLanguages.has(languageId)) {\n            this._encounteredLanguages.add(languageId);\n            // Ensure tokenizers are created\n            TokenizationRegistry.getOrCreate(languageId);\n            // Fire event\n            this._onDidEncounterLanguage.fire(languageId);\n        }\n        return languageId;\n    }\n}\nLanguageService.instanceCount = 0;\nclass LanguageSelection {\n    constructor(_onDidChangeLanguages, _selector) {\n        this._onDidChangeLanguages = _onDidChangeLanguages;\n        this._selector = _selector;\n        this._listener = null;\n        this._emitter = null;\n        this.languageId = this._selector();\n    }\n    _dispose() {\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = null;\n        }\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = null;\n        }\n    }\n    get onDidChange() {\n        if (!this._listener) {\n            this._listener = this._onDidChangeLanguages(() => this._evaluate());\n        }\n        if (!this._emitter) {\n            this._emitter = new Emitter({\n                onLastListenerRemove: () => {\n                    this._dispose();\n                }\n            });\n        }\n        return this._emitter.event;\n    }\n    _evaluate() {\n        var _a;\n        const languageId = this._selector();\n        if (languageId === this.languageId) {\n            // no change\n            return;\n        }\n        this.languageId = languageId;\n        (_a = this._emitter) === null || _a === void 0 ? void 0 : _a.fire(this.languageId);\n    }\n}\n"],"mappings":"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"}]}
{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanjiajia/Desktop/workspace/avue-data-new/src/echart/packages/flop/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/src/echart/packages/flop/index.vue","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGNyZWF0ZSBmcm9tICIuLi8uLi9jcmVhdGUiOwpleHBvcnQgZGVmYXVsdCBjcmVhdGUoewogIG5hbWU6ICJmbG9wIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWN0aXZlOiAwLAogICAgICBzdGF0dXNESUM6IFsiLiIsICIsIl0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaXNBcnJheTogZnVuY3Rpb24gaXNBcnJheSgpIHsKICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodGhpcy5kYXRhQ2hhcnQpOwogICAgfSwKICAgIGRlY2ltYWxzOiBmdW5jdGlvbiBkZWNpbWFscygpIHsKICAgICAgcmV0dXJuIHRoaXMub3B0aW9uLmRlY2ltYWxzIHx8IDA7CiAgICB9LAogICAgbGlzdERhdGE6IGZ1bmN0aW9uIGxpc3REYXRhKCkgewogICAgICBpZiAodGhpcy5pc0FycmF5KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YUNoYXJ0OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBbdGhpcy5kYXRhQ2hhcnRdOwogICAgICB9CiAgICB9LAogICAgaXNXaG9sZTogZnVuY3Rpb24gaXNXaG9sZSgpIHsKICAgICAgcmV0dXJuIHRoaXMudmFpbGREYXRhKHRoaXMub3B0aW9uLndob2xlLCBmYWxzZSk7CiAgICB9LAogICAgdHlwZTogZnVuY3Rpb24gdHlwZSgpIHsKICAgICAgcmV0dXJuIHRoaXMub3B0aW9uLnR5cGU7CiAgICB9LAogICAgaXNCb3JkZXI6IGZ1bmN0aW9uIGlzQm9yZGVyKCkgewogICAgICByZXR1cm4gdGhpcy50eXBlID09PSAnYm9yZGVyJzsKICAgIH0sCiAgICBpc0ltZzogZnVuY3Rpb24gaXNJbWcoKSB7CiAgICAgIHJldHVybiB0aGlzLnR5cGUgPT09ICdpbWcnOwogICAgfSwKICAgIHNwYW46IGZ1bmN0aW9uIHNwYW4oKSB7CiAgICAgIHJldHVybiB0aGlzLm9wdGlvbi5zcGFuIHx8IDE7CiAgICB9LAogICAgcHJlZml4U3R5bGU6IGZ1bmN0aW9uIHByZWZpeFN0eWxlKCkgewogICAgICByZXR1cm4gewogICAgICAgIGRpc3BsYXk6IHRoaXMub3B0aW9uLnByZWZpeElubGluZSA/ICdpbmxpbmUtYmxvY2snIDogJ2Jsb2NrJywKICAgICAgICB0ZXh0QWxpZ246IHRoaXMub3B0aW9uLnByZWZpeFRleHRBbGlnbiwKICAgICAgICBtYXJnaW5Cb3R0b206IHRoaXMuc2V0UHgodGhpcy5vcHRpb24ucHJlZml4U3BsaXR5KSwKICAgICAgICBtYXJnaW5SaWdodDogdGhpcy5zZXRQeCh0aGlzLm9wdGlvbi5wcmVmaXhTcGxpdHgpLAogICAgICAgIGNvbG9yOiB0aGlzLm9wdGlvbi5wcmVmaXhDb2xvciB8fCAiI2ZmZiIsCiAgICAgICAgZm9udFNpemU6IHRoaXMuc2V0UHgodGhpcy5vcHRpb24ucHJlZml4Rm9udFNpemUgfHwgMjQpCiAgICAgIH07CiAgICB9LAogICAgc3VmZml4U3R5bGU6IGZ1bmN0aW9uIHN1ZmZpeFN0eWxlKCkgewogICAgICByZXR1cm4gewogICAgICAgIGRpc3BsYXk6IHRoaXMub3B0aW9uLnN1ZmZpeElubGluZSA/ICdpbmxpbmUtYmxvY2snIDogJ2Jsb2NrJywKICAgICAgICB0ZXh0QWxpZ246IHRoaXMub3B0aW9uLnN1ZmZpeFRleHRBbGlnbiwKICAgICAgICBtYXJnaW5Ub3A6IHRoaXMuc2V0UHgodGhpcy5vcHRpb24uc3VmZml4U3BsaXR5KSwKICAgICAgICBtYXJnaW5MZWZ0OiB0aGlzLnNldFB4KHRoaXMub3B0aW9uLnN1ZmZpeFNwbGl0eCksCiAgICAgICAgY29sb3I6IHRoaXMub3B0aW9uLnN1ZmZpeENvbG9yIHx8ICIjZmZmIiwKICAgICAgICBmb250U2l6ZTogdGhpcy5zZXRQeCh0aGlzLm9wdGlvbi5zdWZmaXhGb250U2l6ZSB8fCAyNCkKICAgICAgfTsKICAgIH0sCiAgICBzdHlsZVBhcmVudFNpemU6IGZ1bmN0aW9uIHN0eWxlUGFyZW50U2l6ZSgpIHsKICAgICAgdmFyIG9iaiA9IHsKICAgICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JywKICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJywKICAgICAgICB3aWR0aDogMTAwIC8gdGhpcy5zcGFuIC0gMSArICclJwogICAgICB9OwogICAgICBpZiAodGhpcy5vcHRpb24uc3BsaXR4KSB7CiAgICAgICAgb2JqLnBhZGRpbmdSaWdodCA9IHRoaXMuc2V0UHgodGhpcy5vcHRpb24uc3BsaXR4KTsKICAgICAgfQogICAgICBpZiAodGhpcy5vcHRpb24uc3BsaXR5KSB7CiAgICAgICAgb2JqLnBhZGRpbmdCb3R0b20gPSB0aGlzLnNldFB4KHRoaXMub3B0aW9uLnNwbGl0eSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG9iajsKICAgIH0sCiAgICBzdHlsZVBhcmVudE5hbWU6IGZ1bmN0aW9uIHN0eWxlUGFyZW50TmFtZSgpIHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBpZiAoIXRoaXMuaXNJbWcgJiYgIXRoaXMuaXNCb3JkZXIpIHsKICAgICAgICBvYmogPSBPYmplY3QuYXNzaWduKG9iaiwgewogICAgICAgICAgYmFja2dyb3VuZEltYWdlOiAidXJsKCIuY29uY2F0KHRoaXMub3B0aW9uLmJhY2tncm91bmRJbWFnZSwgIikiKSwKICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5vcHRpb24uYmFja2dyb3VuZENvbG9yCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMub3B0aW9uLnBhZGRpbmcpIHsKICAgICAgICBvYmoucGFkZGluZyA9IHRoaXMuc2V0UHgodGhpcy5vcHRpb24ucGFkZGluZyk7CiAgICAgIH0KICAgICAgcmV0dXJuIG9iajsKICAgIH0sCiAgICBzdHlsZU5hbWU6IGZ1bmN0aW9uIHN0eWxlTmFtZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBvYmogPSB7fTsKICAgICAgICBpZiAoX3RoaXMub3B0aW9uLnNwbGl0eCkgewogICAgICAgICAgb2JqLm1hcmdpblJpZ2h0ID0gX3RoaXMuc2V0UHgoX3RoaXMub3B0aW9uLnNwbGl0eCk7CiAgICAgICAgfQogICAgICAgIGlmIChfdGhpcy5vcHRpb24uc3BsaXR5KSB7CiAgICAgICAgICBvYmoubWFyZ2luQm90dG9tID0gX3RoaXMuc2V0UHgoX3RoaXMub3B0aW9uLnNwbGl0eSk7CiAgICAgICAgfQogICAgICAgIGlmIChfdGhpcy5vcHRpb24uYmFja2dyb3VuZEltYWdlKSB7CiAgICAgICAgICBvYmogPSBPYmplY3QuYXNzaWduKG9iaiwgewogICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6ICJ1cmwoIi5jb25jYXQoX3RoaXMub3B0aW9uLmJhY2tncm91bmRJbWFnZSwgIikiKSwKICAgICAgICAgICAgYmFja2dyb3VuZFNpemU6ICIxMDAlIDEwMCUiCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9iajsKICAgICAgfSgpLCB7CiAgICAgICAgdGV4dEFsaWduOiB0aGlzLm9wdGlvbi50ZXh0QWxpZ24sCiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLm9wdGlvbi5iYWNrZ3JvdW5kQ29sb3IsCiAgICAgICAgY29sb3I6IHRoaXMub3B0aW9uLmNvbG9yIHx8ICIjZmZmIiwKICAgICAgICBmb250U2l6ZTogdGhpcy5zZXRQeCh0aGlzLm9wdGlvbi5mb250U2l6ZSB8fCA2NCksCiAgICAgICAgZm9udFdlaWdodDogdGhpcy5vcHRpb24uZm9udFdlaWdodAogICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKF90aGlzLnR5cGUgPT09ICJpbWciKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBib3JkZXJJbWFnZVNvdXJjZTogInVybCgiLmNvbmNhdChfdGhpcy5vcHRpb24uYmFja2dyb3VuZEJvcmRlciwgIikiKQogICAgICAgICAgfTsKICAgICAgICB9IGVsc2UgaWYgKF90aGlzLnR5cGUgPT09ICJib3JkZXIiKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBib3JkZXJDb2xvcjogX3RoaXMub3B0aW9uLmJvcmRlckNvbG9yIHx8ICIjZmZmIiwKICAgICAgICAgICAgYm9yZGVyU3R5bGU6ICJzb2xpZCIsCiAgICAgICAgICAgIGJvcmRlcldpZHRoOiBfdGhpcy5zZXRQeChfdGhpcy5vcHRpb24uYm9yZGVyV2lkdGgpCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfSgpKTsKICAgIH0KICB9LAogIHByb3BzOiB7CiAgICBvcHRpb246IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24gaGFuZGxlQ2xpY2soaXRlbSwgaW5kZXgpIHsKICAgICAgdGhpcy5hY3RpdmUgPSBpbmRleDsKICAgICAgdGhpcy51cGRhdGVDbGljayh7CiAgICAgICAgdmFsdWU6IGl0ZW0ucHJlZml4VGV4dAogICAgICB9KTsKICAgICAgdGhpcy5jbGlja0Zvcm1hdHRlciAmJiB0aGlzLmNsaWNrRm9ybWF0dGVyKHsKICAgICAgICB0eXBlOiBpbmRleCwKICAgICAgICBpdGVtOiBpdGVtLAogICAgICAgIHZhbHVlOiBpdGVtLnByZWZpeFRleHQsCiAgICAgICAgZGF0YTogdGhpcy5kYXRhQ2hhcnQKICAgICAgfSwgdGhpcy5nZXRJdGVtUmVmcygpKTsKICAgICAgaWYgKGl0ZW0uaHJlZikgd2luZG93Lm9wZW4oaXRlbS5ocmVmLCBpdGVtLnRhcmdldCk7CiAgICB9LAogICAgZ2V0RW1wU3R5bGU6IGZ1bmN0aW9uIGdldEVtcFN0eWxlKGluZGV4KSB7CiAgICAgIHZhciByZXN1bHQgPSB7fTsKICAgICAgaWYgKGluZGV4ID09IHRoaXMuYWN0aXZlKSB7CiAgICAgICAgcmVzdWx0ID0gewogICAgICAgICAgY29sb3I6IHRoaXMub3B0aW9uLmVtcENvbG9yCiAgICAgICAgfTsKICAgICAgfQogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSwKICAgIGdldFZhbEJ5QXJyYXk6IGZ1bmN0aW9uIGdldFZhbEJ5QXJyYXkoaXRlbSwgcHJvcCkgewogICAgICByZXR1cm4gdGhpcy5pc0FycmF5ID8gaXRlbVtwcm9wXSA6IHRoaXMub3B0aW9uW3Byb3BdOwogICAgfQogIH0KfSk7"},{"version":3,"mappings":"AAiDA;AACA;EACAA;EACAC;IACA;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;IACA;IACAC;MACA;QACAN;QACAC;QACAM;QACAC;QACAJ;QACAC;MACA;IACA;IACAI;MACA;QACAC;QACAV;QACAW;MACA;MACA;QACAC;MACA;MACA;QACAA;MACA;MACA;IACA;IACAC;MACA;MACA;QACAD;UACAE;UACAC;QACA;MACA;MACA;QACAH;MACA;MACA;IACA;IACAI;MAAA;MACA,qBACA;QACA;QACA;UACAJ;QACA;QACA;UACAA;QACA;QACA;UACAA;YACAE;YACAG;UACA;QACA;QACA;MACA,KACA;QACAhB;QACAc;QACAX;QACAC;QACAa;MACA,GACA;QACA;UACA;YACAC;UACA;QACA;UACA;YACAC;YACAC;YACAC;UACA;QACA;MACA,IACA;IACA;EACA;EACAC;IACAC;MACA7B;MACA8B;QACA;MACA;IACA;EACA;EACAC;EACAC;IACAC;MACA;MACA;QACAC;MACA;MACA;QACAlC;QACAmC;QACAD;QACA1C;MACA;MACA;IACA;IACA4C;MACA;MACA;QACAC;UACA5B;QACA;MACA;MACA;IACA;IACA6B;MACA;IACA;EACA;AACA","names":["name","data","active","statusDIC","computed","isArray","decimals","listData","isWhole","type","isBorder","isImg","span","prefixStyle","display","textAlign","marginBottom","marginRight","color","fontSize","suffixStyle","marginTop","marginLeft","styleParentSize","boxSizing","width","obj","styleParentName","backgroundImage","backgroundColor","styleName","backgroundSize","fontWeight","borderImageSource","borderColor","borderStyle","borderWidth","props","option","default","created","methods","handleClick","value","item","getEmpStyle","result","getValByArray"],"sourceRoot":"src/echart/packages/flop","sources":["index.vue"],"sourcesContent":["<template>\n  <div :class=\"[b(),className]\"\n       :style=\"styleSizeName\">\n    <div :style=\"styleChartName\">\n      <template v-for=\"(item,index) in listData\">\n        <div :key=\"index\"\n             v-if=\"item.display!==false\"\n             :style=\"styleParentSize\">\n          <el-tooltip :disabled=\"!item.formatter\"\n                      placement=\"top-start\"\n                      :style=\"[styleParentName,{\n               backgroundColor: item.backgroundColor || option.backgroundColor,\n           },getEmpStyle(index)]\">\n            <div slot=\"content\"\n                 v-html=\"item.formatter && item.formatter()\"></div>\n            <div :class=\"b('item',{'none':(statusDIC.includes(item) || type===''),'whole':isWhole,'img':isWhole&&(isImg || isBorder)})\"\n                 :style=\"!isWhole?'':styleName\"\n                 @click=\"handleClick(item,index)\">\n              <div :style=\"[prefixStyle,getEmpStyle(index)]\"\n                   v-if=\"getValByArray(item,'prefixText')\">{{getValByArray(item,'prefixText')}}</div>\n              <avue-count-up v-if=\"isWhole\"\n                             :decimals=\"decimals\"\n                             :end=\"item.data || item.value\"></avue-count-up>\n              <div :class=\"[b('count'),b(`count-${option.textAlign}`)]\"\n                   :style=\"styleSizeName\"\n                   v-else>\n                <div :class=\"b('item',{'none':(statusDIC.includes(item) || type===''),'img':isImg})\"\n                     v-for=\"(item,index) in (item.data || item.value)+''.split(',')\"\n                     :key=\"index\"\n                     @click=\"handleClick(item,index)\"\n                     :style=\"styleName\">\n                  <div v-if=\"statusDIC.includes(item)\">{{item}}</div>\n                  <avue-count-up :decimals=\"decimals\"\n                                 v-else\n                                 :end=\"item\"></avue-count-up>\n                </div>\n              </div>\n              <div :style=\"[suffixStyle,getEmpStyle(index)]\"\n                   v-if=\"getValByArray(item,'suffixText')\">{{getValByArray(item,'suffixText')}}</div>\n            </div>\n          </el-tooltip>\n        </div>\n      </template>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport create from \"../../create\";\nexport default create({\n  name: \"flop\",\n  data () {\n    return {\n      active: 0,\n      statusDIC: [\".\", \",\"]\n    };\n  },\n  computed: {\n    isArray () {\n      return Array.isArray(this.dataChart);\n    },\n    decimals () {\n      return this.option.decimals || 0\n    },\n    listData () {\n      if (this.isArray) {\n        return this.dataChart;\n      } else {\n        return [this.dataChart];\n      }\n    },\n    isWhole () {\n      return this.vaildData(this.option.whole, false);\n    },\n    type () {\n      return this.option.type;\n    },\n    isBorder () {\n      return this.type === 'border';\n    },\n    isImg () {\n      return this.type === 'img';\n    },\n    span () {\n      return this.option.span || 1;\n    },\n    prefixStyle () {\n      return {\n        display: this.option.prefixInline ? 'inline-block' : 'block',\n        textAlign: this.option.prefixTextAlign,\n        marginBottom: this.setPx(this.option.prefixSplity),\n        marginRight: this.setPx(this.option.prefixSplitx),\n        color: this.option.prefixColor || \"#fff\",\n        fontSize: this.setPx(this.option.prefixFontSize || 24)\n      };\n    },\n    suffixStyle () {\n      return {\n        display: this.option.suffixInline ? 'inline-block' : 'block',\n        textAlign: this.option.suffixTextAlign,\n        marginTop: this.setPx(this.option.suffixSplity),\n        marginLeft: this.setPx(this.option.suffixSplitx),\n        color: this.option.suffixColor || \"#fff\",\n        fontSize: this.setPx(this.option.suffixFontSize || 24)\n      };\n    },\n    styleParentSize () {\n      let obj = {\n        boxSizing: 'border-box',\n        display: 'inline-block',\n        width: (100 / this.span) - 1 + '%'\n      }\n      if (this.option.splitx) {\n        obj.paddingRight = this.setPx(this.option.splitx)\n      }\n      if (this.option.splity) {\n        obj.paddingBottom = this.setPx(this.option.splity)\n      }\n      return obj\n    },\n    styleParentName () {\n      let obj = {};\n      if (!this.isImg && !this.isBorder) {\n        obj = Object.assign(obj, {\n          backgroundImage: `url(${this.option.backgroundImage})`,\n          backgroundColor: this.option.backgroundColor\n        });\n      }\n      if (this.option.padding) {\n        obj.padding = this.setPx(this.option.padding)\n      }\n      return obj\n    },\n    styleName () {\n      return Object.assign(\n        (() => {\n          let obj = {}\n          if (this.option.splitx) {\n            obj.marginRight = this.setPx(this.option.splitx)\n          }\n          if (this.option.splity) {\n            obj.marginBottom = this.setPx(this.option.splity)\n          }\n          if (this.option.backgroundImage) {\n            obj = Object.assign(obj, {\n              backgroundImage: `url(${this.option.backgroundImage})`,\n              backgroundSize: \"100% 100%\"\n            })\n          }\n          return obj;\n        })(),\n        {\n          textAlign: this.option.textAlign,\n          backgroundColor: this.option.backgroundColor,\n          color: this.option.color || \"#fff\",\n          fontSize: this.setPx(this.option.fontSize || 64),\n          fontWeight: this.option.fontWeight\n        },\n        (() => {\n          if (this.type === \"img\") {\n            return {\n              borderImageSource: `url(${this.option.backgroundBorder})`\n            };\n          } else if (this.type === \"border\") {\n            return {\n              borderColor: this.option.borderColor || \"#fff\",\n              borderStyle: \"solid\",\n              borderWidth: this.setPx(this.option.borderWidth)\n            };\n          }\n        })()\n      );\n    }\n  },\n  props: {\n    option: {\n      type: Object,\n      default: () => {\n        return {};\n      }\n    }\n  },\n  created () { },\n  methods: {\n    handleClick (item, index) {\n      this.active = index;\n      this.updateClick({\n        value: item.prefixText\n      });\n      this.clickFormatter && this.clickFormatter({\n        type: index,\n        item: item,\n        value: item.prefixText,\n        data: this.dataChart\n      }, this.getItemRefs());\n      if (item.href) window.open(item.href, item.target)\n    },\n    getEmpStyle (index) {\n      let result = {}\n      if (index == this.active) {\n        result = {\n          color: this.option.empColor\n        }\n      }\n      return result\n    },\n    getValByArray (item, prop) {\n      return this.isArray ? item[prop] : this.option[prop];\n    }\n  }\n});\n</script>"]}]}
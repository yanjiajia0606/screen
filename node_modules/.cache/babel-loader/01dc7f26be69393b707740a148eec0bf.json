{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/browser/viewParts/contentWidgets/contentWidgets.js","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/browser/viewParts/contentWidgets/contentWidgets.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkuanMiOwppbXBvcnQgX2dldCBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2dldC5qcyI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZi5qcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cy5qcyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlci5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi4KICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCmltcG9ydCAqIGFzIGRvbSBmcm9tICcuLi8uLi8uLi8uLi9iYXNlL2Jyb3dzZXIvZG9tLmpzJzsKaW1wb3J0IHsgY3JlYXRlRmFzdERvbU5vZGUgfSBmcm9tICcuLi8uLi8uLi8uLi9iYXNlL2Jyb3dzZXIvZmFzdERvbU5vZGUuanMnOwppbXBvcnQgeyBQYXJ0RmluZ2VycHJpbnRzLCBWaWV3UGFydCB9IGZyb20gJy4uLy4uL3ZpZXcvdmlld1BhcnQuanMnOwp2YXIgQ29vcmRpbmF0ZSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlQ2xhc3MoZnVuY3Rpb24gQ29vcmRpbmF0ZSh0b3AsIGxlZnQpIHsKICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29vcmRpbmF0ZSk7CiAgdGhpcy5fY29vcmRpbmF0ZUJyYW5kID0gdW5kZWZpbmVkOwogIHRoaXMudG9wID0gdG9wOwogIHRoaXMubGVmdCA9IGxlZnQ7Cn0pOwpleHBvcnQgdmFyIFZpZXdDb250ZW50V2lkZ2V0cyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1ZpZXdQYXJ0KSB7CiAgX2luaGVyaXRzKFZpZXdDb250ZW50V2lkZ2V0cywgX1ZpZXdQYXJ0KTsKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFZpZXdDb250ZW50V2lkZ2V0cyk7CiAgZnVuY3Rpb24gVmlld0NvbnRlbnRXaWRnZXRzKGNvbnRleHQsIHZpZXdEb21Ob2RlKSB7CiAgICB2YXIgX3RoaXM7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVmlld0NvbnRlbnRXaWRnZXRzKTsKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29udGV4dCk7CiAgICBfdGhpcy5fdmlld0RvbU5vZGUgPSB2aWV3RG9tTm9kZTsKICAgIF90aGlzLl93aWRnZXRzID0ge307CiAgICBfdGhpcy5kb21Ob2RlID0gY3JlYXRlRmFzdERvbU5vZGUoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpOwogICAgUGFydEZpbmdlcnByaW50cy53cml0ZShfdGhpcy5kb21Ob2RlLCAxIC8qIFBhcnRGaW5nZXJwcmludC5Db250ZW50V2lkZ2V0cyAqLyk7CiAgICBfdGhpcy5kb21Ob2RlLnNldENsYXNzTmFtZSgnY29udGVudFdpZGdldHMnKTsKICAgIF90aGlzLmRvbU5vZGUuc2V0UG9zaXRpb24oJ2Fic29sdXRlJyk7CiAgICBfdGhpcy5kb21Ob2RlLnNldFRvcCgwKTsKICAgIF90aGlzLm92ZXJmbG93aW5nQ29udGVudFdpZGdldHNEb21Ob2RlID0gY3JlYXRlRmFzdERvbU5vZGUoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpOwogICAgUGFydEZpbmdlcnByaW50cy53cml0ZShfdGhpcy5vdmVyZmxvd2luZ0NvbnRlbnRXaWRnZXRzRG9tTm9kZSwgMiAvKiBQYXJ0RmluZ2VycHJpbnQuT3ZlcmZsb3dpbmdDb250ZW50V2lkZ2V0cyAqLyk7CiAgICBfdGhpcy5vdmVyZmxvd2luZ0NvbnRlbnRXaWRnZXRzRG9tTm9kZS5zZXRDbGFzc05hbWUoJ292ZXJmbG93aW5nQ29udGVudFdpZGdldHMnKTsKICAgIHJldHVybiBfdGhpczsKICB9CiAgX2NyZWF0ZUNsYXNzKFZpZXdDb250ZW50V2lkZ2V0cywgW3sKICAgIGtleTogImRpc3Bvc2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7CiAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKFZpZXdDb250ZW50V2lkZ2V0cy5wcm90b3R5cGUpLCAiZGlzcG9zZSIsIHRoaXMpLmNhbGwodGhpcyk7CiAgICAgIHRoaXMuX3dpZGdldHMgPSB7fTsKICAgIH0KICAgIC8vIC0tLSBiZWdpbiBldmVudCBoYW5kbGVycwogIH0sIHsKICAgIGtleTogIm9uQ29uZmlndXJhdGlvbkNoYW5nZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ29uZmlndXJhdGlvbkNoYW5nZWQoZSkgewogICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX3dpZGdldHMpOwogICAgICBmb3IgKHZhciBfaSA9IDAsIF9rZXlzID0ga2V5czsgX2kgPCBfa2V5cy5sZW5ndGg7IF9pKyspIHsKICAgICAgICB2YXIgd2lkZ2V0SWQgPSBfa2V5c1tfaV07CiAgICAgICAgdGhpcy5fd2lkZ2V0c1t3aWRnZXRJZF0ub25Db25maWd1cmF0aW9uQ2hhbmdlZChlKTsKICAgICAgfQogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvbkRlY29yYXRpb25zQ2hhbmdlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25EZWNvcmF0aW9uc0NoYW5nZWQoZSkgewogICAgICAvLyB0cnVlIGZvciBpbmxpbmUgZGVjb3JhdGlvbnMgdGhhdCBjYW4gZW5kIHVwIHJlbGF5b3V0aW5nIHRleHQKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAib25GbHVzaGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvbkZsdXNoZWQoZSkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvbkxpbmVNYXBwaW5nQ2hhbmdlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25MaW5lTWFwcGluZ0NoYW5nZWQoZSkgewogICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX3dpZGdldHMpOwogICAgICBmb3IgKHZhciBfaTIgPSAwLCBfa2V5czIgPSBrZXlzOyBfaTIgPCBfa2V5czIubGVuZ3RoOyBfaTIrKykgewogICAgICAgIHZhciB3aWRnZXRJZCA9IF9rZXlzMltfaTJdOwogICAgICAgIHRoaXMuX3dpZGdldHNbd2lkZ2V0SWRdLm9uTGluZU1hcHBpbmdDaGFuZ2VkKGUpOwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogIm9uTGluZXNDaGFuZ2VkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvbkxpbmVzQ2hhbmdlZChlKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogIm9uTGluZXNEZWxldGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvbkxpbmVzRGVsZXRlZChlKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogIm9uTGluZXNJbnNlcnRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25MaW5lc0luc2VydGVkKGUpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAib25TY3JvbGxDaGFuZ2VkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvblNjcm9sbENoYW5nZWQoZSkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvblpvbmVzQ2hhbmdlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25ab25lc0NoYW5nZWQoZSkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIC8vIC0tLS0gZW5kIHZpZXcgZXZlbnQgaGFuZGxlcnMKICB9LCB7CiAgICBrZXk6ICJhZGRXaWRnZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFdpZGdldChfd2lkZ2V0KSB7CiAgICAgIHZhciBteVdpZGdldCA9IG5ldyBXaWRnZXQodGhpcy5fY29udGV4dCwgdGhpcy5fdmlld0RvbU5vZGUsIF93aWRnZXQpOwogICAgICB0aGlzLl93aWRnZXRzW215V2lkZ2V0LmlkXSA9IG15V2lkZ2V0OwogICAgICBpZiAobXlXaWRnZXQuYWxsb3dFZGl0b3JPdmVyZmxvdykgewogICAgICAgIHRoaXMub3ZlcmZsb3dpbmdDb250ZW50V2lkZ2V0c0RvbU5vZGUuYXBwZW5kQ2hpbGQobXlXaWRnZXQuZG9tTm9kZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kb21Ob2RlLmFwcGVuZENoaWxkKG15V2lkZ2V0LmRvbU5vZGUpOwogICAgICB9CiAgICAgIHRoaXMuc2V0U2hvdWxkUmVuZGVyKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0V2lkZ2V0UG9zaXRpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFdpZGdldFBvc2l0aW9uKHdpZGdldCwgcmFuZ2UsIHByZWZlcmVuY2UsIGFmZmluaXR5KSB7CiAgICAgIHZhciBteVdpZGdldCA9IHRoaXMuX3dpZGdldHNbd2lkZ2V0LmdldElkKCldOwogICAgICBteVdpZGdldC5zZXRQb3NpdGlvbihyYW5nZSwgcHJlZmVyZW5jZSwgYWZmaW5pdHkpOwogICAgICB0aGlzLnNldFNob3VsZFJlbmRlcigpOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbW92ZVdpZGdldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlV2lkZ2V0KHdpZGdldCkgewogICAgICB2YXIgd2lkZ2V0SWQgPSB3aWRnZXQuZ2V0SWQoKTsKICAgICAgaWYgKHRoaXMuX3dpZGdldHMuaGFzT3duUHJvcGVydHkod2lkZ2V0SWQpKSB7CiAgICAgICAgdmFyIG15V2lkZ2V0ID0gdGhpcy5fd2lkZ2V0c1t3aWRnZXRJZF07CiAgICAgICAgZGVsZXRlIHRoaXMuX3dpZGdldHNbd2lkZ2V0SWRdOwogICAgICAgIHZhciBkb21Ob2RlID0gbXlXaWRnZXQuZG9tTm9kZS5kb21Ob2RlOwogICAgICAgIGRvbU5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkb21Ob2RlKTsKICAgICAgICBkb21Ob2RlLnJlbW92ZUF0dHJpYnV0ZSgnbW9uYWNvLXZpc2libGUtY29udGVudC13aWRnZXQnKTsKICAgICAgICB0aGlzLnNldFNob3VsZFJlbmRlcigpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAic2hvdWxkU3VwcHJlc3NNb3VzZURvd25PbldpZGdldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkU3VwcHJlc3NNb3VzZURvd25PbldpZGdldCh3aWRnZXRJZCkgewogICAgICBpZiAodGhpcy5fd2lkZ2V0cy5oYXNPd25Qcm9wZXJ0eSh3aWRnZXRJZCkpIHsKICAgICAgICByZXR1cm4gdGhpcy5fd2lkZ2V0c1t3aWRnZXRJZF0uc3VwcHJlc3NNb3VzZURvd247CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogIm9uQmVmb3JlUmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvbkJlZm9yZVJlbmRlcih2aWV3cG9ydERhdGEpIHsKICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl93aWRnZXRzKTsKICAgICAgZm9yICh2YXIgX2kzID0gMCwgX2tleXMzID0ga2V5czsgX2kzIDwgX2tleXMzLmxlbmd0aDsgX2kzKyspIHsKICAgICAgICB2YXIgd2lkZ2V0SWQgPSBfa2V5czNbX2kzXTsKICAgICAgICB0aGlzLl93aWRnZXRzW3dpZGdldElkXS5vbkJlZm9yZVJlbmRlcih2aWV3cG9ydERhdGEpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAicHJlcGFyZVJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcHJlcGFyZVJlbmRlcihjdHgpIHsKICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl93aWRnZXRzKTsKICAgICAgZm9yICh2YXIgX2k0ID0gMCwgX2tleXM0ID0ga2V5czsgX2k0IDwgX2tleXM0Lmxlbmd0aDsgX2k0KyspIHsKICAgICAgICB2YXIgd2lkZ2V0SWQgPSBfa2V5czRbX2k0XTsKICAgICAgICB0aGlzLl93aWRnZXRzW3dpZGdldElkXS5wcmVwYXJlUmVuZGVyKGN0eCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcihjdHgpIHsKICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl93aWRnZXRzKTsKICAgICAgZm9yICh2YXIgX2k1ID0gMCwgX2tleXM1ID0ga2V5czsgX2k1IDwgX2tleXM1Lmxlbmd0aDsgX2k1KyspIHsKICAgICAgICB2YXIgd2lkZ2V0SWQgPSBfa2V5czVbX2k1XTsKICAgICAgICB0aGlzLl93aWRnZXRzW3dpZGdldElkXS5yZW5kZXIoY3R4KTsKICAgICAgfQogICAgfQogIH1dKTsKICByZXR1cm4gVmlld0NvbnRlbnRXaWRnZXRzOwp9KFZpZXdQYXJ0KTsKdmFyIFdpZGdldCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gV2lkZ2V0KGNvbnRleHQsIHZpZXdEb21Ob2RlLCBhY3R1YWwpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXaWRnZXQpOwogICAgdGhpcy5fY29udGV4dCA9IGNvbnRleHQ7CiAgICB0aGlzLl92aWV3RG9tTm9kZSA9IHZpZXdEb21Ob2RlOwogICAgdGhpcy5fYWN0dWFsID0gYWN0dWFsOwogICAgdGhpcy5kb21Ob2RlID0gY3JlYXRlRmFzdERvbU5vZGUodGhpcy5fYWN0dWFsLmdldERvbU5vZGUoKSk7CiAgICB0aGlzLmlkID0gdGhpcy5fYWN0dWFsLmdldElkKCk7CiAgICB0aGlzLmFsbG93RWRpdG9yT3ZlcmZsb3cgPSB0aGlzLl9hY3R1YWwuYWxsb3dFZGl0b3JPdmVyZmxvdyB8fCBmYWxzZTsKICAgIHRoaXMuc3VwcHJlc3NNb3VzZURvd24gPSB0aGlzLl9hY3R1YWwuc3VwcHJlc3NNb3VzZURvd24gfHwgZmFsc2U7CiAgICB2YXIgb3B0aW9ucyA9IHRoaXMuX2NvbnRleHQuY29uZmlndXJhdGlvbi5vcHRpb25zOwogICAgdmFyIGxheW91dEluZm8gPSBvcHRpb25zLmdldCgxMzMgLyogRWRpdG9yT3B0aW9uLmxheW91dEluZm8gKi8pOwogICAgdGhpcy5fZml4ZWRPdmVyZmxvd1dpZGdldHMgPSBvcHRpb25zLmdldCgzOCAvKiBFZGl0b3JPcHRpb24uZml4ZWRPdmVyZmxvd1dpZGdldHMgKi8pOwogICAgdGhpcy5fY29udGVudFdpZHRoID0gbGF5b3V0SW5mby5jb250ZW50V2lkdGg7CiAgICB0aGlzLl9jb250ZW50TGVmdCA9IGxheW91dEluZm8uY29udGVudExlZnQ7CiAgICB0aGlzLl9saW5lSGVpZ2h0ID0gb3B0aW9ucy5nZXQoNjEgLyogRWRpdG9yT3B0aW9uLmxpbmVIZWlnaHQgKi8pOwogICAgdGhpcy5fcmFuZ2UgPSBudWxsOwogICAgdGhpcy5fdmlld1JhbmdlID0gbnVsbDsKICAgIHRoaXMuX2FmZmluaXR5ID0gbnVsbDsKICAgIHRoaXMuX3ByZWZlcmVuY2UgPSBbXTsKICAgIHRoaXMuX2NhY2hlZERvbU5vZGVPZmZzZXRXaWR0aCA9IC0xOwogICAgdGhpcy5fY2FjaGVkRG9tTm9kZU9mZnNldEhlaWdodCA9IC0xOwogICAgdGhpcy5fbWF4V2lkdGggPSB0aGlzLl9nZXRNYXhXaWR0aCgpOwogICAgdGhpcy5faXNWaXNpYmxlID0gZmFsc2U7CiAgICB0aGlzLl9yZW5kZXJEYXRhID0gbnVsbDsKICAgIHRoaXMuZG9tTm9kZS5zZXRQb3NpdGlvbih0aGlzLl9maXhlZE92ZXJmbG93V2lkZ2V0cyAmJiB0aGlzLmFsbG93RWRpdG9yT3ZlcmZsb3cgPyAnZml4ZWQnIDogJ2Fic29sdXRlJyk7CiAgICB0aGlzLmRvbU5vZGUuc2V0RGlzcGxheSgnbm9uZScpOwogICAgdGhpcy5kb21Ob2RlLnNldFZpc2liaWxpdHkoJ2hpZGRlbicpOwogICAgdGhpcy5kb21Ob2RlLnNldEF0dHJpYnV0ZSgnd2lkZ2V0SWQnLCB0aGlzLmlkKTsKICAgIHRoaXMuZG9tTm9kZS5zZXRNYXhXaWR0aCh0aGlzLl9tYXhXaWR0aCk7CiAgfQogIF9jcmVhdGVDbGFzcyhXaWRnZXQsIFt7CiAgICBrZXk6ICJvbkNvbmZpZ3VyYXRpb25DaGFuZ2VkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNvbmZpZ3VyYXRpb25DaGFuZ2VkKGUpIHsKICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLl9jb250ZXh0LmNvbmZpZ3VyYXRpb24ub3B0aW9uczsKICAgICAgdGhpcy5fbGluZUhlaWdodCA9IG9wdGlvbnMuZ2V0KDYxIC8qIEVkaXRvck9wdGlvbi5saW5lSGVpZ2h0ICovKTsKICAgICAgaWYgKGUuaGFzQ2hhbmdlZCgxMzMgLyogRWRpdG9yT3B0aW9uLmxheW91dEluZm8gKi8pKSB7CiAgICAgICAgdmFyIGxheW91dEluZm8gPSBvcHRpb25zLmdldCgxMzMgLyogRWRpdG9yT3B0aW9uLmxheW91dEluZm8gKi8pOwogICAgICAgIHRoaXMuX2NvbnRlbnRMZWZ0ID0gbGF5b3V0SW5mby5jb250ZW50TGVmdDsKICAgICAgICB0aGlzLl9jb250ZW50V2lkdGggPSBsYXlvdXRJbmZvLmNvbnRlbnRXaWR0aDsKICAgICAgICB0aGlzLl9tYXhXaWR0aCA9IHRoaXMuX2dldE1heFdpZHRoKCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJvbkxpbmVNYXBwaW5nQ2hhbmdlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25MaW5lTWFwcGluZ0NoYW5nZWQoZSkgewogICAgICB0aGlzLl9zZXRQb3NpdGlvbih0aGlzLl9yYW5nZSwgdGhpcy5fYWZmaW5pdHkpOwogICAgfQogIH0sIHsKICAgIGtleTogIl9zZXRQb3NpdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3NldFBvc2l0aW9uKHJhbmdlLCBhZmZpbml0eSkgewogICAgICB2YXIgX2E7CiAgICAgIHRoaXMuX3JhbmdlID0gcmFuZ2U7CiAgICAgIHRoaXMuX3ZpZXdSYW5nZSA9IG51bGw7CiAgICAgIHRoaXMuX2FmZmluaXR5ID0gYWZmaW5pdHk7CiAgICAgIGlmICh0aGlzLl9yYW5nZSkgewogICAgICAgIC8vIERvIG5vdCB0cnVzdCB0aGF0IHdpZGdldHMgZ2l2ZSBhIHZhbGlkIHBvc2l0aW9uCiAgICAgICAgdmFyIHZhbGlkTW9kZWxSYW5nZSA9IHRoaXMuX2NvbnRleHQudmlld01vZGVsLm1vZGVsLnZhbGlkYXRlUmFuZ2UodGhpcy5fcmFuZ2UpOwogICAgICAgIGlmICh0aGlzLl9jb250ZXh0LnZpZXdNb2RlbC5jb29yZGluYXRlc0NvbnZlcnRlci5tb2RlbFBvc2l0aW9uSXNWaXNpYmxlKHZhbGlkTW9kZWxSYW5nZS5nZXRTdGFydFBvc2l0aW9uKCkpIHx8IHRoaXMuX2NvbnRleHQudmlld01vZGVsLmNvb3JkaW5hdGVzQ29udmVydGVyLm1vZGVsUG9zaXRpb25Jc1Zpc2libGUodmFsaWRNb2RlbFJhbmdlLmdldEVuZFBvc2l0aW9uKCkpKSB7CiAgICAgICAgICB0aGlzLl92aWV3UmFuZ2UgPSB0aGlzLl9jb250ZXh0LnZpZXdNb2RlbC5jb29yZGluYXRlc0NvbnZlcnRlci5jb252ZXJ0TW9kZWxSYW5nZVRvVmlld1JhbmdlKHZhbGlkTW9kZWxSYW5nZSwgKF9hID0gdGhpcy5fYWZmaW5pdHkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHVuZGVmaW5lZCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiX2dldE1heFdpZHRoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0TWF4V2lkdGgoKSB7CiAgICAgIHJldHVybiB0aGlzLmFsbG93RWRpdG9yT3ZlcmZsb3cgPyB3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0V2lkdGggfHwgZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aCA6IHRoaXMuX2NvbnRlbnRXaWR0aDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRQb3NpdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UG9zaXRpb24ocmFuZ2UsIHByZWZlcmVuY2UsIGFmZmluaXR5KSB7CiAgICAgIHRoaXMuX3NldFBvc2l0aW9uKHJhbmdlLCBhZmZpbml0eSk7CiAgICAgIHRoaXMuX3ByZWZlcmVuY2UgPSBwcmVmZXJlbmNlOwogICAgICBpZiAodGhpcy5fdmlld1JhbmdlICYmIHRoaXMuX3ByZWZlcmVuY2UgJiYgdGhpcy5fcHJlZmVyZW5jZS5sZW5ndGggPiAwKSB7CiAgICAgICAgLy8gdGhpcyBjb250ZW50IHdpZGdldCB3b3VsZCBsaWtlIHRvIGJlIHZpc2libGUgaWYgcG9zc2libGUKICAgICAgICAvLyB3ZSBjaGFuZ2UgaXQgZnJvbSBgZGlzcGxheTpub25lYCB0byBgZGlzcGxheTpibG9ja2AgZXZlbiBpZiBpdAogICAgICAgIC8vIG1pZ2h0IGJlIG91dHNpZGUgdGhlIHZpZXdwb3J0IHN1Y2ggdGhhdCB3ZSBjYW4gbWVhc3VyZSBpdHMgc2l6ZQogICAgICAgIC8vIGluIGBwcmVwYXJlUmVuZGVyYAogICAgICAgIHRoaXMuZG9tTm9kZS5zZXREaXNwbGF5KCdibG9jaycpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZG9tTm9kZS5zZXREaXNwbGF5KCdub25lJyk7CiAgICAgIH0KICAgICAgdGhpcy5fY2FjaGVkRG9tTm9kZU9mZnNldFdpZHRoID0gLTE7CiAgICAgIHRoaXMuX2NhY2hlZERvbU5vZGVPZmZzZXRIZWlnaHQgPSAtMTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfbGF5b3V0Qm94SW5WaWV3cG9ydCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2xheW91dEJveEluVmlld3BvcnQodG9wTGVmdCwgYm90dG9tTGVmdCwgd2lkdGgsIGhlaWdodCwgY3R4KSB7CiAgICAgIC8vIE91ciB2aXNpYmxlIGJveCBpcyBzcGxpdCBob3Jpem9udGFsbHkgYnkgdGhlIGN1cnJlbnQgbGluZSA9PiAyIGJveGVzCiAgICAgIC8vIGEpIHRoZSBib3ggYWJvdmUgdGhlIGxpbmUKICAgICAgdmFyIGFib3ZlTGluZVRvcCA9IHRvcExlZnQudG9wOwogICAgICB2YXIgaGVpZ2h0QWJvdmVMaW5lID0gYWJvdmVMaW5lVG9wOwogICAgICAvLyBiKSB0aGUgYm94IHVuZGVyIHRoZSBsaW5lCiAgICAgIHZhciB1bmRlckxpbmVUb3AgPSBib3R0b21MZWZ0LnRvcCArIHRoaXMuX2xpbmVIZWlnaHQ7CiAgICAgIHZhciBoZWlnaHRVbmRlckxpbmUgPSBjdHgudmlld3BvcnRIZWlnaHQgLSB1bmRlckxpbmVUb3A7CiAgICAgIHZhciBhYm92ZVRvcCA9IGFib3ZlTGluZVRvcCAtIGhlaWdodDsKICAgICAgdmFyIGZpdHNBYm92ZSA9IGhlaWdodEFib3ZlTGluZSA+PSBoZWlnaHQ7CiAgICAgIHZhciBiZWxvd1RvcCA9IHVuZGVyTGluZVRvcDsKICAgICAgdmFyIGZpdHNCZWxvdyA9IGhlaWdodFVuZGVyTGluZSA+PSBoZWlnaHQ7CiAgICAgIC8vIEFuZCBpdHMgbGVmdAogICAgICB2YXIgYWN0dWFsQWJvdmVMZWZ0ID0gdG9wTGVmdC5sZWZ0OwogICAgICB2YXIgYWN0dWFsQmVsb3dMZWZ0ID0gYm90dG9tTGVmdC5sZWZ0OwogICAgICBpZiAoYWN0dWFsQWJvdmVMZWZ0ICsgd2lkdGggPiBjdHguc2Nyb2xsTGVmdCArIGN0eC52aWV3cG9ydFdpZHRoKSB7CiAgICAgICAgYWN0dWFsQWJvdmVMZWZ0ID0gY3R4LnNjcm9sbExlZnQgKyBjdHgudmlld3BvcnRXaWR0aCAtIHdpZHRoOwogICAgICB9CiAgICAgIGlmIChhY3R1YWxCZWxvd0xlZnQgKyB3aWR0aCA+IGN0eC5zY3JvbGxMZWZ0ICsgY3R4LnZpZXdwb3J0V2lkdGgpIHsKICAgICAgICBhY3R1YWxCZWxvd0xlZnQgPSBjdHguc2Nyb2xsTGVmdCArIGN0eC52aWV3cG9ydFdpZHRoIC0gd2lkdGg7CiAgICAgIH0KICAgICAgaWYgKGFjdHVhbEFib3ZlTGVmdCA8IGN0eC5zY3JvbGxMZWZ0KSB7CiAgICAgICAgYWN0dWFsQWJvdmVMZWZ0ID0gY3R4LnNjcm9sbExlZnQ7CiAgICAgIH0KICAgICAgaWYgKGFjdHVhbEJlbG93TGVmdCA8IGN0eC5zY3JvbGxMZWZ0KSB7CiAgICAgICAgYWN0dWFsQmVsb3dMZWZ0ID0gY3R4LnNjcm9sbExlZnQ7CiAgICAgIH0KICAgICAgcmV0dXJuIHsKICAgICAgICBmaXRzQWJvdmU6IGZpdHNBYm92ZSwKICAgICAgICBhYm92ZVRvcDogYWJvdmVUb3AsCiAgICAgICAgYWJvdmVMZWZ0OiBhY3R1YWxBYm92ZUxlZnQsCiAgICAgICAgZml0c0JlbG93OiBmaXRzQmVsb3csCiAgICAgICAgYmVsb3dUb3A6IGJlbG93VG9wLAogICAgICAgIGJlbG93TGVmdDogYWN0dWFsQmVsb3dMZWZ0CiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAiX2xheW91dEhvcml6b250YWxTZWdtZW50SW5QYWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfbGF5b3V0SG9yaXpvbnRhbFNlZ21lbnRJblBhZ2Uod2luZG93U2l6ZSwgZG9tTm9kZVBvc2l0aW9uLCBsZWZ0LCB3aWR0aCkgewogICAgICAvLyBJbml0aWFsbHksIHRoZSBsaW1pdHMgYXJlIGRlZmluZWQgYXMgdGhlIGRvbSBub2RlIGxpbWl0cwogICAgICB2YXIgTUlOX0xJTUlUID0gTWF0aC5tYXgoMCwgZG9tTm9kZVBvc2l0aW9uLmxlZnQgLSB3aWR0aCk7CiAgICAgIHZhciBNQVhfTElNSVQgPSBNYXRoLm1pbihkb21Ob2RlUG9zaXRpb24ubGVmdCArIGRvbU5vZGVQb3NpdGlvbi53aWR0aCArIHdpZHRoLCB3aW5kb3dTaXplLndpZHRoKTsKICAgICAgdmFyIGFic29sdXRlTGVmdCA9IGRvbU5vZGVQb3NpdGlvbi5sZWZ0ICsgbGVmdCAtIGRvbS5TdGFuZGFyZFdpbmRvdy5zY3JvbGxYOwogICAgICBpZiAoYWJzb2x1dGVMZWZ0ICsgd2lkdGggPiBNQVhfTElNSVQpIHsKICAgICAgICB2YXIgZGVsdGEgPSBhYnNvbHV0ZUxlZnQgLSAoTUFYX0xJTUlUIC0gd2lkdGgpOwogICAgICAgIGFic29sdXRlTGVmdCAtPSBkZWx0YTsKICAgICAgICBsZWZ0IC09IGRlbHRhOwogICAgICB9CiAgICAgIGlmIChhYnNvbHV0ZUxlZnQgPCBNSU5fTElNSVQpIHsKICAgICAgICB2YXIgX2RlbHRhID0gYWJzb2x1dGVMZWZ0IC0gTUlOX0xJTUlUOwogICAgICAgIGFic29sdXRlTGVmdCAtPSBfZGVsdGE7CiAgICAgICAgbGVmdCAtPSBfZGVsdGE7CiAgICAgIH0KICAgICAgcmV0dXJuIFtsZWZ0LCBhYnNvbHV0ZUxlZnRdOwogICAgfQogIH0sIHsKICAgIGtleTogIl9sYXlvdXRCb3hJblBhZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9sYXlvdXRCb3hJblBhZ2UodG9wTGVmdCwgYm90dG9tTGVmdCwgd2lkdGgsIGhlaWdodCwgY3R4KSB7CiAgICAgIHZhciBhYm92ZVRvcCA9IHRvcExlZnQudG9wIC0gaGVpZ2h0OwogICAgICB2YXIgYmVsb3dUb3AgPSBib3R0b21MZWZ0LnRvcCArIHRoaXMuX2xpbmVIZWlnaHQ7CiAgICAgIHZhciBkb21Ob2RlUG9zaXRpb24gPSBkb20uZ2V0RG9tTm9kZVBhZ2VQb3NpdGlvbih0aGlzLl92aWV3RG9tTm9kZS5kb21Ob2RlKTsKICAgICAgdmFyIGFic29sdXRlQWJvdmVUb3AgPSBkb21Ob2RlUG9zaXRpb24udG9wICsgYWJvdmVUb3AgLSBkb20uU3RhbmRhcmRXaW5kb3cuc2Nyb2xsWTsKICAgICAgdmFyIGFic29sdXRlQmVsb3dUb3AgPSBkb21Ob2RlUG9zaXRpb24udG9wICsgYmVsb3dUb3AgLSBkb20uU3RhbmRhcmRXaW5kb3cuc2Nyb2xsWTsKICAgICAgdmFyIHdpbmRvd1NpemUgPSBkb20uZ2V0Q2xpZW50QXJlYShkb2N1bWVudC5ib2R5KTsKICAgICAgdmFyIF90aGlzJF9sYXlvdXRIb3Jpem9udCA9IHRoaXMuX2xheW91dEhvcml6b250YWxTZWdtZW50SW5QYWdlKHdpbmRvd1NpemUsIGRvbU5vZGVQb3NpdGlvbiwgdG9wTGVmdC5sZWZ0IC0gY3R4LnNjcm9sbExlZnQgKyB0aGlzLl9jb250ZW50TGVmdCwgd2lkdGgpLAogICAgICAgIF90aGlzJF9sYXlvdXRIb3Jpem9udDIgPSBfc2xpY2VkVG9BcnJheShfdGhpcyRfbGF5b3V0SG9yaXpvbnQsIDIpLAogICAgICAgIGFib3ZlTGVmdCA9IF90aGlzJF9sYXlvdXRIb3Jpem9udDJbMF0sCiAgICAgICAgYWJzb2x1dGVBYm92ZUxlZnQgPSBfdGhpcyRfbGF5b3V0SG9yaXpvbnQyWzFdOwogICAgICB2YXIgX3RoaXMkX2xheW91dEhvcml6b250MyA9IHRoaXMuX2xheW91dEhvcml6b250YWxTZWdtZW50SW5QYWdlKHdpbmRvd1NpemUsIGRvbU5vZGVQb3NpdGlvbiwgYm90dG9tTGVmdC5sZWZ0IC0gY3R4LnNjcm9sbExlZnQgKyB0aGlzLl9jb250ZW50TGVmdCwgd2lkdGgpLAogICAgICAgIF90aGlzJF9sYXlvdXRIb3Jpem9udDQgPSBfc2xpY2VkVG9BcnJheShfdGhpcyRfbGF5b3V0SG9yaXpvbnQzLCAyKSwKICAgICAgICBiZWxvd0xlZnQgPSBfdGhpcyRfbGF5b3V0SG9yaXpvbnQ0WzBdLAogICAgICAgIGFic29sdXRlQmVsb3dMZWZ0ID0gX3RoaXMkX2xheW91dEhvcml6b250NFsxXTsKICAgICAgLy8gTGVhdmUgc29tZSBjbGVhcmFuY2UgdG8gdGhlIHRvcC9ib3R0b20KICAgICAgdmFyIFRPUF9QQURESU5HID0gMjI7CiAgICAgIHZhciBCT1RUT01fUEFERElORyA9IDIyOwogICAgICB2YXIgZml0c0Fib3ZlID0gYWJzb2x1dGVBYm92ZVRvcCA+PSBUT1BfUEFERElORzsKICAgICAgdmFyIGZpdHNCZWxvdyA9IGFic29sdXRlQmVsb3dUb3AgKyBoZWlnaHQgPD0gd2luZG93U2l6ZS5oZWlnaHQgLSBCT1RUT01fUEFERElORzsKICAgICAgaWYgKHRoaXMuX2ZpeGVkT3ZlcmZsb3dXaWRnZXRzKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGZpdHNBYm92ZTogZml0c0Fib3ZlLAogICAgICAgICAgYWJvdmVUb3A6IE1hdGgubWF4KGFic29sdXRlQWJvdmVUb3AsIFRPUF9QQURESU5HKSwKICAgICAgICAgIGFib3ZlTGVmdDogYWJzb2x1dGVBYm92ZUxlZnQsCiAgICAgICAgICBmaXRzQmVsb3c6IGZpdHNCZWxvdywKICAgICAgICAgIGJlbG93VG9wOiBhYnNvbHV0ZUJlbG93VG9wLAogICAgICAgICAgYmVsb3dMZWZ0OiBhYnNvbHV0ZUJlbG93TGVmdAogICAgICAgIH07CiAgICAgIH0KICAgICAgcmV0dXJuIHsKICAgICAgICBmaXRzQWJvdmU6IGZpdHNBYm92ZSwKICAgICAgICBhYm92ZVRvcDogYWJvdmVUb3AsCiAgICAgICAgYWJvdmVMZWZ0OiBhYm92ZUxlZnQsCiAgICAgICAgZml0c0JlbG93OiBmaXRzQmVsb3csCiAgICAgICAgYmVsb3dUb3A6IGJlbG93VG9wLAogICAgICAgIGJlbG93TGVmdDogYmVsb3dMZWZ0CiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAiX3ByZXBhcmVSZW5kZXJXaWRnZXRBdEV4YWN0UG9zaXRpb25PdmVyZmxvd2luZyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3ByZXBhcmVSZW5kZXJXaWRnZXRBdEV4YWN0UG9zaXRpb25PdmVyZmxvd2luZyh0b3BMZWZ0KSB7CiAgICAgIHJldHVybiBuZXcgQ29vcmRpbmF0ZSh0b3BMZWZ0LnRvcCwgdG9wTGVmdC5sZWZ0ICsgdGhpcy5fY29udGVudExlZnQpOwogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlIGB0aGlzLl90b3BMZWZ0YAogICAgICovCiAgfSwgewogICAga2V5OiAiX2dldFRvcEFuZEJvdHRvbUxlZnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRUb3BBbmRCb3R0b21MZWZ0KGN0eCkgewogICAgICBpZiAoIXRoaXMuX3ZpZXdSYW5nZSkgewogICAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07CiAgICAgIH0KICAgICAgdmFyIHZpc2libGVSYW5nZXNGb3JSYW5nZSA9IGN0eC5saW5lc1Zpc2libGVSYW5nZXNGb3JSYW5nZSh0aGlzLl92aWV3UmFuZ2UsIGZhbHNlKTsKICAgICAgaWYgKCF2aXNpYmxlUmFuZ2VzRm9yUmFuZ2UgfHwgdmlzaWJsZVJhbmdlc0ZvclJhbmdlLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07CiAgICAgIH0KICAgICAgdmFyIGZpcnN0TGluZSA9IHZpc2libGVSYW5nZXNGb3JSYW5nZVswXTsKICAgICAgdmFyIGxhc3RMaW5lID0gdmlzaWJsZVJhbmdlc0ZvclJhbmdlWzBdOwogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodmlzaWJsZVJhbmdlc0ZvclJhbmdlKSwKICAgICAgICBfc3RlcDsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHZpc2libGVSYW5nZXNGb3JMaW5lID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICBpZiAodmlzaWJsZVJhbmdlc0ZvckxpbmUubGluZU51bWJlciA8IGZpcnN0TGluZS5saW5lTnVtYmVyKSB7CiAgICAgICAgICAgIGZpcnN0TGluZSA9IHZpc2libGVSYW5nZXNGb3JMaW5lOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHZpc2libGVSYW5nZXNGb3JMaW5lLmxpbmVOdW1iZXIgPiBsYXN0TGluZS5saW5lTnVtYmVyKSB7CiAgICAgICAgICAgIGxhc3RMaW5lID0gdmlzaWJsZVJhbmdlc0ZvckxpbmU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KICAgICAgdmFyIGZpcnN0TGluZU1pbkxlZnQgPSAxMDczNzQxODI0IC8qIENvbnN0YW50cy5NQVhfU0FGRV9TTUFMTF9JTlRFR0VSICovOyAvL2ZpcnN0TGluZS5Db25zdGFudHMuTUFYX1NBRkVfU01BTExfSU5URUdFUjsKICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihmaXJzdExpbmUucmFuZ2VzKSwKICAgICAgICBfc3RlcDI7CiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciB2aXNpYmxlUmFuZ2UgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICBpZiAodmlzaWJsZVJhbmdlLmxlZnQgPCBmaXJzdExpbmVNaW5MZWZ0KSB7CiAgICAgICAgICAgIGZpcnN0TGluZU1pbkxlZnQgPSB2aXNpYmxlUmFuZ2UubGVmdDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICB9CiAgICAgIHZhciBsYXN0TGluZU1pbkxlZnQgPSAxMDczNzQxODI0IC8qIENvbnN0YW50cy5NQVhfU0FGRV9TTUFMTF9JTlRFR0VSICovOyAvL2xhc3RMaW5lLkNvbnN0YW50cy5NQVhfU0FGRV9TTUFMTF9JTlRFR0VSOwogICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGxhc3RMaW5lLnJhbmdlcyksCiAgICAgICAgX3N0ZXAzOwogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgX3Zpc2libGVSYW5nZSA9IF9zdGVwMy52YWx1ZTsKICAgICAgICAgIGlmIChfdmlzaWJsZVJhbmdlLmxlZnQgPCBsYXN0TGluZU1pbkxlZnQpIHsKICAgICAgICAgICAgbGFzdExpbmVNaW5MZWZ0ID0gX3Zpc2libGVSYW5nZS5sZWZ0OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMy5mKCk7CiAgICAgIH0KICAgICAgdmFyIHRvcEZvclBvc2l0aW9uID0gY3R4LmdldFZlcnRpY2FsT2Zmc2V0Rm9yTGluZU51bWJlcihmaXJzdExpbmUubGluZU51bWJlcikgLSBjdHguc2Nyb2xsVG9wOwogICAgICB2YXIgdG9wTGVmdCA9IG5ldyBDb29yZGluYXRlKHRvcEZvclBvc2l0aW9uLCBmaXJzdExpbmVNaW5MZWZ0KTsKICAgICAgdmFyIHRvcEZvckJvdHRvbUxpbmUgPSBjdHguZ2V0VmVydGljYWxPZmZzZXRGb3JMaW5lTnVtYmVyKGxhc3RMaW5lLmxpbmVOdW1iZXIpIC0gY3R4LnNjcm9sbFRvcDsKICAgICAgdmFyIGJvdHRvbUxlZnQgPSBuZXcgQ29vcmRpbmF0ZSh0b3BGb3JCb3R0b21MaW5lLCBsYXN0TGluZU1pbkxlZnQpOwogICAgICByZXR1cm4gW3RvcExlZnQsIGJvdHRvbUxlZnRdOwogICAgfQogIH0sIHsKICAgIGtleTogIl9wcmVwYXJlUmVuZGVyV2lkZ2V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfcHJlcGFyZVJlbmRlcldpZGdldChjdHgpIHsKICAgICAgaWYgKCF0aGlzLl9wcmVmZXJlbmNlIHx8IHRoaXMuX3ByZWZlcmVuY2UubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgdmFyIF90aGlzJF9nZXRUb3BBbmRCb3R0byA9IHRoaXMuX2dldFRvcEFuZEJvdHRvbUxlZnQoY3R4KSwKICAgICAgICBfdGhpcyRfZ2V0VG9wQW5kQm90dG8yID0gX3NsaWNlZFRvQXJyYXkoX3RoaXMkX2dldFRvcEFuZEJvdHRvLCAyKSwKICAgICAgICB0b3BMZWZ0ID0gX3RoaXMkX2dldFRvcEFuZEJvdHRvMlswXSwKICAgICAgICBib3R0b21MZWZ0ID0gX3RoaXMkX2dldFRvcEFuZEJvdHRvMlsxXTsKICAgICAgaWYgKCF0b3BMZWZ0IHx8ICFib3R0b21MZWZ0KSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuX2NhY2hlZERvbU5vZGVPZmZzZXRXaWR0aCA9PT0gLTEgfHwgdGhpcy5fY2FjaGVkRG9tTm9kZU9mZnNldEhlaWdodCA9PT0gLTEpIHsKICAgICAgICB2YXIgcHJlZmVycmVkRGltZW5zaW9ucyA9IG51bGw7CiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9hY3R1YWwuYmVmb3JlUmVuZGVyID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICBwcmVmZXJyZWREaW1lbnNpb25zID0gc2FmZUludm9rZSh0aGlzLl9hY3R1YWwuYmVmb3JlUmVuZGVyLCB0aGlzLl9hY3R1YWwpOwogICAgICAgIH0KICAgICAgICBpZiAocHJlZmVycmVkRGltZW5zaW9ucykgewogICAgICAgICAgdGhpcy5fY2FjaGVkRG9tTm9kZU9mZnNldFdpZHRoID0gcHJlZmVycmVkRGltZW5zaW9ucy53aWR0aDsKICAgICAgICAgIHRoaXMuX2NhY2hlZERvbU5vZGVPZmZzZXRIZWlnaHQgPSBwcmVmZXJyZWREaW1lbnNpb25zLmhlaWdodDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIGRvbU5vZGUgPSB0aGlzLmRvbU5vZGUuZG9tTm9kZTsKICAgICAgICAgIHZhciBjbGllbnRSZWN0ID0gZG9tTm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgIHRoaXMuX2NhY2hlZERvbU5vZGVPZmZzZXRXaWR0aCA9IE1hdGgucm91bmQoY2xpZW50UmVjdC53aWR0aCk7CiAgICAgICAgICB0aGlzLl9jYWNoZWREb21Ob2RlT2Zmc2V0SGVpZ2h0ID0gTWF0aC5yb3VuZChjbGllbnRSZWN0LmhlaWdodCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHZhciBwbGFjZW1lbnQ7CiAgICAgIGlmICh0aGlzLmFsbG93RWRpdG9yT3ZlcmZsb3cpIHsKICAgICAgICBwbGFjZW1lbnQgPSB0aGlzLl9sYXlvdXRCb3hJblBhZ2UodG9wTGVmdCwgYm90dG9tTGVmdCwgdGhpcy5fY2FjaGVkRG9tTm9kZU9mZnNldFdpZHRoLCB0aGlzLl9jYWNoZWREb21Ob2RlT2Zmc2V0SGVpZ2h0LCBjdHgpOwogICAgICB9IGVsc2UgewogICAgICAgIHBsYWNlbWVudCA9IHRoaXMuX2xheW91dEJveEluVmlld3BvcnQodG9wTGVmdCwgYm90dG9tTGVmdCwgdGhpcy5fY2FjaGVkRG9tTm9kZU9mZnNldFdpZHRoLCB0aGlzLl9jYWNoZWREb21Ob2RlT2Zmc2V0SGVpZ2h0LCBjdHgpOwogICAgICB9CiAgICAgIC8vIERvIHR3byBwYXNzZXMsIGZpcnN0IGZvciBwZXJmZWN0IGZpdCwgc2Vjb25kIHBpY2tzIGZpcnN0IG9wdGlvbgogICAgICBmb3IgKHZhciBwYXNzID0gMTsgcGFzcyA8PSAyOyBwYXNzKyspIHsKICAgICAgICB2YXIgX2l0ZXJhdG9yNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuX3ByZWZlcmVuY2UpLAogICAgICAgICAgX3N0ZXA0OwogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykgewogICAgICAgICAgICB2YXIgcHJlZiA9IF9zdGVwNC52YWx1ZTsKICAgICAgICAgICAgLy8gcGxhY2VtZW50CiAgICAgICAgICAgIGlmIChwcmVmID09PSAxIC8qIENvbnRlbnRXaWRnZXRQb3NpdGlvblByZWZlcmVuY2UuQUJPVkUgKi8pIHsKICAgICAgICAgICAgICBpZiAoIXBsYWNlbWVudCkgewogICAgICAgICAgICAgICAgLy8gV2lkZ2V0IG91dHNpZGUgb2Ygdmlld3BvcnQKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAocGFzcyA9PT0gMiB8fCBwbGFjZW1lbnQuZml0c0Fib3ZlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICBjb29yZGluYXRlOiBuZXcgQ29vcmRpbmF0ZShwbGFjZW1lbnQuYWJvdmVUb3AsIHBsYWNlbWVudC5hYm92ZUxlZnQpLAogICAgICAgICAgICAgICAgICBwb3NpdGlvbjogMSAvKiBDb250ZW50V2lkZ2V0UG9zaXRpb25QcmVmZXJlbmNlLkFCT1ZFICovCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmIChwcmVmID09PSAyIC8qIENvbnRlbnRXaWRnZXRQb3NpdGlvblByZWZlcmVuY2UuQkVMT1cgKi8pIHsKICAgICAgICAgICAgICBpZiAoIXBsYWNlbWVudCkgewogICAgICAgICAgICAgICAgLy8gV2lkZ2V0IG91dHNpZGUgb2Ygdmlld3BvcnQKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAocGFzcyA9PT0gMiB8fCBwbGFjZW1lbnQuZml0c0JlbG93KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICBjb29yZGluYXRlOiBuZXcgQ29vcmRpbmF0ZShwbGFjZW1lbnQuYmVsb3dUb3AsIHBsYWNlbWVudC5iZWxvd0xlZnQpLAogICAgICAgICAgICAgICAgICBwb3NpdGlvbjogMiAvKiBDb250ZW50V2lkZ2V0UG9zaXRpb25QcmVmZXJlbmNlLkJFTE9XICovCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpZiAodGhpcy5hbGxvd0VkaXRvck92ZXJmbG93KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICBjb29yZGluYXRlOiB0aGlzLl9wcmVwYXJlUmVuZGVyV2lkZ2V0QXRFeGFjdFBvc2l0aW9uT3ZlcmZsb3dpbmcodG9wTGVmdCksCiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAwIC8qIENvbnRlbnRXaWRnZXRQb3NpdGlvblByZWZlcmVuY2UuRVhBQ1QgKi8KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGU6IHRvcExlZnQsCiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAwIC8qIENvbnRlbnRXaWRnZXRQb3NpdGlvblByZWZlcmVuY2UuRVhBQ1QgKi8KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3I0LmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yNC5mKCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgLyoqCiAgICAgKiBPbiB0aGlzIGZpcnN0IHBhc3MsIHdlIGVuc3VyZSB0aGF0IHRoZSBjb250ZW50IHdpZGdldCAoaWYgaXQgaXMgaW4gdGhlIHZpZXdwb3J0KSBoYXMgdGhlIG1heCB3aWR0aCBzZXQgY29ycmVjdGx5LgogICAgICovCiAgfSwgewogICAga2V5OiAib25CZWZvcmVSZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uQmVmb3JlUmVuZGVyKHZpZXdwb3J0RGF0YSkgewogICAgICBpZiAoIXRoaXMuX3ZpZXdSYW5nZSB8fCAhdGhpcy5fcHJlZmVyZW5jZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAodGhpcy5fdmlld1JhbmdlLmVuZExpbmVOdW1iZXIgPCB2aWV3cG9ydERhdGEuc3RhcnRMaW5lTnVtYmVyIHx8IHRoaXMuX3ZpZXdSYW5nZS5zdGFydExpbmVOdW1iZXIgPiB2aWV3cG9ydERhdGEuZW5kTGluZU51bWJlcikgewogICAgICAgIC8vIE91dHNpZGUgb2Ygdmlld3BvcnQKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5kb21Ob2RlLnNldE1heFdpZHRoKHRoaXMuX21heFdpZHRoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwcmVwYXJlUmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBwcmVwYXJlUmVuZGVyKGN0eCkgewogICAgICB0aGlzLl9yZW5kZXJEYXRhID0gdGhpcy5fcHJlcGFyZVJlbmRlcldpZGdldChjdHgpOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKGN0eCkgewogICAgICBpZiAoIXRoaXMuX3JlbmRlckRhdGEpIHsKICAgICAgICAvLyBUaGlzIHdpZGdldCBzaG91bGQgYmUgaW52aXNpYmxlCiAgICAgICAgaWYgKHRoaXMuX2lzVmlzaWJsZSkgewogICAgICAgICAgdGhpcy5kb21Ob2RlLnJlbW92ZUF0dHJpYnV0ZSgnbW9uYWNvLXZpc2libGUtY29udGVudC13aWRnZXQnKTsKICAgICAgICAgIHRoaXMuX2lzVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgdGhpcy5kb21Ob2RlLnNldFZpc2liaWxpdHkoJ2hpZGRlbicpOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2FjdHVhbC5hZnRlclJlbmRlciA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgc2FmZUludm9rZSh0aGlzLl9hY3R1YWwuYWZ0ZXJSZW5kZXIsIHRoaXMuX2FjdHVhbCwgbnVsbCk7CiAgICAgICAgfQogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAvLyBUaGlzIHdpZGdldCBzaG91bGQgYmUgdmlzaWJsZQogICAgICBpZiAodGhpcy5hbGxvd0VkaXRvck92ZXJmbG93KSB7CiAgICAgICAgdGhpcy5kb21Ob2RlLnNldFRvcCh0aGlzLl9yZW5kZXJEYXRhLmNvb3JkaW5hdGUudG9wKTsKICAgICAgICB0aGlzLmRvbU5vZGUuc2V0TGVmdCh0aGlzLl9yZW5kZXJEYXRhLmNvb3JkaW5hdGUubGVmdCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kb21Ob2RlLnNldFRvcCh0aGlzLl9yZW5kZXJEYXRhLmNvb3JkaW5hdGUudG9wICsgY3R4LnNjcm9sbFRvcCAtIGN0eC5iaWdOdW1iZXJzRGVsdGEpOwogICAgICAgIHRoaXMuZG9tTm9kZS5zZXRMZWZ0KHRoaXMuX3JlbmRlckRhdGEuY29vcmRpbmF0ZS5sZWZ0KTsKICAgICAgfQogICAgICBpZiAoIXRoaXMuX2lzVmlzaWJsZSkgewogICAgICAgIHRoaXMuZG9tTm9kZS5zZXRWaXNpYmlsaXR5KCdpbmhlcml0Jyk7CiAgICAgICAgdGhpcy5kb21Ob2RlLnNldEF0dHJpYnV0ZSgnbW9uYWNvLXZpc2libGUtY29udGVudC13aWRnZXQnLCAndHJ1ZScpOwogICAgICAgIHRoaXMuX2lzVmlzaWJsZSA9IHRydWU7CiAgICAgIH0KICAgICAgaWYgKHR5cGVvZiB0aGlzLl9hY3R1YWwuYWZ0ZXJSZW5kZXIgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICBzYWZlSW52b2tlKHRoaXMuX2FjdHVhbC5hZnRlclJlbmRlciwgdGhpcy5fYWN0dWFsLCB0aGlzLl9yZW5kZXJEYXRhLnBvc2l0aW9uKTsKICAgICAgfQogICAgfQogIH1dKTsKICByZXR1cm4gV2lkZ2V0Owp9KCk7CmZ1bmN0aW9uIHNhZmVJbnZva2UoZm4sIHRoaXNBcmcpIHsKICB0cnkgewogICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDIgPyBfbGVuIC0gMiA6IDApLCBfa2V5ID0gMjsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICBhcmdzW19rZXkgLSAyXSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgIH0KICAgIHJldHVybiBmbi5jYWxsLmFwcGx5KGZuLCBbdGhpc0FyZ10uY29uY2F0KGFyZ3MpKTsKICB9IGNhdGNoIChfYSkgewogICAgLy8gaWdub3JlCiAgICByZXR1cm4gbnVsbDsKICB9Cn0="},{"version":3,"names":["dom","createFastDomNode","PartFingerprints","ViewPart","Coordinate","top","left","_coordinateBrand","undefined","ViewContentWidgets","context","viewDomNode","_viewDomNode","_widgets","domNode","document","createElement","write","setClassName","setPosition","setTop","overflowingContentWidgetsDomNode","e","keys","Object","widgetId","onConfigurationChanged","onLineMappingChanged","_widget","myWidget","Widget","_context","id","allowEditorOverflow","appendChild","setShouldRender","widget","range","preference","affinity","getId","hasOwnProperty","parentNode","removeChild","removeAttribute","suppressMouseDown","viewportData","onBeforeRender","ctx","prepareRender","render","actual","_actual","getDomNode","options","configuration","layoutInfo","get","_fixedOverflowWidgets","_contentWidth","contentWidth","_contentLeft","contentLeft","_lineHeight","_range","_viewRange","_affinity","_preference","_cachedDomNodeOffsetWidth","_cachedDomNodeOffsetHeight","_maxWidth","_getMaxWidth","_isVisible","_renderData","setDisplay","setVisibility","setAttribute","setMaxWidth","hasChanged","_setPosition","_a","validModelRange","viewModel","model","validateRange","coordinatesConverter","modelPositionIsVisible","getStartPosition","getEndPosition","convertModelRangeToViewRange","window","innerWidth","documentElement","offsetWidth","body","length","topLeft","bottomLeft","width","height","aboveLineTop","heightAboveLine","underLineTop","heightUnderLine","viewportHeight","aboveTop","fitsAbove","belowTop","fitsBelow","actualAboveLeft","actualBelowLeft","scrollLeft","viewportWidth","aboveLeft","belowLeft","windowSize","domNodePosition","MIN_LIMIT","Math","max","MAX_LIMIT","min","absoluteLeft","StandardWindow","scrollX","delta","getDomNodePagePosition","absoluteAboveTop","scrollY","absoluteBelowTop","getClientArea","_layoutHorizontalSegmentInPage","absoluteAboveLeft","absoluteBelowLeft","TOP_PADDING","BOTTOM_PADDING","visibleRangesForRange","linesVisibleRangesForRange","firstLine","lastLine","visibleRangesForLine","lineNumber","firstLineMinLeft","ranges","visibleRange","lastLineMinLeft","topForPosition","getVerticalOffsetForLineNumber","scrollTop","topForBottomLine","_getTopAndBottomLeft","preferredDimensions","beforeRender","safeInvoke","clientRect","getBoundingClientRect","round","placement","_layoutBoxInPage","_layoutBoxInViewport","pass","pref","coordinate","position","_prepareRenderWidgetAtExactPositionOverflowing","endLineNumber","startLineNumber","_prepareRenderWidget","afterRender","setLeft","bigNumbersDelta","fn","thisArg","args","call"],"sources":["/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/browser/viewParts/contentWidgets/contentWidgets.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../../base/browser/dom.js';\nimport { createFastDomNode } from '../../../../base/browser/fastDomNode.js';\nimport { PartFingerprints, ViewPart } from '../../view/viewPart.js';\nclass Coordinate {\n    constructor(top, left) {\n        this._coordinateBrand = undefined;\n        this.top = top;\n        this.left = left;\n    }\n}\nexport class ViewContentWidgets extends ViewPart {\n    constructor(context, viewDomNode) {\n        super(context);\n        this._viewDomNode = viewDomNode;\n        this._widgets = {};\n        this.domNode = createFastDomNode(document.createElement('div'));\n        PartFingerprints.write(this.domNode, 1 /* PartFingerprint.ContentWidgets */);\n        this.domNode.setClassName('contentWidgets');\n        this.domNode.setPosition('absolute');\n        this.domNode.setTop(0);\n        this.overflowingContentWidgetsDomNode = createFastDomNode(document.createElement('div'));\n        PartFingerprints.write(this.overflowingContentWidgetsDomNode, 2 /* PartFingerprint.OverflowingContentWidgets */);\n        this.overflowingContentWidgetsDomNode.setClassName('overflowingContentWidgets');\n    }\n    dispose() {\n        super.dispose();\n        this._widgets = {};\n    }\n    // --- begin event handlers\n    onConfigurationChanged(e) {\n        const keys = Object.keys(this._widgets);\n        for (const widgetId of keys) {\n            this._widgets[widgetId].onConfigurationChanged(e);\n        }\n        return true;\n    }\n    onDecorationsChanged(e) {\n        // true for inline decorations that can end up relayouting text\n        return true;\n    }\n    onFlushed(e) {\n        return true;\n    }\n    onLineMappingChanged(e) {\n        const keys = Object.keys(this._widgets);\n        for (const widgetId of keys) {\n            this._widgets[widgetId].onLineMappingChanged(e);\n        }\n        return true;\n    }\n    onLinesChanged(e) {\n        return true;\n    }\n    onLinesDeleted(e) {\n        return true;\n    }\n    onLinesInserted(e) {\n        return true;\n    }\n    onScrollChanged(e) {\n        return true;\n    }\n    onZonesChanged(e) {\n        return true;\n    }\n    // ---- end view event handlers\n    addWidget(_widget) {\n        const myWidget = new Widget(this._context, this._viewDomNode, _widget);\n        this._widgets[myWidget.id] = myWidget;\n        if (myWidget.allowEditorOverflow) {\n            this.overflowingContentWidgetsDomNode.appendChild(myWidget.domNode);\n        }\n        else {\n            this.domNode.appendChild(myWidget.domNode);\n        }\n        this.setShouldRender();\n    }\n    setWidgetPosition(widget, range, preference, affinity) {\n        const myWidget = this._widgets[widget.getId()];\n        myWidget.setPosition(range, preference, affinity);\n        this.setShouldRender();\n    }\n    removeWidget(widget) {\n        const widgetId = widget.getId();\n        if (this._widgets.hasOwnProperty(widgetId)) {\n            const myWidget = this._widgets[widgetId];\n            delete this._widgets[widgetId];\n            const domNode = myWidget.domNode.domNode;\n            domNode.parentNode.removeChild(domNode);\n            domNode.removeAttribute('monaco-visible-content-widget');\n            this.setShouldRender();\n        }\n    }\n    shouldSuppressMouseDownOnWidget(widgetId) {\n        if (this._widgets.hasOwnProperty(widgetId)) {\n            return this._widgets[widgetId].suppressMouseDown;\n        }\n        return false;\n    }\n    onBeforeRender(viewportData) {\n        const keys = Object.keys(this._widgets);\n        for (const widgetId of keys) {\n            this._widgets[widgetId].onBeforeRender(viewportData);\n        }\n    }\n    prepareRender(ctx) {\n        const keys = Object.keys(this._widgets);\n        for (const widgetId of keys) {\n            this._widgets[widgetId].prepareRender(ctx);\n        }\n    }\n    render(ctx) {\n        const keys = Object.keys(this._widgets);\n        for (const widgetId of keys) {\n            this._widgets[widgetId].render(ctx);\n        }\n    }\n}\nclass Widget {\n    constructor(context, viewDomNode, actual) {\n        this._context = context;\n        this._viewDomNode = viewDomNode;\n        this._actual = actual;\n        this.domNode = createFastDomNode(this._actual.getDomNode());\n        this.id = this._actual.getId();\n        this.allowEditorOverflow = this._actual.allowEditorOverflow || false;\n        this.suppressMouseDown = this._actual.suppressMouseDown || false;\n        const options = this._context.configuration.options;\n        const layoutInfo = options.get(133 /* EditorOption.layoutInfo */);\n        this._fixedOverflowWidgets = options.get(38 /* EditorOption.fixedOverflowWidgets */);\n        this._contentWidth = layoutInfo.contentWidth;\n        this._contentLeft = layoutInfo.contentLeft;\n        this._lineHeight = options.get(61 /* EditorOption.lineHeight */);\n        this._range = null;\n        this._viewRange = null;\n        this._affinity = null;\n        this._preference = [];\n        this._cachedDomNodeOffsetWidth = -1;\n        this._cachedDomNodeOffsetHeight = -1;\n        this._maxWidth = this._getMaxWidth();\n        this._isVisible = false;\n        this._renderData = null;\n        this.domNode.setPosition((this._fixedOverflowWidgets && this.allowEditorOverflow) ? 'fixed' : 'absolute');\n        this.domNode.setDisplay('none');\n        this.domNode.setVisibility('hidden');\n        this.domNode.setAttribute('widgetId', this.id);\n        this.domNode.setMaxWidth(this._maxWidth);\n    }\n    onConfigurationChanged(e) {\n        const options = this._context.configuration.options;\n        this._lineHeight = options.get(61 /* EditorOption.lineHeight */);\n        if (e.hasChanged(133 /* EditorOption.layoutInfo */)) {\n            const layoutInfo = options.get(133 /* EditorOption.layoutInfo */);\n            this._contentLeft = layoutInfo.contentLeft;\n            this._contentWidth = layoutInfo.contentWidth;\n            this._maxWidth = this._getMaxWidth();\n        }\n    }\n    onLineMappingChanged(e) {\n        this._setPosition(this._range, this._affinity);\n    }\n    _setPosition(range, affinity) {\n        var _a;\n        this._range = range;\n        this._viewRange = null;\n        this._affinity = affinity;\n        if (this._range) {\n            // Do not trust that widgets give a valid position\n            const validModelRange = this._context.viewModel.model.validateRange(this._range);\n            if (this._context.viewModel.coordinatesConverter.modelPositionIsVisible(validModelRange.getStartPosition()) || this._context.viewModel.coordinatesConverter.modelPositionIsVisible(validModelRange.getEndPosition())) {\n                this._viewRange = this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(validModelRange, (_a = this._affinity) !== null && _a !== void 0 ? _a : undefined);\n            }\n        }\n    }\n    _getMaxWidth() {\n        return (this.allowEditorOverflow\n            ? window.innerWidth || document.documentElement.offsetWidth || document.body.offsetWidth\n            : this._contentWidth);\n    }\n    setPosition(range, preference, affinity) {\n        this._setPosition(range, affinity);\n        this._preference = preference;\n        if (this._viewRange && this._preference && this._preference.length > 0) {\n            // this content widget would like to be visible if possible\n            // we change it from `display:none` to `display:block` even if it\n            // might be outside the viewport such that we can measure its size\n            // in `prepareRender`\n            this.domNode.setDisplay('block');\n        }\n        else {\n            this.domNode.setDisplay('none');\n        }\n        this._cachedDomNodeOffsetWidth = -1;\n        this._cachedDomNodeOffsetHeight = -1;\n    }\n    _layoutBoxInViewport(topLeft, bottomLeft, width, height, ctx) {\n        // Our visible box is split horizontally by the current line => 2 boxes\n        // a) the box above the line\n        const aboveLineTop = topLeft.top;\n        const heightAboveLine = aboveLineTop;\n        // b) the box under the line\n        const underLineTop = bottomLeft.top + this._lineHeight;\n        const heightUnderLine = ctx.viewportHeight - underLineTop;\n        const aboveTop = aboveLineTop - height;\n        const fitsAbove = (heightAboveLine >= height);\n        const belowTop = underLineTop;\n        const fitsBelow = (heightUnderLine >= height);\n        // And its left\n        let actualAboveLeft = topLeft.left;\n        let actualBelowLeft = bottomLeft.left;\n        if (actualAboveLeft + width > ctx.scrollLeft + ctx.viewportWidth) {\n            actualAboveLeft = ctx.scrollLeft + ctx.viewportWidth - width;\n        }\n        if (actualBelowLeft + width > ctx.scrollLeft + ctx.viewportWidth) {\n            actualBelowLeft = ctx.scrollLeft + ctx.viewportWidth - width;\n        }\n        if (actualAboveLeft < ctx.scrollLeft) {\n            actualAboveLeft = ctx.scrollLeft;\n        }\n        if (actualBelowLeft < ctx.scrollLeft) {\n            actualBelowLeft = ctx.scrollLeft;\n        }\n        return {\n            fitsAbove: fitsAbove,\n            aboveTop: aboveTop,\n            aboveLeft: actualAboveLeft,\n            fitsBelow: fitsBelow,\n            belowTop: belowTop,\n            belowLeft: actualBelowLeft,\n        };\n    }\n    _layoutHorizontalSegmentInPage(windowSize, domNodePosition, left, width) {\n        // Initially, the limits are defined as the dom node limits\n        const MIN_LIMIT = Math.max(0, domNodePosition.left - width);\n        const MAX_LIMIT = Math.min(domNodePosition.left + domNodePosition.width + width, windowSize.width);\n        let absoluteLeft = domNodePosition.left + left - dom.StandardWindow.scrollX;\n        if (absoluteLeft + width > MAX_LIMIT) {\n            const delta = absoluteLeft - (MAX_LIMIT - width);\n            absoluteLeft -= delta;\n            left -= delta;\n        }\n        if (absoluteLeft < MIN_LIMIT) {\n            const delta = absoluteLeft - MIN_LIMIT;\n            absoluteLeft -= delta;\n            left -= delta;\n        }\n        return [left, absoluteLeft];\n    }\n    _layoutBoxInPage(topLeft, bottomLeft, width, height, ctx) {\n        const aboveTop = topLeft.top - height;\n        const belowTop = bottomLeft.top + this._lineHeight;\n        const domNodePosition = dom.getDomNodePagePosition(this._viewDomNode.domNode);\n        const absoluteAboveTop = domNodePosition.top + aboveTop - dom.StandardWindow.scrollY;\n        const absoluteBelowTop = domNodePosition.top + belowTop - dom.StandardWindow.scrollY;\n        const windowSize = dom.getClientArea(document.body);\n        const [aboveLeft, absoluteAboveLeft] = this._layoutHorizontalSegmentInPage(windowSize, domNodePosition, topLeft.left - ctx.scrollLeft + this._contentLeft, width);\n        const [belowLeft, absoluteBelowLeft] = this._layoutHorizontalSegmentInPage(windowSize, domNodePosition, bottomLeft.left - ctx.scrollLeft + this._contentLeft, width);\n        // Leave some clearance to the top/bottom\n        const TOP_PADDING = 22;\n        const BOTTOM_PADDING = 22;\n        const fitsAbove = (absoluteAboveTop >= TOP_PADDING);\n        const fitsBelow = (absoluteBelowTop + height <= windowSize.height - BOTTOM_PADDING);\n        if (this._fixedOverflowWidgets) {\n            return {\n                fitsAbove,\n                aboveTop: Math.max(absoluteAboveTop, TOP_PADDING),\n                aboveLeft: absoluteAboveLeft,\n                fitsBelow,\n                belowTop: absoluteBelowTop,\n                belowLeft: absoluteBelowLeft\n            };\n        }\n        return {\n            fitsAbove,\n            aboveTop: aboveTop,\n            aboveLeft,\n            fitsBelow,\n            belowTop,\n            belowLeft\n        };\n    }\n    _prepareRenderWidgetAtExactPositionOverflowing(topLeft) {\n        return new Coordinate(topLeft.top, topLeft.left + this._contentLeft);\n    }\n    /**\n     * Compute `this._topLeft`\n     */\n    _getTopAndBottomLeft(ctx) {\n        if (!this._viewRange) {\n            return [null, null];\n        }\n        const visibleRangesForRange = ctx.linesVisibleRangesForRange(this._viewRange, false);\n        if (!visibleRangesForRange || visibleRangesForRange.length === 0) {\n            return [null, null];\n        }\n        let firstLine = visibleRangesForRange[0];\n        let lastLine = visibleRangesForRange[0];\n        for (const visibleRangesForLine of visibleRangesForRange) {\n            if (visibleRangesForLine.lineNumber < firstLine.lineNumber) {\n                firstLine = visibleRangesForLine;\n            }\n            if (visibleRangesForLine.lineNumber > lastLine.lineNumber) {\n                lastLine = visibleRangesForLine;\n            }\n        }\n        let firstLineMinLeft = 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */; //firstLine.Constants.MAX_SAFE_SMALL_INTEGER;\n        for (const visibleRange of firstLine.ranges) {\n            if (visibleRange.left < firstLineMinLeft) {\n                firstLineMinLeft = visibleRange.left;\n            }\n        }\n        let lastLineMinLeft = 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */; //lastLine.Constants.MAX_SAFE_SMALL_INTEGER;\n        for (const visibleRange of lastLine.ranges) {\n            if (visibleRange.left < lastLineMinLeft) {\n                lastLineMinLeft = visibleRange.left;\n            }\n        }\n        const topForPosition = ctx.getVerticalOffsetForLineNumber(firstLine.lineNumber) - ctx.scrollTop;\n        const topLeft = new Coordinate(topForPosition, firstLineMinLeft);\n        const topForBottomLine = ctx.getVerticalOffsetForLineNumber(lastLine.lineNumber) - ctx.scrollTop;\n        const bottomLeft = new Coordinate(topForBottomLine, lastLineMinLeft);\n        return [topLeft, bottomLeft];\n    }\n    _prepareRenderWidget(ctx) {\n        if (!this._preference || this._preference.length === 0) {\n            return null;\n        }\n        const [topLeft, bottomLeft] = this._getTopAndBottomLeft(ctx);\n        if (!topLeft || !bottomLeft) {\n            return null;\n        }\n        if (this._cachedDomNodeOffsetWidth === -1 || this._cachedDomNodeOffsetHeight === -1) {\n            let preferredDimensions = null;\n            if (typeof this._actual.beforeRender === 'function') {\n                preferredDimensions = safeInvoke(this._actual.beforeRender, this._actual);\n            }\n            if (preferredDimensions) {\n                this._cachedDomNodeOffsetWidth = preferredDimensions.width;\n                this._cachedDomNodeOffsetHeight = preferredDimensions.height;\n            }\n            else {\n                const domNode = this.domNode.domNode;\n                const clientRect = domNode.getBoundingClientRect();\n                this._cachedDomNodeOffsetWidth = Math.round(clientRect.width);\n                this._cachedDomNodeOffsetHeight = Math.round(clientRect.height);\n            }\n        }\n        let placement;\n        if (this.allowEditorOverflow) {\n            placement = this._layoutBoxInPage(topLeft, bottomLeft, this._cachedDomNodeOffsetWidth, this._cachedDomNodeOffsetHeight, ctx);\n        }\n        else {\n            placement = this._layoutBoxInViewport(topLeft, bottomLeft, this._cachedDomNodeOffsetWidth, this._cachedDomNodeOffsetHeight, ctx);\n        }\n        // Do two passes, first for perfect fit, second picks first option\n        for (let pass = 1; pass <= 2; pass++) {\n            for (const pref of this._preference) {\n                // placement\n                if (pref === 1 /* ContentWidgetPositionPreference.ABOVE */) {\n                    if (!placement) {\n                        // Widget outside of viewport\n                        return null;\n                    }\n                    if (pass === 2 || placement.fitsAbove) {\n                        return { coordinate: new Coordinate(placement.aboveTop, placement.aboveLeft), position: 1 /* ContentWidgetPositionPreference.ABOVE */ };\n                    }\n                }\n                else if (pref === 2 /* ContentWidgetPositionPreference.BELOW */) {\n                    if (!placement) {\n                        // Widget outside of viewport\n                        return null;\n                    }\n                    if (pass === 2 || placement.fitsBelow) {\n                        return { coordinate: new Coordinate(placement.belowTop, placement.belowLeft), position: 2 /* ContentWidgetPositionPreference.BELOW */ };\n                    }\n                }\n                else {\n                    if (this.allowEditorOverflow) {\n                        return { coordinate: this._prepareRenderWidgetAtExactPositionOverflowing(topLeft), position: 0 /* ContentWidgetPositionPreference.EXACT */ };\n                    }\n                    else {\n                        return { coordinate: topLeft, position: 0 /* ContentWidgetPositionPreference.EXACT */ };\n                    }\n                }\n            }\n        }\n        return null;\n    }\n    /**\n     * On this first pass, we ensure that the content widget (if it is in the viewport) has the max width set correctly.\n     */\n    onBeforeRender(viewportData) {\n        if (!this._viewRange || !this._preference) {\n            return;\n        }\n        if (this._viewRange.endLineNumber < viewportData.startLineNumber || this._viewRange.startLineNumber > viewportData.endLineNumber) {\n            // Outside of viewport\n            return;\n        }\n        this.domNode.setMaxWidth(this._maxWidth);\n    }\n    prepareRender(ctx) {\n        this._renderData = this._prepareRenderWidget(ctx);\n    }\n    render(ctx) {\n        if (!this._renderData) {\n            // This widget should be invisible\n            if (this._isVisible) {\n                this.domNode.removeAttribute('monaco-visible-content-widget');\n                this._isVisible = false;\n                this.domNode.setVisibility('hidden');\n            }\n            if (typeof this._actual.afterRender === 'function') {\n                safeInvoke(this._actual.afterRender, this._actual, null);\n            }\n            return;\n        }\n        // This widget should be visible\n        if (this.allowEditorOverflow) {\n            this.domNode.setTop(this._renderData.coordinate.top);\n            this.domNode.setLeft(this._renderData.coordinate.left);\n        }\n        else {\n            this.domNode.setTop(this._renderData.coordinate.top + ctx.scrollTop - ctx.bigNumbersDelta);\n            this.domNode.setLeft(this._renderData.coordinate.left);\n        }\n        if (!this._isVisible) {\n            this.domNode.setVisibility('inherit');\n            this.domNode.setAttribute('monaco-visible-content-widget', 'true');\n            this._isVisible = true;\n        }\n        if (typeof this._actual.afterRender === 'function') {\n            safeInvoke(this._actual.afterRender, this._actual, this._renderData.position);\n        }\n    }\n}\nfunction safeInvoke(fn, thisArg, ...args) {\n    try {\n        return fn.call(thisArg, ...args);\n    }\n    catch (_a) {\n        // ignore\n        return null;\n    }\n}\n"],"mappings":"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"}]}
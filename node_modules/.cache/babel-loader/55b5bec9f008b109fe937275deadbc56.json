{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatureDebounce.js","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatureDebounce.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheS5qcyI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIuanMiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2suanMiOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiOwppbXBvcnQgX3R5cGVvZiBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVmbGVjdC50by1zdHJpbmctdGFnLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMud2Vhay1tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm1hcC5qcyI7Ci8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uCiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwp2YXIgX19kZWNvcmF0ZSA9IHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykgewogIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwKICAgIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLAogICAgZDsKICBpZiAoKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihSZWZsZWN0KSkgPT09ICJvYmplY3QiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSAiZnVuY3Rpb24iKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7ZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjsKICB9CiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjsKfTsKdmFyIF9fcGFyYW0gPSB0aGlzICYmIHRoaXMuX19wYXJhbSB8fCBmdW5jdGlvbiAocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgewogICAgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsKICB9Owp9OwppbXBvcnQgeyBkb0hhc2ggfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9oYXNoLmpzJzsKaW1wb3J0IHsgTFJVQ2FjaGUgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9tYXAuanMnOwppbXBvcnQgeyBjbGFtcCwgTW92aW5nQXZlcmFnZSwgU2xpZGluZ1dpbmRvd0F2ZXJhZ2UgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9udW1iZXJzLmpzJzsKaW1wb3J0IHsgcmVnaXN0ZXJTaW5nbGV0b24gfSBmcm9tICcuLi8uLi8uLi9wbGF0Zm9ybS9pbnN0YW50aWF0aW9uL2NvbW1vbi9leHRlbnNpb25zLmpzJzsKaW1wb3J0IHsgY3JlYXRlRGVjb3JhdG9yIH0gZnJvbSAnLi4vLi4vLi4vcGxhdGZvcm0vaW5zdGFudGlhdGlvbi9jb21tb24vaW5zdGFudGlhdGlvbi5qcyc7CmltcG9ydCB7IElMb2dTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vcGxhdGZvcm0vbG9nL2NvbW1vbi9sb2cuanMnOwppbXBvcnQgeyBtYXRjaGVzU2NoZW1lIH0gZnJvbSAnLi4vLi4vLi4vcGxhdGZvcm0vb3BlbmVyL2NvbW1vbi9vcGVuZXIuanMnOwpleHBvcnQgdmFyIElMYW5ndWFnZUZlYXR1cmVEZWJvdW5jZVNlcnZpY2UgPSBjcmVhdGVEZWNvcmF0b3IoJ0lMYW5ndWFnZUZlYXR1cmVEZWJvdW5jZVNlcnZpY2UnKTsKdmFyIElkZW50aXR5SGFzaDsKKGZ1bmN0aW9uIChJZGVudGl0eUhhc2gpIHsKICB2YXIgX2hhc2hlcyA9IG5ldyBXZWFrTWFwKCk7CiAgdmFyIHBvb2wgPSAwOwogIGZ1bmN0aW9uIG9mKG9iaikgewogICAgdmFyIHZhbHVlID0gX2hhc2hlcy5nZXQob2JqKTsKICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHZhbHVlID0gKytwb29sOwogICAgICBfaGFzaGVzLnNldChvYmosIHZhbHVlKTsKICAgIH0KICAgIHJldHVybiB2YWx1ZTsKICB9CiAgSWRlbnRpdHlIYXNoLm9mID0gb2Y7Cn0pKElkZW50aXR5SGFzaCB8fCAoSWRlbnRpdHlIYXNoID0ge30pKTsKdmFyIEZlYXR1cmVEZWJvdW5jZUluZm9ybWF0aW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBGZWF0dXJlRGVib3VuY2VJbmZvcm1hdGlvbihfbG9nU2VydmljZSwgX25hbWUsIF9yZWdpc3RyeSwgX2RlZmF1bHQsIF9taW4sIF9tYXgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGZWF0dXJlRGVib3VuY2VJbmZvcm1hdGlvbik7CiAgICB0aGlzLl9sb2dTZXJ2aWNlID0gX2xvZ1NlcnZpY2U7CiAgICB0aGlzLl9uYW1lID0gX25hbWU7CiAgICB0aGlzLl9yZWdpc3RyeSA9IF9yZWdpc3RyeTsKICAgIHRoaXMuX2RlZmF1bHQgPSBfZGVmYXVsdDsKICAgIHRoaXMuX21pbiA9IF9taW47CiAgICB0aGlzLl9tYXggPSBfbWF4OwogICAgdGhpcy5fY2FjaGUgPSBuZXcgTFJVQ2FjaGUoNTAsIDAuNyk7CiAgfQogIF9jcmVhdGVDbGFzcyhGZWF0dXJlRGVib3VuY2VJbmZvcm1hdGlvbiwgW3sKICAgIGtleTogIl9rZXkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9rZXkobW9kZWwpIHsKICAgICAgcmV0dXJuIG1vZGVsLmlkICsgdGhpcy5fcmVnaXN0cnkuYWxsKG1vZGVsKS5yZWR1Y2UoZnVuY3Rpb24gKGhhc2hWYWwsIG9iaikgewogICAgICAgIHJldHVybiBkb0hhc2goSWRlbnRpdHlIYXNoLm9mKG9iaiksIGhhc2hWYWwpOwogICAgICB9LCAwKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldChtb2RlbCkgewogICAgICB2YXIga2V5ID0gdGhpcy5fa2V5KG1vZGVsKTsKICAgICAgdmFyIGF2ZyA9IHRoaXMuX2NhY2hlLmdldChrZXkpOwogICAgICByZXR1cm4gYXZnID8gY2xhbXAoYXZnLnZhbHVlLCB0aGlzLl9taW4sIHRoaXMuX21heCkgOiB0aGlzLmRlZmF1bHQoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ1cGRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZShtb2RlbCwgdmFsdWUpIHsKICAgICAgdmFyIGtleSA9IHRoaXMuX2tleShtb2RlbCk7CiAgICAgIHZhciBhdmcgPSB0aGlzLl9jYWNoZS5nZXQoa2V5KTsKICAgICAgaWYgKCFhdmcpIHsKICAgICAgICBhdmcgPSBuZXcgU2xpZGluZ1dpbmRvd0F2ZXJhZ2UoNik7CiAgICAgICAgdGhpcy5fY2FjaGUuc2V0KGtleSwgYXZnKTsKICAgICAgfQogICAgICB2YXIgbmV3VmFsdWUgPSBjbGFtcChhdmcudXBkYXRlKHZhbHVlKSwgdGhpcy5fbWluLCB0aGlzLl9tYXgpOwogICAgICBpZiAoIW1hdGNoZXNTY2hlbWUobW9kZWwudXJpLCAnb3V0cHV0JykpIHsKICAgICAgICB0aGlzLl9sb2dTZXJ2aWNlLnRyYWNlKCJbREVCT1VOQ0U6ICIuY29uY2F0KHRoaXMuX25hbWUsICJdIGZvciAiKS5jb25jYXQobW9kZWwudXJpLnRvU3RyaW5nKCksICIgaXMgIikuY29uY2F0KG5ld1ZhbHVlLCAibXMiKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG5ld1ZhbHVlOwogICAgfQogIH0sIHsKICAgIGtleTogIl9vdmVyYWxsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfb3ZlcmFsbCgpIHsKICAgICAgdmFyIHJlc3VsdCA9IG5ldyBNb3ZpbmdBdmVyYWdlKCk7CiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLl9jYWNoZSksCiAgICAgICAgX3N0ZXA7CiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBfc3RlcCR2YWx1ZSA9IF9zbGljZWRUb0FycmF5KF9zdGVwLnZhbHVlLCAyKSwKICAgICAgICAgICAgYXZnID0gX3N0ZXAkdmFsdWVbMV07CiAgICAgICAgICByZXN1bHQudXBkYXRlKGF2Zy52YWx1ZSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdC52YWx1ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkZWZhdWx0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgdmFyIHZhbHVlID0gdGhpcy5fb3ZlcmFsbCgpIHwgMCB8fCB0aGlzLl9kZWZhdWx0OwogICAgICByZXR1cm4gY2xhbXAodmFsdWUsIHRoaXMuX21pbiwgdGhpcy5fbWF4KTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIEZlYXR1cmVEZWJvdW5jZUluZm9ybWF0aW9uOwp9KCk7CnZhciBMYW5ndWFnZUZlYXR1cmVEZWJvdW5jZVNlcnZpY2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIExhbmd1YWdlRmVhdHVyZURlYm91bmNlU2VydmljZShfbG9nU2VydmljZSkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExhbmd1YWdlRmVhdHVyZURlYm91bmNlU2VydmljZSk7CiAgICB0aGlzLl9sb2dTZXJ2aWNlID0gX2xvZ1NlcnZpY2U7CiAgICB0aGlzLl9kYXRhID0gbmV3IE1hcCgpOwogIH0KICBfY3JlYXRlQ2xhc3MoTGFuZ3VhZ2VGZWF0dXJlRGVib3VuY2VTZXJ2aWNlLCBbewogICAga2V5OiAiZm9yIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfZm9yKGZlYXR1cmUsIG5hbWUsIGNvbmZpZykgewogICAgICB2YXIgX2EsIF9iLCBfYzsKICAgICAgdmFyIG1pbiA9IChfYSA9IGNvbmZpZyA9PT0gbnVsbCB8fCBjb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbmZpZy5taW4pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDUwOwogICAgICB2YXIgbWF4ID0gKF9iID0gY29uZmlnID09PSBudWxsIHx8IGNvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29uZmlnLm1heCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogTWF0aC5wb3cobWluLCAyKTsKICAgICAgdmFyIGV4dHJhID0gKF9jID0gY29uZmlnID09PSBudWxsIHx8IGNvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29uZmlnLmtleSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogdW5kZWZpbmVkOwogICAgICB2YXIga2V5ID0gIiIuY29uY2F0KElkZW50aXR5SGFzaC5vZihmZWF0dXJlKSwgIiwiKS5jb25jYXQobWluKS5jb25jYXQoZXh0cmEgPyAnLCcgKyBleHRyYSA6ICcnKTsKICAgICAgdmFyIGluZm8gPSB0aGlzLl9kYXRhLmdldChrZXkpOwogICAgICBpZiAoIWluZm8pIHsKICAgICAgICBpbmZvID0gbmV3IEZlYXR1cmVEZWJvdW5jZUluZm9ybWF0aW9uKHRoaXMuX2xvZ1NlcnZpY2UsIG5hbWUsIGZlYXR1cmUsIHRoaXMuX292ZXJhbGxBdmVyYWdlKCkgfCAwIHx8IG1pbiAqIDEuNSwKICAgICAgICAvLyBkZWZhdWx0IGlzIG92ZXJhbGwgZGVmYXVsdCBvciBkZXJpdmVkIGZyb20gbWluLXZhbHVlCiAgICAgICAgbWluLCBtYXgpOwogICAgICAgIHRoaXMuX2RhdGEuc2V0KGtleSwgaW5mbyk7CiAgICAgIH0KICAgICAgcmV0dXJuIGluZm87CiAgICB9CiAgfSwgewogICAga2V5OiAiX292ZXJhbGxBdmVyYWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfb3ZlcmFsbEF2ZXJhZ2UoKSB7CiAgICAgIC8vIEF2ZXJhZ2Ugb2YgYWxsIGxhbmd1YWdlIGZlYXR1cmVzLiBOb3QgYSBncmVhdCB2YWx1ZSBidXQgYW4gYXBwcm94aW1hdGlvbgogICAgICB2YXIgcmVzdWx0ID0gbmV3IE1vdmluZ0F2ZXJhZ2UoKTsKICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLl9kYXRhLnZhbHVlcygpKSwKICAgICAgICBfc3RlcDI7CiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBpbmZvID0gX3N0ZXAyLnZhbHVlOwogICAgICAgICAgcmVzdWx0LnVwZGF0ZShpbmZvLmRlZmF1bHQoKSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgfQogICAgICByZXR1cm4gcmVzdWx0LnZhbHVlOwogICAgfQogIH1dKTsKICByZXR1cm4gTGFuZ3VhZ2VGZWF0dXJlRGVib3VuY2VTZXJ2aWNlOwp9KCk7Ckxhbmd1YWdlRmVhdHVyZURlYm91bmNlU2VydmljZSA9IF9fZGVjb3JhdGUoW19fcGFyYW0oMCwgSUxvZ1NlcnZpY2UpXSwgTGFuZ3VhZ2VGZWF0dXJlRGVib3VuY2VTZXJ2aWNlKTsKZXhwb3J0IHsgTGFuZ3VhZ2VGZWF0dXJlRGVib3VuY2VTZXJ2aWNlIH07CnJlZ2lzdGVyU2luZ2xldG9uKElMYW5ndWFnZUZlYXR1cmVEZWJvdW5jZVNlcnZpY2UsIExhbmd1YWdlRmVhdHVyZURlYm91bmNlU2VydmljZSwgdHJ1ZSk7"},{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","doHash","LRUCache","clamp","MovingAverage","SlidingWindowAverage","registerSingleton","createDecorator","ILogService","matchesScheme","ILanguageFeatureDebounceService","IdentityHash","_hashes","WeakMap","pool","of","obj","value","get","undefined","set","FeatureDebounceInformation","_logService","_name","_registry","_default","_min","_max","_cache","model","id","all","reduce","hashVal","_key","avg","default","newValue","update","uri","trace","toString","result","_overall","LanguageFeatureDebounceService","_data","Map","feature","name","config","_a","_b","_c","min","max","Math","pow","extra","info","_overallAverage","values"],"sources":["/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatureDebounce.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { doHash } from '../../../base/common/hash.js';\nimport { LRUCache } from '../../../base/common/map.js';\nimport { clamp, MovingAverage, SlidingWindowAverage } from '../../../base/common/numbers.js';\nimport { registerSingleton } from '../../../platform/instantiation/common/extensions.js';\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nimport { ILogService } from '../../../platform/log/common/log.js';\nimport { matchesScheme } from '../../../platform/opener/common/opener.js';\nexport const ILanguageFeatureDebounceService = createDecorator('ILanguageFeatureDebounceService');\nvar IdentityHash;\n(function (IdentityHash) {\n    const _hashes = new WeakMap();\n    let pool = 0;\n    function of(obj) {\n        let value = _hashes.get(obj);\n        if (value === undefined) {\n            value = ++pool;\n            _hashes.set(obj, value);\n        }\n        return value;\n    }\n    IdentityHash.of = of;\n})(IdentityHash || (IdentityHash = {}));\nclass FeatureDebounceInformation {\n    constructor(_logService, _name, _registry, _default, _min, _max) {\n        this._logService = _logService;\n        this._name = _name;\n        this._registry = _registry;\n        this._default = _default;\n        this._min = _min;\n        this._max = _max;\n        this._cache = new LRUCache(50, 0.7);\n    }\n    _key(model) {\n        return model.id + this._registry.all(model).reduce((hashVal, obj) => doHash(IdentityHash.of(obj), hashVal), 0);\n    }\n    get(model) {\n        const key = this._key(model);\n        const avg = this._cache.get(key);\n        return avg\n            ? clamp(avg.value, this._min, this._max)\n            : this.default();\n    }\n    update(model, value) {\n        const key = this._key(model);\n        let avg = this._cache.get(key);\n        if (!avg) {\n            avg = new SlidingWindowAverage(6);\n            this._cache.set(key, avg);\n        }\n        const newValue = clamp(avg.update(value), this._min, this._max);\n        if (!matchesScheme(model.uri, 'output')) {\n            this._logService.trace(`[DEBOUNCE: ${this._name}] for ${model.uri.toString()} is ${newValue}ms`);\n        }\n        return newValue;\n    }\n    _overall() {\n        const result = new MovingAverage();\n        for (const [, avg] of this._cache) {\n            result.update(avg.value);\n        }\n        return result.value;\n    }\n    default() {\n        const value = (this._overall() | 0) || this._default;\n        return clamp(value, this._min, this._max);\n    }\n}\nlet LanguageFeatureDebounceService = class LanguageFeatureDebounceService {\n    constructor(_logService) {\n        this._logService = _logService;\n        this._data = new Map();\n    }\n    for(feature, name, config) {\n        var _a, _b, _c;\n        const min = (_a = config === null || config === void 0 ? void 0 : config.min) !== null && _a !== void 0 ? _a : 50;\n        const max = (_b = config === null || config === void 0 ? void 0 : config.max) !== null && _b !== void 0 ? _b : Math.pow(min, 2);\n        const extra = (_c = config === null || config === void 0 ? void 0 : config.key) !== null && _c !== void 0 ? _c : undefined;\n        const key = `${IdentityHash.of(feature)},${min}${extra ? ',' + extra : ''}`;\n        let info = this._data.get(key);\n        if (!info) {\n            info = new FeatureDebounceInformation(this._logService, name, feature, (this._overallAverage() | 0) || (min * 1.5), // default is overall default or derived from min-value\n            min, max);\n            this._data.set(key, info);\n        }\n        return info;\n    }\n    _overallAverage() {\n        // Average of all language features. Not a great value but an approximation\n        const result = new MovingAverage();\n        for (const info of this._data.values()) {\n            result.update(info.default());\n        }\n        return result.value;\n    }\n};\nLanguageFeatureDebounceService = __decorate([\n    __param(0, ILogService)\n], LanguageFeatureDebounceService);\nexport { LanguageFeatureDebounceService };\nregisterSingleton(ILanguageFeatureDebounceService, LanguageFeatureDebounceService, true);\n"],"mappings":"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"}]}
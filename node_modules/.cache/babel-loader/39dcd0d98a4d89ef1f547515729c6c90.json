{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanjiajia/Desktop/workspace/avue-data-new/src/page/group/layer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/src/page/group/layer.vue","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgdnVlZHJhZ2dhYmxlIGZyb20gJ3Z1ZWRyYWdnYWJsZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnbGF5ZXInLAogIGluamVjdDogWyJjb250YWluIl0sCiAgcHJvdmlkZTogZnVuY3Rpb24gcHJvdmlkZSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbnRhaW46IHRoaXMuY29udGFpbgogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIGRyYWdnYWJsZTogdnVlZHJhZ2dhYmxlCiAgfSwKICBwcm9wczogewogICAgY291bnQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxCiAgICB9LAogICAgbmF2OiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUdldEFjdGl2ZTogZnVuY3Rpb24gaGFuZGxlR2V0QWN0aXZlKGl0ZW0pIHsKICAgICAgcmV0dXJuIHRoaXMuY29udGFpbi5hY3RpdmUuaW5jbHVkZXMoaXRlbS5pbmRleCk7CiAgICB9LAogICAgaGFuZGxlU2V0QWN0aXZlOiBmdW5jdGlvbiBoYW5kbGVTZXRBY3RpdmUoaXRlbSkgewogICAgICBpZiAoaXRlbS5jaGlsZHJlbikgewogICAgICAgIHZhciBsaXN0ID0gaXRlbS5jaGlsZHJlbi5tYXAoZnVuY3Rpb24gKGVsZSkgewogICAgICAgICAgcmV0dXJuIGVsZS5pbmRleDsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmNvbnRhaW4uc2VsZWN0TmF2KGxpc3QpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY29udGFpbi5zZWxlY3ROYXYoaXRlbS5pbmRleCk7CiAgICAgIH0KICAgIH0sCiAgICBoYW5nZUNoYW5nZU5hbWU6IGZ1bmN0aW9uIGhhbmdlQ2hhbmdlTmFtZShpdGVtKSB7CiAgICAgIHRoaXMuJHNldChpdGVtLCAnaXNuYW1lJywgIWl0ZW0uaXNuYW1lKTsKICAgIH0sCiAgICBvcGVuRm9sZGVyOiBmdW5jdGlvbiBvcGVuRm9sZGVyKGl0ZW0pIHsKICAgICAgdGhpcy4kc2V0KGl0ZW0sICdtZW51JywgIWl0ZW0ubWVudSk7CiAgICAgIGl0ZW0uaXNuYW1lID0gZmFsc2U7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;AAqEA;AACA;EACAA;EACAC;EACAC;IACA;MACAC;IACA;EACA;EACAC;IACAC;EACA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;QACA;MACA;IACA;EACA;EACAE;IACAC;MACA;IACA;IACAC;MACA;QACA;UAAA;QAAA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACAC;IACA;EACA;AACA","names":["name","inject","provide","contain","components","draggable","props","count","type","default","nav","methods","handleGetActive","handleSetActive","hangeChangeName","openFolder","item"],"sourceRoot":"src/page/group","sources":["layer.vue"],"sourcesContent":["<template>\n  <draggable :group=\"{ name: 'form' }\"\n             ghost-class=\"ghost\"\n             class=\"menu_ul\"\n             :list=\"nav\"\n             :animation=\"300\">\n    <template v-for=\"item in nav\">\n      <div :key=\"item.index\"\n           class=\"menu__folder\"\n           v-if=\"item.children\">\n        <div @dblclick=\"hangeChangeName(item)\"\n             v-contextmenu=\"{id:contain.menuId,event:contain.handleContextMenu,value:item}\"\n             :class=\"['menu__item--folder',{'is-active':handleGetActive(item),'is-over':contain.overactive===item.index}]\">\n          <i class=\"iconfont icon-fold\"\n             @click=\"openFolder(item)\"\n             :class=\"{'is-active':item.menu}\"></i>\n          <i class=\"iconfont icon-folder\"\n             @click=\"handleSetActive(item)\"></i>\n          <input type=\"text\"\n                 @keyup.enter=\"item.isname=false\"\n                 v-if=\"item.isname\"\n                 v-model=\"item.name\">\n          <span v-else>{{item.name}}</span>\n        </div>\n        <div :key=\"'list'+item.index\"\n             class=\"menu__list\"\n             v-show=\"item.menu\">\n          <draggable :group=\"{ name: 'form' }\"\n                     ghost-class=\"ghost\"\n                     :list=\"item.children\"\n                     :animation=\"300\">\n            <template v-for=\"citem in item.children\">\n              <div v-if=\"!citem.children\"\n                   :key=\"citem.index\"\n                   :class=\"['menu__item',{'is-active':handleGetActive(citem),'is-over':contain.overactive===citem.index}]\"\n                   @click=\"handleSetActive(citem)\"\n                   v-contextmenu=\"{id:contain.menuId,event:contain.handleContextMenu,value:citem}\"\n                   @mouseover=\"contain.overactive=citem.index\"\n                   @mouseout=\"contain.overactive=undefined\">\n                <span class=\"menu__icon\">\n                  <i :class=\"'iconfont '+citem.icon\"></i>\n                </span>\n                <span>{{citem.name}}</span>\n              </div>\n              <layer v-else\n                     :count=\"count+1\"\n                     :key=\"citem.index\"\n                     :nav=\"[citem]\"></layer>\n            </template>\n          </draggable>\n        </div>\n      </div>\n      <div v-else\n           :key=\"item.index\"\n           v-contextmenu=\"{id:contain.menuId,event:contain.handleContextMenu,value:item}\"\n           @click=\"handleSetActive(item)\"\n           :class=\"['menu__item',{'is-active':handleGetActive(item),'is-over': contain.overactive===item.index}]\"\n           @mouseover=\"contain.overactive=item.index\"\n           @mouseout=\"contain.overactive=undefined\">\n        <span class=\"menu__icon\">\n          <i :class=\"'iconfont '+item.icon\"></i>\n        </span>\n        <span>{{item.name}}</span>\n      </div>\n    </template>\n  </draggable>\n</template>\n\n<script>\nimport vuedraggable from 'vuedraggable';\nexport default {\n  name: 'layer',\n  inject: [\"contain\"],\n  provide () {\n    return {\n      contain: this.contain\n    };\n  },\n  components: {\n    draggable: vuedraggable\n  },\n  props: {\n    count: {\n      type: Number,\n      default: 1,\n    },\n    nav: {\n      type: Array,\n      default: () => {\n        return []\n      }\n    }\n  },\n  methods: {\n    handleGetActive (item) {\n      return this.contain.active.includes(item.index);\n    },\n    handleSetActive (item) {\n      if (item.children) {\n        let list = item.children.map(ele => ele.index);\n        this.contain.selectNav(list);\n      } else {\n        this.contain.selectNav(item.index);\n      }\n    },\n    hangeChangeName (item) {\n      this.$set(item, 'isname', !item.isname)\n    },\n    openFolder (item) {\n      this.$set(item, 'menu', !item.menu)\n      item.isname = false;\n    },\n  }\n}\n</script>\n\n<style>\n</style>"]}]}
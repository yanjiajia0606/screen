{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanjiajia/Desktop/workspace/avue-data-new/src/page/group/share.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/src/page/group/share.vue","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdXBkYXRlT2JqIH0gZnJvbSAnQC9hcGkvdmlzdWFsJzsKZXhwb3J0IGRlZmF1bHQgewogIGluamVjdDogWyJjb250YWluIl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJveDogZmFsc2UsCiAgICAgIGZvcm06IHt9LAogICAgICB2aXN1YWw6IHt9LAogICAgICBvcHRpb246IHsKICAgICAgICBlbXB0eUJ0bjogZmFsc2UsCiAgICAgICAgc3VibWl0VGV4dDogJ+WIhuS6q+Wkp+WxjycsCiAgICAgICAgc2l6ZTogJ3NtYWxsJywKICAgICAgICBzcGFuOiAyNCwKICAgICAgICBjb2x1bW46IFt7CiAgICAgICAgICBsYWJlbDogJ+Wkp+Wxj+WQjeensCcsCiAgICAgICAgICBwcm9wOiAndGl0bGUnCiAgICAgICAgfSwgewogICAgICAgICAgbGFiZWw6ICfliIbkuqsnLAogICAgICAgICAgcHJvcDogJ3N0YXR1cycsCiAgICAgICAgICB0eXBlOiAnc3dpdGNoJywKICAgICAgICAgIGRpY0RhdGE6IFt7CiAgICAgICAgICAgIGxhYmVsOiAnJywKICAgICAgICAgICAgdmFsdWU6IDAKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgbGFiZWw6ICcnLAogICAgICAgICAgICB2YWx1ZTogMQogICAgICAgICAgfV0KICAgICAgICB9LCB7CiAgICAgICAgICBsYWJlbDogJ+WIhuS6q+mTvuaOpScsCiAgICAgICAgICB0eXBlOiAndGV4dGFyZWEnLAogICAgICAgICAgcHJvcDogJ2hyZWYnCiAgICAgICAgfSwgewogICAgICAgICAgbGFiZWw6ICfliIbkuqvlr4bnoIEnLAogICAgICAgICAgdHlwZTogJ3Bhc3N3b3JkJywKICAgICAgICAgIHByb3A6ICdwYXNzd29yZCcKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlU2hvdzogZnVuY3Rpb24gaGFuZGxlU2hvdygpIHsKICAgICAgdGhpcy4kcGFyZW50LmhhbmRsZUJ1aWxkKHVuZGVmaW5lZCwgZmFsc2UpOwogICAgICB0aGlzLmJveCA9IHRydWU7CiAgICAgIHZhciB2aXN1YWwgPSB0aGlzLmNvbnRhaW4udmlzdWFsOwogICAgICB0aGlzLnZpc3VhbCA9IHZpc3VhbDsKICAgICAgdGhpcy5mb3JtLnRpdGxlID0gdmlzdWFsLnRpdGxlOwogICAgICB0aGlzLmZvcm0uc3RhdHVzID0gdmlzdWFsLnN0YXR1czsKICAgICAgdGhpcy5mb3JtLmhyZWYgPSBsb2NhdGlvbi5vcmlnaW4gKyAnL3ZpZXcvJyArIHRoaXMuY29udGFpbi5pZDsKICAgICAgdGhpcy5mb3JtLnBhc3N3b3JkID0gdmlzdWFsLnBhc3N3b3JkOwogICAgfSwKICAgIGhhbmRsZVZpZXc6IGZ1bmN0aW9uIGhhbmRsZVZpZXcoKSB7CiAgICAgIHZhciByb3V0ZVVybCA9IHRoaXMuJHJvdXRlci5yZXNvbHZlKHsKICAgICAgICBwYXRoOiAnL3ZpZXcvJyArIHRoaXMuY29udGFpbi5pZAogICAgICB9KTsKICAgICAgd2luZG93Lm9wZW4ocm91dGVVcmwuaHJlZiwgJ19ibGFuaycpOwogICAgfSwKICAgIGhhbmRsZUNvcHk6IGZ1bmN0aW9uIGhhbmRsZUNvcHkoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMuJENsaXBib2FyZCh7CiAgICAgICAgdGV4dDogdGhpcy5mb3JtLmhyZWYKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn6ZO+5o6l5aSN5Yi25oiQ5YqfJyk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlU3VibWl0KGZvcm0sIGRvbmUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHVwZGF0ZU9iaih7CiAgICAgICAgaWQ6IHRoaXMudmlzdWFsLmlkLAogICAgICAgIGNhdGVnb3J5OiB0aGlzLnZpc3VhbC5jYXRlZ29yeSwKICAgICAgICBwYXNzd29yZDogdGhpcy5mb3JtLnBhc3N3b3JkLAogICAgICAgIHN0YXR1czogdGhpcy5mb3JtLnN0YXR1cywKICAgICAgICB0aXRsZTogdGhpcy5mb3JtLnRpdGxlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5jb250YWluLnZpc3VhbCA9IE9iamVjdC5hc3NpZ24oX3RoaXMyLmNvbnRhaW4udmlzdWFsLCBfdGhpczIuZm9ybSk7CiAgICAgICAgZG9uZSgpOwogICAgICAgIF90aGlzMi5ib3ggPSBmYWxzZTsKICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2Vzcygn5aSn5bGP5YiG5Lqr5oiQ5YqfJyk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":"AAuBA;AACA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;UACAC;UACAC;QACA;UACAD;UACAC;UACAC;UACAC;YACAH;YACAI;UACA;YACAJ;YACAI;UACA;QACA;UACAJ;UACAE;UACAD;QACA;UACAD;UACAE;UACAD;QACA;MACA;IACA;EACA;EACAI;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;QACAC;MACA;MACAC;IACA;IACAC;MAAA;MACA;QACAC;MACA;QACA;MACA;IAEA;IACAC;MAAA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;QACA;QACAC;QACA;QACA;MACA;IACA;EACA;AACA","names":["inject","data","box","form","visual","option","emptyBtn","submitText","size","span","column","label","prop","type","dicData","value","methods","handleShow","handleView","path","window","handleCopy","text","handleSubmit","updateObj","id","category","password","status","title","done"],"sourceRoot":"src/page/group","sources":["share.vue"],"sourcesContent":["<template>\n  <el-dialog title=\"分享\"\n             append-to-body\n             :visible.sync=\"box\"\n             width=\"40%\">\n    <avue-form :option=\"option\"\n               v-model=\"form\"\n               @submit=\"handleSubmit\">\n      <template slot=\"href\"\n                slot-scope=\"{}\">\n        <el-input v-model=\"form.href\"\n                  type=\"textarea\"\n                  row=\"3\">\n        </el-input>\n        <a @click=\"handleView\">查看大屏</a>\n        &nbsp;&nbsp;\n        <a @click=\"handleCopy\">复制链接</a>\n      </template>\n    </avue-form>\n  </el-dialog>\n</template>\n\n<script>\nimport { updateObj } from '@/api/visual';\nexport default {\n  inject: [\"contain\"],\n  data () {\n    return {\n      box: false,\n      form: {},\n      visual: {},\n      option: {\n        emptyBtn: false,\n        submitText: '分享大屏',\n        size: 'small',\n        span: 24,\n        column: [{\n          label: '大屏名称',\n          prop: 'title',\n        }, {\n          label: '分享',\n          prop: 'status',\n          type: 'switch',\n          dicData: [{\n            label: '',\n            value: 0\n          }, {\n            label: '',\n            value: 1\n          }]\n        }, {\n          label: '分享链接',\n          type: 'textarea',\n          prop: 'href'\n        }, {\n          label: '分享密码',\n          type: 'password',\n          prop: 'password'\n        }]\n      }\n    }\n  },\n  methods: {\n    handleShow () {\n      this.$parent.handleBuild(undefined, false);\n      this.box = true\n      let visual = this.contain.visual\n      this.visual = visual\n      this.form.title = visual.title\n      this.form.status = visual.status\n      this.form.href = location.origin + '/view/' + this.contain.id\n      this.form.password = visual.password\n    },\n    handleView () {\n      let routeUrl = this.$router.resolve({\n        path: '/view/' + this.contain.id\n      })\n      window.open(routeUrl.href, '_blank');\n    },\n    handleCopy () {\n      this.$Clipboard({\n        text: this.form.href\n      }).then(() => {\n        this.$message.success('链接复制成功')\n      })\n\n    },\n    handleSubmit (form, done) {\n      updateObj({\n        id: this.visual.id,\n        category: this.visual.category,\n        password: this.form.password,\n        status: this.form.status,\n        title: this.form.title\n      }).then(() => {\n        this.contain.visual = Object.assign(this.contain.visual, this.form)\n        done();\n        this.box = false\n        this.$message.success('大屏分享成功');\n      })\n    }\n  }\n}\n</script>\n\n<style>\n</style>"]}]}
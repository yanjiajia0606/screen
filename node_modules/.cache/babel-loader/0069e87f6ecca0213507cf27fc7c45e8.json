{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast.js","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzLmpzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyLmpzIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLm1heC1zYWZlLWludGVnZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS51bnNoaWZ0LmpzIjsKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi4KICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCmltcG9ydCB7IEN1cnNvckNvbHVtbnMgfSBmcm9tICcuLi8uLi8uLi9jb3JlL2N1cnNvckNvbHVtbnMuanMnOwppbXBvcnQgeyBsZW5ndGhBZGQsIGxlbmd0aEdldExpbmVDb3VudCwgbGVuZ3RoVG9PYmosIGxlbmd0aFplcm8gfSBmcm9tICcuL2xlbmd0aC5qcyc7CmltcG9ydCB7IFNtYWxsSW1tdXRhYmxlU2V0IH0gZnJvbSAnLi9zbWFsbEltbXV0YWJsZVNldC5qcyc7Ci8qKgogKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBmb3IgYWxsIEFTVCBub2Rlcy4KKi8KdmFyIEJhc2VBc3ROb2RlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBCYXNlQXN0Tm9kZShsZW5ndGgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCYXNlQXN0Tm9kZSk7CiAgICB0aGlzLl9sZW5ndGggPSBsZW5ndGg7CiAgfQogIC8qKgogICAqIFRoZSBsZW5ndGggb2YgdGhlIGVudGlyZSBub2RlLCB3aGljaCBzaG91bGQgZXF1YWwgdGhlIHN1bSBvZiBsZW5ndGhzIG9mIGFsbCBjaGlsZHJlbi4KICAqLwogIF9jcmVhdGVDbGFzcyhCYXNlQXN0Tm9kZSwgW3sKICAgIGtleTogImxlbmd0aCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2xlbmd0aDsKICAgIH0KICB9XSk7CiAgcmV0dXJuIEJhc2VBc3ROb2RlOwp9KCk7Ci8qKgogKiBSZXByZXNlbnRzIGEgYnJhY2tldCBwYWlyIGluY2x1ZGluZyBpdHMgY2hpbGQgKGUuZy4gYHsgLi4uIH1gKS4KICogTWlnaHQgYmUgdW5jbG9zZWQuCiAqIEltbXV0YWJsZSwgaWYgYWxsIGNoaWxkcmVuIGFyZSBpbW11dGFibGUuCiovCmV4cG9ydCB2YXIgUGFpckFzdE5vZGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9CYXNlQXN0Tm9kZSkgewogIF9pbmhlcml0cyhQYWlyQXN0Tm9kZSwgX0Jhc2VBc3ROb2RlKTsKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFBhaXJBc3ROb2RlKTsKICBmdW5jdGlvbiBQYWlyQXN0Tm9kZShsZW5ndGgsIG9wZW5pbmdCcmFja2V0LCBjaGlsZCwgY2xvc2luZ0JyYWNrZXQsIG1pc3NpbmdPcGVuaW5nQnJhY2tldElkcykgewogICAgdmFyIF90aGlzOwogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhaXJBc3ROb2RlKTsKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbGVuZ3RoKTsKICAgIF90aGlzLm9wZW5pbmdCcmFja2V0ID0gb3BlbmluZ0JyYWNrZXQ7CiAgICBfdGhpcy5jaGlsZCA9IGNoaWxkOwogICAgX3RoaXMuY2xvc2luZ0JyYWNrZXQgPSBjbG9zaW5nQnJhY2tldDsKICAgIF90aGlzLm1pc3NpbmdPcGVuaW5nQnJhY2tldElkcyA9IG1pc3NpbmdPcGVuaW5nQnJhY2tldElkczsKICAgIHJldHVybiBfdGhpczsKICB9CiAgX2NyZWF0ZUNsYXNzKFBhaXJBc3ROb2RlLCBbewogICAga2V5OiAia2luZCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIDIgLyogQXN0Tm9kZUtpbmQuUGFpciAqLzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsaXN0SGVpZ2h0IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjaGlsZHJlbkxlbmd0aCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIDM7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0Q2hpbGQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldENoaWxkKGlkeCkgewogICAgICBzd2l0Y2ggKGlkeCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIHJldHVybiB0aGlzLm9wZW5pbmdCcmFja2V0OwogICAgICAgIGNhc2UgMToKICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkOwogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHJldHVybiB0aGlzLmNsb3NpbmdCcmFja2V0OwogICAgICB9CiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjaGlsZCBpbmRleCcpOwogICAgfQogICAgLyoqCiAgICAgKiBBdm9pZCB1c2luZyB0aGlzIHByb3BlcnR5LCBpdCBhbGxvY2F0ZXMgYW4gYXJyYXkhCiAgICAqLwogIH0sIHsKICAgIGtleTogImNoaWxkcmVuIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KCk7CiAgICAgIHJlc3VsdC5wdXNoKHRoaXMub3BlbmluZ0JyYWNrZXQpOwogICAgICBpZiAodGhpcy5jaGlsZCkgewogICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuY2hpbGQpOwogICAgICB9CiAgICAgIGlmICh0aGlzLmNsb3NpbmdCcmFja2V0KSB7CiAgICAgICAgcmVzdWx0LnB1c2godGhpcy5jbG9zaW5nQnJhY2tldCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYW5CZVJldXNlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2FuQmVSZXVzZWQob3BlbkJyYWNrZXRJZHMpIHsKICAgICAgaWYgKHRoaXMuY2xvc2luZ0JyYWNrZXQgPT09IG51bGwpIHsKICAgICAgICAvLyBVbmNsb3NlZCBwYWlyIGFzdCBub2RlcyBvbmx5CiAgICAgICAgLy8gZW5kIGF0IHRoZSBlbmQgb2YgdGhlIGRvY3VtZW50CiAgICAgICAgLy8gb3Igd2hlbiBhIHBhcmVudCBub2RlIGlzIGNsb3NlZC4KICAgICAgICAvLyBUaGlzIGNvdWxkIGJlIGltcHJvdmVkOgogICAgICAgIC8vIE9ubHkgcmV0dXJuIGZhbHNlIGlmIHNvbWUgbmV4dCB0b2tlbiBpcyBuZWl0aGVyICJ1bmRlZmluZWQiIG5vciBhIGJyYWNrZXQgdGhhdCBjbG9zZXMgYSBwYXJlbnQuCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGlmIChvcGVuQnJhY2tldElkcy5pbnRlcnNlY3RzKHRoaXMubWlzc2luZ09wZW5pbmdCcmFja2V0SWRzKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkZWVwQ2xvbmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRlZXBDbG9uZSgpIHsKICAgICAgcmV0dXJuIG5ldyBQYWlyQXN0Tm9kZSh0aGlzLmxlbmd0aCwgdGhpcy5vcGVuaW5nQnJhY2tldC5kZWVwQ2xvbmUoKSwgdGhpcy5jaGlsZCAmJiB0aGlzLmNoaWxkLmRlZXBDbG9uZSgpLCB0aGlzLmNsb3NpbmdCcmFja2V0ICYmIHRoaXMuY2xvc2luZ0JyYWNrZXQuZGVlcENsb25lKCksIHRoaXMubWlzc2luZ09wZW5pbmdCcmFja2V0SWRzKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wdXRlTWluSW5kZW50YXRpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXB1dGVNaW5JbmRlbnRhdGlvbihvZmZzZXQsIHRleHRNb2RlbCkgewogICAgICByZXR1cm4gdGhpcy5jaGlsZCA/IHRoaXMuY2hpbGQuY29tcHV0ZU1pbkluZGVudGF0aW9uKGxlbmd0aEFkZChvZmZzZXQsIHRoaXMub3BlbmluZ0JyYWNrZXQubGVuZ3RoKSwgdGV4dE1vZGVsKSA6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwogICAgfQogIH1dLCBbewogICAga2V5OiAiY3JlYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUob3BlbmluZ0JyYWNrZXQsIGNoaWxkLCBjbG9zaW5nQnJhY2tldCkgewogICAgICB2YXIgbGVuZ3RoID0gb3BlbmluZ0JyYWNrZXQubGVuZ3RoOwogICAgICBpZiAoY2hpbGQpIHsKICAgICAgICBsZW5ndGggPSBsZW5ndGhBZGQobGVuZ3RoLCBjaGlsZC5sZW5ndGgpOwogICAgICB9CiAgICAgIGlmIChjbG9zaW5nQnJhY2tldCkgewogICAgICAgIGxlbmd0aCA9IGxlbmd0aEFkZChsZW5ndGgsIGNsb3NpbmdCcmFja2V0Lmxlbmd0aCk7CiAgICAgIH0KICAgICAgcmV0dXJuIG5ldyBQYWlyQXN0Tm9kZShsZW5ndGgsIG9wZW5pbmdCcmFja2V0LCBjaGlsZCwgY2xvc2luZ0JyYWNrZXQsIGNoaWxkID8gY2hpbGQubWlzc2luZ09wZW5pbmdCcmFja2V0SWRzIDogU21hbGxJbW11dGFibGVTZXQuZ2V0RW1wdHkoKSk7CiAgICB9CiAgfV0pOwogIHJldHVybiBQYWlyQXN0Tm9kZTsKfShCYXNlQXN0Tm9kZSk7CmV4cG9ydCB2YXIgTGlzdEFzdE5vZGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9CYXNlQXN0Tm9kZTIpIHsKICBfaW5oZXJpdHMoTGlzdEFzdE5vZGUsIF9CYXNlQXN0Tm9kZTIpOwogIHZhciBfc3VwZXIyID0gX2NyZWF0ZVN1cGVyKExpc3RBc3ROb2RlKTsKICAvKioKICAgKiBVc2UgTGlzdEFzdE5vZGUuY3JlYXRlLgogICovCiAgZnVuY3Rpb24gTGlzdEFzdE5vZGUobGVuZ3RoLCBsaXN0SGVpZ2h0LCBfbWlzc2luZ09wZW5pbmdCcmFja2V0SWRzKSB7CiAgICB2YXIgX3RoaXMyOwogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExpc3RBc3ROb2RlKTsKICAgIF90aGlzMiA9IF9zdXBlcjIuY2FsbCh0aGlzLCBsZW5ndGgpOwogICAgX3RoaXMyLmxpc3RIZWlnaHQgPSBsaXN0SGVpZ2h0OwogICAgX3RoaXMyLl9taXNzaW5nT3BlbmluZ0JyYWNrZXRJZHMgPSBfbWlzc2luZ09wZW5pbmdCcmFja2V0SWRzOwogICAgX3RoaXMyLmNhY2hlZE1pbkluZGVudGF0aW9uID0gLTE7CiAgICByZXR1cm4gX3RoaXMyOwogIH0KICAvKioKICAgKiBUaGlzIG1ldGhvZCB1c2VzIG1vcmUgbWVtb3J5LWVmZmljaWVudCBsaXN0IG5vZGVzIHRoYXQgY2FuIG9ubHkgc3RvcmUgMiBvciAzIGNoaWxkcmVuLgogICovCiAgX2NyZWF0ZUNsYXNzKExpc3RBc3ROb2RlLCBbewogICAga2V5OiAia2luZCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIDQgLyogQXN0Tm9kZUtpbmQuTGlzdCAqLzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtaXNzaW5nT3BlbmluZ0JyYWNrZXRJZHMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9taXNzaW5nT3BlbmluZ0JyYWNrZXRJZHM7CiAgICB9CiAgfSwgewogICAga2V5OiAidGhyb3dJZkltbXV0YWJsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdGhyb3dJZkltbXV0YWJsZSgpIHsKICAgICAgLy8gTk9PUAogICAgfQogIH0sIHsKICAgIGtleTogIm1ha2VMYXN0RWxlbWVudE11dGFibGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VMYXN0RWxlbWVudE11dGFibGUoKSB7CiAgICAgIHRoaXMudGhyb3dJZkltbXV0YWJsZSgpOwogICAgICB2YXIgY2hpbGRDb3VudCA9IHRoaXMuY2hpbGRyZW5MZW5ndGg7CiAgICAgIGlmIChjaGlsZENvdW50ID09PSAwKSB7CiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgICAgfQogICAgICB2YXIgbGFzdENoaWxkID0gdGhpcy5nZXRDaGlsZChjaGlsZENvdW50IC0gMSk7CiAgICAgIHZhciBtdXRhYmxlID0gbGFzdENoaWxkLmtpbmQgPT09IDQgLyogQXN0Tm9kZUtpbmQuTGlzdCAqLyA/IGxhc3RDaGlsZC50b011dGFibGUoKSA6IGxhc3RDaGlsZDsKICAgICAgaWYgKGxhc3RDaGlsZCAhPT0gbXV0YWJsZSkgewogICAgICAgIHRoaXMuc2V0Q2hpbGQoY2hpbGRDb3VudCAtIDEsIG11dGFibGUpOwogICAgICB9CiAgICAgIHJldHVybiBtdXRhYmxlOwogICAgfQogIH0sIHsKICAgIGtleTogIm1ha2VGaXJzdEVsZW1lbnRNdXRhYmxlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtYWtlRmlyc3RFbGVtZW50TXV0YWJsZSgpIHsKICAgICAgdGhpcy50aHJvd0lmSW1tdXRhYmxlKCk7CiAgICAgIHZhciBjaGlsZENvdW50ID0gdGhpcy5jaGlsZHJlbkxlbmd0aDsKICAgICAgaWYgKGNoaWxkQ291bnQgPT09IDApIHsKICAgICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgICB9CiAgICAgIHZhciBmaXJzdENoaWxkID0gdGhpcy5nZXRDaGlsZCgwKTsKICAgICAgdmFyIG11dGFibGUgPSBmaXJzdENoaWxkLmtpbmQgPT09IDQgLyogQXN0Tm9kZUtpbmQuTGlzdCAqLyA/IGZpcnN0Q2hpbGQudG9NdXRhYmxlKCkgOiBmaXJzdENoaWxkOwogICAgICBpZiAoZmlyc3RDaGlsZCAhPT0gbXV0YWJsZSkgewogICAgICAgIHRoaXMuc2V0Q2hpbGQoMCwgbXV0YWJsZSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG11dGFibGU7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2FuQmVSZXVzZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNhbkJlUmV1c2VkKG9wZW5CcmFja2V0SWRzKSB7CiAgICAgIGlmIChvcGVuQnJhY2tldElkcy5pbnRlcnNlY3RzKHRoaXMubWlzc2luZ09wZW5pbmdCcmFja2V0SWRzKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgbGFzdENoaWxkID0gdGhpczsKICAgICAgdmFyIGxhc3RMZW5ndGg7CiAgICAgIHdoaWxlIChsYXN0Q2hpbGQua2luZCA9PT0gNCAvKiBBc3ROb2RlS2luZC5MaXN0ICovICYmIChsYXN0TGVuZ3RoID0gbGFzdENoaWxkLmNoaWxkcmVuTGVuZ3RoKSA+IDApIHsKICAgICAgICBsYXN0Q2hpbGQgPSBsYXN0Q2hpbGQuZ2V0Q2hpbGQobGFzdExlbmd0aCAtIDEpOwogICAgICB9CiAgICAgIHJldHVybiBsYXN0Q2hpbGQuY2FuQmVSZXVzZWQob3BlbkJyYWNrZXRJZHMpOwogICAgfQogIH0sIHsKICAgIGtleTogImhhbmRsZUNoaWxkcmVuQ2hhbmdlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQ2hpbGRyZW5DaGFuZ2VkKCkgewogICAgICB0aGlzLnRocm93SWZJbW11dGFibGUoKTsKICAgICAgdmFyIGNvdW50ID0gdGhpcy5jaGlsZHJlbkxlbmd0aDsKICAgICAgdmFyIGxlbmd0aCA9IHRoaXMuZ2V0Q2hpbGQoMCkubGVuZ3RoOwogICAgICB2YXIgdW5vcGVuZWRCcmFja2V0cyA9IHRoaXMuZ2V0Q2hpbGQoMCkubWlzc2luZ09wZW5pbmdCcmFja2V0SWRzOwogICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmdldENoaWxkKGkpOwogICAgICAgIGxlbmd0aCA9IGxlbmd0aEFkZChsZW5ndGgsIGNoaWxkLmxlbmd0aCk7CiAgICAgICAgdW5vcGVuZWRCcmFja2V0cyA9IHVub3BlbmVkQnJhY2tldHMubWVyZ2UoY2hpbGQubWlzc2luZ09wZW5pbmdCcmFja2V0SWRzKTsKICAgICAgfQogICAgICB0aGlzLl9sZW5ndGggPSBsZW5ndGg7CiAgICAgIHRoaXMuX21pc3NpbmdPcGVuaW5nQnJhY2tldElkcyA9IHVub3BlbmVkQnJhY2tldHM7CiAgICAgIHRoaXMuY2FjaGVkTWluSW5kZW50YXRpb24gPSAtMTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wdXRlTWluSW5kZW50YXRpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXB1dGVNaW5JbmRlbnRhdGlvbihvZmZzZXQsIHRleHRNb2RlbCkgewogICAgICBpZiAodGhpcy5jYWNoZWRNaW5JbmRlbnRhdGlvbiAhPT0gLTEpIHsKICAgICAgICByZXR1cm4gdGhpcy5jYWNoZWRNaW5JbmRlbnRhdGlvbjsKICAgICAgfQogICAgICB2YXIgbWluSW5kZW50YXRpb24gPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjsKICAgICAgdmFyIGNoaWxkT2Zmc2V0ID0gb2Zmc2V0OwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW5MZW5ndGg7IGkrKykgewogICAgICAgIHZhciBjaGlsZCA9IHRoaXMuZ2V0Q2hpbGQoaSk7CiAgICAgICAgaWYgKGNoaWxkKSB7CiAgICAgICAgICBtaW5JbmRlbnRhdGlvbiA9IE1hdGgubWluKG1pbkluZGVudGF0aW9uLCBjaGlsZC5jb21wdXRlTWluSW5kZW50YXRpb24oY2hpbGRPZmZzZXQsIHRleHRNb2RlbCkpOwogICAgICAgICAgY2hpbGRPZmZzZXQgPSBsZW5ndGhBZGQoY2hpbGRPZmZzZXQsIGNoaWxkLmxlbmd0aCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuY2FjaGVkTWluSW5kZW50YXRpb24gPSBtaW5JbmRlbnRhdGlvbjsKICAgICAgcmV0dXJuIG1pbkluZGVudGF0aW9uOwogICAgfQogIH1dLCBbewogICAga2V5OiAiY3JlYXRlMjMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZTIzKGl0ZW0xLCBpdGVtMiwgaXRlbTMpIHsKICAgICAgdmFyIGltbXV0YWJsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7CiAgICAgIHZhciBsZW5ndGggPSBpdGVtMS5sZW5ndGg7CiAgICAgIHZhciBtaXNzaW5nQnJhY2tldElkcyA9IGl0ZW0xLm1pc3NpbmdPcGVuaW5nQnJhY2tldElkczsKICAgICAgaWYgKGl0ZW0xLmxpc3RIZWlnaHQgIT09IGl0ZW0yLmxpc3RIZWlnaHQpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbGlzdCBoZWlnaHRzJyk7CiAgICAgIH0KICAgICAgbGVuZ3RoID0gbGVuZ3RoQWRkKGxlbmd0aCwgaXRlbTIubGVuZ3RoKTsKICAgICAgbWlzc2luZ0JyYWNrZXRJZHMgPSBtaXNzaW5nQnJhY2tldElkcy5tZXJnZShpdGVtMi5taXNzaW5nT3BlbmluZ0JyYWNrZXRJZHMpOwogICAgICBpZiAoaXRlbTMpIHsKICAgICAgICBpZiAoaXRlbTEubGlzdEhlaWdodCAhPT0gaXRlbTMubGlzdEhlaWdodCkgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGxpc3QgaGVpZ2h0cycpOwogICAgICAgIH0KICAgICAgICBsZW5ndGggPSBsZW5ndGhBZGQobGVuZ3RoLCBpdGVtMy5sZW5ndGgpOwogICAgICAgIG1pc3NpbmdCcmFja2V0SWRzID0gbWlzc2luZ0JyYWNrZXRJZHMubWVyZ2UoaXRlbTMubWlzc2luZ09wZW5pbmdCcmFja2V0SWRzKTsKICAgICAgfQogICAgICByZXR1cm4gaW1tdXRhYmxlID8gbmV3IEltbXV0YWJsZTIzTGlzdEFzdE5vZGUobGVuZ3RoLCBpdGVtMS5saXN0SGVpZ2h0ICsgMSwgaXRlbTEsIGl0ZW0yLCBpdGVtMywgbWlzc2luZ0JyYWNrZXRJZHMpIDogbmV3IFR3b1RocmVlTGlzdEFzdE5vZGUobGVuZ3RoLCBpdGVtMS5saXN0SGVpZ2h0ICsgMSwgaXRlbTEsIGl0ZW0yLCBpdGVtMywgbWlzc2luZ0JyYWNrZXRJZHMpOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEVtcHR5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRFbXB0eSgpIHsKICAgICAgcmV0dXJuIG5ldyBJbW11dGFibGVBcnJheUxpc3RBc3ROb2RlKGxlbmd0aFplcm8sIDAsIFtdLCBTbWFsbEltbXV0YWJsZVNldC5nZXRFbXB0eSgpKTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIExpc3RBc3ROb2RlOwp9KEJhc2VBc3ROb2RlKTsKdmFyIFR3b1RocmVlTGlzdEFzdE5vZGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9MaXN0QXN0Tm9kZSkgewogIF9pbmhlcml0cyhUd29UaHJlZUxpc3RBc3ROb2RlLCBfTGlzdEFzdE5vZGUpOwogIHZhciBfc3VwZXIzID0gX2NyZWF0ZVN1cGVyKFR3b1RocmVlTGlzdEFzdE5vZGUpOwogIGZ1bmN0aW9uIFR3b1RocmVlTGlzdEFzdE5vZGUobGVuZ3RoLCBsaXN0SGVpZ2h0LCBfaXRlbTEsIF9pdGVtMiwgX2l0ZW0zLCBtaXNzaW5nT3BlbmluZ0JyYWNrZXRJZHMpIHsKICAgIHZhciBfdGhpczM7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHdvVGhyZWVMaXN0QXN0Tm9kZSk7CiAgICBfdGhpczMgPSBfc3VwZXIzLmNhbGwodGhpcywgbGVuZ3RoLCBsaXN0SGVpZ2h0LCBtaXNzaW5nT3BlbmluZ0JyYWNrZXRJZHMpOwogICAgX3RoaXMzLl9pdGVtMSA9IF9pdGVtMTsKICAgIF90aGlzMy5faXRlbTIgPSBfaXRlbTI7CiAgICBfdGhpczMuX2l0ZW0zID0gX2l0ZW0zOwogICAgcmV0dXJuIF90aGlzMzsKICB9CiAgX2NyZWF0ZUNsYXNzKFR3b1RocmVlTGlzdEFzdE5vZGUsIFt7CiAgICBrZXk6ICJjaGlsZHJlbkxlbmd0aCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2l0ZW0zICE9PSBudWxsID8gMyA6IDI7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0Q2hpbGQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldENoaWxkKGlkeCkgewogICAgICBzd2l0Y2ggKGlkeCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIHJldHVybiB0aGlzLl9pdGVtMTsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICByZXR1cm4gdGhpcy5faXRlbTI7CiAgICAgICAgY2FzZSAyOgogICAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW0zOwogICAgICB9CiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjaGlsZCBpbmRleCcpOwogICAgfQogIH0sIHsKICAgIGtleTogInNldENoaWxkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDaGlsZChpZHgsIG5vZGUpIHsKICAgICAgc3dpdGNoIChpZHgpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICB0aGlzLl9pdGVtMSA9IG5vZGU7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgdGhpcy5faXRlbTIgPSBub2RlOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHRoaXMuX2l0ZW0zID0gbm9kZTsKICAgICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY2hpbGQgaW5kZXgnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjaGlsZHJlbiIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2l0ZW0zID8gW3RoaXMuX2l0ZW0xLCB0aGlzLl9pdGVtMiwgdGhpcy5faXRlbTNdIDogW3RoaXMuX2l0ZW0xLCB0aGlzLl9pdGVtMl07CiAgICB9CiAgfSwgewogICAga2V5OiAiaXRlbTEiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9pdGVtMTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpdGVtMiIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2l0ZW0yOwogICAgfQogIH0sIHsKICAgIGtleTogIml0ZW0zIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5faXRlbTM7CiAgICB9CiAgfSwgewogICAga2V5OiAiZGVlcENsb25lIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZWVwQ2xvbmUoKSB7CiAgICAgIHJldHVybiBuZXcgVHdvVGhyZWVMaXN0QXN0Tm9kZSh0aGlzLmxlbmd0aCwgdGhpcy5saXN0SGVpZ2h0LCB0aGlzLl9pdGVtMS5kZWVwQ2xvbmUoKSwgdGhpcy5faXRlbTIuZGVlcENsb25lKCksIHRoaXMuX2l0ZW0zID8gdGhpcy5faXRlbTMuZGVlcENsb25lKCkgOiBudWxsLCB0aGlzLm1pc3NpbmdPcGVuaW5nQnJhY2tldElkcyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYXBwZW5kQ2hpbGRPZlNhbWVIZWlnaHQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGVuZENoaWxkT2ZTYW1lSGVpZ2h0KG5vZGUpIHsKICAgICAgaWYgKHRoaXMuX2l0ZW0zKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYXBwZW5kIHRvIGEgZnVsbCAoMiwzKSB0cmVlIG5vZGUnKTsKICAgICAgfQogICAgICB0aGlzLnRocm93SWZJbW11dGFibGUoKTsKICAgICAgdGhpcy5faXRlbTMgPSBub2RlOwogICAgICB0aGlzLmhhbmRsZUNoaWxkcmVuQ2hhbmdlZCgpOwogICAgfQogIH0sIHsKICAgIGtleTogInVuYXBwZW5kQ2hpbGQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVuYXBwZW5kQ2hpbGQoKSB7CiAgICAgIGlmICghdGhpcy5faXRlbTMpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCByZW1vdmUgZnJvbSBhIG5vbi1mdWxsICgyLDMpIHRyZWUgbm9kZScpOwogICAgICB9CiAgICAgIHRoaXMudGhyb3dJZkltbXV0YWJsZSgpOwogICAgICB2YXIgcmVzdWx0ID0gdGhpcy5faXRlbTM7CiAgICAgIHRoaXMuX2l0ZW0zID0gbnVsbDsKICAgICAgdGhpcy5oYW5kbGVDaGlsZHJlbkNoYW5nZWQoKTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwcmVwZW5kQ2hpbGRPZlNhbWVIZWlnaHQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHByZXBlbmRDaGlsZE9mU2FtZUhlaWdodChub2RlKSB7CiAgICAgIGlmICh0aGlzLl9pdGVtMykgewogICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHByZXBlbmQgdG8gYSBmdWxsICgyLDMpIHRyZWUgbm9kZScpOwogICAgICB9CiAgICAgIHRoaXMudGhyb3dJZkltbXV0YWJsZSgpOwogICAgICB0aGlzLl9pdGVtMyA9IHRoaXMuX2l0ZW0yOwogICAgICB0aGlzLl9pdGVtMiA9IHRoaXMuX2l0ZW0xOwogICAgICB0aGlzLl9pdGVtMSA9IG5vZGU7CiAgICAgIHRoaXMuaGFuZGxlQ2hpbGRyZW5DaGFuZ2VkKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAidW5wcmVwZW5kQ2hpbGQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVucHJlcGVuZENoaWxkKCkgewogICAgICBpZiAoIXRoaXMuX2l0ZW0zKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcmVtb3ZlIGZyb20gYSBub24tZnVsbCAoMiwzKSB0cmVlIG5vZGUnKTsKICAgICAgfQogICAgICB0aGlzLnRocm93SWZJbW11dGFibGUoKTsKICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX2l0ZW0xOwogICAgICB0aGlzLl9pdGVtMSA9IHRoaXMuX2l0ZW0yOwogICAgICB0aGlzLl9pdGVtMiA9IHRoaXMuX2l0ZW0zOwogICAgICB0aGlzLl9pdGVtMyA9IG51bGw7CiAgICAgIHRoaXMuaGFuZGxlQ2hpbGRyZW5DaGFuZ2VkKCk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgfSwgewogICAga2V5OiAidG9NdXRhYmxlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b011dGFibGUoKSB7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH1dKTsKICByZXR1cm4gVHdvVGhyZWVMaXN0QXN0Tm9kZTsKfShMaXN0QXN0Tm9kZSk7Ci8qKgogKiBJbW11dGFibGUsIGlmIGFsbCBjaGlsZHJlbiBhcmUgaW1tdXRhYmxlLgoqLwp2YXIgSW1tdXRhYmxlMjNMaXN0QXN0Tm9kZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1R3b1RocmVlTGlzdEFzdE5vZGUpIHsKICBfaW5oZXJpdHMoSW1tdXRhYmxlMjNMaXN0QXN0Tm9kZSwgX1R3b1RocmVlTGlzdEFzdE5vZGUpOwogIHZhciBfc3VwZXI0ID0gX2NyZWF0ZVN1cGVyKEltbXV0YWJsZTIzTGlzdEFzdE5vZGUpOwogIGZ1bmN0aW9uIEltbXV0YWJsZTIzTGlzdEFzdE5vZGUoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW1tdXRhYmxlMjNMaXN0QXN0Tm9kZSk7CiAgICByZXR1cm4gX3N1cGVyNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KICBfY3JlYXRlQ2xhc3MoSW1tdXRhYmxlMjNMaXN0QXN0Tm9kZSwgW3sKICAgIGtleTogInRvTXV0YWJsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdG9NdXRhYmxlKCkgewogICAgICByZXR1cm4gbmV3IFR3b1RocmVlTGlzdEFzdE5vZGUodGhpcy5sZW5ndGgsIHRoaXMubGlzdEhlaWdodCwgdGhpcy5pdGVtMSwgdGhpcy5pdGVtMiwgdGhpcy5pdGVtMywgdGhpcy5taXNzaW5nT3BlbmluZ0JyYWNrZXRJZHMpOwogICAgfQogIH0sIHsKICAgIGtleTogInRocm93SWZJbW11dGFibGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRocm93SWZJbW11dGFibGUoKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigndGhpcyBpbnN0YW5jZSBpcyBpbW11dGFibGUnKTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIEltbXV0YWJsZTIzTGlzdEFzdE5vZGU7Cn0oVHdvVGhyZWVMaXN0QXN0Tm9kZSk7Ci8qKgogKiBGb3IgZGVidWdnaW5nLgoqLwp2YXIgQXJyYXlMaXN0QXN0Tm9kZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0xpc3RBc3ROb2RlMikgewogIF9pbmhlcml0cyhBcnJheUxpc3RBc3ROb2RlLCBfTGlzdEFzdE5vZGUyKTsKICB2YXIgX3N1cGVyNSA9IF9jcmVhdGVTdXBlcihBcnJheUxpc3RBc3ROb2RlKTsKICBmdW5jdGlvbiBBcnJheUxpc3RBc3ROb2RlKGxlbmd0aCwgbGlzdEhlaWdodCwgX2NoaWxkcmVuLCBtaXNzaW5nT3BlbmluZ0JyYWNrZXRJZHMpIHsKICAgIHZhciBfdGhpczQ7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXJyYXlMaXN0QXN0Tm9kZSk7CiAgICBfdGhpczQgPSBfc3VwZXI1LmNhbGwodGhpcywgbGVuZ3RoLCBsaXN0SGVpZ2h0LCBtaXNzaW5nT3BlbmluZ0JyYWNrZXRJZHMpOwogICAgX3RoaXM0Ll9jaGlsZHJlbiA9IF9jaGlsZHJlbjsKICAgIHJldHVybiBfdGhpczQ7CiAgfQogIF9jcmVhdGVDbGFzcyhBcnJheUxpc3RBc3ROb2RlLCBbewogICAga2V5OiAiY2hpbGRyZW5MZW5ndGgiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9jaGlsZHJlbi5sZW5ndGg7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0Q2hpbGQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldENoaWxkKGlkeCkgewogICAgICByZXR1cm4gdGhpcy5fY2hpbGRyZW5baWR4XTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRDaGlsZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q2hpbGQoaWR4LCBjaGlsZCkgewogICAgICB0aGlzLl9jaGlsZHJlbltpZHhdID0gY2hpbGQ7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2hpbGRyZW4iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9jaGlsZHJlbjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkZWVwQ2xvbmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRlZXBDbG9uZSgpIHsKICAgICAgdmFyIGNoaWxkcmVuID0gbmV3IEFycmF5KHRoaXMuX2NoaWxkcmVuLmxlbmd0aCk7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKICAgICAgICBjaGlsZHJlbltpXSA9IHRoaXMuX2NoaWxkcmVuW2ldLmRlZXBDbG9uZSgpOwogICAgICB9CiAgICAgIHJldHVybiBuZXcgQXJyYXlMaXN0QXN0Tm9kZSh0aGlzLmxlbmd0aCwgdGhpcy5saXN0SGVpZ2h0LCBjaGlsZHJlbiwgdGhpcy5taXNzaW5nT3BlbmluZ0JyYWNrZXRJZHMpOwogICAgfQogIH0sIHsKICAgIGtleTogImFwcGVuZENoaWxkT2ZTYW1lSGVpZ2h0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBlbmRDaGlsZE9mU2FtZUhlaWdodChub2RlKSB7CiAgICAgIHRoaXMudGhyb3dJZkltbXV0YWJsZSgpOwogICAgICB0aGlzLl9jaGlsZHJlbi5wdXNoKG5vZGUpOwogICAgICB0aGlzLmhhbmRsZUNoaWxkcmVuQ2hhbmdlZCgpOwogICAgfQogIH0sIHsKICAgIGtleTogInVuYXBwZW5kQ2hpbGQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVuYXBwZW5kQ2hpbGQoKSB7CiAgICAgIHRoaXMudGhyb3dJZkltbXV0YWJsZSgpOwogICAgICB2YXIgaXRlbSA9IHRoaXMuX2NoaWxkcmVuLnBvcCgpOwogICAgICB0aGlzLmhhbmRsZUNoaWxkcmVuQ2hhbmdlZCgpOwogICAgICByZXR1cm4gaXRlbTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwcmVwZW5kQ2hpbGRPZlNhbWVIZWlnaHQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHByZXBlbmRDaGlsZE9mU2FtZUhlaWdodChub2RlKSB7CiAgICAgIHRoaXMudGhyb3dJZkltbXV0YWJsZSgpOwogICAgICB0aGlzLl9jaGlsZHJlbi51bnNoaWZ0KG5vZGUpOwogICAgICB0aGlzLmhhbmRsZUNoaWxkcmVuQ2hhbmdlZCgpOwogICAgfQogIH0sIHsKICAgIGtleTogInVucHJlcGVuZENoaWxkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1bnByZXBlbmRDaGlsZCgpIHsKICAgICAgdGhpcy50aHJvd0lmSW1tdXRhYmxlKCk7CiAgICAgIHZhciBpdGVtID0gdGhpcy5fY2hpbGRyZW4uc2hpZnQoKTsKICAgICAgdGhpcy5oYW5kbGVDaGlsZHJlbkNoYW5nZWQoKTsKICAgICAgcmV0dXJuIGl0ZW07CiAgICB9CiAgfSwgewogICAga2V5OiAidG9NdXRhYmxlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b011dGFibGUoKSB7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH1dKTsKICByZXR1cm4gQXJyYXlMaXN0QXN0Tm9kZTsKfShMaXN0QXN0Tm9kZSk7Ci8qKgogKiBJbW11dGFibGUsIGlmIGFsbCBjaGlsZHJlbiBhcmUgaW1tdXRhYmxlLgoqLwp2YXIgSW1tdXRhYmxlQXJyYXlMaXN0QXN0Tm9kZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0FycmF5TGlzdEFzdE5vZGUpIHsKICBfaW5oZXJpdHMoSW1tdXRhYmxlQXJyYXlMaXN0QXN0Tm9kZSwgX0FycmF5TGlzdEFzdE5vZGUpOwogIHZhciBfc3VwZXI2ID0gX2NyZWF0ZVN1cGVyKEltbXV0YWJsZUFycmF5TGlzdEFzdE5vZGUpOwogIGZ1bmN0aW9uIEltbXV0YWJsZUFycmF5TGlzdEFzdE5vZGUoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW1tdXRhYmxlQXJyYXlMaXN0QXN0Tm9kZSk7CiAgICByZXR1cm4gX3N1cGVyNi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KICBfY3JlYXRlQ2xhc3MoSW1tdXRhYmxlQXJyYXlMaXN0QXN0Tm9kZSwgW3sKICAgIGtleTogInRvTXV0YWJsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdG9NdXRhYmxlKCkgewogICAgICByZXR1cm4gbmV3IEFycmF5TGlzdEFzdE5vZGUodGhpcy5sZW5ndGgsIHRoaXMubGlzdEhlaWdodCwgX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuY2hpbGRyZW4pLCB0aGlzLm1pc3NpbmdPcGVuaW5nQnJhY2tldElkcyk7CiAgICB9CiAgfSwgewogICAga2V5OiAidGhyb3dJZkltbXV0YWJsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdGhyb3dJZkltbXV0YWJsZSgpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCd0aGlzIGluc3RhbmNlIGlzIGltbXV0YWJsZScpOwogICAgfQogIH1dKTsKICByZXR1cm4gSW1tdXRhYmxlQXJyYXlMaXN0QXN0Tm9kZTsKfShBcnJheUxpc3RBc3ROb2RlKTsKdmFyIGVtcHR5QXJyYXkgPSBbXTsKdmFyIEltbXV0YWJsZUxlYWZBc3ROb2RlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZUFzdE5vZGUzKSB7CiAgX2luaGVyaXRzKEltbXV0YWJsZUxlYWZBc3ROb2RlLCBfQmFzZUFzdE5vZGUzKTsKICB2YXIgX3N1cGVyNyA9IF9jcmVhdGVTdXBlcihJbW11dGFibGVMZWFmQXN0Tm9kZSk7CiAgZnVuY3Rpb24gSW1tdXRhYmxlTGVhZkFzdE5vZGUoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW1tdXRhYmxlTGVhZkFzdE5vZGUpOwogICAgcmV0dXJuIF9zdXBlcjcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CiAgX2NyZWF0ZUNsYXNzKEltbXV0YWJsZUxlYWZBc3ROb2RlLCBbewogICAga2V5OiAibGlzdEhlaWdodCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2hpbGRyZW5MZW5ndGgiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogIH0sIHsKICAgIGtleTogImdldENoaWxkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDaGlsZChpZHgpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2hpbGRyZW4iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiBlbXB0eUFycmF5OwogICAgfQogIH0sIHsKICAgIGtleTogImRlZXBDbG9uZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGVlcENsb25lKCkgewogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9XSk7CiAgcmV0dXJuIEltbXV0YWJsZUxlYWZBc3ROb2RlOwp9KEJhc2VBc3ROb2RlKTsKZXhwb3J0IHZhciBUZXh0QXN0Tm9kZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0ltbXV0YWJsZUxlYWZBc3ROb2RlKSB7CiAgX2luaGVyaXRzKFRleHRBc3ROb2RlLCBfSW1tdXRhYmxlTGVhZkFzdE5vZGUpOwogIHZhciBfc3VwZXI4ID0gX2NyZWF0ZVN1cGVyKFRleHRBc3ROb2RlKTsKICBmdW5jdGlvbiBUZXh0QXN0Tm9kZSgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0QXN0Tm9kZSk7CiAgICByZXR1cm4gX3N1cGVyOC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KICBfY3JlYXRlQ2xhc3MoVGV4dEFzdE5vZGUsIFt7CiAgICBrZXk6ICJraW5kIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gMCAvKiBBc3ROb2RlS2luZC5UZXh0ICovOwogICAgfQogIH0sIHsKICAgIGtleTogIm1pc3NpbmdPcGVuaW5nQnJhY2tldElkcyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIFNtYWxsSW1tdXRhYmxlU2V0LmdldEVtcHR5KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2FuQmVSZXVzZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNhbkJlUmV1c2VkKF9vcGVuZWRCcmFja2V0SWRzKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbXB1dGVNaW5JbmRlbnRhdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcHV0ZU1pbkluZGVudGF0aW9uKG9mZnNldCwgdGV4dE1vZGVsKSB7CiAgICAgIHZhciBzdGFydCA9IGxlbmd0aFRvT2JqKG9mZnNldCk7CiAgICAgIC8vIFRleHQgYXN0IG5vZGVzIGRvbid0IGhhdmUgcGFydGlhbCBpbmRlbnRhdGlvbiAoZW5zdXJlZCBieSB0aGUgdG9rZW5pemVyKS4KICAgICAgLy8gVGh1cywgaWYgdGhpcyB0ZXh0IG5vZGUgZG9lcyBub3Qgc3RhcnQgYXQgY29sdW1uIDAsIHRoZSBmaXJzdCBsaW5lIGNhbm5vdCBoYXZlIGFueSBpbmRlbnRhdGlvbiBhdCBhbGwuCiAgICAgIHZhciBzdGFydExpbmVOdW1iZXIgPSAoc3RhcnQuY29sdW1uQ291bnQgPT09IDAgPyBzdGFydC5saW5lQ291bnQgOiBzdGFydC5saW5lQ291bnQgKyAxKSArIDE7CiAgICAgIHZhciBlbmRMaW5lTnVtYmVyID0gbGVuZ3RoR2V0TGluZUNvdW50KGxlbmd0aEFkZChvZmZzZXQsIHRoaXMubGVuZ3RoKSkgKyAxOwogICAgICB2YXIgcmVzdWx0ID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CiAgICAgIGZvciAodmFyIGxpbmVOdW1iZXIgPSBzdGFydExpbmVOdW1iZXI7IGxpbmVOdW1iZXIgPD0gZW5kTGluZU51bWJlcjsgbGluZU51bWJlcisrKSB7CiAgICAgICAgdmFyIGZpcnN0Tm9uV3NDb2x1bW4gPSB0ZXh0TW9kZWwuZ2V0TGluZUZpcnN0Tm9uV2hpdGVzcGFjZUNvbHVtbihsaW5lTnVtYmVyKTsKICAgICAgICB2YXIgbGluZUNvbnRlbnQgPSB0ZXh0TW9kZWwuZ2V0TGluZUNvbnRlbnQobGluZU51bWJlcik7CiAgICAgICAgaWYgKGZpcnN0Tm9uV3NDb2x1bW4gPT09IDApIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KICAgICAgICB2YXIgdmlzaWJsZUNvbHVtbiA9IEN1cnNvckNvbHVtbnMudmlzaWJsZUNvbHVtbkZyb21Db2x1bW4obGluZUNvbnRlbnQsIGZpcnN0Tm9uV3NDb2x1bW4sIHRleHRNb2RlbC5nZXRPcHRpb25zKCkudGFiU2l6ZSk7CiAgICAgICAgcmVzdWx0ID0gTWF0aC5taW4ocmVzdWx0LCB2aXNpYmxlQ29sdW1uKTsKICAgICAgfQogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQogIH1dKTsKICByZXR1cm4gVGV4dEFzdE5vZGU7Cn0oSW1tdXRhYmxlTGVhZkFzdE5vZGUpOwpleHBvcnQgdmFyIEJyYWNrZXRBc3ROb2RlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfSW1tdXRhYmxlTGVhZkFzdE5vZGUyKSB7CiAgX2luaGVyaXRzKEJyYWNrZXRBc3ROb2RlLCBfSW1tdXRhYmxlTGVhZkFzdE5vZGUyKTsKICB2YXIgX3N1cGVyOSA9IF9jcmVhdGVTdXBlcihCcmFja2V0QXN0Tm9kZSk7CiAgZnVuY3Rpb24gQnJhY2tldEFzdE5vZGUobGVuZ3RoLCBicmFja2V0SW5mbywKICAvKioKICAgKiBJbiBjYXNlIG9mIGEgb3BlbmluZyBicmFja2V0LCB0aGlzIGlzIHRoZSBpZCBvZiB0aGUgb3BlbmluZyBicmFja2V0LgogICAqIEluIGNhc2Ugb2YgYSBjbG9zaW5nIGJyYWNrZXQsIHRoaXMgY29udGFpbnMgdGhlIGlkcyBvZiBhbGwgb3BlbmluZyBicmFja2V0cyBpdCBjYW4gY2xvc2UuCiAgKi8KICBicmFja2V0SWRzKSB7CiAgICB2YXIgX3RoaXM1OwogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJyYWNrZXRBc3ROb2RlKTsKICAgIF90aGlzNSA9IF9zdXBlcjkuY2FsbCh0aGlzLCBsZW5ndGgpOwogICAgX3RoaXM1LmJyYWNrZXRJbmZvID0gYnJhY2tldEluZm87CiAgICBfdGhpczUuYnJhY2tldElkcyA9IGJyYWNrZXRJZHM7CiAgICByZXR1cm4gX3RoaXM1OwogIH0KICBfY3JlYXRlQ2xhc3MoQnJhY2tldEFzdE5vZGUsIFt7CiAgICBrZXk6ICJraW5kIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gMSAvKiBBc3ROb2RlS2luZC5CcmFja2V0ICovOwogICAgfQogIH0sIHsKICAgIGtleTogIm1pc3NpbmdPcGVuaW5nQnJhY2tldElkcyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIFNtYWxsSW1tdXRhYmxlU2V0LmdldEVtcHR5KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAidGV4dCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuYnJhY2tldEluZm8uYnJhY2tldFRleHQ7CiAgICB9CiAgfSwgewogICAga2V5OiAibGFuZ3VhZ2VJZCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuYnJhY2tldEluZm8ubGFuZ3VhZ2VJZDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYW5CZVJldXNlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2FuQmVSZXVzZWQoX29wZW5lZEJyYWNrZXRJZHMpIHsKICAgICAgLy8gVGhlc2Ugbm9kZXMgY291bGQgYmUgcmV1c2VkLAogICAgICAvLyBidXQgbm90IGluIGEgZ2VuZXJhbCB3YXkuCiAgICAgIC8vIFRoZWlyIHBhcmVudCBtYXkgYmUgcmV1c2VkLgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tcHV0ZU1pbkluZGVudGF0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wdXRlTWluSW5kZW50YXRpb24ob2Zmc2V0LCB0ZXh0TW9kZWwpIHsKICAgICAgcmV0dXJuIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwogICAgfQogIH1dLCBbewogICAga2V5OiAiY3JlYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUobGVuZ3RoLCBicmFja2V0SW5mbywgYnJhY2tldElkcykgewogICAgICB2YXIgbm9kZSA9IG5ldyBCcmFja2V0QXN0Tm9kZShsZW5ndGgsIGJyYWNrZXRJbmZvLCBicmFja2V0SWRzKTsKICAgICAgcmV0dXJuIG5vZGU7CiAgICB9CiAgfV0pOwogIHJldHVybiBCcmFja2V0QXN0Tm9kZTsKfShJbW11dGFibGVMZWFmQXN0Tm9kZSk7CmV4cG9ydCB2YXIgSW52YWxpZEJyYWNrZXRBc3ROb2RlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfSW1tdXRhYmxlTGVhZkFzdE5vZGUzKSB7CiAgX2luaGVyaXRzKEludmFsaWRCcmFja2V0QXN0Tm9kZSwgX0ltbXV0YWJsZUxlYWZBc3ROb2RlMyk7CiAgdmFyIF9zdXBlcjEwID0gX2NyZWF0ZVN1cGVyKEludmFsaWRCcmFja2V0QXN0Tm9kZSk7CiAgZnVuY3Rpb24gSW52YWxpZEJyYWNrZXRBc3ROb2RlKGNsb3NpbmdCcmFja2V0cywgbGVuZ3RoKSB7CiAgICB2YXIgX3RoaXM2OwogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEludmFsaWRCcmFja2V0QXN0Tm9kZSk7CiAgICBfdGhpczYgPSBfc3VwZXIxMC5jYWxsKHRoaXMsIGxlbmd0aCk7CiAgICBfdGhpczYubWlzc2luZ09wZW5pbmdCcmFja2V0SWRzID0gY2xvc2luZ0JyYWNrZXRzOwogICAgcmV0dXJuIF90aGlzNjsKICB9CiAgX2NyZWF0ZUNsYXNzKEludmFsaWRCcmFja2V0QXN0Tm9kZSwgW3sKICAgIGtleTogImtpbmQiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiAzIC8qIEFzdE5vZGVLaW5kLlVuZXhwZWN0ZWRDbG9zaW5nQnJhY2tldCAqLzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYW5CZVJldXNlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2FuQmVSZXVzZWQob3BlbmVkQnJhY2tldElkcykgewogICAgICByZXR1cm4gIW9wZW5lZEJyYWNrZXRJZHMuaW50ZXJzZWN0cyh0aGlzLm1pc3NpbmdPcGVuaW5nQnJhY2tldElkcyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tcHV0ZU1pbkluZGVudGF0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wdXRlTWluSW5kZW50YXRpb24ob2Zmc2V0LCB0ZXh0TW9kZWwpIHsKICAgICAgcmV0dXJuIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwogICAgfQogIH1dKTsKICByZXR1cm4gSW52YWxpZEJyYWNrZXRBc3ROb2RlOwp9KEltbXV0YWJsZUxlYWZBc3ROb2RlKTs="},{"version":3,"names":["CursorColumns","lengthAdd","lengthGetLineCount","lengthToObj","lengthZero","SmallImmutableSet","BaseAstNode","length","_length","PairAstNode","openingBracket","child","closingBracket","missingOpeningBracketIds","idx","Error","result","Array","push","openBracketIds","intersects","deepClone","offset","textModel","computeMinIndentation","Number","MAX_SAFE_INTEGER","getEmpty","ListAstNode","listHeight","_missingOpeningBracketIds","cachedMinIndentation","throwIfImmutable","childCount","childrenLength","undefined","lastChild","getChild","mutable","kind","toMutable","setChild","firstChild","lastLength","canBeReused","count","unopenedBrackets","i","merge","minIndentation","childOffset","Math","min","item1","item2","item3","immutable","missingBracketIds","Immutable23ListAstNode","TwoThreeListAstNode","ImmutableArrayListAstNode","_item1","_item2","_item3","node","handleChildrenChanged","ArrayListAstNode","_children","children","item","pop","unshift","shift","emptyArray","ImmutableLeafAstNode","TextAstNode","_openedBracketIds","start","startLineNumber","columnCount","lineCount","endLineNumber","lineNumber","firstNonWsColumn","getLineFirstNonWhitespaceColumn","lineContent","getLineContent","visibleColumn","visibleColumnFromColumn","getOptions","tabSize","BracketAstNode","bracketInfo","bracketIds","bracketText","languageId","InvalidBracketAstNode","closingBrackets","openedBracketIds"],"sources":["/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { CursorColumns } from '../../../core/cursorColumns.js';\nimport { lengthAdd, lengthGetLineCount, lengthToObj, lengthZero } from './length.js';\nimport { SmallImmutableSet } from './smallImmutableSet.js';\n/**\n * The base implementation for all AST nodes.\n*/\nclass BaseAstNode {\n    constructor(length) {\n        this._length = length;\n    }\n    /**\n     * The length of the entire node, which should equal the sum of lengths of all children.\n    */\n    get length() {\n        return this._length;\n    }\n}\n/**\n * Represents a bracket pair including its child (e.g. `{ ... }`).\n * Might be unclosed.\n * Immutable, if all children are immutable.\n*/\nexport class PairAstNode extends BaseAstNode {\n    constructor(length, openingBracket, child, closingBracket, missingOpeningBracketIds) {\n        super(length);\n        this.openingBracket = openingBracket;\n        this.child = child;\n        this.closingBracket = closingBracket;\n        this.missingOpeningBracketIds = missingOpeningBracketIds;\n    }\n    static create(openingBracket, child, closingBracket) {\n        let length = openingBracket.length;\n        if (child) {\n            length = lengthAdd(length, child.length);\n        }\n        if (closingBracket) {\n            length = lengthAdd(length, closingBracket.length);\n        }\n        return new PairAstNode(length, openingBracket, child, closingBracket, child ? child.missingOpeningBracketIds : SmallImmutableSet.getEmpty());\n    }\n    get kind() {\n        return 2 /* AstNodeKind.Pair */;\n    }\n    get listHeight() {\n        return 0;\n    }\n    get childrenLength() {\n        return 3;\n    }\n    getChild(idx) {\n        switch (idx) {\n            case 0: return this.openingBracket;\n            case 1: return this.child;\n            case 2: return this.closingBracket;\n        }\n        throw new Error('Invalid child index');\n    }\n    /**\n     * Avoid using this property, it allocates an array!\n    */\n    get children() {\n        const result = new Array();\n        result.push(this.openingBracket);\n        if (this.child) {\n            result.push(this.child);\n        }\n        if (this.closingBracket) {\n            result.push(this.closingBracket);\n        }\n        return result;\n    }\n    canBeReused(openBracketIds) {\n        if (this.closingBracket === null) {\n            // Unclosed pair ast nodes only\n            // end at the end of the document\n            // or when a parent node is closed.\n            // This could be improved:\n            // Only return false if some next token is neither \"undefined\" nor a bracket that closes a parent.\n            return false;\n        }\n        if (openBracketIds.intersects(this.missingOpeningBracketIds)) {\n            return false;\n        }\n        return true;\n    }\n    deepClone() {\n        return new PairAstNode(this.length, this.openingBracket.deepClone(), this.child && this.child.deepClone(), this.closingBracket && this.closingBracket.deepClone(), this.missingOpeningBracketIds);\n    }\n    computeMinIndentation(offset, textModel) {\n        return this.child ? this.child.computeMinIndentation(lengthAdd(offset, this.openingBracket.length), textModel) : Number.MAX_SAFE_INTEGER;\n    }\n}\nexport class ListAstNode extends BaseAstNode {\n    /**\n     * Use ListAstNode.create.\n    */\n    constructor(length, listHeight, _missingOpeningBracketIds) {\n        super(length);\n        this.listHeight = listHeight;\n        this._missingOpeningBracketIds = _missingOpeningBracketIds;\n        this.cachedMinIndentation = -1;\n    }\n    /**\n     * This method uses more memory-efficient list nodes that can only store 2 or 3 children.\n    */\n    static create23(item1, item2, item3, immutable = false) {\n        let length = item1.length;\n        let missingBracketIds = item1.missingOpeningBracketIds;\n        if (item1.listHeight !== item2.listHeight) {\n            throw new Error('Invalid list heights');\n        }\n        length = lengthAdd(length, item2.length);\n        missingBracketIds = missingBracketIds.merge(item2.missingOpeningBracketIds);\n        if (item3) {\n            if (item1.listHeight !== item3.listHeight) {\n                throw new Error('Invalid list heights');\n            }\n            length = lengthAdd(length, item3.length);\n            missingBracketIds = missingBracketIds.merge(item3.missingOpeningBracketIds);\n        }\n        return immutable\n            ? new Immutable23ListAstNode(length, item1.listHeight + 1, item1, item2, item3, missingBracketIds)\n            : new TwoThreeListAstNode(length, item1.listHeight + 1, item1, item2, item3, missingBracketIds);\n    }\n    static getEmpty() {\n        return new ImmutableArrayListAstNode(lengthZero, 0, [], SmallImmutableSet.getEmpty());\n    }\n    get kind() {\n        return 4 /* AstNodeKind.List */;\n    }\n    get missingOpeningBracketIds() {\n        return this._missingOpeningBracketIds;\n    }\n    throwIfImmutable() {\n        // NOOP\n    }\n    makeLastElementMutable() {\n        this.throwIfImmutable();\n        const childCount = this.childrenLength;\n        if (childCount === 0) {\n            return undefined;\n        }\n        const lastChild = this.getChild(childCount - 1);\n        const mutable = lastChild.kind === 4 /* AstNodeKind.List */ ? lastChild.toMutable() : lastChild;\n        if (lastChild !== mutable) {\n            this.setChild(childCount - 1, mutable);\n        }\n        return mutable;\n    }\n    makeFirstElementMutable() {\n        this.throwIfImmutable();\n        const childCount = this.childrenLength;\n        if (childCount === 0) {\n            return undefined;\n        }\n        const firstChild = this.getChild(0);\n        const mutable = firstChild.kind === 4 /* AstNodeKind.List */ ? firstChild.toMutable() : firstChild;\n        if (firstChild !== mutable) {\n            this.setChild(0, mutable);\n        }\n        return mutable;\n    }\n    canBeReused(openBracketIds) {\n        if (openBracketIds.intersects(this.missingOpeningBracketIds)) {\n            return false;\n        }\n        let lastChild = this;\n        let lastLength;\n        while (lastChild.kind === 4 /* AstNodeKind.List */ && (lastLength = lastChild.childrenLength) > 0) {\n            lastChild = lastChild.getChild(lastLength - 1);\n        }\n        return lastChild.canBeReused(openBracketIds);\n    }\n    handleChildrenChanged() {\n        this.throwIfImmutable();\n        const count = this.childrenLength;\n        let length = this.getChild(0).length;\n        let unopenedBrackets = this.getChild(0).missingOpeningBracketIds;\n        for (let i = 1; i < count; i++) {\n            const child = this.getChild(i);\n            length = lengthAdd(length, child.length);\n            unopenedBrackets = unopenedBrackets.merge(child.missingOpeningBracketIds);\n        }\n        this._length = length;\n        this._missingOpeningBracketIds = unopenedBrackets;\n        this.cachedMinIndentation = -1;\n    }\n    computeMinIndentation(offset, textModel) {\n        if (this.cachedMinIndentation !== -1) {\n            return this.cachedMinIndentation;\n        }\n        let minIndentation = Number.MAX_SAFE_INTEGER;\n        let childOffset = offset;\n        for (let i = 0; i < this.childrenLength; i++) {\n            const child = this.getChild(i);\n            if (child) {\n                minIndentation = Math.min(minIndentation, child.computeMinIndentation(childOffset, textModel));\n                childOffset = lengthAdd(childOffset, child.length);\n            }\n        }\n        this.cachedMinIndentation = minIndentation;\n        return minIndentation;\n    }\n}\nclass TwoThreeListAstNode extends ListAstNode {\n    constructor(length, listHeight, _item1, _item2, _item3, missingOpeningBracketIds) {\n        super(length, listHeight, missingOpeningBracketIds);\n        this._item1 = _item1;\n        this._item2 = _item2;\n        this._item3 = _item3;\n    }\n    get childrenLength() {\n        return this._item3 !== null ? 3 : 2;\n    }\n    getChild(idx) {\n        switch (idx) {\n            case 0: return this._item1;\n            case 1: return this._item2;\n            case 2: return this._item3;\n        }\n        throw new Error('Invalid child index');\n    }\n    setChild(idx, node) {\n        switch (idx) {\n            case 0:\n                this._item1 = node;\n                return;\n            case 1:\n                this._item2 = node;\n                return;\n            case 2:\n                this._item3 = node;\n                return;\n        }\n        throw new Error('Invalid child index');\n    }\n    get children() {\n        return this._item3 ? [this._item1, this._item2, this._item3] : [this._item1, this._item2];\n    }\n    get item1() {\n        return this._item1;\n    }\n    get item2() {\n        return this._item2;\n    }\n    get item3() {\n        return this._item3;\n    }\n    deepClone() {\n        return new TwoThreeListAstNode(this.length, this.listHeight, this._item1.deepClone(), this._item2.deepClone(), this._item3 ? this._item3.deepClone() : null, this.missingOpeningBracketIds);\n    }\n    appendChildOfSameHeight(node) {\n        if (this._item3) {\n            throw new Error('Cannot append to a full (2,3) tree node');\n        }\n        this.throwIfImmutable();\n        this._item3 = node;\n        this.handleChildrenChanged();\n    }\n    unappendChild() {\n        if (!this._item3) {\n            throw new Error('Cannot remove from a non-full (2,3) tree node');\n        }\n        this.throwIfImmutable();\n        const result = this._item3;\n        this._item3 = null;\n        this.handleChildrenChanged();\n        return result;\n    }\n    prependChildOfSameHeight(node) {\n        if (this._item3) {\n            throw new Error('Cannot prepend to a full (2,3) tree node');\n        }\n        this.throwIfImmutable();\n        this._item3 = this._item2;\n        this._item2 = this._item1;\n        this._item1 = node;\n        this.handleChildrenChanged();\n    }\n    unprependChild() {\n        if (!this._item3) {\n            throw new Error('Cannot remove from a non-full (2,3) tree node');\n        }\n        this.throwIfImmutable();\n        const result = this._item1;\n        this._item1 = this._item2;\n        this._item2 = this._item3;\n        this._item3 = null;\n        this.handleChildrenChanged();\n        return result;\n    }\n    toMutable() {\n        return this;\n    }\n}\n/**\n * Immutable, if all children are immutable.\n*/\nclass Immutable23ListAstNode extends TwoThreeListAstNode {\n    toMutable() {\n        return new TwoThreeListAstNode(this.length, this.listHeight, this.item1, this.item2, this.item3, this.missingOpeningBracketIds);\n    }\n    throwIfImmutable() {\n        throw new Error('this instance is immutable');\n    }\n}\n/**\n * For debugging.\n*/\nclass ArrayListAstNode extends ListAstNode {\n    constructor(length, listHeight, _children, missingOpeningBracketIds) {\n        super(length, listHeight, missingOpeningBracketIds);\n        this._children = _children;\n    }\n    get childrenLength() {\n        return this._children.length;\n    }\n    getChild(idx) {\n        return this._children[idx];\n    }\n    setChild(idx, child) {\n        this._children[idx] = child;\n    }\n    get children() {\n        return this._children;\n    }\n    deepClone() {\n        const children = new Array(this._children.length);\n        for (let i = 0; i < this._children.length; i++) {\n            children[i] = this._children[i].deepClone();\n        }\n        return new ArrayListAstNode(this.length, this.listHeight, children, this.missingOpeningBracketIds);\n    }\n    appendChildOfSameHeight(node) {\n        this.throwIfImmutable();\n        this._children.push(node);\n        this.handleChildrenChanged();\n    }\n    unappendChild() {\n        this.throwIfImmutable();\n        const item = this._children.pop();\n        this.handleChildrenChanged();\n        return item;\n    }\n    prependChildOfSameHeight(node) {\n        this.throwIfImmutable();\n        this._children.unshift(node);\n        this.handleChildrenChanged();\n    }\n    unprependChild() {\n        this.throwIfImmutable();\n        const item = this._children.shift();\n        this.handleChildrenChanged();\n        return item;\n    }\n    toMutable() {\n        return this;\n    }\n}\n/**\n * Immutable, if all children are immutable.\n*/\nclass ImmutableArrayListAstNode extends ArrayListAstNode {\n    toMutable() {\n        return new ArrayListAstNode(this.length, this.listHeight, [...this.children], this.missingOpeningBracketIds);\n    }\n    throwIfImmutable() {\n        throw new Error('this instance is immutable');\n    }\n}\nconst emptyArray = [];\nclass ImmutableLeafAstNode extends BaseAstNode {\n    get listHeight() {\n        return 0;\n    }\n    get childrenLength() {\n        return 0;\n    }\n    getChild(idx) {\n        return null;\n    }\n    get children() {\n        return emptyArray;\n    }\n    deepClone() {\n        return this;\n    }\n}\nexport class TextAstNode extends ImmutableLeafAstNode {\n    get kind() {\n        return 0 /* AstNodeKind.Text */;\n    }\n    get missingOpeningBracketIds() {\n        return SmallImmutableSet.getEmpty();\n    }\n    canBeReused(_openedBracketIds) {\n        return true;\n    }\n    computeMinIndentation(offset, textModel) {\n        const start = lengthToObj(offset);\n        // Text ast nodes don't have partial indentation (ensured by the tokenizer).\n        // Thus, if this text node does not start at column 0, the first line cannot have any indentation at all.\n        const startLineNumber = (start.columnCount === 0 ? start.lineCount : start.lineCount + 1) + 1;\n        const endLineNumber = lengthGetLineCount(lengthAdd(offset, this.length)) + 1;\n        let result = Number.MAX_SAFE_INTEGER;\n        for (let lineNumber = startLineNumber; lineNumber <= endLineNumber; lineNumber++) {\n            const firstNonWsColumn = textModel.getLineFirstNonWhitespaceColumn(lineNumber);\n            const lineContent = textModel.getLineContent(lineNumber);\n            if (firstNonWsColumn === 0) {\n                continue;\n            }\n            const visibleColumn = CursorColumns.visibleColumnFromColumn(lineContent, firstNonWsColumn, textModel.getOptions().tabSize);\n            result = Math.min(result, visibleColumn);\n        }\n        return result;\n    }\n}\nexport class BracketAstNode extends ImmutableLeafAstNode {\n    constructor(length, bracketInfo, \n    /**\n     * In case of a opening bracket, this is the id of the opening bracket.\n     * In case of a closing bracket, this contains the ids of all opening brackets it can close.\n    */\n    bracketIds) {\n        super(length);\n        this.bracketInfo = bracketInfo;\n        this.bracketIds = bracketIds;\n    }\n    static create(length, bracketInfo, bracketIds) {\n        const node = new BracketAstNode(length, bracketInfo, bracketIds);\n        return node;\n    }\n    get kind() {\n        return 1 /* AstNodeKind.Bracket */;\n    }\n    get missingOpeningBracketIds() {\n        return SmallImmutableSet.getEmpty();\n    }\n    get text() {\n        return this.bracketInfo.bracketText;\n    }\n    get languageId() {\n        return this.bracketInfo.languageId;\n    }\n    canBeReused(_openedBracketIds) {\n        // These nodes could be reused,\n        // but not in a general way.\n        // Their parent may be reused.\n        return false;\n    }\n    computeMinIndentation(offset, textModel) {\n        return Number.MAX_SAFE_INTEGER;\n    }\n}\nexport class InvalidBracketAstNode extends ImmutableLeafAstNode {\n    constructor(closingBrackets, length) {\n        super(length);\n        this.missingOpeningBracketIds = closingBrackets;\n    }\n    get kind() {\n        return 3 /* AstNodeKind.UnexpectedClosingBracket */;\n    }\n    canBeReused(openedBracketIds) {\n        return !openedBracketIds.intersects(this.missingOpeningBracketIds);\n    }\n    computeMinIndentation(offset, textModel) {\n        return Number.MAX_SAFE_INTEGER;\n    }\n}\n"],"mappings":"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"}]}
{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/platform/actions/common/menuService.js","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/platform/actions/common/menuService.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheS5qcyI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIuanMiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2suanMiOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiOwppbXBvcnQgX3R5cGVvZiBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVmbGVjdC50by1zdHJpbmctdGFnLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwovKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLgogKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KdmFyIF9fZGVjb3JhdGUgPSB0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHsKICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsCiAgICByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywKICAgIGQ7CiAgaWYgKCh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YoUmVmbGVjdCkpID09PSAib2JqZWN0IiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gImZ1bmN0aW9uIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO2Vsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7CiAgfQogIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7Cn07CnZhciBfX3BhcmFtID0gdGhpcyAmJiB0aGlzLl9fcGFyYW0gfHwgZnVuY3Rpb24gKHBhcmFtSW5kZXgsIGRlY29yYXRvcikgewogIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsKICAgIGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7CiAgfTsKfTsKaW1wb3J0IHsgUnVuT25jZVNjaGVkdWxlciB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2FzeW5jLmpzJzsKaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2V2ZW50LmpzJzsKaW1wb3J0IHsgRGlzcG9zYWJsZVN0b3JlIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vbGlmZWN5Y2xlLmpzJzsKaW1wb3J0IHsgSU1lbnVTZXJ2aWNlLCBpc0lNZW51SXRlbSwgTWVudUl0ZW1BY3Rpb24sIE1lbnVSZWdpc3RyeSwgU3VibWVudUl0ZW1BY3Rpb24gfSBmcm9tICcuL2FjdGlvbnMuanMnOwppbXBvcnQgeyBJQ29tbWFuZFNlcnZpY2UgfSBmcm9tICcuLi8uLi9jb21tYW5kcy9jb21tb24vY29tbWFuZHMuanMnOwppbXBvcnQgeyBJQ29udGV4dEtleVNlcnZpY2UgfSBmcm9tICcuLi8uLi9jb250ZXh0a2V5L2NvbW1vbi9jb250ZXh0a2V5LmpzJzsKaW1wb3J0IHsgdG9BY3Rpb24gfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9hY3Rpb25zLmpzJzsKaW1wb3J0IHsgSVN0b3JhZ2VTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc3RvcmFnZS9jb21tb24vc3RvcmFnZS5qcyc7CmltcG9ydCB7IHJlbW92ZUZhc3RXaXRob3V0S2VlcGluZ09yZGVyIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vYXJyYXlzLmpzJzsKaW1wb3J0IHsgbG9jYWxpemUgfSBmcm9tICcuLi8uLi8uLi9ubHMuanMnOwp2YXIgTWVudVNlcnZpY2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIE1lbnVTZXJ2aWNlKF9jb21tYW5kU2VydmljZSwgc3RvcmFnZVNlcnZpY2UpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZW51U2VydmljZSk7CiAgICB0aGlzLl9jb21tYW5kU2VydmljZSA9IF9jb21tYW5kU2VydmljZTsKICAgIHRoaXMuX2hpZGRlblN0YXRlcyA9IG5ldyBQZXJzaXN0ZWRNZW51SGlkZVN0YXRlKHN0b3JhZ2VTZXJ2aWNlKTsKICB9CiAgX2NyZWF0ZUNsYXNzKE1lbnVTZXJ2aWNlLCBbewogICAga2V5OiAiY3JlYXRlTWVudSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlTWVudShpZCwgY29udGV4dEtleVNlcnZpY2UsIG9wdGlvbnMpIHsKICAgICAgcmV0dXJuIG5ldyBNZW51KGlkLCB0aGlzLl9oaWRkZW5TdGF0ZXMsIE9iamVjdC5hc3NpZ24oewogICAgICAgIGVtaXRFdmVudHNGb3JTdWJtZW51Q2hhbmdlczogZmFsc2UsCiAgICAgICAgZXZlbnREZWJvdW5jZURlbGF5OiA1MAogICAgICB9LCBvcHRpb25zKSwgdGhpcy5fY29tbWFuZFNlcnZpY2UsIGNvbnRleHRLZXlTZXJ2aWNlLCB0aGlzKTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIE1lbnVTZXJ2aWNlOwp9KCk7Ck1lbnVTZXJ2aWNlID0gX19kZWNvcmF0ZShbX19wYXJhbSgwLCBJQ29tbWFuZFNlcnZpY2UpLCBfX3BhcmFtKDEsIElTdG9yYWdlU2VydmljZSldLCBNZW51U2VydmljZSk7CmV4cG9ydCB7IE1lbnVTZXJ2aWNlIH07CnZhciBQZXJzaXN0ZWRNZW51SGlkZVN0YXRlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBQZXJzaXN0ZWRNZW51SGlkZVN0YXRlKF9zdG9yYWdlU2VydmljZSkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQZXJzaXN0ZWRNZW51SGlkZVN0YXRlKTsKICAgIHRoaXMuX3N0b3JhZ2VTZXJ2aWNlID0gX3N0b3JhZ2VTZXJ2aWNlOwogICAgdGhpcy5fZGlzcG9zYWJsZXMgPSBuZXcgRGlzcG9zYWJsZVN0b3JlKCk7CiAgICB0aGlzLl9vbkRpZENoYW5nZSA9IG5ldyBFbWl0dGVyKCk7CiAgICB0aGlzLm9uRGlkQ2hhbmdlID0gdGhpcy5fb25EaWRDaGFuZ2UuZXZlbnQ7CiAgICB0aGlzLl9pZ25vcmVDaGFuZ2VFdmVudCA9IGZhbHNlOwogICAgdHJ5IHsKICAgICAgdmFyIHJhdyA9IF9zdG9yYWdlU2VydmljZS5nZXQoUGVyc2lzdGVkTWVudUhpZGVTdGF0ZS5fa2V5LCAwIC8qIFN0b3JhZ2VTY29wZS5QUk9GSUxFICovLCAne30nKTsKICAgICAgdGhpcy5fZGF0YSA9IEpTT04ucGFyc2UocmF3KTsKICAgIH0gY2F0Y2ggKGVycikgewogICAgICB0aGlzLl9kYXRhID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgIH0KICAgIHRoaXMuX2Rpc3Bvc2FibGVzLmFkZChfc3RvcmFnZVNlcnZpY2Uub25EaWRDaGFuZ2VWYWx1ZShmdW5jdGlvbiAoZSkgewogICAgICBpZiAoZS5rZXkgIT09IFBlcnNpc3RlZE1lbnVIaWRlU3RhdGUuX2tleSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAoIV90aGlzLl9pZ25vcmVDaGFuZ2VFdmVudCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIgX3JhdyA9IF9zdG9yYWdlU2VydmljZS5nZXQoUGVyc2lzdGVkTWVudUhpZGVTdGF0ZS5fa2V5LCAwIC8qIFN0b3JhZ2VTY29wZS5QUk9GSUxFICovLCAne30nKTsKICAgICAgICAgIF90aGlzLl9kYXRhID0gSlNPTi5wYXJzZShfcmF3KTsKICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdGQUlMRUQgdG8gcmVhZCBzdG9yYWdlIGFmdGVyIFVQREFURScsIGVycik7CiAgICAgICAgfQogICAgICB9CiAgICAgIF90aGlzLl9vbkRpZENoYW5nZS5maXJlKCk7CiAgICB9KSk7CiAgfQogIF9jcmVhdGVDbGFzcyhQZXJzaXN0ZWRNZW51SGlkZVN0YXRlLCBbewogICAga2V5OiAiZGlzcG9zZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcG9zZSgpIHsKICAgICAgdGhpcy5fb25EaWRDaGFuZ2UuZGlzcG9zZSgpOwogICAgICB0aGlzLl9kaXNwb3NhYmxlcy5kaXNwb3NlKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNIaWRkZW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzSGlkZGVuKG1lbnUsIGNvbW1hbmRJZCkgewogICAgICB2YXIgX2EsIF9iOwogICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy5fZGF0YVttZW51LmlkXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmluY2x1ZGVzKGNvbW1hbmRJZCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogInVwZGF0ZUhpZGRlbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlSGlkZGVuKG1lbnUsIGNvbW1hbmRJZCwgaGlkZGVuKSB7CiAgICAgIHZhciBlbnRyaWVzID0gdGhpcy5fZGF0YVttZW51LmlkXTsKICAgICAgaWYgKCFoaWRkZW4pIHsKICAgICAgICAvLyByZW1vdmUgYW5kIGNsZWFudXAKICAgICAgICBpZiAoZW50cmllcykgewogICAgICAgICAgdmFyIGlkeCA9IGVudHJpZXMuaW5kZXhPZihjb21tYW5kSWQpOwogICAgICAgICAgaWYgKGlkeCA+PSAwKSB7CiAgICAgICAgICAgIHJlbW92ZUZhc3RXaXRob3V0S2VlcGluZ09yZGVyKGVudHJpZXMsIGlkeCk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoZW50cmllcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2RhdGFbbWVudS5pZF07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIGFkZCB1bmxlc3MgYWxyZWFkeSBhZGRlZAogICAgICAgIGlmICghZW50cmllcykgewogICAgICAgICAgdGhpcy5fZGF0YVttZW51LmlkXSA9IFtjb21tYW5kSWRdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgX2lkeCA9IGVudHJpZXMuaW5kZXhPZihjb21tYW5kSWQpOwogICAgICAgICAgaWYgKF9pZHggPCAwKSB7CiAgICAgICAgICAgIGVudHJpZXMucHVzaChjb21tYW5kSWQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLl9wZXJzaXN0KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX3BlcnNpc3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9wZXJzaXN0KCkgewogICAgICB0cnkgewogICAgICAgIHRoaXMuX2lnbm9yZUNoYW5nZUV2ZW50ID0gdHJ1ZTsKICAgICAgICB2YXIgcmF3ID0gSlNPTi5zdHJpbmdpZnkodGhpcy5fZGF0YSk7CiAgICAgICAgdGhpcy5fc3RvcmFnZVNlcnZpY2Uuc3RvcmUoUGVyc2lzdGVkTWVudUhpZGVTdGF0ZS5fa2V5LCByYXcsIDAgLyogU3RvcmFnZVNjb3BlLlBST0ZJTEUgKi8sIDAgLyogU3RvcmFnZVRhcmdldC5VU0VSICovKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICB0aGlzLl9pZ25vcmVDaGFuZ2VFdmVudCA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgfV0pOwogIHJldHVybiBQZXJzaXN0ZWRNZW51SGlkZVN0YXRlOwp9KCk7ClBlcnNpc3RlZE1lbnVIaWRlU3RhdGUuX2tleSA9ICdtZW51LmhpZGRlbkNvbW1hbmRzJzsKUGVyc2lzdGVkTWVudUhpZGVTdGF0ZSA9IF9fZGVjb3JhdGUoW19fcGFyYW0oMCwgSVN0b3JhZ2VTZXJ2aWNlKV0sIFBlcnNpc3RlZE1lbnVIaWRlU3RhdGUpOwp2YXIgTWVudSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gTWVudShfaWQsIF9oaWRkZW5TdGF0ZXMsIF9vcHRpb25zLCBfY29tbWFuZFNlcnZpY2UsIF9jb250ZXh0S2V5U2VydmljZSwgX21lbnVTZXJ2aWNlKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZW51KTsKICAgIHRoaXMuX2lkID0gX2lkOwogICAgdGhpcy5faGlkZGVuU3RhdGVzID0gX2hpZGRlblN0YXRlczsKICAgIHRoaXMuX29wdGlvbnMgPSBfb3B0aW9uczsKICAgIHRoaXMuX2NvbW1hbmRTZXJ2aWNlID0gX2NvbW1hbmRTZXJ2aWNlOwogICAgdGhpcy5fY29udGV4dEtleVNlcnZpY2UgPSBfY29udGV4dEtleVNlcnZpY2U7CiAgICB0aGlzLl9tZW51U2VydmljZSA9IF9tZW51U2VydmljZTsKICAgIHRoaXMuX2Rpc3Bvc2FibGVzID0gbmV3IERpc3Bvc2FibGVTdG9yZSgpOwogICAgdGhpcy5fbWVudUdyb3VwcyA9IFtdOwogICAgdGhpcy5fY29udGV4dEtleXMgPSBuZXcgU2V0KCk7CiAgICB0aGlzLl9idWlsZCgpOwogICAgLy8gUmVidWlsZCB0aGlzIG1lbnUgd2hlbmV2ZXIgdGhlIG1lbnUgcmVnaXN0cnkgcmVwb3J0cyBhbiBldmVudCBmb3IgdGhpcyBNZW51SWQuCiAgICAvLyBUaGlzIHVzdWFsbHkgaGFwcGVuIHdoaWxlIGNvZGUgYW5kIGV4dGVuc2lvbnMgYXJlIGxvYWRlZCBhbmQgYWZmZWN0cyB0aGUgb3ZlcgogICAgLy8gc3RydWN0dXJlIG9mIHRoZSBtZW51CiAgICB2YXIgcmVidWlsZE1lbnVTb29uID0gbmV3IFJ1bk9uY2VTY2hlZHVsZXIoZnVuY3Rpb24gKCkgewogICAgICBfdGhpczIuX2J1aWxkKCk7CiAgICAgIF90aGlzMi5fb25EaWRDaGFuZ2UuZmlyZShfdGhpczIpOwogICAgfSwgX29wdGlvbnMuZXZlbnREZWJvdW5jZURlbGF5KTsKICAgIHRoaXMuX2Rpc3Bvc2FibGVzLmFkZChyZWJ1aWxkTWVudVNvb24pOwogICAgdGhpcy5fZGlzcG9zYWJsZXMuYWRkKE1lbnVSZWdpc3RyeS5vbkRpZENoYW5nZU1lbnUoZnVuY3Rpb24gKGUpIHsKICAgICAgaWYgKGUuaGFzKF9pZCkpIHsKICAgICAgICByZWJ1aWxkTWVudVNvb24uc2NoZWR1bGUoKTsKICAgICAgfQogICAgfSkpOwogICAgLy8gV2hlbiBjb250ZXh0IGtleXMgb3Igc3RvcmFnZSBzdGF0ZSBjaGFuZ2VzIHdlIG5lZWQgdG8gY2hlY2sgaWYgdGhlIG1lbnUgYWxzbyBoYXMgY2hhbmdlZC4gSG93ZXZlciwKICAgIC8vIHdlIG9ubHkgZG8gdGhhdCB3aGVuIHNvbWVvbmUgbGlzdGVucyBvbiB0aGlzIG1lbnUgYmVjYXVzZSAoMSkgdGhlc2UgZXZlbnRzIGFyZQogICAgLy8gZmlyaW5nIG9mdGVuIGFuZCAoMikgbWVudSBhcmUgb2Z0ZW4gbGVha2VkCiAgICB2YXIgbGF6eUxpc3RlbmVyID0gdGhpcy5fZGlzcG9zYWJsZXMuYWRkKG5ldyBEaXNwb3NhYmxlU3RvcmUoKSk7CiAgICB2YXIgc3RhcnRMYXp5TGlzdGVuZXIgPSBmdW5jdGlvbiBzdGFydExhenlMaXN0ZW5lcigpIHsKICAgICAgdmFyIGZpcmVDaGFuZ2VTb29uID0gbmV3IFJ1bk9uY2VTY2hlZHVsZXIoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpczIuX29uRGlkQ2hhbmdlLmZpcmUoX3RoaXMyKTsKICAgICAgfSwgX29wdGlvbnMuZXZlbnREZWJvdW5jZURlbGF5KTsKICAgICAgbGF6eUxpc3RlbmVyLmFkZChmaXJlQ2hhbmdlU29vbik7CiAgICAgIGxhenlMaXN0ZW5lci5hZGQoX2NvbnRleHRLZXlTZXJ2aWNlLm9uRGlkQ2hhbmdlQ29udGV4dChmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChlLmFmZmVjdHNTb21lKF90aGlzMi5fY29udGV4dEtleXMpKSB7CiAgICAgICAgICBmaXJlQ2hhbmdlU29vbi5zY2hlZHVsZSgpOwogICAgICAgIH0KICAgICAgfSkpOwogICAgICBsYXp5TGlzdGVuZXIuYWRkKF9oaWRkZW5TdGF0ZXMub25EaWRDaGFuZ2UoZnVuY3Rpb24gKCkgewogICAgICAgIGZpcmVDaGFuZ2VTb29uLnNjaGVkdWxlKCk7CiAgICAgIH0pKTsKICAgIH07CiAgICB0aGlzLl9vbkRpZENoYW5nZSA9IG5ldyBFbWl0dGVyKHsKICAgICAgLy8gc3RhcnQvc3RvcCBjb250ZXh0IGtleSBsaXN0ZW5lcgogICAgICBvbkZpcnN0TGlzdGVuZXJBZGQ6IHN0YXJ0TGF6eUxpc3RlbmVyLAogICAgICBvbkxhc3RMaXN0ZW5lclJlbW92ZTogbGF6eUxpc3RlbmVyLmNsZWFyLmJpbmQobGF6eUxpc3RlbmVyKQogICAgfSk7CiAgICB0aGlzLm9uRGlkQ2hhbmdlID0gdGhpcy5fb25EaWRDaGFuZ2UuZXZlbnQ7CiAgfQogIF9jcmVhdGVDbGFzcyhNZW51LCBbewogICAga2V5OiAiZGlzcG9zZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcG9zZSgpIHsKICAgICAgdGhpcy5fZGlzcG9zYWJsZXMuZGlzcG9zZSgpOwogICAgICB0aGlzLl9vbkRpZENoYW5nZS5kaXNwb3NlKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX2J1aWxkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfYnVpbGQoKSB7CiAgICAgIC8vIHJlc2V0CiAgICAgIHRoaXMuX21lbnVHcm91cHMubGVuZ3RoID0gMDsKICAgICAgdGhpcy5fY29udGV4dEtleXMuY2xlYXIoKTsKICAgICAgdmFyIG1lbnVJdGVtcyA9IE1lbnVSZWdpc3RyeS5nZXRNZW51SXRlbXModGhpcy5faWQpOwogICAgICB2YXIgZ3JvdXA7CiAgICAgIG1lbnVJdGVtcy5zb3J0KE1lbnUuX2NvbXBhcmVNZW51SXRlbXMpOwogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobWVudUl0ZW1zKSwKICAgICAgICBfc3RlcDsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIC8vIGdyb3VwIGJ5IGdyb3VwSWQKICAgICAgICAgIHZhciBncm91cE5hbWUgPSBpdGVtLmdyb3VwIHx8ICcnOwogICAgICAgICAgaWYgKCFncm91cCB8fCBncm91cFswXSAhPT0gZ3JvdXBOYW1lKSB7CiAgICAgICAgICAgIGdyb3VwID0gW2dyb3VwTmFtZSwgW11dOwogICAgICAgICAgICB0aGlzLl9tZW51R3JvdXBzLnB1c2goZ3JvdXApOwogICAgICAgICAgfQogICAgICAgICAgZ3JvdXBbMV0ucHVzaChpdGVtKTsKICAgICAgICAgIC8vIGtlZXAga2V5cyBmb3IgZXZlbnRpbmcKICAgICAgICAgIHRoaXMuX2NvbGxlY3RDb250ZXh0S2V5cyhpdGVtKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogIl9jb2xsZWN0Q29udGV4dEtleXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9jb2xsZWN0Q29udGV4dEtleXMoaXRlbSkgewogICAgICBNZW51Ll9maWxsSW5LYkV4cHJLZXlzKGl0ZW0ud2hlbiwgdGhpcy5fY29udGV4dEtleXMpOwogICAgICBpZiAoaXNJTWVudUl0ZW0oaXRlbSkpIHsKICAgICAgICAvLyBrZWVwIHByZWNvbmRpdGlvbiBrZXlzIGZvciBldmVudCBpZiBhcHBsaWNhYmxlCiAgICAgICAgaWYgKGl0ZW0uY29tbWFuZC5wcmVjb25kaXRpb24pIHsKICAgICAgICAgIE1lbnUuX2ZpbGxJbktiRXhwcktleXMoaXRlbS5jb21tYW5kLnByZWNvbmRpdGlvbiwgdGhpcy5fY29udGV4dEtleXMpOwogICAgICAgIH0KICAgICAgICAvLyBrZWVwIHRvZ2dsZWQga2V5cyBmb3IgZXZlbnQgaWYgYXBwbGljYWJsZQogICAgICAgIGlmIChpdGVtLmNvbW1hbmQudG9nZ2xlZCkgewogICAgICAgICAgdmFyIHRvZ2dsZWRFeHByZXNzaW9uID0gaXRlbS5jb21tYW5kLnRvZ2dsZWQuY29uZGl0aW9uIHx8IGl0ZW0uY29tbWFuZC50b2dnbGVkOwogICAgICAgICAgTWVudS5fZmlsbEluS2JFeHByS2V5cyh0b2dnbGVkRXhwcmVzc2lvbiwgdGhpcy5fY29udGV4dEtleXMpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh0aGlzLl9vcHRpb25zLmVtaXRFdmVudHNGb3JTdWJtZW51Q2hhbmdlcykgewogICAgICAgIC8vIHJlY3Vyc2l2ZWx5IGNvbGxlY3QgY29udGV4dCBrZXlzIGZyb20gc3VibWVudXMgc28gdGhhdCB0aGlzCiAgICAgICAgLy8gbWVudSBmaXJlcyBldmVudHMgd2hlbiBjb250ZXh0IGtleSBjaGFuZ2VzIGFmZmVjdCBzdWJtZW51cwogICAgICAgIE1lbnVSZWdpc3RyeS5nZXRNZW51SXRlbXMoaXRlbS5zdWJtZW51KS5mb3JFYWNoKHRoaXMuX2NvbGxlY3RDb250ZXh0S2V5cywgdGhpcyk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRBY3Rpb25zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBY3Rpb25zKG9wdGlvbnMpIHsKICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICB2YXIgYWxsVG9nZ2xlQWN0aW9ucyA9IFtdOwogICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuX21lbnVHcm91cHMpLAogICAgICAgIF9zdGVwMjsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGdyb3VwID0gX3N0ZXAyLnZhbHVlOwogICAgICAgICAgdmFyIF9ncm91cCA9IF9zbGljZWRUb0FycmF5KGdyb3VwLCAyKSwKICAgICAgICAgICAgaWQgPSBfZ3JvdXBbMF0sCiAgICAgICAgICAgIGl0ZW1zID0gX2dyb3VwWzFdOwogICAgICAgICAgdmFyIHRvZ2dsZUFjdGlvbnMgPSBbXTsKICAgICAgICAgIHZhciBhY3RpdmVBY3Rpb25zID0gW107CiAgICAgICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGl0ZW1zKSwKICAgICAgICAgICAgX3N0ZXAzOwogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwMy52YWx1ZTsKICAgICAgICAgICAgICBpZiAodGhpcy5fY29udGV4dEtleVNlcnZpY2UuY29udGV4dE1hdGNoZXNSdWxlcyhpdGVtLndoZW4pKSB7CiAgICAgICAgICAgICAgICB2YXIgYWN0aW9uID0gdm9pZCAwOwogICAgICAgICAgICAgICAgdmFyIGlzTWVudUl0ZW0gPSBpc0lNZW51SXRlbShpdGVtKTsKICAgICAgICAgICAgICAgIGlmIChpc01lbnVJdGVtKSB7CiAgICAgICAgICAgICAgICAgIHZhciBtZW51SGlkZSA9IGNyZWF0ZU1lbnVIaWRlKHRoaXMuX2lkLCBpdGVtLmNvbW1hbmQsIHRoaXMuX2hpZGRlblN0YXRlcyk7CiAgICAgICAgICAgICAgICAgIGFjdGlvbiA9IG5ldyBNZW51SXRlbUFjdGlvbihpdGVtLmNvbW1hbmQsIGl0ZW0uYWx0LCBvcHRpb25zLCBtZW51SGlkZSwgdGhpcy5fY29udGV4dEtleVNlcnZpY2UsIHRoaXMuX2NvbW1hbmRTZXJ2aWNlKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGFjdGlvbiA9IG5ldyBTdWJtZW51SXRlbUFjdGlvbihpdGVtLCB0aGlzLl9tZW51U2VydmljZSwgdGhpcy5fY29udGV4dEtleVNlcnZpY2UsIG9wdGlvbnMpOwogICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLmFjdGlvbnMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgYWN0aW9uLmRpc3Bvc2UoKTsKICAgICAgICAgICAgICAgICAgICBhY3Rpb24gPSB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChhY3Rpb24pIHsKICAgICAgICAgICAgICAgICAgYWN0aXZlQWN0aW9ucy5wdXNoKGFjdGlvbik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBfaXRlcmF0b3IzLmYoKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChhY3RpdmVBY3Rpb25zLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgcmVzdWx0LnB1c2goW2lkLCBhY3RpdmVBY3Rpb25zXSk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodG9nZ2xlQWN0aW9ucy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIGFsbFRvZ2dsZUFjdGlvbnMucHVzaCh0b2dnbGVBY3Rpb25zKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICB9CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgfV0sIFt7CiAgICBrZXk6ICJfZmlsbEluS2JFeHByS2V5cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2ZpbGxJbktiRXhwcktleXMoZXhwLCBzZXQpIHsKICAgICAgaWYgKGV4cCkgewogICAgICAgIHZhciBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZXhwLmtleXMoKSksCiAgICAgICAgICBfc3RlcDQ7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNC5zKCk7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBrZXkgPSBfc3RlcDQudmFsdWU7CiAgICAgICAgICAgIHNldC5hZGQoa2V5KTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvcjQuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3I0LmYoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJfY29tcGFyZU1lbnVJdGVtcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2NvbXBhcmVNZW51SXRlbXMoYSwgYikgewogICAgICB2YXIgYUdyb3VwID0gYS5ncm91cDsKICAgICAgdmFyIGJHcm91cCA9IGIuZ3JvdXA7CiAgICAgIGlmIChhR3JvdXAgIT09IGJHcm91cCkgewogICAgICAgIC8vIEZhbHN5IGdyb3VwcyBjb21lIGxhc3QKICAgICAgICBpZiAoIWFHcm91cCkgewogICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfSBlbHNlIGlmICghYkdyb3VwKSB7CiAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfQogICAgICAgIC8vICduYXZpZ2F0aW9uJyBncm91cCBjb21lcyBmaXJzdAogICAgICAgIGlmIChhR3JvdXAgPT09ICduYXZpZ2F0aW9uJykgewogICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0gZWxzZSBpZiAoYkdyb3VwID09PSAnbmF2aWdhdGlvbicpIHsKICAgICAgICAgIHJldHVybiAxOwogICAgICAgIH0KICAgICAgICAvLyBsZXhpY2FsIHNvcnQgZm9yIGdyb3VwcwogICAgICAgIHZhciB2YWx1ZSA9IGFHcm91cC5sb2NhbGVDb21wYXJlKGJHcm91cCk7CiAgICAgICAgaWYgKHZhbHVlICE9PSAwKSB7CiAgICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICAgIC8vIHNvcnQgb24gcHJpb3JpdHkgLSBkZWZhdWx0IGlzIDAKICAgICAgdmFyIGFQcmlvID0gYS5vcmRlciB8fCAwOwogICAgICB2YXIgYlByaW8gPSBiLm9yZGVyIHx8IDA7CiAgICAgIGlmIChhUHJpbyA8IGJQcmlvKSB7CiAgICAgICAgcmV0dXJuIC0xOwogICAgICB9IGVsc2UgaWYgKGFQcmlvID4gYlByaW8pIHsKICAgICAgICByZXR1cm4gMTsKICAgICAgfQogICAgICAvLyBzb3J0IG9uIHRpdGxlcwogICAgICByZXR1cm4gTWVudS5fY29tcGFyZVRpdGxlcyhpc0lNZW51SXRlbShhKSA/IGEuY29tbWFuZC50aXRsZSA6IGEudGl0bGUsIGlzSU1lbnVJdGVtKGIpID8gYi5jb21tYW5kLnRpdGxlIDogYi50aXRsZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX2NvbXBhcmVUaXRsZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9jb21wYXJlVGl0bGVzKGEsIGIpIHsKICAgICAgdmFyIGFTdHIgPSB0eXBlb2YgYSA9PT0gJ3N0cmluZycgPyBhIDogYS5vcmlnaW5hbDsKICAgICAgdmFyIGJTdHIgPSB0eXBlb2YgYiA9PT0gJ3N0cmluZycgPyBiIDogYi5vcmlnaW5hbDsKICAgICAgcmV0dXJuIGFTdHIubG9jYWxlQ29tcGFyZShiU3RyKTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIE1lbnU7Cn0oKTsKTWVudSA9IF9fZGVjb3JhdGUoW19fcGFyYW0oMywgSUNvbW1hbmRTZXJ2aWNlKSwgX19wYXJhbSg0LCBJQ29udGV4dEtleVNlcnZpY2UpLCBfX3BhcmFtKDUsIElNZW51U2VydmljZSldLCBNZW51KTsKZnVuY3Rpb24gY3JlYXRlTWVudUhpZGUobWVudSwgY29tbWFuZCwgc3RhdGVzKSB7CiAgdmFyIGlkID0gIiIuY29uY2F0KG1lbnUuaWQsICIvIikuY29uY2F0KGNvbW1hbmQuaWQpOwogIHZhciB0aXRsZSA9IHR5cGVvZiBjb21tYW5kLnRpdGxlID09PSAnc3RyaW5nJyA/IGNvbW1hbmQudGl0bGUgOiBjb21tYW5kLnRpdGxlLnZhbHVlOwogIHZhciBoaWRlID0gdG9BY3Rpb24oewogICAgaWQ6IGlkLAogICAgbGFiZWw6IGxvY2FsaXplKCdoaWRlLmxhYmVsJywgJ0hpZGUgXCd7MH1cJycsIHRpdGxlKSwKICAgIHJ1bjogZnVuY3Rpb24gcnVuKCkgewogICAgICBzdGF0ZXMudXBkYXRlSGlkZGVuKG1lbnUsIGNvbW1hbmQuaWQsIHRydWUpOwogICAgfQogIH0pOwogIHZhciB0b2dnbGUgPSB0b0FjdGlvbih7CiAgICBpZDogaWQsCiAgICBsYWJlbDogdGl0bGUsCiAgICBnZXQgY2hlY2tlZCgpIHsKICAgICAgcmV0dXJuICFzdGF0ZXMuaXNIaWRkZW4obWVudSwgY29tbWFuZC5pZCk7CiAgICB9LAogICAgcnVuOiBmdW5jdGlvbiBydW4oKSB7CiAgICAgIHZhciBuZXdWYWx1ZSA9ICFzdGF0ZXMuaXNIaWRkZW4obWVudSwgY29tbWFuZC5pZCk7CiAgICAgIHN0YXRlcy51cGRhdGVIaWRkZW4obWVudSwgY29tbWFuZC5pZCwgbmV3VmFsdWUpOwogICAgfQogIH0pOwogIHJldHVybiB7CiAgICBoaWRlOiBoaWRlLAogICAgdG9nZ2xlOiB0b2dnbGUsCiAgICBnZXQgaXNIaWRkZW4oKSB7CiAgICAgIHJldHVybiAhdG9nZ2xlLmNoZWNrZWQ7CiAgICB9CiAgfTsKfQ=="},{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","RunOnceScheduler","Emitter","DisposableStore","IMenuService","isIMenuItem","MenuItemAction","MenuRegistry","SubmenuItemAction","ICommandService","IContextKeyService","toAction","IStorageService","removeFastWithoutKeepingOrder","localize","MenuService","_commandService","storageService","_hiddenStates","PersistedMenuHideState","id","contextKeyService","options","Menu","assign","emitEventsForSubmenuChanges","eventDebounceDelay","_storageService","_disposables","_onDidChange","onDidChange","event","_ignoreChangeEvent","raw","get","_key","_data","JSON","parse","err","create","add","onDidChangeValue","e","console","log","fire","dispose","menu","commandId","_a","_b","includes","hidden","entries","idx","indexOf","push","_persist","stringify","store","_id","_options","_contextKeyService","_menuService","_menuGroups","_contextKeys","Set","_build","rebuildMenuSoon","onDidChangeMenu","has","schedule","lazyListener","startLazyListener","fireChangeSoon","onDidChangeContext","affectsSome","onFirstListenerAdd","onLastListenerRemove","clear","bind","menuItems","getMenuItems","group","sort","_compareMenuItems","item","groupName","_collectContextKeys","_fillInKbExprKeys","when","command","precondition","toggled","toggledExpression","condition","submenu","forEach","result","allToggleActions","items","toggleActions","activeActions","contextMatchesRules","action","isMenuItem","menuHide","createMenuHide","alt","actions","undefined","exp","set","keys","a","b","aGroup","bGroup","value","localeCompare","aPrio","order","bPrio","_compareTitles","title","aStr","original","bStr","states","hide","label","run","updateHidden","toggle","checked","isHidden","newValue"],"sources":["/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/platform/actions/common/menuService.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { RunOnceScheduler } from '../../../base/common/async.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\nimport { IMenuService, isIMenuItem, MenuItemAction, MenuRegistry, SubmenuItemAction } from './actions.js';\nimport { ICommandService } from '../../commands/common/commands.js';\nimport { IContextKeyService } from '../../contextkey/common/contextkey.js';\nimport { toAction } from '../../../base/common/actions.js';\nimport { IStorageService } from '../../storage/common/storage.js';\nimport { removeFastWithoutKeepingOrder } from '../../../base/common/arrays.js';\nimport { localize } from '../../../nls.js';\nlet MenuService = class MenuService {\n    constructor(_commandService, storageService) {\n        this._commandService = _commandService;\n        this._hiddenStates = new PersistedMenuHideState(storageService);\n    }\n    createMenu(id, contextKeyService, options) {\n        return new Menu(id, this._hiddenStates, Object.assign({ emitEventsForSubmenuChanges: false, eventDebounceDelay: 50 }, options), this._commandService, contextKeyService, this);\n    }\n};\nMenuService = __decorate([\n    __param(0, ICommandService),\n    __param(1, IStorageService)\n], MenuService);\nexport { MenuService };\nlet PersistedMenuHideState = class PersistedMenuHideState {\n    constructor(_storageService) {\n        this._storageService = _storageService;\n        this._disposables = new DisposableStore();\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._ignoreChangeEvent = false;\n        try {\n            const raw = _storageService.get(PersistedMenuHideState._key, 0 /* StorageScope.PROFILE */, '{}');\n            this._data = JSON.parse(raw);\n        }\n        catch (err) {\n            this._data = Object.create(null);\n        }\n        this._disposables.add(_storageService.onDidChangeValue(e => {\n            if (e.key !== PersistedMenuHideState._key) {\n                return;\n            }\n            if (!this._ignoreChangeEvent) {\n                try {\n                    const raw = _storageService.get(PersistedMenuHideState._key, 0 /* StorageScope.PROFILE */, '{}');\n                    this._data = JSON.parse(raw);\n                }\n                catch (err) {\n                    console.log('FAILED to read storage after UPDATE', err);\n                }\n            }\n            this._onDidChange.fire();\n        }));\n    }\n    dispose() {\n        this._onDidChange.dispose();\n        this._disposables.dispose();\n    }\n    isHidden(menu, commandId) {\n        var _a, _b;\n        return (_b = (_a = this._data[menu.id]) === null || _a === void 0 ? void 0 : _a.includes(commandId)) !== null && _b !== void 0 ? _b : false;\n    }\n    updateHidden(menu, commandId, hidden) {\n        const entries = this._data[menu.id];\n        if (!hidden) {\n            // remove and cleanup\n            if (entries) {\n                const idx = entries.indexOf(commandId);\n                if (idx >= 0) {\n                    removeFastWithoutKeepingOrder(entries, idx);\n                }\n                if (entries.length === 0) {\n                    delete this._data[menu.id];\n                }\n            }\n        }\n        else {\n            // add unless already added\n            if (!entries) {\n                this._data[menu.id] = [commandId];\n            }\n            else {\n                const idx = entries.indexOf(commandId);\n                if (idx < 0) {\n                    entries.push(commandId);\n                }\n            }\n        }\n        this._persist();\n    }\n    _persist() {\n        try {\n            this._ignoreChangeEvent = true;\n            const raw = JSON.stringify(this._data);\n            this._storageService.store(PersistedMenuHideState._key, raw, 0 /* StorageScope.PROFILE */, 0 /* StorageTarget.USER */);\n        }\n        finally {\n            this._ignoreChangeEvent = false;\n        }\n    }\n};\nPersistedMenuHideState._key = 'menu.hiddenCommands';\nPersistedMenuHideState = __decorate([\n    __param(0, IStorageService)\n], PersistedMenuHideState);\nlet Menu = class Menu {\n    constructor(_id, _hiddenStates, _options, _commandService, _contextKeyService, _menuService) {\n        this._id = _id;\n        this._hiddenStates = _hiddenStates;\n        this._options = _options;\n        this._commandService = _commandService;\n        this._contextKeyService = _contextKeyService;\n        this._menuService = _menuService;\n        this._disposables = new DisposableStore();\n        this._menuGroups = [];\n        this._contextKeys = new Set();\n        this._build();\n        // Rebuild this menu whenever the menu registry reports an event for this MenuId.\n        // This usually happen while code and extensions are loaded and affects the over\n        // structure of the menu\n        const rebuildMenuSoon = new RunOnceScheduler(() => {\n            this._build();\n            this._onDidChange.fire(this);\n        }, _options.eventDebounceDelay);\n        this._disposables.add(rebuildMenuSoon);\n        this._disposables.add(MenuRegistry.onDidChangeMenu(e => {\n            if (e.has(_id)) {\n                rebuildMenuSoon.schedule();\n            }\n        }));\n        // When context keys or storage state changes we need to check if the menu also has changed. However,\n        // we only do that when someone listens on this menu because (1) these events are\n        // firing often and (2) menu are often leaked\n        const lazyListener = this._disposables.add(new DisposableStore());\n        const startLazyListener = () => {\n            const fireChangeSoon = new RunOnceScheduler(() => this._onDidChange.fire(this), _options.eventDebounceDelay);\n            lazyListener.add(fireChangeSoon);\n            lazyListener.add(_contextKeyService.onDidChangeContext(e => {\n                if (e.affectsSome(this._contextKeys)) {\n                    fireChangeSoon.schedule();\n                }\n            }));\n            lazyListener.add(_hiddenStates.onDidChange(() => {\n                fireChangeSoon.schedule();\n            }));\n        };\n        this._onDidChange = new Emitter({\n            // start/stop context key listener\n            onFirstListenerAdd: startLazyListener,\n            onLastListenerRemove: lazyListener.clear.bind(lazyListener)\n        });\n        this.onDidChange = this._onDidChange.event;\n    }\n    dispose() {\n        this._disposables.dispose();\n        this._onDidChange.dispose();\n    }\n    _build() {\n        // reset\n        this._menuGroups.length = 0;\n        this._contextKeys.clear();\n        const menuItems = MenuRegistry.getMenuItems(this._id);\n        let group;\n        menuItems.sort(Menu._compareMenuItems);\n        for (const item of menuItems) {\n            // group by groupId\n            const groupName = item.group || '';\n            if (!group || group[0] !== groupName) {\n                group = [groupName, []];\n                this._menuGroups.push(group);\n            }\n            group[1].push(item);\n            // keep keys for eventing\n            this._collectContextKeys(item);\n        }\n    }\n    _collectContextKeys(item) {\n        Menu._fillInKbExprKeys(item.when, this._contextKeys);\n        if (isIMenuItem(item)) {\n            // keep precondition keys for event if applicable\n            if (item.command.precondition) {\n                Menu._fillInKbExprKeys(item.command.precondition, this._contextKeys);\n            }\n            // keep toggled keys for event if applicable\n            if (item.command.toggled) {\n                const toggledExpression = item.command.toggled.condition || item.command.toggled;\n                Menu._fillInKbExprKeys(toggledExpression, this._contextKeys);\n            }\n        }\n        else if (this._options.emitEventsForSubmenuChanges) {\n            // recursively collect context keys from submenus so that this\n            // menu fires events when context key changes affect submenus\n            MenuRegistry.getMenuItems(item.submenu).forEach(this._collectContextKeys, this);\n        }\n    }\n    getActions(options) {\n        const result = [];\n        const allToggleActions = [];\n        for (const group of this._menuGroups) {\n            const [id, items] = group;\n            const toggleActions = [];\n            const activeActions = [];\n            for (const item of items) {\n                if (this._contextKeyService.contextMatchesRules(item.when)) {\n                    let action;\n                    const isMenuItem = isIMenuItem(item);\n                    if (isMenuItem) {\n                        const menuHide = createMenuHide(this._id, item.command, this._hiddenStates);\n                        action = new MenuItemAction(item.command, item.alt, options, menuHide, this._contextKeyService, this._commandService);\n                    }\n                    else {\n                        action = new SubmenuItemAction(item, this._menuService, this._contextKeyService, options);\n                        if (action.actions.length === 0) {\n                            action.dispose();\n                            action = undefined;\n                        }\n                    }\n                    if (action) {\n                        activeActions.push(action);\n                    }\n                }\n            }\n            if (activeActions.length > 0) {\n                result.push([id, activeActions]);\n            }\n            if (toggleActions.length > 0) {\n                allToggleActions.push(toggleActions);\n            }\n        }\n        return result;\n    }\n    static _fillInKbExprKeys(exp, set) {\n        if (exp) {\n            for (const key of exp.keys()) {\n                set.add(key);\n            }\n        }\n    }\n    static _compareMenuItems(a, b) {\n        const aGroup = a.group;\n        const bGroup = b.group;\n        if (aGroup !== bGroup) {\n            // Falsy groups come last\n            if (!aGroup) {\n                return 1;\n            }\n            else if (!bGroup) {\n                return -1;\n            }\n            // 'navigation' group comes first\n            if (aGroup === 'navigation') {\n                return -1;\n            }\n            else if (bGroup === 'navigation') {\n                return 1;\n            }\n            // lexical sort for groups\n            const value = aGroup.localeCompare(bGroup);\n            if (value !== 0) {\n                return value;\n            }\n        }\n        // sort on priority - default is 0\n        const aPrio = a.order || 0;\n        const bPrio = b.order || 0;\n        if (aPrio < bPrio) {\n            return -1;\n        }\n        else if (aPrio > bPrio) {\n            return 1;\n        }\n        // sort on titles\n        return Menu._compareTitles(isIMenuItem(a) ? a.command.title : a.title, isIMenuItem(b) ? b.command.title : b.title);\n    }\n    static _compareTitles(a, b) {\n        const aStr = typeof a === 'string' ? a : a.original;\n        const bStr = typeof b === 'string' ? b : b.original;\n        return aStr.localeCompare(bStr);\n    }\n};\nMenu = __decorate([\n    __param(3, ICommandService),\n    __param(4, IContextKeyService),\n    __param(5, IMenuService)\n], Menu);\nfunction createMenuHide(menu, command, states) {\n    const id = `${menu.id}/${command.id}`;\n    const title = typeof command.title === 'string' ? command.title : command.title.value;\n    const hide = toAction({\n        id,\n        label: localize('hide.label', 'Hide \\'{0}\\'', title),\n        run() { states.updateHidden(menu, command.id, true); }\n    });\n    const toggle = toAction({\n        id,\n        label: title,\n        get checked() { return !states.isHidden(menu, command.id); },\n        run() {\n            const newValue = !states.isHidden(menu, command.id);\n            states.updateHidden(menu, command.id, newValue);\n        }\n    });\n    return {\n        hide,\n        toggle,\n        get isHidden() { return !toggle.checked; },\n    };\n}\n"],"mappings":"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"}]}
{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/viewModel/minimapTokensColorTracker.js","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/viewModel/minimapTokensColorTracker.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzLmpzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyLmpzIjsKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi4KICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCmltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9ldmVudC5qcyc7CmltcG9ydCB7IERpc3Bvc2FibGUsIG1hcmtBc1NpbmdsZXRvbiB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2xpZmVjeWNsZS5qcyc7CmltcG9ydCB7IFJHQkE4IH0gZnJvbSAnLi4vY29yZS9yZ2JhLmpzJzsKaW1wb3J0IHsgVG9rZW5pemF0aW9uUmVnaXN0cnkgfSBmcm9tICcuLi9sYW5ndWFnZXMuanMnOwpleHBvcnQgdmFyIE1pbmltYXBUb2tlbnNDb2xvclRyYWNrZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9EaXNwb3NhYmxlKSB7CiAgX2luaGVyaXRzKE1pbmltYXBUb2tlbnNDb2xvclRyYWNrZXIsIF9EaXNwb3NhYmxlKTsKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKE1pbmltYXBUb2tlbnNDb2xvclRyYWNrZXIpOwogIGZ1bmN0aW9uIE1pbmltYXBUb2tlbnNDb2xvclRyYWNrZXIoKSB7CiAgICB2YXIgX3RoaXM7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWluaW1hcFRva2Vuc0NvbG9yVHJhY2tlcik7CiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpOwogICAgX3RoaXMuX29uRGlkQ2hhbmdlID0gbmV3IEVtaXR0ZXIoKTsKICAgIF90aGlzLm9uRGlkQ2hhbmdlID0gX3RoaXMuX29uRGlkQ2hhbmdlLmV2ZW50OwogICAgX3RoaXMuX3VwZGF0ZUNvbG9yTWFwKCk7CiAgICBfdGhpcy5fcmVnaXN0ZXIoVG9rZW5pemF0aW9uUmVnaXN0cnkub25EaWRDaGFuZ2UoZnVuY3Rpb24gKGUpIHsKICAgICAgaWYgKGUuY2hhbmdlZENvbG9yTWFwKSB7CiAgICAgICAgX3RoaXMuX3VwZGF0ZUNvbG9yTWFwKCk7CiAgICAgIH0KICAgIH0pKTsKICAgIHJldHVybiBfdGhpczsKICB9CiAgX2NyZWF0ZUNsYXNzKE1pbmltYXBUb2tlbnNDb2xvclRyYWNrZXIsIFt7CiAgICBrZXk6ICJfdXBkYXRlQ29sb3JNYXAiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVDb2xvck1hcCgpIHsKICAgICAgdmFyIGNvbG9yTWFwID0gVG9rZW5pemF0aW9uUmVnaXN0cnkuZ2V0Q29sb3JNYXAoKTsKICAgICAgaWYgKCFjb2xvck1hcCkgewogICAgICAgIHRoaXMuX2NvbG9ycyA9IFtSR0JBOC5FbXB0eV07CiAgICAgICAgdGhpcy5fYmFja2dyb3VuZElzTGlnaHQgPSB0cnVlOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLl9jb2xvcnMgPSBbUkdCQTguRW1wdHldOwogICAgICBmb3IgKHZhciBjb2xvcklkID0gMTsgY29sb3JJZCA8IGNvbG9yTWFwLmxlbmd0aDsgY29sb3JJZCsrKSB7CiAgICAgICAgdmFyIHNvdXJjZSA9IGNvbG9yTWFwW2NvbG9ySWRdLnJnYmE7CiAgICAgICAgLy8gVXNlIGEgVk0gZnJpZW5kbHkgZGF0YS10eXBlCiAgICAgICAgdGhpcy5fY29sb3JzW2NvbG9ySWRdID0gbmV3IFJHQkE4KHNvdXJjZS5yLCBzb3VyY2UuZywgc291cmNlLmIsIE1hdGgucm91bmQoc291cmNlLmEgKiAyNTUpKTsKICAgICAgfQogICAgICB2YXIgYmFja2dyb3VuZEx1bWlub3NpdHkgPSBjb2xvck1hcFsyIC8qIENvbG9ySWQuRGVmYXVsdEJhY2tncm91bmQgKi9dLmdldFJlbGF0aXZlTHVtaW5hbmNlKCk7CiAgICAgIHRoaXMuX2JhY2tncm91bmRJc0xpZ2h0ID0gYmFja2dyb3VuZEx1bWlub3NpdHkgPj0gMC41OwogICAgICB0aGlzLl9vbkRpZENoYW5nZS5maXJlKHVuZGVmaW5lZCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0Q29sb3IiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbG9yKGNvbG9ySWQpIHsKICAgICAgaWYgKGNvbG9ySWQgPCAxIHx8IGNvbG9ySWQgPj0gdGhpcy5fY29sb3JzLmxlbmd0aCkgewogICAgICAgIC8vIGJhY2tncm91bmQgY29sb3IgKGJhc2ljYWxseSBpbnZpc2libGUpCiAgICAgICAgY29sb3JJZCA9IDIgLyogQ29sb3JJZC5EZWZhdWx0QmFja2dyb3VuZCAqLzsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuX2NvbG9yc1tjb2xvcklkXTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJiYWNrZ3JvdW5kSXNMaWdodCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYmFja2dyb3VuZElzTGlnaHQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9iYWNrZ3JvdW5kSXNMaWdodDsKICAgIH0KICB9XSwgW3sKICAgIGtleTogImdldEluc3RhbmNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZSgpIHsKICAgICAgaWYgKCF0aGlzLl9JTlNUQU5DRSkgewogICAgICAgIHRoaXMuX0lOU1RBTkNFID0gbWFya0FzU2luZ2xldG9uKG5ldyBNaW5pbWFwVG9rZW5zQ29sb3JUcmFja2VyKCkpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLl9JTlNUQU5DRTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIE1pbmltYXBUb2tlbnNDb2xvclRyYWNrZXI7Cn0oRGlzcG9zYWJsZSk7Ck1pbmltYXBUb2tlbnNDb2xvclRyYWNrZXIuX0lOU1RBTkNFID0gbnVsbDs="},{"version":3,"names":["Emitter","Disposable","markAsSingleton","RGBA8","TokenizationRegistry","MinimapTokensColorTracker","_onDidChange","onDidChange","event","_updateColorMap","_register","e","changedColorMap","colorMap","getColorMap","_colors","Empty","_backgroundIsLight","colorId","length","source","rgba","r","g","b","Math","round","a","backgroundLuminosity","getRelativeLuminance","fire","undefined","_INSTANCE"],"sources":["/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/common/viewModel/minimapTokensColorTracker.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable, markAsSingleton } from '../../../base/common/lifecycle.js';\nimport { RGBA8 } from '../core/rgba.js';\nimport { TokenizationRegistry } from '../languages.js';\nexport class MinimapTokensColorTracker extends Disposable {\n    constructor() {\n        super();\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._updateColorMap();\n        this._register(TokenizationRegistry.onDidChange(e => {\n            if (e.changedColorMap) {\n                this._updateColorMap();\n            }\n        }));\n    }\n    static getInstance() {\n        if (!this._INSTANCE) {\n            this._INSTANCE = markAsSingleton(new MinimapTokensColorTracker());\n        }\n        return this._INSTANCE;\n    }\n    _updateColorMap() {\n        const colorMap = TokenizationRegistry.getColorMap();\n        if (!colorMap) {\n            this._colors = [RGBA8.Empty];\n            this._backgroundIsLight = true;\n            return;\n        }\n        this._colors = [RGBA8.Empty];\n        for (let colorId = 1; colorId < colorMap.length; colorId++) {\n            const source = colorMap[colorId].rgba;\n            // Use a VM friendly data-type\n            this._colors[colorId] = new RGBA8(source.r, source.g, source.b, Math.round(source.a * 255));\n        }\n        const backgroundLuminosity = colorMap[2 /* ColorId.DefaultBackground */].getRelativeLuminance();\n        this._backgroundIsLight = backgroundLuminosity >= 0.5;\n        this._onDidChange.fire(undefined);\n    }\n    getColor(colorId) {\n        if (colorId < 1 || colorId >= this._colors.length) {\n            // background color (basically invisible)\n            colorId = 2 /* ColorId.DefaultBackground */;\n        }\n        return this._colors[colorId];\n    }\n    backgroundIsLight() {\n        return this._backgroundIsLight;\n    }\n}\nMinimapTokensColorTracker._INSTANCE = null;\n"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA,SAASA,OAAO,QAAQ,+BAA+B;AACvD,SAASC,UAAU,EAAEC,eAAe,QAAQ,mCAAmC;AAC/E,SAASC,KAAK,QAAQ,iBAAiB;AACvC,SAASC,oBAAoB,QAAQ,iBAAiB;AACtD,WAAaC,yBAAyB;EAAA;EAAA;EAClC,qCAAc;IAAA;IAAA;IACV;IACA,MAAKC,YAAY,GAAG,IAAIN,OAAO,EAAE;IACjC,MAAKO,WAAW,GAAG,MAAKD,YAAY,CAACE,KAAK;IAC1C,MAAKC,eAAe,EAAE;IACtB,MAAKC,SAAS,CAACN,oBAAoB,CAACG,WAAW,CAAC,UAAAI,CAAC,EAAI;MACjD,IAAIA,CAAC,CAACC,eAAe,EAAE;QACnB,MAAKH,eAAe,EAAE;MAC1B;IACJ,CAAC,CAAC,CAAC;IAAC;EACR;EAAC;IAAA;IAAA,OAOD,2BAAkB;MACd,IAAMI,QAAQ,GAAGT,oBAAoB,CAACU,WAAW,EAAE;MACnD,IAAI,CAACD,QAAQ,EAAE;QACX,IAAI,CAACE,OAAO,GAAG,CAACZ,KAAK,CAACa,KAAK,CAAC;QAC5B,IAAI,CAACC,kBAAkB,GAAG,IAAI;QAC9B;MACJ;MACA,IAAI,CAACF,OAAO,GAAG,CAACZ,KAAK,CAACa,KAAK,CAAC;MAC5B,KAAK,IAAIE,OAAO,GAAG,CAAC,EAAEA,OAAO,GAAGL,QAAQ,CAACM,MAAM,EAAED,OAAO,EAAE,EAAE;QACxD,IAAME,MAAM,GAAGP,QAAQ,CAACK,OAAO,CAAC,CAACG,IAAI;QACrC;QACA,IAAI,CAACN,OAAO,CAACG,OAAO,CAAC,GAAG,IAAIf,KAAK,CAACiB,MAAM,CAACE,CAAC,EAAEF,MAAM,CAACG,CAAC,EAAEH,MAAM,CAACI,CAAC,EAAEC,IAAI,CAACC,KAAK,CAACN,MAAM,CAACO,CAAC,GAAG,GAAG,CAAC,CAAC;MAC/F;MACA,IAAMC,oBAAoB,GAAGf,QAAQ,CAAC,CAAC,CAAC,gCAAgC,CAACgB,oBAAoB,EAAE;MAC/F,IAAI,CAACZ,kBAAkB,GAAGW,oBAAoB,IAAI,GAAG;MACrD,IAAI,CAACtB,YAAY,CAACwB,IAAI,CAACC,SAAS,CAAC;IACrC;EAAC;IAAA;IAAA,OACD,kBAASb,OAAO,EAAE;MACd,IAAIA,OAAO,GAAG,CAAC,IAAIA,OAAO,IAAI,IAAI,CAACH,OAAO,CAACI,MAAM,EAAE;QAC/C;QACAD,OAAO,GAAG,CAAC,CAAC;MAChB;;MACA,OAAO,IAAI,CAACH,OAAO,CAACG,OAAO,CAAC;IAChC;EAAC;IAAA;IAAA,OACD,6BAAoB;MAChB,OAAO,IAAI,CAACD,kBAAkB;IAClC;EAAC;IAAA;IAAA,OAhCD,uBAAqB;MACjB,IAAI,CAAC,IAAI,CAACe,SAAS,EAAE;QACjB,IAAI,CAACA,SAAS,GAAG9B,eAAe,CAAC,IAAIG,yBAAyB,EAAE,CAAC;MACrE;MACA,OAAO,IAAI,CAAC2B,SAAS;IACzB;EAAC;EAAA;AAAA,EAjB0C/B,UAAU;AA8CzDI,yBAAyB,CAAC2B,SAAS,GAAG,IAAI"}]}
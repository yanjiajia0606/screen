{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/base/browser/ui/inputbox/inputBox.js","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/base/browser/ui/inputbox/inputBox.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQuanMiOwppbXBvcnQgX2dldCBmcm9tICIvVXNlcnMveWFuamlhamlhL0Rlc2t0b3Avd29ya3NwYWNlL2F2dWUtZGF0YS1uZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2dldC5qcyI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZi5qcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cy5qcyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuZW5kcy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi4KICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCmltcG9ydCAqIGFzIGRvbSBmcm9tICcuLi8uLi9kb20uanMnOwppbXBvcnQgeyBEb21FbWl0dGVyIH0gZnJvbSAnLi4vLi4vZXZlbnQuanMnOwppbXBvcnQgeyByZW5kZXJGb3JtYXR0ZWRUZXh0LCByZW5kZXJUZXh0IH0gZnJvbSAnLi4vLi4vZm9ybWF0dGVkVGV4dFJlbmRlcmVyLmpzJzsKaW1wb3J0IHsgQWN0aW9uQmFyIH0gZnJvbSAnLi4vYWN0aW9uYmFyL2FjdGlvbmJhci5qcyc7CmltcG9ydCAqIGFzIGFyaWEgZnJvbSAnLi4vYXJpYS9hcmlhLmpzJzsKaW1wb3J0IHsgU2Nyb2xsYWJsZUVsZW1lbnQgfSBmcm9tICcuLi9zY3JvbGxiYXIvc2Nyb2xsYWJsZUVsZW1lbnQuanMnOwppbXBvcnQgeyBXaWRnZXQgfSBmcm9tICcuLi93aWRnZXQuanMnOwppbXBvcnQgeyBDb2xvciB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9jb2xvci5qcyc7CmltcG9ydCB7IEVtaXR0ZXIsIEV2ZW50IH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL2V2ZW50LmpzJzsKaW1wb3J0IHsgSGlzdG9yeU5hdmlnYXRvciB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9oaXN0b3J5LmpzJzsKaW1wb3J0IHsgbWl4aW4gfSBmcm9tICcuLi8uLi8uLi9jb21tb24vb2JqZWN0cy5qcyc7CmltcG9ydCAnLi9pbnB1dEJveC5jc3MnOwppbXBvcnQgKiBhcyBubHMgZnJvbSAnLi4vLi4vLi4vLi4vbmxzLmpzJzsKdmFyICQgPSBkb20uJDsKdmFyIGRlZmF1bHRPcHRzID0gewogIGlucHV0QmFja2dyb3VuZDogQ29sb3IuZnJvbUhleCgnIzNDM0MzQycpLAogIGlucHV0Rm9yZWdyb3VuZDogQ29sb3IuZnJvbUhleCgnI0NDQ0NDQycpLAogIGlucHV0VmFsaWRhdGlvbkluZm9Cb3JkZXI6IENvbG9yLmZyb21IZXgoJyM1NUFBRkYnKSwKICBpbnB1dFZhbGlkYXRpb25JbmZvQmFja2dyb3VuZDogQ29sb3IuZnJvbUhleCgnIzA2M0I0OScpLAogIGlucHV0VmFsaWRhdGlvbldhcm5pbmdCb3JkZXI6IENvbG9yLmZyb21IZXgoJyNCODk1MDAnKSwKICBpbnB1dFZhbGlkYXRpb25XYXJuaW5nQmFja2dyb3VuZDogQ29sb3IuZnJvbUhleCgnIzM1MkEwNScpLAogIGlucHV0VmFsaWRhdGlvbkVycm9yQm9yZGVyOiBDb2xvci5mcm9tSGV4KCcjQkUxMTAwJyksCiAgaW5wdXRWYWxpZGF0aW9uRXJyb3JCYWNrZ3JvdW5kOiBDb2xvci5mcm9tSGV4KCcjNUExRDFEJykKfTsKZXhwb3J0IHZhciBJbnB1dEJveCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1dpZGdldCkgewogIF9pbmhlcml0cyhJbnB1dEJveCwgX1dpZGdldCk7CiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihJbnB1dEJveCk7CiAgZnVuY3Rpb24gSW5wdXRCb3goY29udGFpbmVyLCBjb250ZXh0Vmlld1Byb3ZpZGVyLCBvcHRpb25zKSB7CiAgICB2YXIgX3RoaXM7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW5wdXRCb3gpOwogICAgdmFyIF9hOwogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKTsKICAgIF90aGlzLnN0YXRlID0gJ2lkbGUnOwogICAgX3RoaXMubWF4SGVpZ2h0ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZOwogICAgX3RoaXMuX29uRGlkQ2hhbmdlID0gX3RoaXMuX3JlZ2lzdGVyKG5ldyBFbWl0dGVyKCkpOwogICAgX3RoaXMub25EaWRDaGFuZ2UgPSBfdGhpcy5fb25EaWRDaGFuZ2UuZXZlbnQ7CiAgICBfdGhpcy5fb25EaWRIZWlnaHRDaGFuZ2UgPSBfdGhpcy5fcmVnaXN0ZXIobmV3IEVtaXR0ZXIoKSk7CiAgICBfdGhpcy5vbkRpZEhlaWdodENoYW5nZSA9IF90aGlzLl9vbkRpZEhlaWdodENoYW5nZS5ldmVudDsKICAgIF90aGlzLmNvbnRleHRWaWV3UHJvdmlkZXIgPSBjb250ZXh0Vmlld1Byb3ZpZGVyOwogICAgX3RoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgIG1peGluKF90aGlzLm9wdGlvbnMsIGRlZmF1bHRPcHRzLCBmYWxzZSk7CiAgICBfdGhpcy5tZXNzYWdlID0gbnVsbDsKICAgIF90aGlzLnBsYWNlaG9sZGVyID0gX3RoaXMub3B0aW9ucy5wbGFjZWhvbGRlciB8fCAnJzsKICAgIF90aGlzLnRvb2x0aXAgPSAoX2EgPSBfdGhpcy5vcHRpb25zLnRvb2x0aXApICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IF90aGlzLnBsYWNlaG9sZGVyIHx8ICcnOwogICAgX3RoaXMuYXJpYUxhYmVsID0gX3RoaXMub3B0aW9ucy5hcmlhTGFiZWwgfHwgJyc7CiAgICBfdGhpcy5pbnB1dEJhY2tncm91bmQgPSBfdGhpcy5vcHRpb25zLmlucHV0QmFja2dyb3VuZDsKICAgIF90aGlzLmlucHV0Rm9yZWdyb3VuZCA9IF90aGlzLm9wdGlvbnMuaW5wdXRGb3JlZ3JvdW5kOwogICAgX3RoaXMuaW5wdXRCb3JkZXIgPSBfdGhpcy5vcHRpb25zLmlucHV0Qm9yZGVyOwogICAgX3RoaXMuaW5wdXRWYWxpZGF0aW9uSW5mb0JvcmRlciA9IF90aGlzLm9wdGlvbnMuaW5wdXRWYWxpZGF0aW9uSW5mb0JvcmRlcjsKICAgIF90aGlzLmlucHV0VmFsaWRhdGlvbkluZm9CYWNrZ3JvdW5kID0gX3RoaXMub3B0aW9ucy5pbnB1dFZhbGlkYXRpb25JbmZvQmFja2dyb3VuZDsKICAgIF90aGlzLmlucHV0VmFsaWRhdGlvbkluZm9Gb3JlZ3JvdW5kID0gX3RoaXMub3B0aW9ucy5pbnB1dFZhbGlkYXRpb25JbmZvRm9yZWdyb3VuZDsKICAgIF90aGlzLmlucHV0VmFsaWRhdGlvbldhcm5pbmdCb3JkZXIgPSBfdGhpcy5vcHRpb25zLmlucHV0VmFsaWRhdGlvbldhcm5pbmdCb3JkZXI7CiAgICBfdGhpcy5pbnB1dFZhbGlkYXRpb25XYXJuaW5nQmFja2dyb3VuZCA9IF90aGlzLm9wdGlvbnMuaW5wdXRWYWxpZGF0aW9uV2FybmluZ0JhY2tncm91bmQ7CiAgICBfdGhpcy5pbnB1dFZhbGlkYXRpb25XYXJuaW5nRm9yZWdyb3VuZCA9IF90aGlzLm9wdGlvbnMuaW5wdXRWYWxpZGF0aW9uV2FybmluZ0ZvcmVncm91bmQ7CiAgICBfdGhpcy5pbnB1dFZhbGlkYXRpb25FcnJvckJvcmRlciA9IF90aGlzLm9wdGlvbnMuaW5wdXRWYWxpZGF0aW9uRXJyb3JCb3JkZXI7CiAgICBfdGhpcy5pbnB1dFZhbGlkYXRpb25FcnJvckJhY2tncm91bmQgPSBfdGhpcy5vcHRpb25zLmlucHV0VmFsaWRhdGlvbkVycm9yQmFja2dyb3VuZDsKICAgIF90aGlzLmlucHV0VmFsaWRhdGlvbkVycm9yRm9yZWdyb3VuZCA9IF90aGlzLm9wdGlvbnMuaW5wdXRWYWxpZGF0aW9uRXJyb3JGb3JlZ3JvdW5kOwogICAgaWYgKF90aGlzLm9wdGlvbnMudmFsaWRhdGlvbk9wdGlvbnMpIHsKICAgICAgX3RoaXMudmFsaWRhdGlvbiA9IF90aGlzLm9wdGlvbnMudmFsaWRhdGlvbk9wdGlvbnMudmFsaWRhdGlvbjsKICAgIH0KICAgIF90aGlzLmVsZW1lbnQgPSBkb20uYXBwZW5kKGNvbnRhaW5lciwgJCgnLm1vbmFjby1pbnB1dGJveC5pZGxlJykpOwogICAgdmFyIHRhZ05hbWUgPSBfdGhpcy5vcHRpb25zLmZsZXhpYmxlSGVpZ2h0ID8gJ3RleHRhcmVhJyA6ICdpbnB1dCc7CiAgICB2YXIgd3JhcHBlciA9IGRvbS5hcHBlbmQoX3RoaXMuZWxlbWVudCwgJCgnLmlid3JhcHBlcicpKTsKICAgIF90aGlzLmlucHV0ID0gZG9tLmFwcGVuZCh3cmFwcGVyLCAkKHRhZ05hbWUgKyAnLmlucHV0LmVtcHR5JykpOwogICAgX3RoaXMuaW5wdXQuc2V0QXR0cmlidXRlKCdhdXRvY29ycmVjdCcsICdvZmYnKTsKICAgIF90aGlzLmlucHV0LnNldEF0dHJpYnV0ZSgnYXV0b2NhcGl0YWxpemUnLCAnb2ZmJyk7CiAgICBfdGhpcy5pbnB1dC5zZXRBdHRyaWJ1dGUoJ3NwZWxsY2hlY2snLCAnZmFsc2UnKTsKICAgIF90aGlzLm9uZm9jdXMoX3RoaXMuaW5wdXQsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIF90aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc3ludGhldGljLWZvY3VzJyk7CiAgICB9KTsKICAgIF90aGlzLm9uYmx1cihfdGhpcy5pbnB1dCwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gX3RoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzeW50aGV0aWMtZm9jdXMnKTsKICAgIH0pOwogICAgaWYgKF90aGlzLm9wdGlvbnMuZmxleGlibGVIZWlnaHQpIHsKICAgICAgX3RoaXMubWF4SGVpZ2h0ID0gdHlwZW9mIF90aGlzLm9wdGlvbnMuZmxleGlibGVNYXhIZWlnaHQgPT09ICdudW1iZXInID8gX3RoaXMub3B0aW9ucy5mbGV4aWJsZU1heEhlaWdodCA6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTsKICAgICAgX3RoaXMubWlycm9yID0gZG9tLmFwcGVuZCh3cmFwcGVyLCAkKCdkaXYubWlycm9yJykpOwogICAgICBfdGhpcy5taXJyb3IuaW5uZXJUZXh0ID0gIlx4QTAiOwogICAgICBfdGhpcy5zY3JvbGxhYmxlRWxlbWVudCA9IG5ldyBTY3JvbGxhYmxlRWxlbWVudChfdGhpcy5lbGVtZW50LCB7CiAgICAgICAgdmVydGljYWw6IDEgLyogU2Nyb2xsYmFyVmlzaWJpbGl0eS5BdXRvICovCiAgICAgIH0pOwogICAgICBpZiAoX3RoaXMub3B0aW9ucy5mbGV4aWJsZVdpZHRoKSB7CiAgICAgICAgX3RoaXMuaW5wdXQuc2V0QXR0cmlidXRlKCd3cmFwJywgJ29mZicpOwogICAgICAgIF90aGlzLm1pcnJvci5zdHlsZS53aGl0ZVNwYWNlID0gJ3ByZSc7CiAgICAgICAgX3RoaXMubWlycm9yLnN0eWxlLndvcmRXcmFwID0gJ2luaXRpYWwnOwogICAgICB9CiAgICAgIGRvbS5hcHBlbmQoY29udGFpbmVyLCBfdGhpcy5zY3JvbGxhYmxlRWxlbWVudC5nZXREb21Ob2RlKCkpOwogICAgICBfdGhpcy5fcmVnaXN0ZXIoX3RoaXMuc2Nyb2xsYWJsZUVsZW1lbnQpOwogICAgICAvLyBmcm9tIFNjcm9sbGFibGVFbGVtZW50IHRvIERPTQogICAgICBfdGhpcy5fcmVnaXN0ZXIoX3RoaXMuc2Nyb2xsYWJsZUVsZW1lbnQub25TY3JvbGwoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gX3RoaXMuaW5wdXQuc2Nyb2xsVG9wID0gZS5zY3JvbGxUb3A7CiAgICAgIH0pKTsKICAgICAgdmFyIG9uU2VsZWN0aW9uQ2hhbmdlID0gX3RoaXMuX3JlZ2lzdGVyKG5ldyBEb21FbWl0dGVyKGRvY3VtZW50LCAnc2VsZWN0aW9uY2hhbmdlJykpOwogICAgICB2YXIgb25BbmNob3JlZFNlbGVjdGlvbkNoYW5nZSA9IEV2ZW50LmZpbHRlcihvblNlbGVjdGlvbkNoYW5nZS5ldmVudCwgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBzZWxlY3Rpb24gPSBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKTsKICAgICAgICByZXR1cm4gKHNlbGVjdGlvbiA9PT0gbnVsbCB8fCBzZWxlY3Rpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGlvbi5hbmNob3JOb2RlKSA9PT0gd3JhcHBlcjsKICAgICAgfSk7CiAgICAgIC8vIGZyb20gRE9NIHRvIFNjcm9sbGFibGVFbGVtZW50CiAgICAgIF90aGlzLl9yZWdpc3RlcihvbkFuY2hvcmVkU2VsZWN0aW9uQ2hhbmdlKF90aGlzLnVwZGF0ZVNjcm9sbERpbWVuc2lvbnMsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSk7CiAgICAgIF90aGlzLl9yZWdpc3RlcihfdGhpcy5vbkRpZEhlaWdodENoYW5nZShfdGhpcy51cGRhdGVTY3JvbGxEaW1lbnNpb25zLCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSkpOwogICAgfSBlbHNlIHsKICAgICAgX3RoaXMuaW5wdXQudHlwZSA9IF90aGlzLm9wdGlvbnMudHlwZSB8fCAndGV4dCc7CiAgICAgIF90aGlzLmlucHV0LnNldEF0dHJpYnV0ZSgnd3JhcCcsICdvZmYnKTsKICAgIH0KICAgIGlmIChfdGhpcy5hcmlhTGFiZWwpIHsKICAgICAgX3RoaXMuaW5wdXQuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgX3RoaXMuYXJpYUxhYmVsKTsKICAgIH0KICAgIGlmIChfdGhpcy5wbGFjZWhvbGRlciAmJiAhX3RoaXMub3B0aW9ucy5zaG93UGxhY2Vob2xkZXJPbkZvY3VzKSB7CiAgICAgIF90aGlzLnNldFBsYWNlSG9sZGVyKF90aGlzLnBsYWNlaG9sZGVyKTsKICAgIH0KICAgIGlmIChfdGhpcy50b29sdGlwKSB7CiAgICAgIF90aGlzLnNldFRvb2x0aXAoX3RoaXMudG9vbHRpcCk7CiAgICB9CiAgICBfdGhpcy5vbmlucHV0KF90aGlzLmlucHV0LCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfdGhpcy5vblZhbHVlQ2hhbmdlKCk7CiAgICB9KTsKICAgIF90aGlzLm9uYmx1cihfdGhpcy5pbnB1dCwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gX3RoaXMub25CbHVyKCk7CiAgICB9KTsKICAgIF90aGlzLm9uZm9jdXMoX3RoaXMuaW5wdXQsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIF90aGlzLm9uRm9jdXMoKTsKICAgIH0pOwogICAgX3RoaXMuaWdub3JlR2VzdHVyZShfdGhpcy5pbnB1dCk7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIF90aGlzLnVwZGF0ZU1pcnJvcigpOwogICAgfSwgMCk7CiAgICAvLyBTdXBwb3J0IGFjdGlvbnMKICAgIGlmIChfdGhpcy5vcHRpb25zLmFjdGlvbnMpIHsKICAgICAgX3RoaXMuYWN0aW9uYmFyID0gX3RoaXMuX3JlZ2lzdGVyKG5ldyBBY3Rpb25CYXIoX3RoaXMuZWxlbWVudCkpOwogICAgICBfdGhpcy5hY3Rpb25iYXIucHVzaChfdGhpcy5vcHRpb25zLmFjdGlvbnMsIHsKICAgICAgICBpY29uOiB0cnVlLAogICAgICAgIGxhYmVsOiBmYWxzZQogICAgICB9KTsKICAgIH0KICAgIF90aGlzLmFwcGx5U3R5bGVzKCk7CiAgICByZXR1cm4gX3RoaXM7CiAgfQogIF9jcmVhdGVDbGFzcyhJbnB1dEJveCwgW3sKICAgIGtleTogIm9uQmx1ciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25CbHVyKCkgewogICAgICB0aGlzLl9oaWRlTWVzc2FnZSgpOwogICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dQbGFjZWhvbGRlck9uRm9jdXMpIHsKICAgICAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCAnJyk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJvbkZvY3VzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvbkZvY3VzKCkgewogICAgICB0aGlzLl9zaG93TWVzc2FnZSgpOwogICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dQbGFjZWhvbGRlck9uRm9jdXMpIHsKICAgICAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCB0aGlzLnBsYWNlaG9sZGVyIHx8ICcnKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInNldFBsYWNlSG9sZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRQbGFjZUhvbGRlcihwbGFjZUhvbGRlcikgewogICAgICB0aGlzLnBsYWNlaG9sZGVyID0gcGxhY2VIb2xkZXI7CiAgICAgIHRoaXMuaW5wdXQuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsIHBsYWNlSG9sZGVyKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRUb29sdGlwIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRUb29sdGlwKHRvb2x0aXApIHsKICAgICAgdGhpcy50b29sdGlwID0gdG9vbHRpcDsKICAgICAgdGhpcy5pbnB1dC50aXRsZSA9IHRvb2x0aXA7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0QXJpYUxhYmVsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRBcmlhTGFiZWwobGFiZWwpIHsKICAgICAgdGhpcy5hcmlhTGFiZWwgPSBsYWJlbDsKICAgICAgaWYgKGxhYmVsKSB7CiAgICAgICAgdGhpcy5pbnB1dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCB0aGlzLmFyaWFMYWJlbCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pbnB1dC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImdldEFyaWFMYWJlbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QXJpYUxhYmVsKCkgewogICAgICByZXR1cm4gdGhpcy5hcmlhTGFiZWw7CiAgICB9CiAgfSwgewogICAga2V5OiAiaW5wdXRFbGVtZW50IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5pbnB1dDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ2YWx1ZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaW5wdXQudmFsdWU7CiAgICB9LAogICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3VmFsdWUpIHsKICAgICAgaWYgKHRoaXMuaW5wdXQudmFsdWUgIT09IG5ld1ZhbHVlKSB7CiAgICAgICAgdGhpcy5pbnB1dC52YWx1ZSA9IG5ld1ZhbHVlOwogICAgICAgIHRoaXMub25WYWx1ZUNoYW5nZSgpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiaGVpZ2h0IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdHlwZW9mIHRoaXMuY2FjaGVkSGVpZ2h0ID09PSAnbnVtYmVyJyA/IHRoaXMuY2FjaGVkSGVpZ2h0IDogZG9tLmdldFRvdGFsSGVpZ2h0KHRoaXMuZWxlbWVudCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZm9jdXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZvY3VzKCkgewogICAgICB0aGlzLmlucHV0LmZvY3VzKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYmx1ciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYmx1cigpIHsKICAgICAgdGhpcy5pbnB1dC5ibHVyKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaGFzRm9jdXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhc0ZvY3VzKCkgewogICAgICByZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gdGhpcy5pbnB1dDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZWxlY3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdCgpIHsKICAgICAgdmFyIHJhbmdlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBudWxsOwogICAgICB0aGlzLmlucHV0LnNlbGVjdCgpOwogICAgICBpZiAocmFuZ2UpIHsKICAgICAgICB0aGlzLmlucHV0LnNldFNlbGVjdGlvblJhbmdlKHJhbmdlLnN0YXJ0LCByYW5nZS5lbmQpOwogICAgICAgIGlmIChyYW5nZS5lbmQgPT09IHRoaXMuaW5wdXQudmFsdWUubGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLmlucHV0LnNjcm9sbExlZnQgPSB0aGlzLmlucHV0LnNjcm9sbFdpZHRoOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImlzU2VsZWN0aW9uQXRFbmQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzU2VsZWN0aW9uQXRFbmQoKSB7CiAgICAgIHJldHVybiB0aGlzLmlucHV0LnNlbGVjdGlvbkVuZCA9PT0gdGhpcy5pbnB1dC52YWx1ZS5sZW5ndGggJiYgdGhpcy5pbnB1dC5zZWxlY3Rpb25TdGFydCA9PT0gdGhpcy5pbnB1dC5zZWxlY3Rpb25FbmQ7CiAgICB9CiAgfSwgewogICAga2V5OiAiZW5hYmxlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBlbmFibGUoKSB7CiAgICAgIHRoaXMuaW5wdXQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpOwogICAgfQogIH0sIHsKICAgIGtleTogImRpc2FibGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2FibGUoKSB7CiAgICAgIHRoaXMuYmx1cigpOwogICAgICB0aGlzLmlucHV0LmRpc2FibGVkID0gdHJ1ZTsKICAgICAgdGhpcy5faGlkZU1lc3NhZ2UoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ3aWR0aCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIGRvbS5nZXRUb3RhbFdpZHRoKHRoaXMuaW5wdXQpOwogICAgfSwKICAgIHNldDogZnVuY3Rpb24gc2V0KHdpZHRoKSB7CiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZmxleGlibGVIZWlnaHQgJiYgdGhpcy5vcHRpb25zLmZsZXhpYmxlV2lkdGgpIHsKICAgICAgICAvLyB0ZXh0YXJlYSB3aXRoIGhvcml6b250YWwgc2Nyb2xsaW5nCiAgICAgICAgdmFyIGhvcml6b250YWxQYWRkaW5nID0gMDsKICAgICAgICBpZiAodGhpcy5taXJyb3IpIHsKICAgICAgICAgIHZhciBwYWRkaW5nTGVmdCA9IHBhcnNlRmxvYXQodGhpcy5taXJyb3Iuc3R5bGUucGFkZGluZ0xlZnQgfHwgJycpIHx8IDA7CiAgICAgICAgICB2YXIgcGFkZGluZ1JpZ2h0ID0gcGFyc2VGbG9hdCh0aGlzLm1pcnJvci5zdHlsZS5wYWRkaW5nUmlnaHQgfHwgJycpIHx8IDA7CiAgICAgICAgICBob3Jpem9udGFsUGFkZGluZyA9IHBhZGRpbmdMZWZ0ICsgcGFkZGluZ1JpZ2h0OwogICAgICAgIH0KICAgICAgICB0aGlzLmlucHV0LnN0eWxlLndpZHRoID0gd2lkdGggLSBob3Jpem9udGFsUGFkZGluZyArICdweCc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pbnB1dC5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4JzsKICAgICAgfQogICAgICBpZiAodGhpcy5taXJyb3IpIHsKICAgICAgICB0aGlzLm1pcnJvci5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4JzsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInBhZGRpbmdSaWdodCIsCiAgICBzZXQ6IGZ1bmN0aW9uIHNldChwYWRkaW5nUmlnaHQpIHsKICAgICAgLy8gU2V0IHdpZHRoIHRvIGF2b2lkIGhpbnQgdGV4dCBvdmVybGFwcGluZyBidXR0b25zCiAgICAgIHRoaXMuaW5wdXQuc3R5bGUud2lkdGggPSAiY2FsYygxMDAlIC0gIi5jb25jYXQocGFkZGluZ1JpZ2h0LCAicHgpIik7CiAgICAgIGlmICh0aGlzLm1pcnJvcikgewogICAgICAgIHRoaXMubWlycm9yLnN0eWxlLnBhZGRpbmdSaWdodCA9IHBhZGRpbmdSaWdodCArICdweCc7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJ1cGRhdGVTY3JvbGxEaW1lbnNpb25zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVTY3JvbGxEaW1lbnNpb25zKCkgewogICAgICBpZiAodHlwZW9mIHRoaXMuY2FjaGVkQ29udGVudEhlaWdodCAhPT0gJ251bWJlcicgfHwgdHlwZW9mIHRoaXMuY2FjaGVkSGVpZ2h0ICE9PSAnbnVtYmVyJyB8fCAhdGhpcy5zY3JvbGxhYmxlRWxlbWVudCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gdGhpcy5jYWNoZWRDb250ZW50SGVpZ2h0OwogICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5jYWNoZWRIZWlnaHQ7CiAgICAgIHZhciBzY3JvbGxUb3AgPSB0aGlzLmlucHV0LnNjcm9sbFRvcDsKICAgICAgdGhpcy5zY3JvbGxhYmxlRWxlbWVudC5zZXRTY3JvbGxEaW1lbnNpb25zKHsKICAgICAgICBzY3JvbGxIZWlnaHQ6IHNjcm9sbEhlaWdodCwKICAgICAgICBoZWlnaHQ6IGhlaWdodAogICAgICB9KTsKICAgICAgdGhpcy5zY3JvbGxhYmxlRWxlbWVudC5zZXRTY3JvbGxQb3NpdGlvbih7CiAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3AKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2hvd01lc3NhZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dNZXNzYWdlKG1lc3NhZ2UsIGZvcmNlKSB7CiAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7CiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdpZGxlJyk7CiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdpbmZvJyk7CiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCd3YXJuaW5nJyk7CiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpOwogICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzRm9yVHlwZShtZXNzYWdlLnR5cGUpKTsKICAgICAgdmFyIHN0eWxlcyA9IHRoaXMuc3R5bGVzRm9yVHlwZSh0aGlzLm1lc3NhZ2UudHlwZSk7CiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5ib3JkZXIgPSBzdHlsZXMuYm9yZGVyID8gIjFweCBzb2xpZCAiLmNvbmNhdChzdHlsZXMuYm9yZGVyKSA6ICcnOwogICAgICBpZiAodGhpcy5oYXNGb2N1cygpIHx8IGZvcmNlKSB7CiAgICAgICAgdGhpcy5fc2hvd01lc3NhZ2UoKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImhpZGVNZXNzYWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlTWVzc2FnZSgpIHsKICAgICAgdGhpcy5tZXNzYWdlID0gbnVsbDsKICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2luZm8nKTsKICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3dhcm5pbmcnKTsKICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2Vycm9yJyk7CiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdpZGxlJyk7CiAgICAgIHRoaXMuX2hpZGVNZXNzYWdlKCk7CiAgICAgIHRoaXMuYXBwbHlTdHlsZXMoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ2YWxpZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsaWRhdGUoKSB7CiAgICAgIHZhciBlcnJvck1zZyA9IG51bGw7CiAgICAgIGlmICh0aGlzLnZhbGlkYXRpb24pIHsKICAgICAgICBlcnJvck1zZyA9IHRoaXMudmFsaWRhdGlvbih0aGlzLnZhbHVlKTsKICAgICAgICBpZiAoZXJyb3JNc2cpIHsKICAgICAgICAgIHRoaXMuaW5wdXRFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJywgJ3RydWUnKTsKICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoZXJyb3JNc2cpOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5pbnB1dEVsZW1lbnQuaGFzQXR0cmlidXRlKCdhcmlhLWludmFsaWQnKSkgewogICAgICAgICAgdGhpcy5pbnB1dEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWludmFsaWQnKTsKICAgICAgICAgIHRoaXMuaGlkZU1lc3NhZ2UoKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGVycm9yTXNnID09PSBudWxsIHx8IGVycm9yTXNnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcnJvck1zZy50eXBlOwogICAgfQogIH0sIHsKICAgIGtleTogInN0eWxlc0ZvclR5cGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN0eWxlc0ZvclR5cGUodHlwZSkgewogICAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICBjYXNlIDEgLyogTWVzc2FnZVR5cGUuSU5GTyAqLzoKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGJvcmRlcjogdGhpcy5pbnB1dFZhbGlkYXRpb25JbmZvQm9yZGVyLAogICAgICAgICAgICBiYWNrZ3JvdW5kOiB0aGlzLmlucHV0VmFsaWRhdGlvbkluZm9CYWNrZ3JvdW5kLAogICAgICAgICAgICBmb3JlZ3JvdW5kOiB0aGlzLmlucHV0VmFsaWRhdGlvbkluZm9Gb3JlZ3JvdW5kCiAgICAgICAgICB9OwogICAgICAgIGNhc2UgMiAvKiBNZXNzYWdlVHlwZS5XQVJOSU5HICovOgogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgYm9yZGVyOiB0aGlzLmlucHV0VmFsaWRhdGlvbldhcm5pbmdCb3JkZXIsCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHRoaXMuaW5wdXRWYWxpZGF0aW9uV2FybmluZ0JhY2tncm91bmQsCiAgICAgICAgICAgIGZvcmVncm91bmQ6IHRoaXMuaW5wdXRWYWxpZGF0aW9uV2FybmluZ0ZvcmVncm91bmQKICAgICAgICAgIH07CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGJvcmRlcjogdGhpcy5pbnB1dFZhbGlkYXRpb25FcnJvckJvcmRlciwKICAgICAgICAgICAgYmFja2dyb3VuZDogdGhpcy5pbnB1dFZhbGlkYXRpb25FcnJvckJhY2tncm91bmQsCiAgICAgICAgICAgIGZvcmVncm91bmQ6IHRoaXMuaW5wdXRWYWxpZGF0aW9uRXJyb3JGb3JlZ3JvdW5kCiAgICAgICAgICB9OwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiY2xhc3NGb3JUeXBlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbGFzc0ZvclR5cGUodHlwZSkgewogICAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICBjYXNlIDEgLyogTWVzc2FnZVR5cGUuSU5GTyAqLzoKICAgICAgICAgIHJldHVybiAnaW5mbyc7CiAgICAgICAgY2FzZSAyIC8qIE1lc3NhZ2VUeXBlLldBUk5JTkcgKi86CiAgICAgICAgICByZXR1cm4gJ3dhcm5pbmcnOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gJ2Vycm9yJzsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogIl9zaG93TWVzc2FnZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3Nob3dNZXNzYWdlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgaWYgKCF0aGlzLmNvbnRleHRWaWV3UHJvdmlkZXIgfHwgIXRoaXMubWVzc2FnZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgZGl2OwogICAgICB2YXIgbGF5b3V0ID0gZnVuY3Rpb24gbGF5b3V0KCkgewogICAgICAgIHJldHVybiBkaXYuc3R5bGUud2lkdGggPSBkb20uZ2V0VG90YWxXaWR0aChfdGhpczIuZWxlbWVudCkgKyAncHgnOwogICAgICB9OwogICAgICB0aGlzLmNvbnRleHRWaWV3UHJvdmlkZXIuc2hvd0NvbnRleHRWaWV3KHsKICAgICAgICBnZXRBbmNob3I6IGZ1bmN0aW9uIGdldEFuY2hvcigpIHsKICAgICAgICAgIHJldHVybiBfdGhpczIuZWxlbWVudDsKICAgICAgICB9LAogICAgICAgIGFuY2hvckFsaWdubWVudDogMSAvKiBBbmNob3JBbGlnbm1lbnQuUklHSFQgKi8sCiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoY29udGFpbmVyKSB7CiAgICAgICAgICBpZiAoIV90aGlzMi5tZXNzYWdlKSB7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgfQogICAgICAgICAgZGl2ID0gZG9tLmFwcGVuZChjb250YWluZXIsICQoJy5tb25hY28taW5wdXRib3gtY29udGFpbmVyJykpOwogICAgICAgICAgbGF5b3V0KCk7CiAgICAgICAgICB2YXIgcmVuZGVyT3B0aW9ucyA9IHsKICAgICAgICAgICAgaW5saW5lOiB0cnVlLAogICAgICAgICAgICBjbGFzc05hbWU6ICdtb25hY28taW5wdXRib3gtbWVzc2FnZScKICAgICAgICAgIH07CiAgICAgICAgICB2YXIgc3BhbkVsZW1lbnQgPSBfdGhpczIubWVzc2FnZS5mb3JtYXRDb250ZW50ID8gcmVuZGVyRm9ybWF0dGVkVGV4dChfdGhpczIubWVzc2FnZS5jb250ZW50LCByZW5kZXJPcHRpb25zKSA6IHJlbmRlclRleHQoX3RoaXMyLm1lc3NhZ2UuY29udGVudCwgcmVuZGVyT3B0aW9ucyk7CiAgICAgICAgICBzcGFuRWxlbWVudC5jbGFzc0xpc3QuYWRkKF90aGlzMi5jbGFzc0ZvclR5cGUoX3RoaXMyLm1lc3NhZ2UudHlwZSkpOwogICAgICAgICAgdmFyIHN0eWxlcyA9IF90aGlzMi5zdHlsZXNGb3JUeXBlKF90aGlzMi5tZXNzYWdlLnR5cGUpOwogICAgICAgICAgc3BhbkVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gc3R5bGVzLmJhY2tncm91bmQgPyBzdHlsZXMuYmFja2dyb3VuZC50b1N0cmluZygpIDogJyc7CiAgICAgICAgICBzcGFuRWxlbWVudC5zdHlsZS5jb2xvciA9IHN0eWxlcy5mb3JlZ3JvdW5kID8gc3R5bGVzLmZvcmVncm91bmQudG9TdHJpbmcoKSA6ICcnOwogICAgICAgICAgc3BhbkVsZW1lbnQuc3R5bGUuYm9yZGVyID0gc3R5bGVzLmJvcmRlciA/ICIxcHggc29saWQgIi5jb25jYXQoc3R5bGVzLmJvcmRlcikgOiAnJzsKICAgICAgICAgIGRvbS5hcHBlbmQoZGl2LCBzcGFuRWxlbWVudCk7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9LAogICAgICAgIG9uSGlkZTogZnVuY3Rpb24gb25IaWRlKCkgewogICAgICAgICAgX3RoaXMyLnN0YXRlID0gJ2Nsb3NlZCc7CiAgICAgICAgfSwKICAgICAgICBsYXlvdXQ6IGxheW91dAogICAgICB9KTsKICAgICAgLy8gQVJJQSBTdXBwb3J0CiAgICAgIHZhciBhbGVydFRleHQ7CiAgICAgIGlmICh0aGlzLm1lc3NhZ2UudHlwZSA9PT0gMyAvKiBNZXNzYWdlVHlwZS5FUlJPUiAqLykgewogICAgICAgIGFsZXJ0VGV4dCA9IG5scy5sb2NhbGl6ZSgnYWxlcnRFcnJvck1lc3NhZ2UnLCAiRXJyb3I6IHswfSIsIHRoaXMubWVzc2FnZS5jb250ZW50KTsKICAgICAgfSBlbHNlIGlmICh0aGlzLm1lc3NhZ2UudHlwZSA9PT0gMiAvKiBNZXNzYWdlVHlwZS5XQVJOSU5HICovKSB7CiAgICAgICAgYWxlcnRUZXh0ID0gbmxzLmxvY2FsaXplKCdhbGVydFdhcm5pbmdNZXNzYWdlJywgIldhcm5pbmc6IHswfSIsIHRoaXMubWVzc2FnZS5jb250ZW50KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhbGVydFRleHQgPSBubHMubG9jYWxpemUoJ2FsZXJ0SW5mb01lc3NhZ2UnLCAiSW5mbzogezB9IiwgdGhpcy5tZXNzYWdlLmNvbnRlbnQpOwogICAgICB9CiAgICAgIGFyaWEuYWxlcnQoYWxlcnRUZXh0KTsKICAgICAgdGhpcy5zdGF0ZSA9ICdvcGVuJzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfaGlkZU1lc3NhZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9oaWRlTWVzc2FnZSgpIHsKICAgICAgaWYgKCF0aGlzLmNvbnRleHRWaWV3UHJvdmlkZXIpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKHRoaXMuc3RhdGUgPT09ICdvcGVuJykgewogICAgICAgIHRoaXMuY29udGV4dFZpZXdQcm92aWRlci5oaWRlQ29udGV4dFZpZXcoKTsKICAgICAgfQogICAgICB0aGlzLnN0YXRlID0gJ2lkbGUnOwogICAgfQogIH0sIHsKICAgIGtleTogIm9uVmFsdWVDaGFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uVmFsdWVDaGFuZ2UoKSB7CiAgICAgIHRoaXMuX29uRGlkQ2hhbmdlLmZpcmUodGhpcy52YWx1ZSk7CiAgICAgIHRoaXMudmFsaWRhdGUoKTsKICAgICAgdGhpcy51cGRhdGVNaXJyb3IoKTsKICAgICAgdGhpcy5pbnB1dC5jbGFzc0xpc3QudG9nZ2xlKCdlbXB0eScsICF0aGlzLnZhbHVlKTsKICAgICAgaWYgKHRoaXMuc3RhdGUgPT09ICdvcGVuJyAmJiB0aGlzLmNvbnRleHRWaWV3UHJvdmlkZXIpIHsKICAgICAgICB0aGlzLmNvbnRleHRWaWV3UHJvdmlkZXIubGF5b3V0KCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJ1cGRhdGVNaXJyb3IiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZU1pcnJvcigpIHsKICAgICAgaWYgKCF0aGlzLm1pcnJvcikgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlOwogICAgICB2YXIgbGFzdENoYXJDb2RlID0gdmFsdWUuY2hhckNvZGVBdCh2YWx1ZS5sZW5ndGggLSAxKTsKICAgICAgdmFyIHN1ZmZpeCA9IGxhc3RDaGFyQ29kZSA9PT0gMTAgPyAnICcgOiAnJzsKICAgICAgdmFyIG1pcnJvclRleHRDb250ZW50ID0gKHZhbHVlICsgc3VmZml4KS5yZXBsYWNlKC9cdTAwMGMvZywgJycpOyAvLyBEb24ndCBtZWFzdXJlIHdpdGggdGhlIGZvcm0gZmVlZCBjaGFyYWN0ZXIsIHdoaWNoIG1lc3NlcyB1cCBzaXppbmcKICAgICAgaWYgKG1pcnJvclRleHRDb250ZW50KSB7CiAgICAgICAgdGhpcy5taXJyb3IudGV4dENvbnRlbnQgPSB2YWx1ZSArIHN1ZmZpeDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm1pcnJvci5pbm5lclRleHQgPSAiXHhBMCI7CiAgICAgIH0KICAgICAgdGhpcy5sYXlvdXQoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzdHlsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc3R5bGUoc3R5bGVzKSB7CiAgICAgIHRoaXMuaW5wdXRCYWNrZ3JvdW5kID0gc3R5bGVzLmlucHV0QmFja2dyb3VuZDsKICAgICAgdGhpcy5pbnB1dEZvcmVncm91bmQgPSBzdHlsZXMuaW5wdXRGb3JlZ3JvdW5kOwogICAgICB0aGlzLmlucHV0Qm9yZGVyID0gc3R5bGVzLmlucHV0Qm9yZGVyOwogICAgICB0aGlzLmlucHV0VmFsaWRhdGlvbkluZm9CYWNrZ3JvdW5kID0gc3R5bGVzLmlucHV0VmFsaWRhdGlvbkluZm9CYWNrZ3JvdW5kOwogICAgICB0aGlzLmlucHV0VmFsaWRhdGlvbkluZm9Gb3JlZ3JvdW5kID0gc3R5bGVzLmlucHV0VmFsaWRhdGlvbkluZm9Gb3JlZ3JvdW5kOwogICAgICB0aGlzLmlucHV0VmFsaWRhdGlvbkluZm9Cb3JkZXIgPSBzdHlsZXMuaW5wdXRWYWxpZGF0aW9uSW5mb0JvcmRlcjsKICAgICAgdGhpcy5pbnB1dFZhbGlkYXRpb25XYXJuaW5nQmFja2dyb3VuZCA9IHN0eWxlcy5pbnB1dFZhbGlkYXRpb25XYXJuaW5nQmFja2dyb3VuZDsKICAgICAgdGhpcy5pbnB1dFZhbGlkYXRpb25XYXJuaW5nRm9yZWdyb3VuZCA9IHN0eWxlcy5pbnB1dFZhbGlkYXRpb25XYXJuaW5nRm9yZWdyb3VuZDsKICAgICAgdGhpcy5pbnB1dFZhbGlkYXRpb25XYXJuaW5nQm9yZGVyID0gc3R5bGVzLmlucHV0VmFsaWRhdGlvbldhcm5pbmdCb3JkZXI7CiAgICAgIHRoaXMuaW5wdXRWYWxpZGF0aW9uRXJyb3JCYWNrZ3JvdW5kID0gc3R5bGVzLmlucHV0VmFsaWRhdGlvbkVycm9yQmFja2dyb3VuZDsKICAgICAgdGhpcy5pbnB1dFZhbGlkYXRpb25FcnJvckZvcmVncm91bmQgPSBzdHlsZXMuaW5wdXRWYWxpZGF0aW9uRXJyb3JGb3JlZ3JvdW5kOwogICAgICB0aGlzLmlucHV0VmFsaWRhdGlvbkVycm9yQm9yZGVyID0gc3R5bGVzLmlucHV0VmFsaWRhdGlvbkVycm9yQm9yZGVyOwogICAgICB0aGlzLmFwcGx5U3R5bGVzKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYXBwbHlTdHlsZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGx5U3R5bGVzKCkgewogICAgICB2YXIgYmFja2dyb3VuZCA9IHRoaXMuaW5wdXRCYWNrZ3JvdW5kID8gdGhpcy5pbnB1dEJhY2tncm91bmQudG9TdHJpbmcoKSA6ICcnOwogICAgICB2YXIgZm9yZWdyb3VuZCA9IHRoaXMuaW5wdXRGb3JlZ3JvdW5kID8gdGhpcy5pbnB1dEZvcmVncm91bmQudG9TdHJpbmcoKSA6ICcnOwogICAgICB2YXIgYm9yZGVyID0gdGhpcy5pbnB1dEJvcmRlciA/IHRoaXMuaW5wdXRCb3JkZXIudG9TdHJpbmcoKSA6ICcnOwogICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYmFja2dyb3VuZDsKICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmNvbG9yID0gZm9yZWdyb3VuZDsKICAgICAgdGhpcy5pbnB1dC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnaW5oZXJpdCc7CiAgICAgIHRoaXMuaW5wdXQuc3R5bGUuY29sb3IgPSBmb3JlZ3JvdW5kOwogICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuYm9yZGVyV2lkdGggPSBib3JkZXIgPyAnMXB4JyA6ICcnOwogICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuYm9yZGVyU3R5bGUgPSBib3JkZXIgPyAnc29saWQnIDogJyc7CiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5ib3JkZXJDb2xvciA9IGJvcmRlcjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsYXlvdXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxheW91dCgpIHsKICAgICAgaWYgKCF0aGlzLm1pcnJvcikgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgcHJldmlvdXNIZWlnaHQgPSB0aGlzLmNhY2hlZENvbnRlbnRIZWlnaHQ7CiAgICAgIHRoaXMuY2FjaGVkQ29udGVudEhlaWdodCA9IGRvbS5nZXRUb3RhbEhlaWdodCh0aGlzLm1pcnJvcik7CiAgICAgIGlmIChwcmV2aW91c0hlaWdodCAhPT0gdGhpcy5jYWNoZWRDb250ZW50SGVpZ2h0KSB7CiAgICAgICAgdGhpcy5jYWNoZWRIZWlnaHQgPSBNYXRoLm1pbih0aGlzLmNhY2hlZENvbnRlbnRIZWlnaHQsIHRoaXMubWF4SGVpZ2h0KTsKICAgICAgICB0aGlzLmlucHV0LnN0eWxlLmhlaWdodCA9IHRoaXMuY2FjaGVkSGVpZ2h0ICsgJ3B4JzsKICAgICAgICB0aGlzLl9vbkRpZEhlaWdodENoYW5nZS5maXJlKHRoaXMuY2FjaGVkQ29udGVudEhlaWdodCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJpbnNlcnRBdEN1cnNvciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW5zZXJ0QXRDdXJzb3IodGV4dCkgewogICAgICB2YXIgaW5wdXRFbGVtZW50ID0gdGhpcy5pbnB1dEVsZW1lbnQ7CiAgICAgIHZhciBzdGFydCA9IGlucHV0RWxlbWVudC5zZWxlY3Rpb25TdGFydDsKICAgICAgdmFyIGVuZCA9IGlucHV0RWxlbWVudC5zZWxlY3Rpb25FbmQ7CiAgICAgIHZhciBjb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbHVlOwogICAgICBpZiAoc3RhcnQgIT09IG51bGwgJiYgZW5kICE9PSBudWxsKSB7CiAgICAgICAgdGhpcy52YWx1ZSA9IGNvbnRlbnQuc3Vic3RyKDAsIHN0YXJ0KSArIHRleHQgKyBjb250ZW50LnN1YnN0cihlbmQpOwogICAgICAgIGlucHV0RWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZShzdGFydCArIDEsIHN0YXJ0ICsgMSk7CiAgICAgICAgdGhpcy5sYXlvdXQoKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImRpc3Bvc2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7CiAgICAgIHRoaXMuX2hpZGVNZXNzYWdlKCk7CiAgICAgIHRoaXMubWVzc2FnZSA9IG51bGw7CiAgICAgIGlmICh0aGlzLmFjdGlvbmJhcikgewogICAgICAgIHRoaXMuYWN0aW9uYmFyLmRpc3Bvc2UoKTsKICAgICAgfQogICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihJbnB1dEJveC5wcm90b3R5cGUpLCAiZGlzcG9zZSIsIHRoaXMpLmNhbGwodGhpcyk7CiAgICB9CiAgfV0pOwogIHJldHVybiBJbnB1dEJveDsKfShXaWRnZXQpOwpleHBvcnQgdmFyIEhpc3RvcnlJbnB1dEJveCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0lucHV0Qm94KSB7CiAgX2luaGVyaXRzKEhpc3RvcnlJbnB1dEJveCwgX0lucHV0Qm94KTsKICB2YXIgX3N1cGVyMiA9IF9jcmVhdGVTdXBlcihIaXN0b3J5SW5wdXRCb3gpOwogIGZ1bmN0aW9uIEhpc3RvcnlJbnB1dEJveChjb250YWluZXIsIGNvbnRleHRWaWV3UHJvdmlkZXIsIG9wdGlvbnMpIHsKICAgIHZhciBfdGhpczM7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSGlzdG9yeUlucHV0Qm94KTsKICAgIHZhciBOTFNfUExBQ0VIT0xERVJfSElTVE9SWV9ISU5UID0gbmxzLmxvY2FsaXplKHsKICAgICAga2V5OiAnaGlzdG9yeS5pbnB1dGJveC5oaW50JywKICAgICAgY29tbWVudDogWyJUZXh0IHdpbGwgYmUgcHJlZml4ZWQgd2l0aCBcdTIxQzUgcGx1cyBhIHNpbmdsZSBzcGFjZSwgdGhlbiB1c2VkIGFzIGEgaGludCB3aGVyZSBpbnB1dCBmaWVsZCBrZWVwcyBoaXN0b3J5Il0KICAgIH0sICJmb3IgaGlzdG9yeSIpOwogICAgdmFyIE5MU19QTEFDRUhPTERFUl9ISVNUT1JZX0hJTlRfU1VGRklYID0gIiBvciBcdTIxQzUgIi5jb25jYXQoTkxTX1BMQUNFSE9MREVSX0hJU1RPUllfSElOVCk7CiAgICB2YXIgTkxTX1BMQUNFSE9MREVSX0hJU1RPUllfSElOVF9TVUZGSVhfSU5fUEFSRU5TID0gIiAoXHUyMUM1ICIuY29uY2F0KE5MU19QTEFDRUhPTERFUl9ISVNUT1JZX0hJTlQsICIpIik7CiAgICBfdGhpczMgPSBfc3VwZXIyLmNhbGwodGhpcywgY29udGFpbmVyLCBjb250ZXh0Vmlld1Byb3ZpZGVyLCBvcHRpb25zKTsKICAgIF90aGlzMy5fb25EaWRGb2N1cyA9IF90aGlzMy5fcmVnaXN0ZXIobmV3IEVtaXR0ZXIoKSk7CiAgICBfdGhpczMub25EaWRGb2N1cyA9IF90aGlzMy5fb25EaWRGb2N1cy5ldmVudDsKICAgIF90aGlzMy5fb25EaWRCbHVyID0gX3RoaXMzLl9yZWdpc3RlcihuZXcgRW1pdHRlcigpKTsKICAgIF90aGlzMy5vbkRpZEJsdXIgPSBfdGhpczMuX29uRGlkQmx1ci5ldmVudDsKICAgIF90aGlzMy5oaXN0b3J5ID0gbmV3IEhpc3RvcnlOYXZpZ2F0b3Iob3B0aW9ucy5oaXN0b3J5LCAxMDApOwogICAgLy8gRnVuY3Rpb24gdG8gYXBwZW5kIHRoZSBoaXN0b3J5IHN1ZmZpeCB0byB0aGUgcGxhY2Vob2xkZXIgaWYgbmVjZXNzYXJ5CiAgICB2YXIgYWRkU3VmZml4ID0gZnVuY3Rpb24gYWRkU3VmZml4KCkgewogICAgICBpZiAob3B0aW9ucy5zaG93SGlzdG9yeUhpbnQgJiYgb3B0aW9ucy5zaG93SGlzdG9yeUhpbnQoKSAmJiAhX3RoaXMzLnBsYWNlaG9sZGVyLmVuZHNXaXRoKE5MU19QTEFDRUhPTERFUl9ISVNUT1JZX0hJTlRfU1VGRklYKSAmJiAhX3RoaXMzLnBsYWNlaG9sZGVyLmVuZHNXaXRoKE5MU19QTEFDRUhPTERFUl9ISVNUT1JZX0hJTlRfU1VGRklYX0lOX1BBUkVOUykgJiYgX3RoaXMzLmhpc3RvcnkuZ2V0SGlzdG9yeSgpLmxlbmd0aCkgewogICAgICAgIHZhciBzdWZmaXggPSBfdGhpczMucGxhY2Vob2xkZXIuZW5kc1dpdGgoJyknKSA/IE5MU19QTEFDRUhPTERFUl9ISVNUT1JZX0hJTlRfU1VGRklYIDogTkxTX1BMQUNFSE9MREVSX0hJU1RPUllfSElOVF9TVUZGSVhfSU5fUEFSRU5TOwogICAgICAgIHZhciBzdWZmaXhlZFBsYWNlaG9sZGVyID0gX3RoaXMzLnBsYWNlaG9sZGVyICsgc3VmZml4OwogICAgICAgIGlmIChvcHRpb25zLnNob3dQbGFjZWhvbGRlck9uRm9jdXMgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gX3RoaXMzLmlucHV0KSB7CiAgICAgICAgICBfdGhpczMucGxhY2Vob2xkZXIgPSBzdWZmaXhlZFBsYWNlaG9sZGVyOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczMuc2V0UGxhY2VIb2xkZXIoc3VmZml4ZWRQbGFjZWhvbGRlcik7CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgLy8gU3BvdCB0aGUgY2hhbmdlIHRvIHRoZSB0ZXh0YXJlYSBjbGFzcyBhdHRyaWJ1dGUgd2hpY2ggb2NjdXJzIHdoZW4gaXQgY2hhbmdlcyBiZXR3ZWVuIG5vbi1lbXB0eSBhbmQgZW1wdHksCiAgICAvLyBhbmQgYWRkIHRoZSBoaXN0b3J5IHN1ZmZpeCB0byB0aGUgcGxhY2Vob2xkZXIgaWYgbm90IHlldCBwcmVzZW50CiAgICBfdGhpczMub2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAobXV0YXRpb25MaXN0LCBvYnNlcnZlcikgewogICAgICBtdXRhdGlvbkxpc3QuZm9yRWFjaChmdW5jdGlvbiAobXV0YXRpb24pIHsKICAgICAgICBpZiAoIW11dGF0aW9uLnRhcmdldC50ZXh0Q29udGVudCkgewogICAgICAgICAgYWRkU3VmZml4KCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogICAgX3RoaXMzLm9ic2VydmVyLm9ic2VydmUoX3RoaXMzLmlucHV0LCB7CiAgICAgIGF0dHJpYnV0ZUZpbHRlcjogWydjbGFzcyddCiAgICB9KTsKICAgIF90aGlzMy5vbmZvY3VzKF90aGlzMy5pbnB1dCwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gYWRkU3VmZml4KCk7CiAgICB9KTsKICAgIF90aGlzMy5vbmJsdXIoX3RoaXMzLmlucHV0LCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciByZXNldFBsYWNlaG9sZGVyID0gZnVuY3Rpb24gcmVzZXRQbGFjZWhvbGRlcihoaXN0b3J5SGludCkgewogICAgICAgIGlmICghX3RoaXMzLnBsYWNlaG9sZGVyLmVuZHNXaXRoKGhpc3RvcnlIaW50KSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgcmV2ZXJ0ZWRQbGFjZWhvbGRlciA9IF90aGlzMy5wbGFjZWhvbGRlci5zbGljZSgwLCBfdGhpczMucGxhY2Vob2xkZXIubGVuZ3RoIC0gaGlzdG9yeUhpbnQubGVuZ3RoKTsKICAgICAgICAgIGlmIChvcHRpb25zLnNob3dQbGFjZWhvbGRlck9uRm9jdXMpIHsKICAgICAgICAgICAgX3RoaXMzLnBsYWNlaG9sZGVyID0gcmV2ZXJ0ZWRQbGFjZWhvbGRlcjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMy5zZXRQbGFjZUhvbGRlcihyZXZlcnRlZFBsYWNlaG9sZGVyKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfTsKICAgICAgaWYgKCFyZXNldFBsYWNlaG9sZGVyKE5MU19QTEFDRUhPTERFUl9ISVNUT1JZX0hJTlRfU1VGRklYX0lOX1BBUkVOUykpIHsKICAgICAgICByZXNldFBsYWNlaG9sZGVyKE5MU19QTEFDRUhPTERFUl9ISVNUT1JZX0hJTlRfU1VGRklYKTsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gX3RoaXMzOwogIH0KICBfY3JlYXRlQ2xhc3MoSGlzdG9yeUlucHV0Qm94LCBbewogICAga2V5OiAiZGlzcG9zZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcG9zZSgpIHsKICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoSGlzdG9yeUlucHV0Qm94LnByb3RvdHlwZSksICJkaXNwb3NlIiwgdGhpcykuY2FsbCh0aGlzKTsKICAgICAgaWYgKHRoaXMub2JzZXJ2ZXIpIHsKICAgICAgICB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKICAgICAgICB0aGlzLm9ic2VydmVyID0gdW5kZWZpbmVkOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkVG9IaXN0b3J5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRUb0hpc3RvcnkoKSB7CiAgICAgIGlmICh0aGlzLnZhbHVlICYmIHRoaXMudmFsdWUgIT09IHRoaXMuZ2V0Q3VycmVudFZhbHVlKCkpIHsKICAgICAgICB0aGlzLmhpc3RvcnkuYWRkKHRoaXMudmFsdWUpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAic2hvd05leHRWYWx1ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd05leHRWYWx1ZSgpIHsKICAgICAgaWYgKCF0aGlzLmhpc3RvcnkuaGFzKHRoaXMudmFsdWUpKSB7CiAgICAgICAgdGhpcy5hZGRUb0hpc3RvcnkoKTsKICAgICAgfQogICAgICB2YXIgbmV4dCA9IHRoaXMuZ2V0TmV4dFZhbHVlKCk7CiAgICAgIGlmIChuZXh0KSB7CiAgICAgICAgbmV4dCA9IG5leHQgPT09IHRoaXMudmFsdWUgPyB0aGlzLmdldE5leHRWYWx1ZSgpIDogbmV4dDsKICAgICAgfQogICAgICBpZiAobmV4dCkgewogICAgICAgIHRoaXMudmFsdWUgPSBuZXh0OwogICAgICAgIGFyaWEuc3RhdHVzKHRoaXMudmFsdWUpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAic2hvd1ByZXZpb3VzVmFsdWUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dQcmV2aW91c1ZhbHVlKCkgewogICAgICBpZiAoIXRoaXMuaGlzdG9yeS5oYXModGhpcy52YWx1ZSkpIHsKICAgICAgICB0aGlzLmFkZFRvSGlzdG9yeSgpOwogICAgICB9CiAgICAgIHZhciBwcmV2aW91cyA9IHRoaXMuZ2V0UHJldmlvdXNWYWx1ZSgpOwogICAgICBpZiAocHJldmlvdXMpIHsKICAgICAgICBwcmV2aW91cyA9IHByZXZpb3VzID09PSB0aGlzLnZhbHVlID8gdGhpcy5nZXRQcmV2aW91c1ZhbHVlKCkgOiBwcmV2aW91czsKICAgICAgfQogICAgICBpZiAocHJldmlvdXMpIHsKICAgICAgICB0aGlzLnZhbHVlID0gcHJldmlvdXM7CiAgICAgICAgYXJpYS5zdGF0dXModGhpcy52YWx1ZSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJvbkJsdXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uQmx1cigpIHsKICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoSGlzdG9yeUlucHV0Qm94LnByb3RvdHlwZSksICJvbkJsdXIiLCB0aGlzKS5jYWxsKHRoaXMpOwogICAgICB0aGlzLl9vbkRpZEJsdXIuZmlyZSgpOwogICAgfQogIH0sIHsKICAgIGtleTogIm9uRm9jdXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uRm9jdXMoKSB7CiAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKEhpc3RvcnlJbnB1dEJveC5wcm90b3R5cGUpLCAib25Gb2N1cyIsIHRoaXMpLmNhbGwodGhpcyk7CiAgICAgIHRoaXMuX29uRGlkRm9jdXMuZmlyZSgpOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEN1cnJlbnRWYWx1ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q3VycmVudFZhbHVlKCkgewogICAgICB2YXIgY3VycmVudFZhbHVlID0gdGhpcy5oaXN0b3J5LmN1cnJlbnQoKTsKICAgICAgaWYgKCFjdXJyZW50VmFsdWUpIHsKICAgICAgICBjdXJyZW50VmFsdWUgPSB0aGlzLmhpc3RvcnkubGFzdCgpOwogICAgICAgIHRoaXMuaGlzdG9yeS5uZXh0KCk7CiAgICAgIH0KICAgICAgcmV0dXJuIGN1cnJlbnRWYWx1ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRQcmV2aW91c1ZhbHVlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQcmV2aW91c1ZhbHVlKCkgewogICAgICByZXR1cm4gdGhpcy5oaXN0b3J5LnByZXZpb3VzKCkgfHwgdGhpcy5oaXN0b3J5LmZpcnN0KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0TmV4dFZhbHVlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXROZXh0VmFsdWUoKSB7CiAgICAgIHJldHVybiB0aGlzLmhpc3RvcnkubmV4dCgpIHx8IHRoaXMuaGlzdG9yeS5sYXN0KCk7CiAgICB9CiAgfV0pOwogIHJldHVybiBIaXN0b3J5SW5wdXRCb3g7Cn0oSW5wdXRCb3gpOw=="},{"version":3,"names":["dom","DomEmitter","renderFormattedText","renderText","ActionBar","aria","ScrollableElement","Widget","Color","Emitter","Event","HistoryNavigator","mixin","nls","$","defaultOpts","inputBackground","fromHex","inputForeground","inputValidationInfoBorder","inputValidationInfoBackground","inputValidationWarningBorder","inputValidationWarningBackground","inputValidationErrorBorder","inputValidationErrorBackground","InputBox","container","contextViewProvider","options","_a","state","maxHeight","Number","POSITIVE_INFINITY","_onDidChange","_register","onDidChange","event","_onDidHeightChange","onDidHeightChange","Object","create","message","placeholder","tooltip","ariaLabel","inputBorder","inputValidationInfoForeground","inputValidationWarningForeground","inputValidationErrorForeground","validationOptions","validation","element","append","tagName","flexibleHeight","wrapper","input","setAttribute","onfocus","classList","add","onblur","remove","flexibleMaxHeight","mirror","innerText","scrollableElement","vertical","flexibleWidth","style","whiteSpace","wordWrap","getDomNode","onScroll","e","scrollTop","onSelectionChange","document","onAnchoredSelectionChange","filter","selection","getSelection","anchorNode","updateScrollDimensions","type","showPlaceholderOnFocus","setPlaceHolder","setTooltip","oninput","onValueChange","onBlur","onFocus","ignoreGesture","setTimeout","updateMirror","actions","actionbar","push","icon","label","applyStyles","_hideMessage","_showMessage","placeHolder","title","removeAttribute","value","newValue","cachedHeight","getTotalHeight","focus","blur","activeElement","range","select","setSelectionRange","start","end","length","scrollLeft","scrollWidth","selectionEnd","selectionStart","disabled","getTotalWidth","width","horizontalPadding","paddingLeft","parseFloat","paddingRight","cachedContentHeight","scrollHeight","height","setScrollDimensions","setScrollPosition","force","classForType","styles","stylesForType","border","hasFocus","errorMsg","inputElement","showMessage","hasAttribute","hideMessage","background","foreground","div","layout","showContextView","getAnchor","anchorAlignment","render","renderOptions","inline","className","spanElement","formatContent","content","backgroundColor","toString","color","onHide","alertText","localize","alert","hideContextView","fire","validate","toggle","lastCharCode","charCodeAt","suffix","mirrorTextContent","replace","textContent","borderWidth","borderStyle","borderColor","previousHeight","Math","min","text","substr","dispose","HistoryInputBox","NLS_PLACEHOLDER_HISTORY_HINT","key","comment","NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX","NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS","_onDidFocus","onDidFocus","_onDidBlur","onDidBlur","history","addSuffix","showHistoryHint","endsWith","getHistory","suffixedPlaceholder","observer","MutationObserver","mutationList","forEach","mutation","target","observe","attributeFilter","resetPlaceholder","historyHint","revertedPlaceholder","slice","disconnect","undefined","getCurrentValue","has","addToHistory","next","getNextValue","status","previous","getPreviousValue","currentValue","current","last","first"],"sources":["/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/base/browser/ui/inputbox/inputBox.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { renderFormattedText, renderText } from '../../formattedTextRenderer.js';\nimport { ActionBar } from '../actionbar/actionbar.js';\nimport * as aria from '../aria/aria.js';\nimport { ScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { Widget } from '../widget.js';\nimport { Color } from '../../../common/color.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { HistoryNavigator } from '../../../common/history.js';\nimport { mixin } from '../../../common/objects.js';\nimport './inputBox.css';\nimport * as nls from '../../../../nls.js';\nconst $ = dom.$;\nconst defaultOpts = {\n    inputBackground: Color.fromHex('#3C3C3C'),\n    inputForeground: Color.fromHex('#CCCCCC'),\n    inputValidationInfoBorder: Color.fromHex('#55AAFF'),\n    inputValidationInfoBackground: Color.fromHex('#063B49'),\n    inputValidationWarningBorder: Color.fromHex('#B89500'),\n    inputValidationWarningBackground: Color.fromHex('#352A05'),\n    inputValidationErrorBorder: Color.fromHex('#BE1100'),\n    inputValidationErrorBackground: Color.fromHex('#5A1D1D')\n};\nexport class InputBox extends Widget {\n    constructor(container, contextViewProvider, options) {\n        var _a;\n        super();\n        this.state = 'idle';\n        this.maxHeight = Number.POSITIVE_INFINITY;\n        this._onDidChange = this._register(new Emitter());\n        this.onDidChange = this._onDidChange.event;\n        this._onDidHeightChange = this._register(new Emitter());\n        this.onDidHeightChange = this._onDidHeightChange.event;\n        this.contextViewProvider = contextViewProvider;\n        this.options = options || Object.create(null);\n        mixin(this.options, defaultOpts, false);\n        this.message = null;\n        this.placeholder = this.options.placeholder || '';\n        this.tooltip = (_a = this.options.tooltip) !== null && _a !== void 0 ? _a : (this.placeholder || '');\n        this.ariaLabel = this.options.ariaLabel || '';\n        this.inputBackground = this.options.inputBackground;\n        this.inputForeground = this.options.inputForeground;\n        this.inputBorder = this.options.inputBorder;\n        this.inputValidationInfoBorder = this.options.inputValidationInfoBorder;\n        this.inputValidationInfoBackground = this.options.inputValidationInfoBackground;\n        this.inputValidationInfoForeground = this.options.inputValidationInfoForeground;\n        this.inputValidationWarningBorder = this.options.inputValidationWarningBorder;\n        this.inputValidationWarningBackground = this.options.inputValidationWarningBackground;\n        this.inputValidationWarningForeground = this.options.inputValidationWarningForeground;\n        this.inputValidationErrorBorder = this.options.inputValidationErrorBorder;\n        this.inputValidationErrorBackground = this.options.inputValidationErrorBackground;\n        this.inputValidationErrorForeground = this.options.inputValidationErrorForeground;\n        if (this.options.validationOptions) {\n            this.validation = this.options.validationOptions.validation;\n        }\n        this.element = dom.append(container, $('.monaco-inputbox.idle'));\n        const tagName = this.options.flexibleHeight ? 'textarea' : 'input';\n        const wrapper = dom.append(this.element, $('.ibwrapper'));\n        this.input = dom.append(wrapper, $(tagName + '.input.empty'));\n        this.input.setAttribute('autocorrect', 'off');\n        this.input.setAttribute('autocapitalize', 'off');\n        this.input.setAttribute('spellcheck', 'false');\n        this.onfocus(this.input, () => this.element.classList.add('synthetic-focus'));\n        this.onblur(this.input, () => this.element.classList.remove('synthetic-focus'));\n        if (this.options.flexibleHeight) {\n            this.maxHeight = typeof this.options.flexibleMaxHeight === 'number' ? this.options.flexibleMaxHeight : Number.POSITIVE_INFINITY;\n            this.mirror = dom.append(wrapper, $('div.mirror'));\n            this.mirror.innerText = '\\u00a0';\n            this.scrollableElement = new ScrollableElement(this.element, { vertical: 1 /* ScrollbarVisibility.Auto */ });\n            if (this.options.flexibleWidth) {\n                this.input.setAttribute('wrap', 'off');\n                this.mirror.style.whiteSpace = 'pre';\n                this.mirror.style.wordWrap = 'initial';\n            }\n            dom.append(container, this.scrollableElement.getDomNode());\n            this._register(this.scrollableElement);\n            // from ScrollableElement to DOM\n            this._register(this.scrollableElement.onScroll(e => this.input.scrollTop = e.scrollTop));\n            const onSelectionChange = this._register(new DomEmitter(document, 'selectionchange'));\n            const onAnchoredSelectionChange = Event.filter(onSelectionChange.event, () => {\n                const selection = document.getSelection();\n                return (selection === null || selection === void 0 ? void 0 : selection.anchorNode) === wrapper;\n            });\n            // from DOM to ScrollableElement\n            this._register(onAnchoredSelectionChange(this.updateScrollDimensions, this));\n            this._register(this.onDidHeightChange(this.updateScrollDimensions, this));\n        }\n        else {\n            this.input.type = this.options.type || 'text';\n            this.input.setAttribute('wrap', 'off');\n        }\n        if (this.ariaLabel) {\n            this.input.setAttribute('aria-label', this.ariaLabel);\n        }\n        if (this.placeholder && !this.options.showPlaceholderOnFocus) {\n            this.setPlaceHolder(this.placeholder);\n        }\n        if (this.tooltip) {\n            this.setTooltip(this.tooltip);\n        }\n        this.oninput(this.input, () => this.onValueChange());\n        this.onblur(this.input, () => this.onBlur());\n        this.onfocus(this.input, () => this.onFocus());\n        this.ignoreGesture(this.input);\n        setTimeout(() => this.updateMirror(), 0);\n        // Support actions\n        if (this.options.actions) {\n            this.actionbar = this._register(new ActionBar(this.element));\n            this.actionbar.push(this.options.actions, { icon: true, label: false });\n        }\n        this.applyStyles();\n    }\n    onBlur() {\n        this._hideMessage();\n        if (this.options.showPlaceholderOnFocus) {\n            this.input.setAttribute('placeholder', '');\n        }\n    }\n    onFocus() {\n        this._showMessage();\n        if (this.options.showPlaceholderOnFocus) {\n            this.input.setAttribute('placeholder', this.placeholder || '');\n        }\n    }\n    setPlaceHolder(placeHolder) {\n        this.placeholder = placeHolder;\n        this.input.setAttribute('placeholder', placeHolder);\n    }\n    setTooltip(tooltip) {\n        this.tooltip = tooltip;\n        this.input.title = tooltip;\n    }\n    setAriaLabel(label) {\n        this.ariaLabel = label;\n        if (label) {\n            this.input.setAttribute('aria-label', this.ariaLabel);\n        }\n        else {\n            this.input.removeAttribute('aria-label');\n        }\n    }\n    getAriaLabel() {\n        return this.ariaLabel;\n    }\n    get inputElement() {\n        return this.input;\n    }\n    get value() {\n        return this.input.value;\n    }\n    set value(newValue) {\n        if (this.input.value !== newValue) {\n            this.input.value = newValue;\n            this.onValueChange();\n        }\n    }\n    get height() {\n        return typeof this.cachedHeight === 'number' ? this.cachedHeight : dom.getTotalHeight(this.element);\n    }\n    focus() {\n        this.input.focus();\n    }\n    blur() {\n        this.input.blur();\n    }\n    hasFocus() {\n        return document.activeElement === this.input;\n    }\n    select(range = null) {\n        this.input.select();\n        if (range) {\n            this.input.setSelectionRange(range.start, range.end);\n            if (range.end === this.input.value.length) {\n                this.input.scrollLeft = this.input.scrollWidth;\n            }\n        }\n    }\n    isSelectionAtEnd() {\n        return this.input.selectionEnd === this.input.value.length && this.input.selectionStart === this.input.selectionEnd;\n    }\n    enable() {\n        this.input.removeAttribute('disabled');\n    }\n    disable() {\n        this.blur();\n        this.input.disabled = true;\n        this._hideMessage();\n    }\n    get width() {\n        return dom.getTotalWidth(this.input);\n    }\n    set width(width) {\n        if (this.options.flexibleHeight && this.options.flexibleWidth) {\n            // textarea with horizontal scrolling\n            let horizontalPadding = 0;\n            if (this.mirror) {\n                const paddingLeft = parseFloat(this.mirror.style.paddingLeft || '') || 0;\n                const paddingRight = parseFloat(this.mirror.style.paddingRight || '') || 0;\n                horizontalPadding = paddingLeft + paddingRight;\n            }\n            this.input.style.width = (width - horizontalPadding) + 'px';\n        }\n        else {\n            this.input.style.width = width + 'px';\n        }\n        if (this.mirror) {\n            this.mirror.style.width = width + 'px';\n        }\n    }\n    set paddingRight(paddingRight) {\n        // Set width to avoid hint text overlapping buttons\n        this.input.style.width = `calc(100% - ${paddingRight}px)`;\n        if (this.mirror) {\n            this.mirror.style.paddingRight = paddingRight + 'px';\n        }\n    }\n    updateScrollDimensions() {\n        if (typeof this.cachedContentHeight !== 'number' || typeof this.cachedHeight !== 'number' || !this.scrollableElement) {\n            return;\n        }\n        const scrollHeight = this.cachedContentHeight;\n        const height = this.cachedHeight;\n        const scrollTop = this.input.scrollTop;\n        this.scrollableElement.setScrollDimensions({ scrollHeight, height });\n        this.scrollableElement.setScrollPosition({ scrollTop });\n    }\n    showMessage(message, force) {\n        this.message = message;\n        this.element.classList.remove('idle');\n        this.element.classList.remove('info');\n        this.element.classList.remove('warning');\n        this.element.classList.remove('error');\n        this.element.classList.add(this.classForType(message.type));\n        const styles = this.stylesForType(this.message.type);\n        this.element.style.border = styles.border ? `1px solid ${styles.border}` : '';\n        if (this.hasFocus() || force) {\n            this._showMessage();\n        }\n    }\n    hideMessage() {\n        this.message = null;\n        this.element.classList.remove('info');\n        this.element.classList.remove('warning');\n        this.element.classList.remove('error');\n        this.element.classList.add('idle');\n        this._hideMessage();\n        this.applyStyles();\n    }\n    validate() {\n        let errorMsg = null;\n        if (this.validation) {\n            errorMsg = this.validation(this.value);\n            if (errorMsg) {\n                this.inputElement.setAttribute('aria-invalid', 'true');\n                this.showMessage(errorMsg);\n            }\n            else if (this.inputElement.hasAttribute('aria-invalid')) {\n                this.inputElement.removeAttribute('aria-invalid');\n                this.hideMessage();\n            }\n        }\n        return errorMsg === null || errorMsg === void 0 ? void 0 : errorMsg.type;\n    }\n    stylesForType(type) {\n        switch (type) {\n            case 1 /* MessageType.INFO */: return { border: this.inputValidationInfoBorder, background: this.inputValidationInfoBackground, foreground: this.inputValidationInfoForeground };\n            case 2 /* MessageType.WARNING */: return { border: this.inputValidationWarningBorder, background: this.inputValidationWarningBackground, foreground: this.inputValidationWarningForeground };\n            default: return { border: this.inputValidationErrorBorder, background: this.inputValidationErrorBackground, foreground: this.inputValidationErrorForeground };\n        }\n    }\n    classForType(type) {\n        switch (type) {\n            case 1 /* MessageType.INFO */: return 'info';\n            case 2 /* MessageType.WARNING */: return 'warning';\n            default: return 'error';\n        }\n    }\n    _showMessage() {\n        if (!this.contextViewProvider || !this.message) {\n            return;\n        }\n        let div;\n        const layout = () => div.style.width = dom.getTotalWidth(this.element) + 'px';\n        this.contextViewProvider.showContextView({\n            getAnchor: () => this.element,\n            anchorAlignment: 1 /* AnchorAlignment.RIGHT */,\n            render: (container) => {\n                if (!this.message) {\n                    return null;\n                }\n                div = dom.append(container, $('.monaco-inputbox-container'));\n                layout();\n                const renderOptions = {\n                    inline: true,\n                    className: 'monaco-inputbox-message'\n                };\n                const spanElement = (this.message.formatContent\n                    ? renderFormattedText(this.message.content, renderOptions)\n                    : renderText(this.message.content, renderOptions));\n                spanElement.classList.add(this.classForType(this.message.type));\n                const styles = this.stylesForType(this.message.type);\n                spanElement.style.backgroundColor = styles.background ? styles.background.toString() : '';\n                spanElement.style.color = styles.foreground ? styles.foreground.toString() : '';\n                spanElement.style.border = styles.border ? `1px solid ${styles.border}` : '';\n                dom.append(div, spanElement);\n                return null;\n            },\n            onHide: () => {\n                this.state = 'closed';\n            },\n            layout: layout\n        });\n        // ARIA Support\n        let alertText;\n        if (this.message.type === 3 /* MessageType.ERROR */) {\n            alertText = nls.localize('alertErrorMessage', \"Error: {0}\", this.message.content);\n        }\n        else if (this.message.type === 2 /* MessageType.WARNING */) {\n            alertText = nls.localize('alertWarningMessage', \"Warning: {0}\", this.message.content);\n        }\n        else {\n            alertText = nls.localize('alertInfoMessage', \"Info: {0}\", this.message.content);\n        }\n        aria.alert(alertText);\n        this.state = 'open';\n    }\n    _hideMessage() {\n        if (!this.contextViewProvider) {\n            return;\n        }\n        if (this.state === 'open') {\n            this.contextViewProvider.hideContextView();\n        }\n        this.state = 'idle';\n    }\n    onValueChange() {\n        this._onDidChange.fire(this.value);\n        this.validate();\n        this.updateMirror();\n        this.input.classList.toggle('empty', !this.value);\n        if (this.state === 'open' && this.contextViewProvider) {\n            this.contextViewProvider.layout();\n        }\n    }\n    updateMirror() {\n        if (!this.mirror) {\n            return;\n        }\n        const value = this.value;\n        const lastCharCode = value.charCodeAt(value.length - 1);\n        const suffix = lastCharCode === 10 ? ' ' : '';\n        const mirrorTextContent = (value + suffix)\n            .replace(/\\u000c/g, ''); // Don't measure with the form feed character, which messes up sizing\n        if (mirrorTextContent) {\n            this.mirror.textContent = value + suffix;\n        }\n        else {\n            this.mirror.innerText = '\\u00a0';\n        }\n        this.layout();\n    }\n    style(styles) {\n        this.inputBackground = styles.inputBackground;\n        this.inputForeground = styles.inputForeground;\n        this.inputBorder = styles.inputBorder;\n        this.inputValidationInfoBackground = styles.inputValidationInfoBackground;\n        this.inputValidationInfoForeground = styles.inputValidationInfoForeground;\n        this.inputValidationInfoBorder = styles.inputValidationInfoBorder;\n        this.inputValidationWarningBackground = styles.inputValidationWarningBackground;\n        this.inputValidationWarningForeground = styles.inputValidationWarningForeground;\n        this.inputValidationWarningBorder = styles.inputValidationWarningBorder;\n        this.inputValidationErrorBackground = styles.inputValidationErrorBackground;\n        this.inputValidationErrorForeground = styles.inputValidationErrorForeground;\n        this.inputValidationErrorBorder = styles.inputValidationErrorBorder;\n        this.applyStyles();\n    }\n    applyStyles() {\n        const background = this.inputBackground ? this.inputBackground.toString() : '';\n        const foreground = this.inputForeground ? this.inputForeground.toString() : '';\n        const border = this.inputBorder ? this.inputBorder.toString() : '';\n        this.element.style.backgroundColor = background;\n        this.element.style.color = foreground;\n        this.input.style.backgroundColor = 'inherit';\n        this.input.style.color = foreground;\n        this.element.style.borderWidth = border ? '1px' : '';\n        this.element.style.borderStyle = border ? 'solid' : '';\n        this.element.style.borderColor = border;\n    }\n    layout() {\n        if (!this.mirror) {\n            return;\n        }\n        const previousHeight = this.cachedContentHeight;\n        this.cachedContentHeight = dom.getTotalHeight(this.mirror);\n        if (previousHeight !== this.cachedContentHeight) {\n            this.cachedHeight = Math.min(this.cachedContentHeight, this.maxHeight);\n            this.input.style.height = this.cachedHeight + 'px';\n            this._onDidHeightChange.fire(this.cachedContentHeight);\n        }\n    }\n    insertAtCursor(text) {\n        const inputElement = this.inputElement;\n        const start = inputElement.selectionStart;\n        const end = inputElement.selectionEnd;\n        const content = inputElement.value;\n        if (start !== null && end !== null) {\n            this.value = content.substr(0, start) + text + content.substr(end);\n            inputElement.setSelectionRange(start + 1, start + 1);\n            this.layout();\n        }\n    }\n    dispose() {\n        this._hideMessage();\n        this.message = null;\n        if (this.actionbar) {\n            this.actionbar.dispose();\n        }\n        super.dispose();\n    }\n}\nexport class HistoryInputBox extends InputBox {\n    constructor(container, contextViewProvider, options) {\n        const NLS_PLACEHOLDER_HISTORY_HINT = nls.localize({ key: 'history.inputbox.hint', comment: ['Text will be prefixed with \\u21C5 plus a single space, then used as a hint where input field keeps history'] }, \"for history\");\n        const NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX = ` or \\u21C5 ${NLS_PLACEHOLDER_HISTORY_HINT}`;\n        const NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS = ` (\\u21C5 ${NLS_PLACEHOLDER_HISTORY_HINT})`;\n        super(container, contextViewProvider, options);\n        this._onDidFocus = this._register(new Emitter());\n        this.onDidFocus = this._onDidFocus.event;\n        this._onDidBlur = this._register(new Emitter());\n        this.onDidBlur = this._onDidBlur.event;\n        this.history = new HistoryNavigator(options.history, 100);\n        // Function to append the history suffix to the placeholder if necessary\n        const addSuffix = () => {\n            if (options.showHistoryHint && options.showHistoryHint() && !this.placeholder.endsWith(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX) && !this.placeholder.endsWith(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS) && this.history.getHistory().length) {\n                const suffix = this.placeholder.endsWith(')') ? NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX : NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS;\n                const suffixedPlaceholder = this.placeholder + suffix;\n                if (options.showPlaceholderOnFocus && document.activeElement !== this.input) {\n                    this.placeholder = suffixedPlaceholder;\n                }\n                else {\n                    this.setPlaceHolder(suffixedPlaceholder);\n                }\n            }\n        };\n        // Spot the change to the textarea class attribute which occurs when it changes between non-empty and empty,\n        // and add the history suffix to the placeholder if not yet present\n        this.observer = new MutationObserver((mutationList, observer) => {\n            mutationList.forEach((mutation) => {\n                if (!mutation.target.textContent) {\n                    addSuffix();\n                }\n            });\n        });\n        this.observer.observe(this.input, { attributeFilter: ['class'] });\n        this.onfocus(this.input, () => addSuffix());\n        this.onblur(this.input, () => {\n            const resetPlaceholder = (historyHint) => {\n                if (!this.placeholder.endsWith(historyHint)) {\n                    return false;\n                }\n                else {\n                    const revertedPlaceholder = this.placeholder.slice(0, this.placeholder.length - historyHint.length);\n                    if (options.showPlaceholderOnFocus) {\n                        this.placeholder = revertedPlaceholder;\n                    }\n                    else {\n                        this.setPlaceHolder(revertedPlaceholder);\n                    }\n                    return true;\n                }\n            };\n            if (!resetPlaceholder(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS)) {\n                resetPlaceholder(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX);\n            }\n        });\n    }\n    dispose() {\n        super.dispose();\n        if (this.observer) {\n            this.observer.disconnect();\n            this.observer = undefined;\n        }\n    }\n    addToHistory() {\n        if (this.value && this.value !== this.getCurrentValue()) {\n            this.history.add(this.value);\n        }\n    }\n    showNextValue() {\n        if (!this.history.has(this.value)) {\n            this.addToHistory();\n        }\n        let next = this.getNextValue();\n        if (next) {\n            next = next === this.value ? this.getNextValue() : next;\n        }\n        if (next) {\n            this.value = next;\n            aria.status(this.value);\n        }\n    }\n    showPreviousValue() {\n        if (!this.history.has(this.value)) {\n            this.addToHistory();\n        }\n        let previous = this.getPreviousValue();\n        if (previous) {\n            previous = previous === this.value ? this.getPreviousValue() : previous;\n        }\n        if (previous) {\n            this.value = previous;\n            aria.status(this.value);\n        }\n    }\n    onBlur() {\n        super.onBlur();\n        this._onDidBlur.fire();\n    }\n    onFocus() {\n        super.onFocus();\n        this._onDidFocus.fire();\n    }\n    getCurrentValue() {\n        let currentValue = this.history.current();\n        if (!currentValue) {\n            currentValue = this.history.last();\n            this.history.next();\n        }\n        return currentValue;\n    }\n    getPreviousValue() {\n        return this.history.previous() || this.history.first();\n    }\n    getNextValue() {\n        return this.history.next() || this.history.last();\n    }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA,OAAO,KAAKA,GAAG,MAAM,cAAc;AACnC,SAASC,UAAU,QAAQ,gBAAgB;AAC3C,SAASC,mBAAmB,EAAEC,UAAU,QAAQ,gCAAgC;AAChF,SAASC,SAAS,QAAQ,2BAA2B;AACrD,OAAO,KAAKC,IAAI,MAAM,iBAAiB;AACvC,SAASC,iBAAiB,QAAQ,mCAAmC;AACrE,SAASC,MAAM,QAAQ,cAAc;AACrC,SAASC,KAAK,QAAQ,0BAA0B;AAChD,SAASC,OAAO,EAAEC,KAAK,QAAQ,0BAA0B;AACzD,SAASC,gBAAgB,QAAQ,4BAA4B;AAC7D,SAASC,KAAK,QAAQ,4BAA4B;AAClD,OAAO,gBAAgB;AACvB,OAAO,KAAKC,GAAG,MAAM,oBAAoB;AACzC,IAAMC,CAAC,GAAGd,GAAG,CAACc,CAAC;AACf,IAAMC,WAAW,GAAG;EAChBC,eAAe,EAAER,KAAK,CAACS,OAAO,CAAC,SAAS,CAAC;EACzCC,eAAe,EAAEV,KAAK,CAACS,OAAO,CAAC,SAAS,CAAC;EACzCE,yBAAyB,EAAEX,KAAK,CAACS,OAAO,CAAC,SAAS,CAAC;EACnDG,6BAA6B,EAAEZ,KAAK,CAACS,OAAO,CAAC,SAAS,CAAC;EACvDI,4BAA4B,EAAEb,KAAK,CAACS,OAAO,CAAC,SAAS,CAAC;EACtDK,gCAAgC,EAAEd,KAAK,CAACS,OAAO,CAAC,SAAS,CAAC;EAC1DM,0BAA0B,EAAEf,KAAK,CAACS,OAAO,CAAC,SAAS,CAAC;EACpDO,8BAA8B,EAAEhB,KAAK,CAACS,OAAO,CAAC,SAAS;AAC3D,CAAC;AACD,WAAaQ,QAAQ;EAAA;EAAA;EACjB,kBAAYC,SAAS,EAAEC,mBAAmB,EAAEC,OAAO,EAAE;IAAA;IAAA;IACjD,IAAIC,EAAE;IACN;IACA,MAAKC,KAAK,GAAG,MAAM;IACnB,MAAKC,SAAS,GAAGC,MAAM,CAACC,iBAAiB;IACzC,MAAKC,YAAY,GAAG,MAAKC,SAAS,CAAC,IAAI1B,OAAO,EAAE,CAAC;IACjD,MAAK2B,WAAW,GAAG,MAAKF,YAAY,CAACG,KAAK;IAC1C,MAAKC,kBAAkB,GAAG,MAAKH,SAAS,CAAC,IAAI1B,OAAO,EAAE,CAAC;IACvD,MAAK8B,iBAAiB,GAAG,MAAKD,kBAAkB,CAACD,KAAK;IACtD,MAAKV,mBAAmB,GAAGA,mBAAmB;IAC9C,MAAKC,OAAO,GAAGA,OAAO,IAAIY,MAAM,CAACC,MAAM,CAAC,IAAI,CAAC;IAC7C7B,KAAK,CAAC,MAAKgB,OAAO,EAAEb,WAAW,EAAE,KAAK,CAAC;IACvC,MAAK2B,OAAO,GAAG,IAAI;IACnB,MAAKC,WAAW,GAAG,MAAKf,OAAO,CAACe,WAAW,IAAI,EAAE;IACjD,MAAKC,OAAO,GAAG,CAACf,EAAE,GAAG,MAAKD,OAAO,CAACgB,OAAO,MAAM,IAAI,IAAIf,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAI,MAAKc,WAAW,IAAI,EAAG;IACpG,MAAKE,SAAS,GAAG,MAAKjB,OAAO,CAACiB,SAAS,IAAI,EAAE;IAC7C,MAAK7B,eAAe,GAAG,MAAKY,OAAO,CAACZ,eAAe;IACnD,MAAKE,eAAe,GAAG,MAAKU,OAAO,CAACV,eAAe;IACnD,MAAK4B,WAAW,GAAG,MAAKlB,OAAO,CAACkB,WAAW;IAC3C,MAAK3B,yBAAyB,GAAG,MAAKS,OAAO,CAACT,yBAAyB;IACvE,MAAKC,6BAA6B,GAAG,MAAKQ,OAAO,CAACR,6BAA6B;IAC/E,MAAK2B,6BAA6B,GAAG,MAAKnB,OAAO,CAACmB,6BAA6B;IAC/E,MAAK1B,4BAA4B,GAAG,MAAKO,OAAO,CAACP,4BAA4B;IAC7E,MAAKC,gCAAgC,GAAG,MAAKM,OAAO,CAACN,gCAAgC;IACrF,MAAK0B,gCAAgC,GAAG,MAAKpB,OAAO,CAACoB,gCAAgC;IACrF,MAAKzB,0BAA0B,GAAG,MAAKK,OAAO,CAACL,0BAA0B;IACzE,MAAKC,8BAA8B,GAAG,MAAKI,OAAO,CAACJ,8BAA8B;IACjF,MAAKyB,8BAA8B,GAAG,MAAKrB,OAAO,CAACqB,8BAA8B;IACjF,IAAI,MAAKrB,OAAO,CAACsB,iBAAiB,EAAE;MAChC,MAAKC,UAAU,GAAG,MAAKvB,OAAO,CAACsB,iBAAiB,CAACC,UAAU;IAC/D;IACA,MAAKC,OAAO,GAAGpD,GAAG,CAACqD,MAAM,CAAC3B,SAAS,EAAEZ,CAAC,CAAC,uBAAuB,CAAC,CAAC;IAChE,IAAMwC,OAAO,GAAG,MAAK1B,OAAO,CAAC2B,cAAc,GAAG,UAAU,GAAG,OAAO;IAClE,IAAMC,OAAO,GAAGxD,GAAG,CAACqD,MAAM,CAAC,MAAKD,OAAO,EAAEtC,CAAC,CAAC,YAAY,CAAC,CAAC;IACzD,MAAK2C,KAAK,GAAGzD,GAAG,CAACqD,MAAM,CAACG,OAAO,EAAE1C,CAAC,CAACwC,OAAO,GAAG,cAAc,CAAC,CAAC;IAC7D,MAAKG,KAAK,CAACC,YAAY,CAAC,aAAa,EAAE,KAAK,CAAC;IAC7C,MAAKD,KAAK,CAACC,YAAY,CAAC,gBAAgB,EAAE,KAAK,CAAC;IAChD,MAAKD,KAAK,CAACC,YAAY,CAAC,YAAY,EAAE,OAAO,CAAC;IAC9C,MAAKC,OAAO,CAAC,MAAKF,KAAK,EAAE;MAAA,OAAM,MAAKL,OAAO,CAACQ,SAAS,CAACC,GAAG,CAAC,iBAAiB,CAAC;IAAA,EAAC;IAC7E,MAAKC,MAAM,CAAC,MAAKL,KAAK,EAAE;MAAA,OAAM,MAAKL,OAAO,CAACQ,SAAS,CAACG,MAAM,CAAC,iBAAiB,CAAC;IAAA,EAAC;IAC/E,IAAI,MAAKnC,OAAO,CAAC2B,cAAc,EAAE;MAC7B,MAAKxB,SAAS,GAAG,OAAO,MAAKH,OAAO,CAACoC,iBAAiB,KAAK,QAAQ,GAAG,MAAKpC,OAAO,CAACoC,iBAAiB,GAAGhC,MAAM,CAACC,iBAAiB;MAC/H,MAAKgC,MAAM,GAAGjE,GAAG,CAACqD,MAAM,CAACG,OAAO,EAAE1C,CAAC,CAAC,YAAY,CAAC,CAAC;MAClD,MAAKmD,MAAM,CAACC,SAAS,GAAG,MAAQ;MAChC,MAAKC,iBAAiB,GAAG,IAAI7D,iBAAiB,CAAC,MAAK8C,OAAO,EAAE;QAAEgB,QAAQ,EAAE,CAAC,CAAC;MAA+B,CAAC,CAAC;MAC5G,IAAI,MAAKxC,OAAO,CAACyC,aAAa,EAAE;QAC5B,MAAKZ,KAAK,CAACC,YAAY,CAAC,MAAM,EAAE,KAAK,CAAC;QACtC,MAAKO,MAAM,CAACK,KAAK,CAACC,UAAU,GAAG,KAAK;QACpC,MAAKN,MAAM,CAACK,KAAK,CAACE,QAAQ,GAAG,SAAS;MAC1C;MACAxE,GAAG,CAACqD,MAAM,CAAC3B,SAAS,EAAE,MAAKyC,iBAAiB,CAACM,UAAU,EAAE,CAAC;MAC1D,MAAKtC,SAAS,CAAC,MAAKgC,iBAAiB,CAAC;MACtC;MACA,MAAKhC,SAAS,CAAC,MAAKgC,iBAAiB,CAACO,QAAQ,CAAC,UAAAC,CAAC;QAAA,OAAI,MAAKlB,KAAK,CAACmB,SAAS,GAAGD,CAAC,CAACC,SAAS;MAAA,EAAC,CAAC;MACxF,IAAMC,iBAAiB,GAAG,MAAK1C,SAAS,CAAC,IAAIlC,UAAU,CAAC6E,QAAQ,EAAE,iBAAiB,CAAC,CAAC;MACrF,IAAMC,yBAAyB,GAAGrE,KAAK,CAACsE,MAAM,CAACH,iBAAiB,CAACxC,KAAK,EAAE,YAAM;QAC1E,IAAM4C,SAAS,GAAGH,QAAQ,CAACI,YAAY,EAAE;QACzC,OAAO,CAACD,SAAS,KAAK,IAAI,IAAIA,SAAS,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACE,UAAU,MAAM3B,OAAO;MACnG,CAAC,CAAC;MACF;MACA,MAAKrB,SAAS,CAAC4C,yBAAyB,CAAC,MAAKK,sBAAsB,gCAAO,CAAC;MAC5E,MAAKjD,SAAS,CAAC,MAAKI,iBAAiB,CAAC,MAAK6C,sBAAsB,gCAAO,CAAC;IAC7E,CAAC,MACI;MACD,MAAK3B,KAAK,CAAC4B,IAAI,GAAG,MAAKzD,OAAO,CAACyD,IAAI,IAAI,MAAM;MAC7C,MAAK5B,KAAK,CAACC,YAAY,CAAC,MAAM,EAAE,KAAK,CAAC;IAC1C;IACA,IAAI,MAAKb,SAAS,EAAE;MAChB,MAAKY,KAAK,CAACC,YAAY,CAAC,YAAY,EAAE,MAAKb,SAAS,CAAC;IACzD;IACA,IAAI,MAAKF,WAAW,IAAI,CAAC,MAAKf,OAAO,CAAC0D,sBAAsB,EAAE;MAC1D,MAAKC,cAAc,CAAC,MAAK5C,WAAW,CAAC;IACzC;IACA,IAAI,MAAKC,OAAO,EAAE;MACd,MAAK4C,UAAU,CAAC,MAAK5C,OAAO,CAAC;IACjC;IACA,MAAK6C,OAAO,CAAC,MAAKhC,KAAK,EAAE;MAAA,OAAM,MAAKiC,aAAa,EAAE;IAAA,EAAC;IACpD,MAAK5B,MAAM,CAAC,MAAKL,KAAK,EAAE;MAAA,OAAM,MAAKkC,MAAM,EAAE;IAAA,EAAC;IAC5C,MAAKhC,OAAO,CAAC,MAAKF,KAAK,EAAE;MAAA,OAAM,MAAKmC,OAAO,EAAE;IAAA,EAAC;IAC9C,MAAKC,aAAa,CAAC,MAAKpC,KAAK,CAAC;IAC9BqC,UAAU,CAAC;MAAA,OAAM,MAAKC,YAAY,EAAE;IAAA,GAAE,CAAC,CAAC;IACxC;IACA,IAAI,MAAKnE,OAAO,CAACoE,OAAO,EAAE;MACtB,MAAKC,SAAS,GAAG,MAAK9D,SAAS,CAAC,IAAI/B,SAAS,CAAC,MAAKgD,OAAO,CAAC,CAAC;MAC5D,MAAK6C,SAAS,CAACC,IAAI,CAAC,MAAKtE,OAAO,CAACoE,OAAO,EAAE;QAAEG,IAAI,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAM,CAAC,CAAC;IAC3E;IACA,MAAKC,WAAW,EAAE;IAAC;EACvB;EAAC;IAAA;IAAA,OACD,kBAAS;MACL,IAAI,CAACC,YAAY,EAAE;MACnB,IAAI,IAAI,CAAC1E,OAAO,CAAC0D,sBAAsB,EAAE;QACrC,IAAI,CAAC7B,KAAK,CAACC,YAAY,CAAC,aAAa,EAAE,EAAE,CAAC;MAC9C;IACJ;EAAC;IAAA;IAAA,OACD,mBAAU;MACN,IAAI,CAAC6C,YAAY,EAAE;MACnB,IAAI,IAAI,CAAC3E,OAAO,CAAC0D,sBAAsB,EAAE;QACrC,IAAI,CAAC7B,KAAK,CAACC,YAAY,CAAC,aAAa,EAAE,IAAI,CAACf,WAAW,IAAI,EAAE,CAAC;MAClE;IACJ;EAAC;IAAA;IAAA,OACD,wBAAe6D,WAAW,EAAE;MACxB,IAAI,CAAC7D,WAAW,GAAG6D,WAAW;MAC9B,IAAI,CAAC/C,KAAK,CAACC,YAAY,CAAC,aAAa,EAAE8C,WAAW,CAAC;IACvD;EAAC;IAAA;IAAA,OACD,oBAAW5D,OAAO,EAAE;MAChB,IAAI,CAACA,OAAO,GAAGA,OAAO;MACtB,IAAI,CAACa,KAAK,CAACgD,KAAK,GAAG7D,OAAO;IAC9B;EAAC;IAAA;IAAA,OACD,sBAAawD,KAAK,EAAE;MAChB,IAAI,CAACvD,SAAS,GAAGuD,KAAK;MACtB,IAAIA,KAAK,EAAE;QACP,IAAI,CAAC3C,KAAK,CAACC,YAAY,CAAC,YAAY,EAAE,IAAI,CAACb,SAAS,CAAC;MACzD,CAAC,MACI;QACD,IAAI,CAACY,KAAK,CAACiD,eAAe,CAAC,YAAY,CAAC;MAC5C;IACJ;EAAC;IAAA;IAAA,OACD,wBAAe;MACX,OAAO,IAAI,CAAC7D,SAAS;IACzB;EAAC;IAAA;IAAA,KACD,eAAmB;MACf,OAAO,IAAI,CAACY,KAAK;IACrB;EAAC;IAAA;IAAA,KACD,eAAY;MACR,OAAO,IAAI,CAACA,KAAK,CAACkD,KAAK;IAC3B,CAAC;IAAA,KACD,aAAUC,QAAQ,EAAE;MAChB,IAAI,IAAI,CAACnD,KAAK,CAACkD,KAAK,KAAKC,QAAQ,EAAE;QAC/B,IAAI,CAACnD,KAAK,CAACkD,KAAK,GAAGC,QAAQ;QAC3B,IAAI,CAAClB,aAAa,EAAE;MACxB;IACJ;EAAC;IAAA;IAAA,KACD,eAAa;MACT,OAAO,OAAO,IAAI,CAACmB,YAAY,KAAK,QAAQ,GAAG,IAAI,CAACA,YAAY,GAAG7G,GAAG,CAAC8G,cAAc,CAAC,IAAI,CAAC1D,OAAO,CAAC;IACvG;EAAC;IAAA;IAAA,OACD,iBAAQ;MACJ,IAAI,CAACK,KAAK,CAACsD,KAAK,EAAE;IACtB;EAAC;IAAA;IAAA,OACD,gBAAO;MACH,IAAI,CAACtD,KAAK,CAACuD,IAAI,EAAE;IACrB;EAAC;IAAA;IAAA,OACD,oBAAW;MACP,OAAOlC,QAAQ,CAACmC,aAAa,KAAK,IAAI,CAACxD,KAAK;IAChD;EAAC;IAAA;IAAA,OACD,kBAAqB;MAAA,IAAdyD,KAAK,uEAAG,IAAI;MACf,IAAI,CAACzD,KAAK,CAAC0D,MAAM,EAAE;MACnB,IAAID,KAAK,EAAE;QACP,IAAI,CAACzD,KAAK,CAAC2D,iBAAiB,CAACF,KAAK,CAACG,KAAK,EAAEH,KAAK,CAACI,GAAG,CAAC;QACpD,IAAIJ,KAAK,CAACI,GAAG,KAAK,IAAI,CAAC7D,KAAK,CAACkD,KAAK,CAACY,MAAM,EAAE;UACvC,IAAI,CAAC9D,KAAK,CAAC+D,UAAU,GAAG,IAAI,CAAC/D,KAAK,CAACgE,WAAW;QAClD;MACJ;IACJ;EAAC;IAAA;IAAA,OACD,4BAAmB;MACf,OAAO,IAAI,CAAChE,KAAK,CAACiE,YAAY,KAAK,IAAI,CAACjE,KAAK,CAACkD,KAAK,CAACY,MAAM,IAAI,IAAI,CAAC9D,KAAK,CAACkE,cAAc,KAAK,IAAI,CAAClE,KAAK,CAACiE,YAAY;IACvH;EAAC;IAAA;IAAA,OACD,kBAAS;MACL,IAAI,CAACjE,KAAK,CAACiD,eAAe,CAAC,UAAU,CAAC;IAC1C;EAAC;IAAA;IAAA,OACD,mBAAU;MACN,IAAI,CAACM,IAAI,EAAE;MACX,IAAI,CAACvD,KAAK,CAACmE,QAAQ,GAAG,IAAI;MAC1B,IAAI,CAACtB,YAAY,EAAE;IACvB;EAAC;IAAA;IAAA,KACD,eAAY;MACR,OAAOtG,GAAG,CAAC6H,aAAa,CAAC,IAAI,CAACpE,KAAK,CAAC;IACxC,CAAC;IAAA,KACD,aAAUqE,KAAK,EAAE;MACb,IAAI,IAAI,CAAClG,OAAO,CAAC2B,cAAc,IAAI,IAAI,CAAC3B,OAAO,CAACyC,aAAa,EAAE;QAC3D;QACA,IAAI0D,iBAAiB,GAAG,CAAC;QACzB,IAAI,IAAI,CAAC9D,MAAM,EAAE;UACb,IAAM+D,WAAW,GAAGC,UAAU,CAAC,IAAI,CAAChE,MAAM,CAACK,KAAK,CAAC0D,WAAW,IAAI,EAAE,CAAC,IAAI,CAAC;UACxE,IAAME,YAAY,GAAGD,UAAU,CAAC,IAAI,CAAChE,MAAM,CAACK,KAAK,CAAC4D,YAAY,IAAI,EAAE,CAAC,IAAI,CAAC;UAC1EH,iBAAiB,GAAGC,WAAW,GAAGE,YAAY;QAClD;QACA,IAAI,CAACzE,KAAK,CAACa,KAAK,CAACwD,KAAK,GAAIA,KAAK,GAAGC,iBAAiB,GAAI,IAAI;MAC/D,CAAC,MACI;QACD,IAAI,CAACtE,KAAK,CAACa,KAAK,CAACwD,KAAK,GAAGA,KAAK,GAAG,IAAI;MACzC;MACA,IAAI,IAAI,CAAC7D,MAAM,EAAE;QACb,IAAI,CAACA,MAAM,CAACK,KAAK,CAACwD,KAAK,GAAGA,KAAK,GAAG,IAAI;MAC1C;IACJ;EAAC;IAAA;IAAA,KACD,aAAiBI,YAAY,EAAE;MAC3B;MACA,IAAI,CAACzE,KAAK,CAACa,KAAK,CAACwD,KAAK,yBAAkBI,YAAY,QAAK;MACzD,IAAI,IAAI,CAACjE,MAAM,EAAE;QACb,IAAI,CAACA,MAAM,CAACK,KAAK,CAAC4D,YAAY,GAAGA,YAAY,GAAG,IAAI;MACxD;IACJ;EAAC;IAAA;IAAA,OACD,kCAAyB;MACrB,IAAI,OAAO,IAAI,CAACC,mBAAmB,KAAK,QAAQ,IAAI,OAAO,IAAI,CAACtB,YAAY,KAAK,QAAQ,IAAI,CAAC,IAAI,CAAC1C,iBAAiB,EAAE;QAClH;MACJ;MACA,IAAMiE,YAAY,GAAG,IAAI,CAACD,mBAAmB;MAC7C,IAAME,MAAM,GAAG,IAAI,CAACxB,YAAY;MAChC,IAAMjC,SAAS,GAAG,IAAI,CAACnB,KAAK,CAACmB,SAAS;MACtC,IAAI,CAACT,iBAAiB,CAACmE,mBAAmB,CAAC;QAAEF,YAAY,EAAZA,YAAY;QAAEC,MAAM,EAANA;MAAO,CAAC,CAAC;MACpE,IAAI,CAAClE,iBAAiB,CAACoE,iBAAiB,CAAC;QAAE3D,SAAS,EAATA;MAAU,CAAC,CAAC;IAC3D;EAAC;IAAA;IAAA,OACD,qBAAYlC,OAAO,EAAE8F,KAAK,EAAE;MACxB,IAAI,CAAC9F,OAAO,GAAGA,OAAO;MACtB,IAAI,CAACU,OAAO,CAACQ,SAAS,CAACG,MAAM,CAAC,MAAM,CAAC;MACrC,IAAI,CAACX,OAAO,CAACQ,SAAS,CAACG,MAAM,CAAC,MAAM,CAAC;MACrC,IAAI,CAACX,OAAO,CAACQ,SAAS,CAACG,MAAM,CAAC,SAAS,CAAC;MACxC,IAAI,CAACX,OAAO,CAACQ,SAAS,CAACG,MAAM,CAAC,OAAO,CAAC;MACtC,IAAI,CAACX,OAAO,CAACQ,SAAS,CAACC,GAAG,CAAC,IAAI,CAAC4E,YAAY,CAAC/F,OAAO,CAAC2C,IAAI,CAAC,CAAC;MAC3D,IAAMqD,MAAM,GAAG,IAAI,CAACC,aAAa,CAAC,IAAI,CAACjG,OAAO,CAAC2C,IAAI,CAAC;MACpD,IAAI,CAACjC,OAAO,CAACkB,KAAK,CAACsE,MAAM,GAAGF,MAAM,CAACE,MAAM,uBAAgBF,MAAM,CAACE,MAAM,IAAK,EAAE;MAC7E,IAAI,IAAI,CAACC,QAAQ,EAAE,IAAIL,KAAK,EAAE;QAC1B,IAAI,CAACjC,YAAY,EAAE;MACvB;IACJ;EAAC;IAAA;IAAA,OACD,uBAAc;MACV,IAAI,CAAC7D,OAAO,GAAG,IAAI;MACnB,IAAI,CAACU,OAAO,CAACQ,SAAS,CAACG,MAAM,CAAC,MAAM,CAAC;MACrC,IAAI,CAACX,OAAO,CAACQ,SAAS,CAACG,MAAM,CAAC,SAAS,CAAC;MACxC,IAAI,CAACX,OAAO,CAACQ,SAAS,CAACG,MAAM,CAAC,OAAO,CAAC;MACtC,IAAI,CAACX,OAAO,CAACQ,SAAS,CAACC,GAAG,CAAC,MAAM,CAAC;MAClC,IAAI,CAACyC,YAAY,EAAE;MACnB,IAAI,CAACD,WAAW,EAAE;IACtB;EAAC;IAAA;IAAA,OACD,oBAAW;MACP,IAAIyC,QAAQ,GAAG,IAAI;MACnB,IAAI,IAAI,CAAC3F,UAAU,EAAE;QACjB2F,QAAQ,GAAG,IAAI,CAAC3F,UAAU,CAAC,IAAI,CAACwD,KAAK,CAAC;QACtC,IAAImC,QAAQ,EAAE;UACV,IAAI,CAACC,YAAY,CAACrF,YAAY,CAAC,cAAc,EAAE,MAAM,CAAC;UACtD,IAAI,CAACsF,WAAW,CAACF,QAAQ,CAAC;QAC9B,CAAC,MACI,IAAI,IAAI,CAACC,YAAY,CAACE,YAAY,CAAC,cAAc,CAAC,EAAE;UACrD,IAAI,CAACF,YAAY,CAACrC,eAAe,CAAC,cAAc,CAAC;UACjD,IAAI,CAACwC,WAAW,EAAE;QACtB;MACJ;MACA,OAAOJ,QAAQ,KAAK,IAAI,IAAIA,QAAQ,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACzD,IAAI;IAC5E;EAAC;IAAA;IAAA,OACD,uBAAcA,IAAI,EAAE;MAChB,QAAQA,IAAI;QACR,KAAK,CAAC,CAAC;UAAwB,OAAO;YAAEuD,MAAM,EAAE,IAAI,CAACzH,yBAAyB;YAAEgI,UAAU,EAAE,IAAI,CAAC/H,6BAA6B;YAAEgI,UAAU,EAAE,IAAI,CAACrG;UAA8B,CAAC;QAChL,KAAK,CAAC,CAAC;UAA2B,OAAO;YAAE6F,MAAM,EAAE,IAAI,CAACvH,4BAA4B;YAAE8H,UAAU,EAAE,IAAI,CAAC7H,gCAAgC;YAAE8H,UAAU,EAAE,IAAI,CAACpG;UAAiC,CAAC;QAC5L;UAAS,OAAO;YAAE4F,MAAM,EAAE,IAAI,CAACrH,0BAA0B;YAAE4H,UAAU,EAAE,IAAI,CAAC3H,8BAA8B;YAAE4H,UAAU,EAAE,IAAI,CAACnG;UAA+B,CAAC;MAAC;IAEtK;EAAC;IAAA;IAAA,OACD,sBAAaoC,IAAI,EAAE;MACf,QAAQA,IAAI;QACR,KAAK,CAAC,CAAC;UAAwB,OAAO,MAAM;QAC5C,KAAK,CAAC,CAAC;UAA2B,OAAO,SAAS;QAClD;UAAS,OAAO,OAAO;MAAC;IAEhC;EAAC;IAAA;IAAA,OACD,wBAAe;MAAA;MACX,IAAI,CAAC,IAAI,CAAC1D,mBAAmB,IAAI,CAAC,IAAI,CAACe,OAAO,EAAE;QAC5C;MACJ;MACA,IAAI2G,GAAG;MACP,IAAMC,MAAM,GAAG,SAATA,MAAM;QAAA,OAASD,GAAG,CAAC/E,KAAK,CAACwD,KAAK,GAAG9H,GAAG,CAAC6H,aAAa,CAAC,MAAI,CAACzE,OAAO,CAAC,GAAG,IAAI;MAAA;MAC7E,IAAI,CAACzB,mBAAmB,CAAC4H,eAAe,CAAC;QACrCC,SAAS,EAAE;UAAA,OAAM,MAAI,CAACpG,OAAO;QAAA;QAC7BqG,eAAe,EAAE,CAAC,CAAC;QACnBC,MAAM,EAAE,gBAAChI,SAAS,EAAK;UACnB,IAAI,CAAC,MAAI,CAACgB,OAAO,EAAE;YACf,OAAO,IAAI;UACf;UACA2G,GAAG,GAAGrJ,GAAG,CAACqD,MAAM,CAAC3B,SAAS,EAAEZ,CAAC,CAAC,4BAA4B,CAAC,CAAC;UAC5DwI,MAAM,EAAE;UACR,IAAMK,aAAa,GAAG;YAClBC,MAAM,EAAE,IAAI;YACZC,SAAS,EAAE;UACf,CAAC;UACD,IAAMC,WAAW,GAAI,MAAI,CAACpH,OAAO,CAACqH,aAAa,GACzC7J,mBAAmB,CAAC,MAAI,CAACwC,OAAO,CAACsH,OAAO,EAAEL,aAAa,CAAC,GACxDxJ,UAAU,CAAC,MAAI,CAACuC,OAAO,CAACsH,OAAO,EAAEL,aAAa,CAAE;UACtDG,WAAW,CAAClG,SAAS,CAACC,GAAG,CAAC,MAAI,CAAC4E,YAAY,CAAC,MAAI,CAAC/F,OAAO,CAAC2C,IAAI,CAAC,CAAC;UAC/D,IAAMqD,MAAM,GAAG,MAAI,CAACC,aAAa,CAAC,MAAI,CAACjG,OAAO,CAAC2C,IAAI,CAAC;UACpDyE,WAAW,CAACxF,KAAK,CAAC2F,eAAe,GAAGvB,MAAM,CAACS,UAAU,GAAGT,MAAM,CAACS,UAAU,CAACe,QAAQ,EAAE,GAAG,EAAE;UACzFJ,WAAW,CAACxF,KAAK,CAAC6F,KAAK,GAAGzB,MAAM,CAACU,UAAU,GAAGV,MAAM,CAACU,UAAU,CAACc,QAAQ,EAAE,GAAG,EAAE;UAC/EJ,WAAW,CAACxF,KAAK,CAACsE,MAAM,GAAGF,MAAM,CAACE,MAAM,uBAAgBF,MAAM,CAACE,MAAM,IAAK,EAAE;UAC5E5I,GAAG,CAACqD,MAAM,CAACgG,GAAG,EAAES,WAAW,CAAC;UAC5B,OAAO,IAAI;QACf,CAAC;QACDM,MAAM,EAAE,kBAAM;UACV,MAAI,CAACtI,KAAK,GAAG,QAAQ;QACzB,CAAC;QACDwH,MAAM,EAAEA;MACZ,CAAC,CAAC;MACF;MACA,IAAIe,SAAS;MACb,IAAI,IAAI,CAAC3H,OAAO,CAAC2C,IAAI,KAAK,CAAC,CAAC,yBAAyB;QACjDgF,SAAS,GAAGxJ,GAAG,CAACyJ,QAAQ,CAAC,mBAAmB,EAAE,YAAY,EAAE,IAAI,CAAC5H,OAAO,CAACsH,OAAO,CAAC;MACrF,CAAC,MACI,IAAI,IAAI,CAACtH,OAAO,CAAC2C,IAAI,KAAK,CAAC,CAAC,2BAA2B;QACxDgF,SAAS,GAAGxJ,GAAG,CAACyJ,QAAQ,CAAC,qBAAqB,EAAE,cAAc,EAAE,IAAI,CAAC5H,OAAO,CAACsH,OAAO,CAAC;MACzF,CAAC,MACI;QACDK,SAAS,GAAGxJ,GAAG,CAACyJ,QAAQ,CAAC,kBAAkB,EAAE,WAAW,EAAE,IAAI,CAAC5H,OAAO,CAACsH,OAAO,CAAC;MACnF;MACA3J,IAAI,CAACkK,KAAK,CAACF,SAAS,CAAC;MACrB,IAAI,CAACvI,KAAK,GAAG,MAAM;IACvB;EAAC;IAAA;IAAA,OACD,wBAAe;MACX,IAAI,CAAC,IAAI,CAACH,mBAAmB,EAAE;QAC3B;MACJ;MACA,IAAI,IAAI,CAACG,KAAK,KAAK,MAAM,EAAE;QACvB,IAAI,CAACH,mBAAmB,CAAC6I,eAAe,EAAE;MAC9C;MACA,IAAI,CAAC1I,KAAK,GAAG,MAAM;IACvB;EAAC;IAAA;IAAA,OACD,yBAAgB;MACZ,IAAI,CAACI,YAAY,CAACuI,IAAI,CAAC,IAAI,CAAC9D,KAAK,CAAC;MAClC,IAAI,CAAC+D,QAAQ,EAAE;MACf,IAAI,CAAC3E,YAAY,EAAE;MACnB,IAAI,CAACtC,KAAK,CAACG,SAAS,CAAC+G,MAAM,CAAC,OAAO,EAAE,CAAC,IAAI,CAAChE,KAAK,CAAC;MACjD,IAAI,IAAI,CAAC7E,KAAK,KAAK,MAAM,IAAI,IAAI,CAACH,mBAAmB,EAAE;QACnD,IAAI,CAACA,mBAAmB,CAAC2H,MAAM,EAAE;MACrC;IACJ;EAAC;IAAA;IAAA,OACD,wBAAe;MACX,IAAI,CAAC,IAAI,CAACrF,MAAM,EAAE;QACd;MACJ;MACA,IAAM0C,KAAK,GAAG,IAAI,CAACA,KAAK;MACxB,IAAMiE,YAAY,GAAGjE,KAAK,CAACkE,UAAU,CAAClE,KAAK,CAACY,MAAM,GAAG,CAAC,CAAC;MACvD,IAAMuD,MAAM,GAAGF,YAAY,KAAK,EAAE,GAAG,GAAG,GAAG,EAAE;MAC7C,IAAMG,iBAAiB,GAAG,CAACpE,KAAK,GAAGmE,MAAM,EACpCE,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC,CAAC;MAC7B,IAAID,iBAAiB,EAAE;QACnB,IAAI,CAAC9G,MAAM,CAACgH,WAAW,GAAGtE,KAAK,GAAGmE,MAAM;MAC5C,CAAC,MACI;QACD,IAAI,CAAC7G,MAAM,CAACC,SAAS,GAAG,MAAQ;MACpC;MACA,IAAI,CAACoF,MAAM,EAAE;IACjB;EAAC;IAAA;IAAA,OACD,eAAMZ,MAAM,EAAE;MACV,IAAI,CAAC1H,eAAe,GAAG0H,MAAM,CAAC1H,eAAe;MAC7C,IAAI,CAACE,eAAe,GAAGwH,MAAM,CAACxH,eAAe;MAC7C,IAAI,CAAC4B,WAAW,GAAG4F,MAAM,CAAC5F,WAAW;MACrC,IAAI,CAAC1B,6BAA6B,GAAGsH,MAAM,CAACtH,6BAA6B;MACzE,IAAI,CAAC2B,6BAA6B,GAAG2F,MAAM,CAAC3F,6BAA6B;MACzE,IAAI,CAAC5B,yBAAyB,GAAGuH,MAAM,CAACvH,yBAAyB;MACjE,IAAI,CAACG,gCAAgC,GAAGoH,MAAM,CAACpH,gCAAgC;MAC/E,IAAI,CAAC0B,gCAAgC,GAAG0F,MAAM,CAAC1F,gCAAgC;MAC/E,IAAI,CAAC3B,4BAA4B,GAAGqH,MAAM,CAACrH,4BAA4B;MACvE,IAAI,CAACG,8BAA8B,GAAGkH,MAAM,CAAClH,8BAA8B;MAC3E,IAAI,CAACyB,8BAA8B,GAAGyF,MAAM,CAACzF,8BAA8B;MAC3E,IAAI,CAAC1B,0BAA0B,GAAGmH,MAAM,CAACnH,0BAA0B;MACnE,IAAI,CAAC8E,WAAW,EAAE;IACtB;EAAC;IAAA;IAAA,OACD,uBAAc;MACV,IAAM8C,UAAU,GAAG,IAAI,CAACnI,eAAe,GAAG,IAAI,CAACA,eAAe,CAACkJ,QAAQ,EAAE,GAAG,EAAE;MAC9E,IAAMd,UAAU,GAAG,IAAI,CAAClI,eAAe,GAAG,IAAI,CAACA,eAAe,CAACgJ,QAAQ,EAAE,GAAG,EAAE;MAC9E,IAAMtB,MAAM,GAAG,IAAI,CAAC9F,WAAW,GAAG,IAAI,CAACA,WAAW,CAACoH,QAAQ,EAAE,GAAG,EAAE;MAClE,IAAI,CAAC9G,OAAO,CAACkB,KAAK,CAAC2F,eAAe,GAAGd,UAAU;MAC/C,IAAI,CAAC/F,OAAO,CAACkB,KAAK,CAAC6F,KAAK,GAAGf,UAAU;MACrC,IAAI,CAAC3F,KAAK,CAACa,KAAK,CAAC2F,eAAe,GAAG,SAAS;MAC5C,IAAI,CAACxG,KAAK,CAACa,KAAK,CAAC6F,KAAK,GAAGf,UAAU;MACnC,IAAI,CAAChG,OAAO,CAACkB,KAAK,CAAC4G,WAAW,GAAGtC,MAAM,GAAG,KAAK,GAAG,EAAE;MACpD,IAAI,CAACxF,OAAO,CAACkB,KAAK,CAAC6G,WAAW,GAAGvC,MAAM,GAAG,OAAO,GAAG,EAAE;MACtD,IAAI,CAACxF,OAAO,CAACkB,KAAK,CAAC8G,WAAW,GAAGxC,MAAM;IAC3C;EAAC;IAAA;IAAA,OACD,kBAAS;MACL,IAAI,CAAC,IAAI,CAAC3E,MAAM,EAAE;QACd;MACJ;MACA,IAAMoH,cAAc,GAAG,IAAI,CAAClD,mBAAmB;MAC/C,IAAI,CAACA,mBAAmB,GAAGnI,GAAG,CAAC8G,cAAc,CAAC,IAAI,CAAC7C,MAAM,CAAC;MAC1D,IAAIoH,cAAc,KAAK,IAAI,CAAClD,mBAAmB,EAAE;QAC7C,IAAI,CAACtB,YAAY,GAAGyE,IAAI,CAACC,GAAG,CAAC,IAAI,CAACpD,mBAAmB,EAAE,IAAI,CAACpG,SAAS,CAAC;QACtE,IAAI,CAAC0B,KAAK,CAACa,KAAK,CAAC+D,MAAM,GAAG,IAAI,CAACxB,YAAY,GAAG,IAAI;QAClD,IAAI,CAACvE,kBAAkB,CAACmI,IAAI,CAAC,IAAI,CAACtC,mBAAmB,CAAC;MAC1D;IACJ;EAAC;IAAA;IAAA,OACD,wBAAeqD,IAAI,EAAE;MACjB,IAAMzC,YAAY,GAAG,IAAI,CAACA,YAAY;MACtC,IAAM1B,KAAK,GAAG0B,YAAY,CAACpB,cAAc;MACzC,IAAML,GAAG,GAAGyB,YAAY,CAACrB,YAAY;MACrC,IAAMsC,OAAO,GAAGjB,YAAY,CAACpC,KAAK;MAClC,IAAIU,KAAK,KAAK,IAAI,IAAIC,GAAG,KAAK,IAAI,EAAE;QAChC,IAAI,CAACX,KAAK,GAAGqD,OAAO,CAACyB,MAAM,CAAC,CAAC,EAAEpE,KAAK,CAAC,GAAGmE,IAAI,GAAGxB,OAAO,CAACyB,MAAM,CAACnE,GAAG,CAAC;QAClEyB,YAAY,CAAC3B,iBAAiB,CAACC,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAG,CAAC,CAAC;QACpD,IAAI,CAACiC,MAAM,EAAE;MACjB;IACJ;EAAC;IAAA;IAAA,OACD,mBAAU;MACN,IAAI,CAAChD,YAAY,EAAE;MACnB,IAAI,CAAC5D,OAAO,GAAG,IAAI;MACnB,IAAI,IAAI,CAACuD,SAAS,EAAE;QAChB,IAAI,CAACA,SAAS,CAACyF,OAAO,EAAE;MAC5B;MACA;IACJ;EAAC;EAAA;AAAA,EA3YyBnL,MAAM;AA6YpC,WAAaoL,eAAe;EAAA;EAAA;EACxB,yBAAYjK,SAAS,EAAEC,mBAAmB,EAAEC,OAAO,EAAE;IAAA;IAAA;IACjD,IAAMgK,4BAA4B,GAAG/K,GAAG,CAACyJ,QAAQ,CAAC;MAAEuB,GAAG,EAAE,uBAAuB;MAAEC,OAAO,EAAE,CAAC,4GAA4G;IAAE,CAAC,EAAE,aAAa,CAAC;IAC3N,IAAMC,mCAAmC,wBAAiBH,4BAA4B,CAAE;IACxF,IAAMI,6CAA6C,sBAAeJ,4BAA4B,MAAG;IACjG,4BAAMlK,SAAS,EAAEC,mBAAmB,EAAEC,OAAO;IAC7C,OAAKqK,WAAW,GAAG,OAAK9J,SAAS,CAAC,IAAI1B,OAAO,EAAE,CAAC;IAChD,OAAKyL,UAAU,GAAG,OAAKD,WAAW,CAAC5J,KAAK;IACxC,OAAK8J,UAAU,GAAG,OAAKhK,SAAS,CAAC,IAAI1B,OAAO,EAAE,CAAC;IAC/C,OAAK2L,SAAS,GAAG,OAAKD,UAAU,CAAC9J,KAAK;IACtC,OAAKgK,OAAO,GAAG,IAAI1L,gBAAgB,CAACiB,OAAO,CAACyK,OAAO,EAAE,GAAG,CAAC;IACzD;IACA,IAAMC,SAAS,GAAG,SAAZA,SAAS,GAAS;MACpB,IAAI1K,OAAO,CAAC2K,eAAe,IAAI3K,OAAO,CAAC2K,eAAe,EAAE,IAAI,CAAC,OAAK5J,WAAW,CAAC6J,QAAQ,CAACT,mCAAmC,CAAC,IAAI,CAAC,OAAKpJ,WAAW,CAAC6J,QAAQ,CAACR,6CAA6C,CAAC,IAAI,OAAKK,OAAO,CAACI,UAAU,EAAE,CAAClF,MAAM,EAAE;QAC1O,IAAMuD,MAAM,GAAG,OAAKnI,WAAW,CAAC6J,QAAQ,CAAC,GAAG,CAAC,GAAGT,mCAAmC,GAAGC,6CAA6C;QACnI,IAAMU,mBAAmB,GAAG,OAAK/J,WAAW,GAAGmI,MAAM;QACrD,IAAIlJ,OAAO,CAAC0D,sBAAsB,IAAIR,QAAQ,CAACmC,aAAa,KAAK,OAAKxD,KAAK,EAAE;UACzE,OAAKd,WAAW,GAAG+J,mBAAmB;QAC1C,CAAC,MACI;UACD,OAAKnH,cAAc,CAACmH,mBAAmB,CAAC;QAC5C;MACJ;IACJ,CAAC;IACD;IACA;IACA,OAAKC,QAAQ,GAAG,IAAIC,gBAAgB,CAAC,UAACC,YAAY,EAAEF,QAAQ,EAAK;MAC7DE,YAAY,CAACC,OAAO,CAAC,UAACC,QAAQ,EAAK;QAC/B,IAAI,CAACA,QAAQ,CAACC,MAAM,CAAC/B,WAAW,EAAE;UAC9BqB,SAAS,EAAE;QACf;MACJ,CAAC,CAAC;IACN,CAAC,CAAC;IACF,OAAKK,QAAQ,CAACM,OAAO,CAAC,OAAKxJ,KAAK,EAAE;MAAEyJ,eAAe,EAAE,CAAC,OAAO;IAAE,CAAC,CAAC;IACjE,OAAKvJ,OAAO,CAAC,OAAKF,KAAK,EAAE;MAAA,OAAM6I,SAAS,EAAE;IAAA,EAAC;IAC3C,OAAKxI,MAAM,CAAC,OAAKL,KAAK,EAAE,YAAM;MAC1B,IAAM0J,gBAAgB,GAAG,SAAnBA,gBAAgB,CAAIC,WAAW,EAAK;QACtC,IAAI,CAAC,OAAKzK,WAAW,CAAC6J,QAAQ,CAACY,WAAW,CAAC,EAAE;UACzC,OAAO,KAAK;QAChB,CAAC,MACI;UACD,IAAMC,mBAAmB,GAAG,OAAK1K,WAAW,CAAC2K,KAAK,CAAC,CAAC,EAAE,OAAK3K,WAAW,CAAC4E,MAAM,GAAG6F,WAAW,CAAC7F,MAAM,CAAC;UACnG,IAAI3F,OAAO,CAAC0D,sBAAsB,EAAE;YAChC,OAAK3C,WAAW,GAAG0K,mBAAmB;UAC1C,CAAC,MACI;YACD,OAAK9H,cAAc,CAAC8H,mBAAmB,CAAC;UAC5C;UACA,OAAO,IAAI;QACf;MACJ,CAAC;MACD,IAAI,CAACF,gBAAgB,CAACnB,6CAA6C,CAAC,EAAE;QAClEmB,gBAAgB,CAACpB,mCAAmC,CAAC;MACzD;IACJ,CAAC,CAAC;IAAC;EACP;EAAC;IAAA;IAAA,OACD,mBAAU;MACN;MACA,IAAI,IAAI,CAACY,QAAQ,EAAE;QACf,IAAI,CAACA,QAAQ,CAACY,UAAU,EAAE;QAC1B,IAAI,CAACZ,QAAQ,GAAGa,SAAS;MAC7B;IACJ;EAAC;IAAA;IAAA,OACD,wBAAe;MACX,IAAI,IAAI,CAAC7G,KAAK,IAAI,IAAI,CAACA,KAAK,KAAK,IAAI,CAAC8G,eAAe,EAAE,EAAE;QACrD,IAAI,CAACpB,OAAO,CAACxI,GAAG,CAAC,IAAI,CAAC8C,KAAK,CAAC;MAChC;IACJ;EAAC;IAAA;IAAA,OACD,yBAAgB;MACZ,IAAI,CAAC,IAAI,CAAC0F,OAAO,CAACqB,GAAG,CAAC,IAAI,CAAC/G,KAAK,CAAC,EAAE;QAC/B,IAAI,CAACgH,YAAY,EAAE;MACvB;MACA,IAAIC,IAAI,GAAG,IAAI,CAACC,YAAY,EAAE;MAC9B,IAAID,IAAI,EAAE;QACNA,IAAI,GAAGA,IAAI,KAAK,IAAI,CAACjH,KAAK,GAAG,IAAI,CAACkH,YAAY,EAAE,GAAGD,IAAI;MAC3D;MACA,IAAIA,IAAI,EAAE;QACN,IAAI,CAACjH,KAAK,GAAGiH,IAAI;QACjBvN,IAAI,CAACyN,MAAM,CAAC,IAAI,CAACnH,KAAK,CAAC;MAC3B;IACJ;EAAC;IAAA;IAAA,OACD,6BAAoB;MAChB,IAAI,CAAC,IAAI,CAAC0F,OAAO,CAACqB,GAAG,CAAC,IAAI,CAAC/G,KAAK,CAAC,EAAE;QAC/B,IAAI,CAACgH,YAAY,EAAE;MACvB;MACA,IAAII,QAAQ,GAAG,IAAI,CAACC,gBAAgB,EAAE;MACtC,IAAID,QAAQ,EAAE;QACVA,QAAQ,GAAGA,QAAQ,KAAK,IAAI,CAACpH,KAAK,GAAG,IAAI,CAACqH,gBAAgB,EAAE,GAAGD,QAAQ;MAC3E;MACA,IAAIA,QAAQ,EAAE;QACV,IAAI,CAACpH,KAAK,GAAGoH,QAAQ;QACrB1N,IAAI,CAACyN,MAAM,CAAC,IAAI,CAACnH,KAAK,CAAC;MAC3B;IACJ;EAAC;IAAA;IAAA,OACD,kBAAS;MACL;MACA,IAAI,CAACwF,UAAU,CAAC1B,IAAI,EAAE;IAC1B;EAAC;IAAA;IAAA,OACD,mBAAU;MACN;MACA,IAAI,CAACwB,WAAW,CAACxB,IAAI,EAAE;IAC3B;EAAC;IAAA;IAAA,OACD,2BAAkB;MACd,IAAIwD,YAAY,GAAG,IAAI,CAAC5B,OAAO,CAAC6B,OAAO,EAAE;MACzC,IAAI,CAACD,YAAY,EAAE;QACfA,YAAY,GAAG,IAAI,CAAC5B,OAAO,CAAC8B,IAAI,EAAE;QAClC,IAAI,CAAC9B,OAAO,CAACuB,IAAI,EAAE;MACvB;MACA,OAAOK,YAAY;IACvB;EAAC;IAAA;IAAA,OACD,4BAAmB;MACf,OAAO,IAAI,CAAC5B,OAAO,CAAC0B,QAAQ,EAAE,IAAI,IAAI,CAAC1B,OAAO,CAAC+B,KAAK,EAAE;IAC1D;EAAC;IAAA;IAAA,OACD,wBAAe;MACX,OAAO,IAAI,CAAC/B,OAAO,CAACuB,IAAI,EAAE,IAAI,IAAI,CAACvB,OAAO,CAAC8B,IAAI,EAAE;IACrD;EAAC;EAAA;AAAA,EAnHgC1M,QAAQ"}]}
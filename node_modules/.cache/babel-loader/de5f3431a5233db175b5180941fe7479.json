{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanjiajia/Desktop/workspace/avue-data-new/src/page/group/contentmenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/src/page/group/contentmenu.vue","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkudW5zaGlmdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgeyBjcmVhdGVGaWxlLCB1dWlkIH0gZnJvbSAnQC91dGlscy91dGlscyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnY29udGVudG1lbnUnLAogIGluamVjdDogWyJjb250YWluIl0sCiAgbWV0aG9kczogewogICAgaGFuZGxlU3RlcEJvdHRvbTogZnVuY3Rpb24gaGFuZGxlU3RlcEJvdHRvbSgpIHsKICAgICAgdGhpcy5oYW5kbGVDb21tb24oZmFsc2UsIHRydWUpOwogICAgfSwKICAgIGhhbmRsZVN0ZXBUb3A6IGZ1bmN0aW9uIGhhbmRsZVN0ZXBUb3AoKSB7CiAgICAgIHRoaXMuaGFuZGxlQ29tbW9uKHRydWUsIHRydWUpOwogICAgfSwKICAgIC8v5paH5Lu25aS55oiQ57uE6YC76L6RCiAgICBoYW5kbGVDb21wb3NlOiBmdW5jdGlvbiBoYW5kbGVDb21wb3NlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLiRjb25maXJtKCJcdTY2MkZcdTU0MjZcdTdFQzRcdTU0MDhcdTYyNDBcdTkwMDlcdTYyRTlcdTc2ODRcdTU2RkVcdTVDNDI/IiwgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBmb2xkZXIgPSBjcmVhdGVGaWxlKCk7CiAgICAgICAgX3RoaXMuY29udGFpbi5hY3RpdmUuZm9yRWFjaChmdW5jdGlvbiAoZWxlKSB7CiAgICAgICAgICB2YXIgX3RoaXMkY29udGFpbiRmaW5kbmF2ID0gX3RoaXMuY29udGFpbi5maW5kbmF2KGVsZSksCiAgICAgICAgICAgIGl0ZW1MaXN0ID0gX3RoaXMkY29udGFpbiRmaW5kbmF2Lml0ZW1MaXN0LAogICAgICAgICAgICBpdGVtSW5kZXggPSBfdGhpcyRjb250YWluJGZpbmRuYXYuaXRlbUluZGV4OwogICAgICAgICAgdmFyIG9iaiA9IGl0ZW1MaXN0LnNwbGljZShpdGVtSW5kZXgsIDEpWzBdOwogICAgICAgICAgZm9sZGVyLmNoaWxkcmVuLnB1c2gob2JqKTsKICAgICAgICB9KTsKICAgICAgICBfdGhpcy5jb250YWluLm5hdi51bnNoaWZ0KGZvbGRlcik7CiAgICAgICAgX3RoaXMuY29udGFpbi5oYW5kbGVJbml0QWN0aXZlKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0sCiAgICAvL+aWh+S7tuWkueino+aVo+mAu+i+kQogICAgaGFuZGxlTG9nb3V0OiBmdW5jdGlvbiBoYW5kbGVMb2dvdXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB2YXIgZWxlID0gdGhpcy5jb250YWluLmFjdGl2ZU9iajsKICAgICAgdGhpcy4kY29uZmlybSgiXHU2NjJGXHU1NDI2XHU4OUUzXHU2NTYzIi5jb25jYXQoZWxlLm5hbWUsICJcdTU2RkVcdTVDNDI/IiksICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3RoaXMyJGNvbnRhaW4kZmluZG5hID0gX3RoaXMyLmNvbnRhaW4uZmluZG5hdihlbGUuaW5kZXgpLAogICAgICAgICAgaXRlbUxpc3QgPSBfdGhpczIkY29udGFpbiRmaW5kbmEuaXRlbUxpc3QsCiAgICAgICAgICBpdGVtSW5kZXggPSBfdGhpczIkY29udGFpbiRmaW5kbmEuaXRlbUluZGV4OwogICAgICAgIHZhciBsaXN0ID0gX3RoaXMyLmRlZXBDbG9uZShlbGUuY2hpbGRyZW4pOwogICAgICAgIGl0ZW1MaXN0LnNwbGljZShpdGVtSW5kZXgsIDEpOwogICAgICAgIGxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW1MaXN0LnB1c2goaXRlbSk7CiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMyLmNvbnRhaW4uaGFuZGxlSW5pdEFjdGl2ZSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAogICAgLy/liKDpmaTnu4Tku7bnmoTmlrnms5UKICAgIGhhbmRsZURlbDogZnVuY3Rpb24gaGFuZGxlRGVsKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy4kY29uZmlybSgiXHU2NjJGXHU1NDI2XHU1MjIwXHU5NjY0XHU2MjQwXHU5MDA5XHU1NkZFXHU1QzQyPyIsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuY29udGFpbi5hY3RpdmUuZm9yRWFjaChmdW5jdGlvbiAoZWxlKSB7CiAgICAgICAgICB2YXIgX3RoaXMzJGNvbnRhaW4kZmluZG5hID0gX3RoaXMzLmNvbnRhaW4uZmluZG5hdihlbGUpLAogICAgICAgICAgICBpdGVtTGlzdCA9IF90aGlzMyRjb250YWluJGZpbmRuYS5pdGVtTGlzdCwKICAgICAgICAgICAgaXRlbUluZGV4ID0gX3RoaXMzJGNvbnRhaW4kZmluZG5hLml0ZW1JbmRleDsKICAgICAgICAgIGl0ZW1MaXN0LnNwbGljZShpdGVtSW5kZXgsIDEpOwogICAgICAgIH0pOwogICAgICAgIF90aGlzMy5jb250YWluLmhhbmRsZUluaXRBY3RpdmUoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfSwKICAgIC8v5aSN5Yi257uE5Lu255qE5pa55rOVCiAgICBoYW5kbGVDb3B5OiBmdW5jdGlvbiBoYW5kbGVDb3B5KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgLy/lr7vmib7niLbnsbsKICAgICAgdGhpcy5jb250YWluLmFjdGl2ZS5mb3JFYWNoKGZ1bmN0aW9uIChlbGUpIHsKICAgICAgICB2YXIgX3RoaXM0JGNvbnRhaW4kZmluZG5hID0gX3RoaXM0LmNvbnRhaW4uZmluZG5hdihlbGUpLAogICAgICAgICAgaXRlbSA9IF90aGlzNCRjb250YWluJGZpbmRuYS5pdGVtLAogICAgICAgICAgaXRlbUxpc3QgPSBfdGhpczQkY29udGFpbiRmaW5kbmEuaXRlbUxpc3Q7CiAgICAgICAgdmFyIG9iaiA9IF90aGlzNC5kZWVwQ2xvbmUoaXRlbSk7CiAgICAgICAgdmFyIGluZGV4ID0gdXVpZCgpOwogICAgICAgIG9iai5uYW1lID0gb2JqLm5hbWUgKyAn77yI5aSN5Yi277yJJzsKICAgICAgICBvYmouaW5kZXggPSBpbmRleDsKICAgICAgICBpZiAob2JqLmNoaWxkcmVuKSB7CiAgICAgICAgICBvYmoubWVudSA9IGZhbHNlOwogICAgICAgICAgb2JqLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGVsZSkgewogICAgICAgICAgICByZXR1cm4gZWxlLmluZGV4ID0gdXVpZCgpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGl0ZW1MaXN0LnVuc2hpZnQob2JqKTsKICAgICAgfSk7CiAgICAgIHRoaXMuY29udGFpbi5oYW5kbGVJbml0QWN0aXZlKCk7CiAgICB9LAogICAgLy8g5Zu+5bGC55qE5LiK5LiL56e75Yqo5pa55rOVIAogICAgaGFuZGxlQ29tbW9uOiBmdW5jdGlvbiBoYW5kbGVDb21tb24oKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICB2YXIgdG9wID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTsKICAgICAgdmFyIHN0ZXAgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlOwogICAgICB0aGlzLmNvbnRhaW4uYWN0aXZlLmZvckVhY2goZnVuY3Rpb24gKGVsZSkgewogICAgICAgIHZhciBfdGhpczUkY29udGFpbiRmaW5kbmEgPSBfdGhpczUuY29udGFpbi5maW5kbmF2KGVsZSksCiAgICAgICAgICBpdGVtTGlzdCA9IF90aGlzNSRjb250YWluJGZpbmRuYS5pdGVtTGlzdCwKICAgICAgICAgIGl0ZW1JbmRleCA9IF90aGlzNSRjb250YWluJGZpbmRuYS5pdGVtSW5kZXg7CiAgICAgICAgdmFyIG9iaiA9IGl0ZW1MaXN0LnNwbGljZShpdGVtSW5kZXgsIDEpWzBdOwogICAgICAgIGlmIChzdGVwKSB7CiAgICAgICAgICBpdGVtTGlzdC5zcGxpY2UodG9wID8gaXRlbUluZGV4IC0gMSA6IGl0ZW1JbmRleCArIDEsIDAsIG9iaik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGl0ZW1MaXN0W3RvcCA/ICd1bnNoaWZ0JyA6ICdwdXNoJ10ob2JqKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVRvcDogZnVuY3Rpb24gaGFuZGxlVG9wKCkgewogICAgICB0aGlzLmhhbmRsZUNvbW1vbih0cnVlKTsKICAgIH0sCiAgICBoYW5kbGVCb3R0b206IGZ1bmN0aW9uIGhhbmRsZUJvdHRvbSgpIHsKICAgICAgdGhpcy5oYW5kbGVDb21tb24oKTsKICAgIH0sCiAgICBoYW5kbGVMb2NrOiBmdW5jdGlvbiBoYW5kbGVMb2NrKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKICAgICAgdGhpcy5jb250YWluLmFjdGl2ZS5mb3JFYWNoKGZ1bmN0aW9uIChlbGUpIHsKICAgICAgICB2YXIgX3RoaXM2JGNvbnRhaW4kZmluZG5hID0gX3RoaXM2LmNvbnRhaW4uZmluZG5hdihlbGUpLAogICAgICAgICAgaXRlbSA9IF90aGlzNiRjb250YWluJGZpbmRuYS5pdGVtOwogICAgICAgIGl0ZW0ubG9jayA9ICFpdGVtLmxvY2s7CiAgICAgICAgaWYgKGl0ZW0uY2hpbGRyZW4pIHsKICAgICAgICAgIGl0ZW0uY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBlLmxvY2sgPSBpdGVtLmxvY2s7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmNvbnRhaW4uYWN0aXZlID0gW107CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;AAmCA;AACA;EACAA;EACAC;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MAAA;MACA;QACAC;QACAC;QACAC;MACA;QACA;QACA;UACA;YAAAC;YAAAC;UACA;UACAC;QACA;QACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;QACAN;QACAC;QACAC;MACA;QACA;UAAAC;UAAAC;QACA;QACAD;QACAI;UAAA;QAAA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACAR;QACAC;QACAC;MACA;QACA;UACA;YAAAC;YAAAC;UACAD;QACA;QACA;MACA;IACA;IACA;IACAM;MAAA;MACA;MACA;QACA;UAAAC;UAAAP;QACA;QACA;QACAQ;QACAA;QACA;UACAA;UACAA;YAAA;UAAA;QACA;QACAR;MACA;MACA;IACA;IACA;IACAS;MAAA;MAAA;MAAA;MACA;QACA;UAAAT;UAAAC;QACA;QACA;UACAD;QACA;UACAA;QACA;MACA;IACA;IACAU;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MACA;QACA;UAAAL;QACAA;QACA;UACAA;YACAM;UACA;QACA;MACA;MACA;IACA;EACA;AACA","names":["name","inject","methods","handleStepBottom","handleStepTop","handleCompose","confirmButtonText","cancelButtonText","type","itemList","itemIndex","folder","handleLogout","list","handleDel","handleCopy","item","obj","handleCommon","handleTop","handleBottom","handleLock","e"],"sourceRoot":"src/page/group","sources":["contentmenu.vue"],"sourcesContent":["<template>\n  <div class=\"contentmenu\"\n       id=\"avue-data-menu\">\n    <div class=\"contentmenu__item\"\n         @click=\"handleLock()\"> <i class=\"el-icon-lock\"></i>\n      {{contain.activeObj.lock?'解锁':'锁定'}}\n    </div>\n    <div class=\"contentmenu__item\"\n         @click=\"contain.isFolder?handleLogout():handleCompose()\"> <i class=\"el-icon-document-copy\"></i>\n      {{contain.isFolder?'解散':'组合'}}\n    </div>\n    <div class=\"contentmenu__item\"\n         @click=\"handleDel()\"> <i class=\"el-icon-delete\"></i>\n      删除\n    </div>\n    <div class=\"contentmenu__item\"\n         @click=\"handleCopy()\"><i class=\"el-icon-money\"></i>\n      复制\n    </div>\n    <div class=\"contentmenu__item\"\n         @click=\"handleTop()\"><i class=\"el-icon-arrow-up\"></i>置顶\n    </div>\n    <div class=\"contentmenu__item\"\n         @click=\"handleBottom()\"><i class=\"el-icon-arrow-down\"></i>置底\n    </div>\n    <div class=\"contentmenu__item\"\n         @click=\"handleStepTop()\"><i class=\"el-icon-arrow-up\"></i>上移\n    </div>\n    <div class=\"contentmenu__item\"\n         @click=\"handleStepBottom()\"><i class=\"el-icon-arrow-down\"></i>下移\n    </div>\n  </div>\n</template>\n\n<script>\nimport { createFile, uuid } from '@/utils/utils'\nexport default {\n  name: 'contentmenu',\n  inject: [\"contain\"],\n  methods: {\n    handleStepBottom () {\n      this.handleCommon(false, true);\n    },\n    handleStepTop () {\n      this.handleCommon(true, true);\n    },\n    //文件夹成组逻辑\n    handleCompose () {\n      this.$confirm(`是否组合所选择的图层?`, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        let folder = createFile()\n        this.contain.active.forEach(ele => {\n          let { itemList, itemIndex } = this.contain.findnav(ele);\n          let obj = itemList.splice(itemIndex, 1)[0];\n          folder.children.push(obj);\n        });\n        this.contain.nav.unshift(folder);\n        this.contain.handleInitActive();\n      }).catch(() => { })\n    },\n    //文件夹解散逻辑\n    handleLogout () {\n      let ele = this.contain.activeObj\n      this.$confirm(`是否解散${ele.name}图层?`, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        let { itemList, itemIndex } = this.contain.findnav(ele.index);\n        const list = this.deepClone(ele.children)\n        itemList.splice(itemIndex, 1);\n        list.forEach(item => itemList.push(item));\n        this.contain.handleInitActive();\n      }).catch(() => { })\n    },\n    //删除组件的方法\n    handleDel () {\n      this.$confirm(`是否删除所选图层?`, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.contain.active.forEach(ele => {\n          const { itemList, itemIndex } = this.contain.findnav(ele);\n          itemList.splice(itemIndex, 1);\n        });\n        this.contain.handleInitActive();\n      }).catch(() => { })\n    },\n    //复制组件的方法\n    handleCopy () {\n      //寻找父类\n      this.contain.active.forEach(ele => {\n        const { item, itemList } = this.contain.findnav(ele);\n        let obj = this.deepClone(item);\n        let index = uuid();\n        obj.name = obj.name + '（复制）'\n        obj.index = index;\n        if (obj.children) {\n          obj.menu = false\n          obj.children.forEach(ele => ele.index = uuid())\n        }\n        itemList.unshift(obj)\n      });\n      this.contain.handleInitActive();\n    },\n    // 图层的上下移动方法 \n    handleCommon (top = false, step = false) {\n      this.contain.active.forEach(ele => {\n        let { itemList, itemIndex } = this.contain.findnav(ele);\n        let obj = itemList.splice(itemIndex, 1)[0];\n        if (step) {\n          itemList.splice(top ? (itemIndex - 1) : (itemIndex + 1), 0, obj)\n        } else {\n          itemList[top ? 'unshift' : 'push'](obj)\n        }\n      })\n    },\n    handleTop () {\n      this.handleCommon(true);\n    },\n    handleBottom () {\n      this.handleCommon();\n    },\n    handleLock () {\n      this.contain.active.forEach(ele => {\n        let { item } = this.contain.findnav(ele)\n        item.lock = !item.lock;\n        if (item.children) {\n          item.children.forEach(e => {\n            e.lock = item.lock\n          })\n        }\n      })\n      this.contain.active = []\n    }\n  }\n}\n</script>\n\n<style>\n.contentmenu {\n  width: 180px;\n  display: none;\n  z-index: 99999;\n  list-style: none;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);\n  padding: 0;\n  background: #232324;\n  overflow: hidden;\n  color: rgba(255, 255, 255, 0.82);\n  border-radius: 10px;\n}\n.contentmenu__item {\n  z-index: 10000;\n  list-style: none;\n  padding: 6px 12px;\n  cursor: pointer;\n  position: relative;\n  font-size: 14px;\n}\n.contentmenu__item:hover {\n  background-color: rgba(0, 192, 222, 0.1);\n}\n.contentmenu__item i {\n  margin-right: 5px;\n}\n.contentmenu__item :first-child {\n  padding-top: 5px;\n}\n</style>"]}]}
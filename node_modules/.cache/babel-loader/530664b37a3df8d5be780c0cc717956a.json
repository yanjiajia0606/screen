{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/browser/viewParts/overviewRuler/overviewRuler.js","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/browser/viewParts/overviewRuler/overviewRuler.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyI7CmltcG9ydCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXNzZXJ0VGhpc0luaXRpYWxpemVkLmpzIjsKaW1wb3J0IF9nZXQgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXQuanMiOwppbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YuanMiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMuanMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy95YW5qaWFqaWEvRGVza3RvcC93b3Jrc3BhY2UvYXZ1ZS1kYXRhLW5ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIuanMiOwovKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLgogKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KaW1wb3J0IHsgY3JlYXRlRmFzdERvbU5vZGUgfSBmcm9tICcuLi8uLi8uLi8uLi9iYXNlL2Jyb3dzZXIvZmFzdERvbU5vZGUuanMnOwppbXBvcnQgeyBPdmVydmlld1pvbmVNYW5hZ2VyIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL3ZpZXdNb2RlbC9vdmVydmlld1pvbmVNYW5hZ2VyLmpzJzsKaW1wb3J0IHsgVmlld0V2ZW50SGFuZGxlciB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi92aWV3RXZlbnRIYW5kbGVyLmpzJzsKZXhwb3J0IHZhciBPdmVydmlld1J1bGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVmlld0V2ZW50SGFuZGxlcikgewogIF9pbmhlcml0cyhPdmVydmlld1J1bGVyLCBfVmlld0V2ZW50SGFuZGxlcik7CiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihPdmVydmlld1J1bGVyKTsKICBmdW5jdGlvbiBPdmVydmlld1J1bGVyKGNvbnRleHQsIGNzc0NsYXNzTmFtZSkgewogICAgdmFyIF90aGlzOwogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE92ZXJ2aWV3UnVsZXIpOwogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKTsKICAgIF90aGlzLl9jb250ZXh0ID0gY29udGV4dDsKICAgIHZhciBvcHRpb25zID0gX3RoaXMuX2NvbnRleHQuY29uZmlndXJhdGlvbi5vcHRpb25zOwogICAgX3RoaXMuX2RvbU5vZGUgPSBjcmVhdGVGYXN0RG9tTm9kZShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSk7CiAgICBfdGhpcy5fZG9tTm9kZS5zZXRDbGFzc05hbWUoY3NzQ2xhc3NOYW1lKTsKICAgIF90aGlzLl9kb21Ob2RlLnNldFBvc2l0aW9uKCdhYnNvbHV0ZScpOwogICAgX3RoaXMuX2RvbU5vZGUuc2V0TGF5ZXJIaW50aW5nKHRydWUpOwogICAgX3RoaXMuX2RvbU5vZGUuc2V0Q29udGFpbignc3RyaWN0Jyk7CiAgICBfdGhpcy5fem9uZU1hbmFnZXIgPSBuZXcgT3ZlcnZpZXdab25lTWFuYWdlcihmdW5jdGlvbiAobGluZU51bWJlcikgewogICAgICByZXR1cm4gX3RoaXMuX2NvbnRleHQudmlld0xheW91dC5nZXRWZXJ0aWNhbE9mZnNldEZvckxpbmVOdW1iZXIobGluZU51bWJlcik7CiAgICB9KTsKICAgIF90aGlzLl96b25lTWFuYWdlci5zZXRET01XaWR0aCgwKTsKICAgIF90aGlzLl96b25lTWFuYWdlci5zZXRET01IZWlnaHQoMCk7CiAgICBfdGhpcy5fem9uZU1hbmFnZXIuc2V0T3V0ZXJIZWlnaHQoX3RoaXMuX2NvbnRleHQudmlld0xheW91dC5nZXRTY3JvbGxIZWlnaHQoKSk7CiAgICBfdGhpcy5fem9uZU1hbmFnZXIuc2V0TGluZUhlaWdodChvcHRpb25zLmdldCg2MSAvKiBFZGl0b3JPcHRpb24ubGluZUhlaWdodCAqLykpOwogICAgX3RoaXMuX3pvbmVNYW5hZ2VyLnNldFBpeGVsUmF0aW8ob3B0aW9ucy5nZXQoMTMxIC8qIEVkaXRvck9wdGlvbi5waXhlbFJhdGlvICovKSk7CiAgICBfdGhpcy5fY29udGV4dC5hZGRFdmVudEhhbmRsZXIoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOwogICAgcmV0dXJuIF90aGlzOwogIH0KICBfY3JlYXRlQ2xhc3MoT3ZlcnZpZXdSdWxlciwgW3sKICAgIGtleTogImRpc3Bvc2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7CiAgICAgIHRoaXMuX2NvbnRleHQucmVtb3ZlRXZlbnRIYW5kbGVyKHRoaXMpOwogICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihPdmVydmlld1J1bGVyLnByb3RvdHlwZSksICJkaXNwb3NlIiwgdGhpcykuY2FsbCh0aGlzKTsKICAgIH0KICAgIC8vIC0tLS0gYmVnaW4gdmlldyBldmVudCBoYW5kbGVycwogIH0sIHsKICAgIGtleTogIm9uQ29uZmlndXJhdGlvbkNoYW5nZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ29uZmlndXJhdGlvbkNoYW5nZWQoZSkgewogICAgICB2YXIgb3B0aW9ucyA9IHRoaXMuX2NvbnRleHQuY29uZmlndXJhdGlvbi5vcHRpb25zOwogICAgICBpZiAoZS5oYXNDaGFuZ2VkKDYxIC8qIEVkaXRvck9wdGlvbi5saW5lSGVpZ2h0ICovKSkgewogICAgICAgIHRoaXMuX3pvbmVNYW5hZ2VyLnNldExpbmVIZWlnaHQob3B0aW9ucy5nZXQoNjEgLyogRWRpdG9yT3B0aW9uLmxpbmVIZWlnaHQgKi8pKTsKICAgICAgICB0aGlzLl9yZW5kZXIoKTsKICAgICAgfQogICAgICBpZiAoZS5oYXNDaGFuZ2VkKDEzMSAvKiBFZGl0b3JPcHRpb24ucGl4ZWxSYXRpbyAqLykpIHsKICAgICAgICB0aGlzLl96b25lTWFuYWdlci5zZXRQaXhlbFJhdGlvKG9wdGlvbnMuZ2V0KDEzMSAvKiBFZGl0b3JPcHRpb24ucGl4ZWxSYXRpbyAqLykpOwogICAgICAgIHRoaXMuX2RvbU5vZGUuc2V0V2lkdGgodGhpcy5fem9uZU1hbmFnZXIuZ2V0RE9NV2lkdGgoKSk7CiAgICAgICAgdGhpcy5fZG9tTm9kZS5zZXRIZWlnaHQodGhpcy5fem9uZU1hbmFnZXIuZ2V0RE9NSGVpZ2h0KCkpOwogICAgICAgIHRoaXMuX2RvbU5vZGUuZG9tTm9kZS53aWR0aCA9IHRoaXMuX3pvbmVNYW5hZ2VyLmdldENhbnZhc1dpZHRoKCk7CiAgICAgICAgdGhpcy5fZG9tTm9kZS5kb21Ob2RlLmhlaWdodCA9IHRoaXMuX3pvbmVNYW5hZ2VyLmdldENhbnZhc0hlaWdodCgpOwogICAgICAgIHRoaXMuX3JlbmRlcigpOwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogIm9uRmx1c2hlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25GbHVzaGVkKGUpIHsKICAgICAgdGhpcy5fcmVuZGVyKCk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogIm9uU2Nyb2xsQ2hhbmdlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25TY3JvbGxDaGFuZ2VkKGUpIHsKICAgICAgaWYgKGUuc2Nyb2xsSGVpZ2h0Q2hhbmdlZCkgewogICAgICAgIHRoaXMuX3pvbmVNYW5hZ2VyLnNldE91dGVySGVpZ2h0KGUuc2Nyb2xsSGVpZ2h0KTsKICAgICAgICB0aGlzLl9yZW5kZXIoKTsKICAgICAgfQogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvblpvbmVzQ2hhbmdlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25ab25lc0NoYW5nZWQoZSkgewogICAgICB0aGlzLl9yZW5kZXIoKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAvLyAtLS0tIGVuZCB2aWV3IGV2ZW50IGhhbmRsZXJzCiAgfSwgewogICAga2V5OiAiZ2V0RG9tTm9kZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RG9tTm9kZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvbU5vZGUuZG9tTm9kZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRMYXlvdXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldExheW91dChwb3NpdGlvbikgewogICAgICB0aGlzLl9kb21Ob2RlLnNldFRvcChwb3NpdGlvbi50b3ApOwogICAgICB0aGlzLl9kb21Ob2RlLnNldFJpZ2h0KHBvc2l0aW9uLnJpZ2h0KTsKICAgICAgdmFyIGhhc0NoYW5nZWQgPSBmYWxzZTsKICAgICAgaGFzQ2hhbmdlZCA9IHRoaXMuX3pvbmVNYW5hZ2VyLnNldERPTVdpZHRoKHBvc2l0aW9uLndpZHRoKSB8fCBoYXNDaGFuZ2VkOwogICAgICBoYXNDaGFuZ2VkID0gdGhpcy5fem9uZU1hbmFnZXIuc2V0RE9NSGVpZ2h0KHBvc2l0aW9uLmhlaWdodCkgfHwgaGFzQ2hhbmdlZDsKICAgICAgaWYgKGhhc0NoYW5nZWQpIHsKICAgICAgICB0aGlzLl9kb21Ob2RlLnNldFdpZHRoKHRoaXMuX3pvbmVNYW5hZ2VyLmdldERPTVdpZHRoKCkpOwogICAgICAgIHRoaXMuX2RvbU5vZGUuc2V0SGVpZ2h0KHRoaXMuX3pvbmVNYW5hZ2VyLmdldERPTUhlaWdodCgpKTsKICAgICAgICB0aGlzLl9kb21Ob2RlLmRvbU5vZGUud2lkdGggPSB0aGlzLl96b25lTWFuYWdlci5nZXRDYW52YXNXaWR0aCgpOwogICAgICAgIHRoaXMuX2RvbU5vZGUuZG9tTm9kZS5oZWlnaHQgPSB0aGlzLl96b25lTWFuYWdlci5nZXRDYW52YXNIZWlnaHQoKTsKICAgICAgICB0aGlzLl9yZW5kZXIoKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInNldFpvbmVzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRab25lcyh6b25lcykgewogICAgICB0aGlzLl96b25lTWFuYWdlci5zZXRab25lcyh6b25lcyk7CiAgICAgIHRoaXMuX3JlbmRlcigpOwogICAgfQogIH0sIHsKICAgIGtleTogIl9yZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW5kZXIoKSB7CiAgICAgIGlmICh0aGlzLl96b25lTWFuYWdlci5nZXRPdXRlckhlaWdodCgpID09PSAwKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHZhciB3aWR0aCA9IHRoaXMuX3pvbmVNYW5hZ2VyLmdldENhbnZhc1dpZHRoKCk7CiAgICAgIHZhciBoZWlnaHQgPSB0aGlzLl96b25lTWFuYWdlci5nZXRDYW52YXNIZWlnaHQoKTsKICAgICAgdmFyIGNvbG9yWm9uZXMgPSB0aGlzLl96b25lTWFuYWdlci5yZXNvbHZlQ29sb3Jab25lcygpOwogICAgICB2YXIgaWQyQ29sb3IgPSB0aGlzLl96b25lTWFuYWdlci5nZXRJZDJDb2xvcigpOwogICAgICB2YXIgY3R4ID0gdGhpcy5fZG9tTm9kZS5kb21Ob2RlLmdldENvbnRleHQoJzJkJyk7CiAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7CiAgICAgIGlmIChjb2xvclpvbmVzLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLl9yZW5kZXJPbmVMYW5lKGN0eCwgY29sb3Jab25lcywgaWQyQ29sb3IsIHdpZHRoKTsKICAgICAgfQogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfcmVuZGVyT25lTGFuZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbmRlck9uZUxhbmUoY3R4LCBjb2xvclpvbmVzLCBpZDJDb2xvciwgd2lkdGgpIHsKICAgICAgdmFyIGN1cnJlbnRDb2xvcklkID0gMDsKICAgICAgdmFyIGN1cnJlbnRGcm9tID0gMDsKICAgICAgdmFyIGN1cnJlbnRUbyA9IDA7CiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihjb2xvclpvbmVzKSwKICAgICAgICBfc3RlcDsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHpvbmUgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIHZhciB6b25lQ29sb3JJZCA9IHpvbmUuY29sb3JJZDsKICAgICAgICAgIHZhciB6b25lRnJvbSA9IHpvbmUuZnJvbTsKICAgICAgICAgIHZhciB6b25lVG8gPSB6b25lLnRvOwogICAgICAgICAgaWYgKHpvbmVDb2xvcklkICE9PSBjdXJyZW50Q29sb3JJZCkgewogICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgY3VycmVudEZyb20sIHdpZHRoLCBjdXJyZW50VG8gLSBjdXJyZW50RnJvbSk7CiAgICAgICAgICAgIGN1cnJlbnRDb2xvcklkID0gem9uZUNvbG9ySWQ7CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBpZDJDb2xvcltjdXJyZW50Q29sb3JJZF07CiAgICAgICAgICAgIGN1cnJlbnRGcm9tID0gem9uZUZyb207CiAgICAgICAgICAgIGN1cnJlbnRUbyA9IHpvbmVUbzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChjdXJyZW50VG8gPj0gem9uZUZyb20pIHsKICAgICAgICAgICAgICBjdXJyZW50VG8gPSBNYXRoLm1heChjdXJyZW50VG8sIHpvbmVUbyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIGN1cnJlbnRGcm9tLCB3aWR0aCwgY3VycmVudFRvIC0gY3VycmVudEZyb20pOwogICAgICAgICAgICAgIGN1cnJlbnRGcm9tID0gem9uZUZyb207CiAgICAgICAgICAgICAgY3VycmVudFRvID0gem9uZVRvOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KICAgICAgY3R4LmZpbGxSZWN0KDAsIGN1cnJlbnRGcm9tLCB3aWR0aCwgY3VycmVudFRvIC0gY3VycmVudEZyb20pOwogICAgfQogIH1dKTsKICByZXR1cm4gT3ZlcnZpZXdSdWxlcjsKfShWaWV3RXZlbnRIYW5kbGVyKTs="},{"version":3,"names":["createFastDomNode","OverviewZoneManager","ViewEventHandler","OverviewRuler","context","cssClassName","_context","options","configuration","_domNode","document","createElement","setClassName","setPosition","setLayerHinting","setContain","_zoneManager","lineNumber","viewLayout","getVerticalOffsetForLineNumber","setDOMWidth","setDOMHeight","setOuterHeight","getScrollHeight","setLineHeight","get","setPixelRatio","addEventHandler","removeEventHandler","e","hasChanged","_render","setWidth","getDOMWidth","setHeight","getDOMHeight","domNode","width","getCanvasWidth","height","getCanvasHeight","scrollHeightChanged","scrollHeight","position","setTop","top","setRight","right","zones","setZones","getOuterHeight","colorZones","resolveColorZones","id2Color","getId2Color","ctx","getContext","clearRect","length","_renderOneLane","currentColorId","currentFrom","currentTo","zone","zoneColorId","colorId","zoneFrom","from","zoneTo","to","fillRect","fillStyle","Math","max"],"sources":["/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/monaco-editor/esm/vs/editor/browser/viewParts/overviewRuler/overviewRuler.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createFastDomNode } from '../../../../base/browser/fastDomNode.js';\nimport { OverviewZoneManager } from '../../../common/viewModel/overviewZoneManager.js';\nimport { ViewEventHandler } from '../../../common/viewEventHandler.js';\nexport class OverviewRuler extends ViewEventHandler {\n    constructor(context, cssClassName) {\n        super();\n        this._context = context;\n        const options = this._context.configuration.options;\n        this._domNode = createFastDomNode(document.createElement('canvas'));\n        this._domNode.setClassName(cssClassName);\n        this._domNode.setPosition('absolute');\n        this._domNode.setLayerHinting(true);\n        this._domNode.setContain('strict');\n        this._zoneManager = new OverviewZoneManager((lineNumber) => this._context.viewLayout.getVerticalOffsetForLineNumber(lineNumber));\n        this._zoneManager.setDOMWidth(0);\n        this._zoneManager.setDOMHeight(0);\n        this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight());\n        this._zoneManager.setLineHeight(options.get(61 /* EditorOption.lineHeight */));\n        this._zoneManager.setPixelRatio(options.get(131 /* EditorOption.pixelRatio */));\n        this._context.addEventHandler(this);\n    }\n    dispose() {\n        this._context.removeEventHandler(this);\n        super.dispose();\n    }\n    // ---- begin view event handlers\n    onConfigurationChanged(e) {\n        const options = this._context.configuration.options;\n        if (e.hasChanged(61 /* EditorOption.lineHeight */)) {\n            this._zoneManager.setLineHeight(options.get(61 /* EditorOption.lineHeight */));\n            this._render();\n        }\n        if (e.hasChanged(131 /* EditorOption.pixelRatio */)) {\n            this._zoneManager.setPixelRatio(options.get(131 /* EditorOption.pixelRatio */));\n            this._domNode.setWidth(this._zoneManager.getDOMWidth());\n            this._domNode.setHeight(this._zoneManager.getDOMHeight());\n            this._domNode.domNode.width = this._zoneManager.getCanvasWidth();\n            this._domNode.domNode.height = this._zoneManager.getCanvasHeight();\n            this._render();\n        }\n        return true;\n    }\n    onFlushed(e) {\n        this._render();\n        return true;\n    }\n    onScrollChanged(e) {\n        if (e.scrollHeightChanged) {\n            this._zoneManager.setOuterHeight(e.scrollHeight);\n            this._render();\n        }\n        return true;\n    }\n    onZonesChanged(e) {\n        this._render();\n        return true;\n    }\n    // ---- end view event handlers\n    getDomNode() {\n        return this._domNode.domNode;\n    }\n    setLayout(position) {\n        this._domNode.setTop(position.top);\n        this._domNode.setRight(position.right);\n        let hasChanged = false;\n        hasChanged = this._zoneManager.setDOMWidth(position.width) || hasChanged;\n        hasChanged = this._zoneManager.setDOMHeight(position.height) || hasChanged;\n        if (hasChanged) {\n            this._domNode.setWidth(this._zoneManager.getDOMWidth());\n            this._domNode.setHeight(this._zoneManager.getDOMHeight());\n            this._domNode.domNode.width = this._zoneManager.getCanvasWidth();\n            this._domNode.domNode.height = this._zoneManager.getCanvasHeight();\n            this._render();\n        }\n    }\n    setZones(zones) {\n        this._zoneManager.setZones(zones);\n        this._render();\n    }\n    _render() {\n        if (this._zoneManager.getOuterHeight() === 0) {\n            return false;\n        }\n        const width = this._zoneManager.getCanvasWidth();\n        const height = this._zoneManager.getCanvasHeight();\n        const colorZones = this._zoneManager.resolveColorZones();\n        const id2Color = this._zoneManager.getId2Color();\n        const ctx = this._domNode.domNode.getContext('2d');\n        ctx.clearRect(0, 0, width, height);\n        if (colorZones.length > 0) {\n            this._renderOneLane(ctx, colorZones, id2Color, width);\n        }\n        return true;\n    }\n    _renderOneLane(ctx, colorZones, id2Color, width) {\n        let currentColorId = 0;\n        let currentFrom = 0;\n        let currentTo = 0;\n        for (const zone of colorZones) {\n            const zoneColorId = zone.colorId;\n            const zoneFrom = zone.from;\n            const zoneTo = zone.to;\n            if (zoneColorId !== currentColorId) {\n                ctx.fillRect(0, currentFrom, width, currentTo - currentFrom);\n                currentColorId = zoneColorId;\n                ctx.fillStyle = id2Color[currentColorId];\n                currentFrom = zoneFrom;\n                currentTo = zoneTo;\n            }\n            else {\n                if (currentTo >= zoneFrom) {\n                    currentTo = Math.max(currentTo, zoneTo);\n                }\n                else {\n                    ctx.fillRect(0, currentFrom, width, currentTo - currentFrom);\n                    currentFrom = zoneFrom;\n                    currentTo = zoneTo;\n                }\n            }\n        }\n        ctx.fillRect(0, currentFrom, width, currentTo - currentFrom);\n    }\n}\n"],"mappings":"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"}]}
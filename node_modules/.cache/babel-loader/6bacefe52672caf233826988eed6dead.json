{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanjiajia/Desktop/workspace/avue-data-new/src/page/list/record.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/src/page/list/record.vue","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/babel.config.js","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3lhbmppYWppYS9EZXNrdG9wL3dvcmtzcGFjZS9hdnVlLWRhdGEtbmV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0IGNyeXB0byBmcm9tICdAL3V0aWxzL2NyeXB0byc7CmltcG9ydCB7IGFkZFBhcmFtIH0gZnJvbSAnQC9lY2hhcnQvdXRpbCc7CmltcG9ydCB7IGdldEZ1bmN0aW9uLCBmdW5FdmFsIH0gZnJvbSAnQC91dGlscy91dGlscyc7CmltcG9ydCBNb25hY29FZGl0b3IgZnJvbSAnQC9wYWdlL2NvbXBvbmVudHMvZWRpdG9yJzsKaW1wb3J0IHsgZ2V0TGlzdCBhcyBfZ2V0TGlzdCwgZ2V0T2JqLCBhZGRPYmosIGRlbE9iaiwgdXBkYXRlT2JqIH0gZnJvbSAnQC9hcGkvcmVjb3JkJzsKaW1wb3J0IHsgZ2V0TGlzdCBhcyBnZXREYkxpc3QsIGR5bmFtaWNTcWwgfSBmcm9tICJAL2FwaS9kYiI7CmltcG9ydCB7IGRpY09wdGlvbiB9IGZyb20gJ0Avb3B0aW9uL2NvbmZpZyc7CmRpY09wdGlvbi5kYXRhVHlwZS5zcGxpY2UoNCwgMSk7CnZhciBkYXRhVHlwZSA9IGRpY09wdGlvbi5kYXRhVHlwZTsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIE1vbmFjb0VkaXRvcjogTW9uYWNvRWRpdG9yCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFiczogMCwKICAgICAgYm94OiBmYWxzZSwKICAgICAgY2xpZW50OiB7fSwKICAgICAgRElDOiB7CiAgICAgICAgbWV0aG9kOiBkaWNPcHRpb24uZGF0YU1ldGhvZCwKICAgICAgICBzcWw6IFtdCiAgICAgIH0sCiAgICAgIHJlc3VsdDoge30sCiAgICAgIGZvcm06IHt9LAogICAgICBkYXRhOiBbXSwKICAgICAgb3B0aW9uOiB7CiAgICAgICAgbGFiZWxXaWR0aDogMTMwLAogICAgICAgIGluZGV4OiB0cnVlLAogICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICBoZWFkZXJBbGlnbjogJ2NlbnRlcicsCiAgICAgICAgY29sdW1uOiBbewogICAgICAgICAgbGFiZWw6ICflkI3np7AnLAogICAgICAgICAgcHJvcDogJ25hbWUnLAogICAgICAgICAgcnVsZXM6IFt7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5ZCN56ewIiwKICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgICB9XQogICAgICAgIH0sIHsKICAgICAgICAgIGxhYmVsOiAn57G75Z6LJywKICAgICAgICAgIHByb3A6ICdkYXRhVHlwZScsCiAgICAgICAgICB0eXBlOiAnc2VsZWN0JywKICAgICAgICAgIGRpY0RhdGE6IGRhdGFUeXBlLAogICAgICAgICAgcnVsZXM6IFt7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAi6K+36YCJ5oup57G75Z6LIiwKICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgICB9XQogICAgICAgIH0sIHsKICAgICAgICAgIGxhYmVsOiAnJywKICAgICAgICAgIHByb3A6ICdjb250ZW50JywKICAgICAgICAgIGhpZGU6IHRydWUsCiAgICAgICAgICBsYWJlbFdpZHRoOiAwLAogICAgICAgICAgc3BhbjogMjQKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzU3RhdGljOiBmdW5jdGlvbiBpc1N0YXRpYygpIHsKICAgICAgcmV0dXJuIHRoaXMuZm9ybS5kYXRhVHlwZSA9PT0gMDsKICAgIH0sCiAgICBpc0FwaTogZnVuY3Rpb24gaXNBcGkoKSB7CiAgICAgIHJldHVybiB0aGlzLmZvcm0uZGF0YVR5cGUgPT0gMTsKICAgIH0sCiAgICBpc1NxbDogZnVuY3Rpb24gaXNTcWwoKSB7CiAgICAgIHJldHVybiB0aGlzLmZvcm0uZGF0YVR5cGUgPT0gMjsKICAgIH0sCiAgICBpc1dzOiBmdW5jdGlvbiBpc1dzKCkgewogICAgICByZXR1cm4gdGhpcy5mb3JtLmRhdGFUeXBlID09PSAzOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICdmb3JtLmRhdGFUeXBlJzogZnVuY3Rpb24gZm9ybURhdGFUeXBlKCkgewogICAgICB0aGlzLnJlc3VsdCA9ICcnOwogICAgICB0aGlzLnRhYnMgPSAnMCc7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgICB0aGlzLmdldExpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIGdldERiTGlzdCh7CiAgICAgICAgY3VycmVudDogMSwKICAgICAgICBzaXplOiAxMDAKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YS5kYXRhOwogICAgICAgIF90aGlzLkRJQy5zcWwgPSBkYXRhLnJlY29yZHMubWFwKGZ1bmN0aW9uIChlbGUpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGxhYmVsOiBlbGUubmFtZSwKICAgICAgICAgICAgdmFsdWU6IGVsZS5pZAogICAgICAgICAgfTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0U3FsOiBmdW5jdGlvbiBnZXRTcWwocm93KSB7CiAgICAgIHJldHVybiBjcnlwdG8uZW5jcnlwdChKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgaWQ6IHJvdy5kYklkLAogICAgICAgIHNxbDogcm93LmRiU3FsCiAgICAgIH0pKTsKICAgIH0sCiAgICBoYW5kbGVDbG9zZTogZnVuY3Rpb24gaGFuZGxlQ2xvc2UoKSB7CiAgICAgIHRoaXMuY2xpZW50LmNsb3NlICYmIHRoaXMuY2xpZW50LmNsb3NlKCk7CiAgICB9LAogICAgaGFuZGxlUmVzOiBmdW5jdGlvbiBoYW5kbGVSZXMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB2YXIgdGlwID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0cnVlOwogICAgICB2YXIgZm9ybWF0dGVyID0gZnVuY3Rpb24gZm9ybWF0dGVyKGRhdGEpIHsKICAgICAgICB2YXIgZGF0YUZvcm1hdHRlciA9IGdldEZ1bmN0aW9uKF90aGlzMi5mb3JtLmRhdGFGb3JtYXR0ZXIpOwogICAgICAgIGlmICh0aXApIF90aGlzMi4kbWVzc2FnZS5zdWNjZXNzKCfmlbDmja7liLfmlrDmiJDlip8nKTsKICAgICAgICBpZiAodHlwZW9mIGRhdGFGb3JtYXR0ZXIgPT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgcmV0dXJuIGRhdGFGb3JtYXR0ZXIoZGF0YSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBkYXRhOwogICAgICB9OwogICAgICBpZiAodGhpcy5pc1N0YXRpYykgewogICAgICAgIHZhciByZXN1bHQgPSBmdW5FdmFsKHRoaXMuZm9ybS5kYXRhKTsKICAgICAgICB0aGlzLnJlc3VsdCA9IGZvcm1hdHRlcihyZXN1bHQpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaXNBcGkpIHsKICAgICAgICB2YXIgZGF0YVF1ZXJ5ID0gdGhpcy5mb3JtLmRhdGFRdWVyeSA/IGdldEZ1bmN0aW9uKHRoaXMuZm9ybS5kYXRhUXVlcnkpKCkgOiB7fTsKICAgICAgICB2YXIgZGF0YUhlYWRlciA9IHRoaXMuZm9ybS5kYXRhSGVhZGVyID8gZ2V0RnVuY3Rpb24odGhpcy5mb3JtLmRhdGFIZWFkZXIpKCkgOiB7fTsKICAgICAgICB2YXIgcGFyYW1zID0ge30sCiAgICAgICAgICBtZXRob2QgPSB0aGlzLmZvcm0uZGF0YU1ldGhvZDsKICAgICAgICBpZiAoWydwb3N0JywgJ3B1dCddLmluY2x1ZGVzKG1ldGhvZCkpIHsKICAgICAgICAgIHBhcmFtcy5kYXRhID0gZGF0YVF1ZXJ5OwogICAgICAgICAgaWYgKHRoaXMuZm9ybS5kYXRhUXVlcnlUeXBlID09ICdmb3JtJykgewogICAgICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgT2JqZWN0LmtleXMoZGF0YVF1ZXJ5KS5mb3JFYWNoKGZ1bmN0aW9uIChlbGUpIHsKICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoZWxlLCBkYXRhUXVlcnlbZWxlXSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBwYXJhbXMuZGF0YSA9IGZvcm1EYXRhOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoWydnZXQnLCAnZGVsZXRlJ10uaW5jbHVkZXMobWV0aG9kKSkgewogICAgICAgICAgcGFyYW1zLnBhcmFtcyA9IGRhdGFRdWVyeTsKICAgICAgICB9CiAgICAgICAgdGhpcy4kYXhpb3MoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB7CiAgICAgICAgICBtZXRob2Q6IHRoaXMuZm9ybS5kYXRhTWV0aG9kLAogICAgICAgICAgdXJsOiB0aGlzLmZvcm0udXJsLAogICAgICAgICAgaGVhZGVyczogZGF0YUhlYWRlcgogICAgICAgIH0pLCBwYXJhbXMpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzMi5yZXN1bHQgPSBmb3JtYXR0ZXIocmVzLmRhdGEpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaXNTcWwpIHsKICAgICAgICBkeW5hbWljU3FsKHRoaXMuZ2V0U3FsKHRoaXMuZm9ybSkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMyLnJlc3VsdCA9IGZvcm1hdHRlcihyZXMuZGF0YS5kYXRhKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmlzV3MpIHsKICAgICAgICB0aGlzLmhhbmRsZUNsb3NlKCk7CiAgICAgICAgdmFyIF9kYXRhUXVlcnkgPSB0aGlzLmZvcm0uZGF0YVF1ZXJ5ID8gZ2V0RnVuY3Rpb24odGhpcy5mb3JtLmRhdGFRdWVyeSkoKSA6IHt9OwogICAgICAgIHZhciB1cmwgPSB0aGlzLmZvcm0ud3NVcmwgKyBhZGRQYXJhbShfZGF0YVF1ZXJ5KTsKICAgICAgICB0aGlzLmNsaWVudCA9IG5ldyBXZWJTb2NrZXQodXJsKTsKICAgICAgICB0aGlzLmNsaWVudC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgbXNnRXZlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwogICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKG1zZ0V2ZW50LmRhdGEpOwogICAgICAgICAgX3RoaXMyLnJlc3VsdCA9IGZvcm1hdHRlcihkYXRhKTsKICAgICAgICB9OwogICAgICB9CiAgICB9LAogICAgaGFuZGxlSW1wb3J0OiBmdW5jdGlvbiBoYW5kbGVJbXBvcnQoZmlsZSwgZmlsZUxpcykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy4kRXhwb3J0Lnhsc3goZmlsZS5yYXcpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBfdGhpczMuZm9ybS5kYXRhID0gZGF0YS5yZXN1bHRzOwogICAgICAgIF90aGlzMy4kbWVzc2FnZS5zdWNjZXNzKCflr7zlhaXmiJDlip8nKTsKICAgICAgfSk7CiAgICB9LAogICAgdmFpbGREYXRhOiBmdW5jdGlvbiB2YWlsZERhdGEoaWQpIHsKICAgICAgcmV0dXJuIFswLCAxLCAyXS5pbmNsdWRlcyhpZCk7CiAgICB9LAogICAgYmVmb3JlQ2xvc2U6IGZ1bmN0aW9uIGJlZm9yZUNsb3NlKGRvbmUpIHsKICAgICAgdGhpcy5oYW5kbGVDbG9zZSgpOwogICAgICBkb25lKCk7CiAgICB9LAogICAgYmVmb3JlT3BlbjogZnVuY3Rpb24gYmVmb3JlT3Blbihkb25lLCB0eXBlKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB0aGlzLnJlc3VsdCA9ICcnOwogICAgICBpZiAodHlwZSA9PSAnZWRpdCcpIHsKICAgICAgICBnZXRPYmoodGhpcy5mb3JtLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgIF90aGlzNC5mb3JtID0gZGF0YTsKICAgICAgICAgIGlmIChfdGhpczQuaXNTcWwpIHsKICAgICAgICAgICAgdmFyIG1vZGUgPSBKU09OLnBhcnNlKGNyeXB0by5kZWNyeXB0KF90aGlzNC5mb3JtLmRhdGEpKTsKICAgICAgICAgICAgX3RoaXM0LmZvcm0uZGJJZCA9IG1vZGUuaWQ7CiAgICAgICAgICAgIF90aGlzNC5mb3JtLmRiU3FsID0gbW9kZS5zcWw7CiAgICAgICAgICB9CiAgICAgICAgICBfdGhpczQuaGFuZGxlUmVzKGZhbHNlKTsKICAgICAgICAgIGRvbmUoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkb25lKCk7CiAgICAgIH0KICAgICAgdGhpcy5mb3JtLmRhdGFGb3JtYXR0ZXIgPSB0aGlzLmZvcm0uZGF0YUZvcm1hdHRlciB8fCAiKGRhdGEpPT57XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGF0YVxuICAgIH1cbn0iOwogICAgfSwKICAgIHJvd0RlbDogZnVuY3Rpb24gcm93RGVsKHJvdywgaW5kZXgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIGlmICh0aGlzLnZhaWxkRGF0YShpbmRleCkgJiYgdGhpcy4kd2Vic2l0ZS5pc0RlbW8pIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHRoaXMuJHdlYnNpdGUuaXNEZW1vVGlwKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6ZmkLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGRlbE9iaihyb3cuaWQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXM1LiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKnycpOwogICAgICAgICAgX3RoaXM1LmdldExpc3QoKTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfSwKICAgIHJvd1VwZGF0ZTogZnVuY3Rpb24gcm93VXBkYXRlKHJvdywgaW5kZXgsIGRvbmUpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIGlmICh0aGlzLnZhaWxkRGF0YShpbmRleCkgJiYgdGhpcy4kd2Vic2l0ZS5pc0RlbW8pIHsKICAgICAgICBkb25lKCk7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih0aGlzLiR3ZWJzaXRlLmlzRGVtb1RpcCk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGlmICh0aGlzLmlzU3FsKSByb3cuZGF0YSA9IHRoaXMuZ2V0U3FsKHJvdyk7CiAgICAgIHVwZGF0ZU9iaihyb3cpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGRvbmUoKTsKICAgICAgICBfdGhpczYuJG1lc3NhZ2Uuc3VjY2Vzcygn5L+u5pS55oiQ5YqfJyk7CiAgICAgICAgX3RoaXM2LmdldExpc3QoKTsKICAgICAgfSk7CiAgICB9LAogICAgcm93U2F2ZTogZnVuY3Rpb24gcm93U2F2ZShyb3csIGRvbmUpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CiAgICAgIGlmICh0aGlzLmlzU3FsKSByb3cuZGF0YSA9IHRoaXMuZ2V0U3FsKHJvdyk7CiAgICAgIGFkZE9iaihyb3cpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNy4kbWVzc2FnZS5zdWNjZXNzKCfmlrDlop7miJDlip8nKTsKICAgICAgICBfdGhpczcuZ2V0TGlzdCgpOwogICAgICAgIGRvbmUoKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CiAgICAgIF9nZXRMaXN0KHsKICAgICAgICBjdXJyZW50OiAxLAogICAgICAgIHNpemU6IDEwMAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgX3RoaXM4LmRhdGEgPSBkYXRhLnJlY29yZHM7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;AA4GA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA;AACA;AACA;EACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAR;MACAS;QACAC;QACAC;QACAC;QACAC;QACAC,SACA;UACAC;UACAC;UACAC;YACAC;YACAC;YACAC;UACA;QACA,GACA;UACAL;UACAC;UACAK;UACAC;UACAL;YACAC;YACAC;YACAC;UACA;QACA,GACA;UACAL;UACAC;UACAO;UACAb;UACAc;QACA;MAEA;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACA;MACA;MACA;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACAC;MAAA;MACAC;QACAC;QACAC;MACA;QACA;QACA;UACA;YACArB;YACAsB;UACA;QACA;MACA;IACA;IACAC;MACA;QACAC;QACAjC;MACA;IACA;IACAkC;MACA;IACA;IACAC;MAAA;MAAA;MACA;QACA;QACA;QACA;UACA;QACA;QAEA;MACA;MACA;QACA;QACA;MACA;QACA;QACA;QACA;UAAApC;QACA;UACAqC;UACA;YACA;YACAC;cACAC;YACA;YACAF;UACA;QACA;UACAA;QACA;QACA,4CACA;UACArC;UACAwC;UACAC;QACA,IACAJ,QACA;UACA;QACA;MACA;QACAK;UACA;QACA;MACA;QACA;QACA;QACA;QACA;QACA;UAAA;UACA;UACA;QACA;MACA;IACA;IACAC;MAAA;MACA,4BACAC;QACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACAC;IACA;IACAC;MAAA;MACA;MACA;QACAC;UACA;UACA;UACA;YACA;YACA;YACA;UACA;UACA;UACAF;QACA;MACA;QACAA;MACA;MACA;IACA;IACAG;MAAA;MACA;QACA;QACA;MACA;MACA;QACAC;QACAC;QACApC;MACA;QACAqC;UACA;UACA;QACA;MACA,sBAEA;IAEA;IACAC;MAAA;MACA;QACAP;QACA;QACA;MACA;MACA;MACAQ;QACAR;QACA;QACA;MAEA;IACA;IACAS;MAAA;MACA;MACAC;QACA;QACA;QACAV;MACA;IACA;IACAW;MAAA;MACAA;QACA5B;QACAC;MACA;QACA;QACA;MACA;IACA;EACA;AACA","names":["dicOption","components","MonacoEditor","data","tabs","box","client","DIC","method","sql","result","form","option","labelWidth","index","align","headerAlign","column","label","prop","rules","required","message","trigger","type","dicData","hide","span","computed","isStatic","isApi","isSql","isWs","watch","created","methods","init","getDbList","current","size","value","getSql","id","handleClose","handleRes","params","Object","formData","url","headers","dynamicSql","handleImport","then","vaildData","beforeClose","done","beforeOpen","getObj","rowDel","confirmButtonText","cancelButtonText","delObj","rowUpdate","updateObj","rowSave","addObj","getList"],"sourceRoot":"src/page/list","sources":["record.vue"],"sourcesContent":["<template>\n  <avue-crud :option=\"option\"\n             v-model=\"form\"\n             @row-save=\"rowSave\"\n             @row-update=\"rowUpdate\"\n             @row-del=\"rowDel\"\n             :before-close=\"beforeClose\"\n             :before-open=\"beforeOpen\"\n             :data=\"data\">\n    <template slot=\"contentForm\"\n              slot-scope=\"{}\">\n      <template v-if=\"isStatic\">\n        <el-form-item label=\"数据值\"\n                      label-position=\"top\">\n          <monaco-editor v-model=\"form.data\"\n                         language=\"javascript\"\n                         height=\"100\"></monaco-editor>\n          <br />\n          <el-upload :show-file-list=\"false\"\n                     :auto-upload=\"false\"\n                     style=\"display:inline-block\"\n                     accept=\".xls,.xlsx\"\n                     :on-change=\"handleImport\">\n            <el-button size=\"small\"\n                       icon=\"el-icon-upload\"\n                       type=\"success\">导入数据(Excel)</el-button>\n          </el-upload>\n\n        </el-form-item>\n      </template>\n      <template v-else-if=\"isSql\">\n        <el-form-item label=\"数据源选择\">\n          <avue-select :dic=\"DIC.sql\"\n                       v-model=\"form.dbId\"></avue-select>\n        </el-form-item>\n\n        <el-form-item label=\"SQL语句\"\n                      label-position=\"top\">\n          <monaco-editor v-model=\"form.dbSql\"\n                         language=\"sql\"\n                         height=\"100\"></monaco-editor>\n        </el-form-item>\n      </template>\n      <template v-else-if=\"isApi\">\n        <el-form-item label=\"接口地址\">\n          <avue-input v-model=\"form.url\"></avue-input>\n        </el-form-item>\n        <el-form-item label=\"请求方式\">\n          <avue-select v-model=\"form.dataMethod\"\n                       :dic=\"DIC.method\"></avue-select>\n        </el-form-item>\n      </template>\n      <template v-else-if=\"isWs\">\n        <el-form-item label=\"WS地址\">\n          <el-input v-model=\"form.wsUrl\">\n          </el-input>\n        </el-form-item>\n      </template>\n      <el-form-item label=\"请求配置\"\n                    v-if=\"isWs || isApi\">\n        <el-tabs class=\"menu__tabs\"\n                 v-model=\"tabs\">\n          <el-tab-pane label=\"请求参数（Body）\"\n                       name=\"0\">\n            <template v-if=\"tabs==0\">\n              <el-radio-group size=\"mini\"\n                              v-if=\"['post','put'].includes(form.dataMethod)\"\n                              v-model=\"form.dataQueryType\">\n                <el-radio label=\"json\">JSON数据</el-radio>\n                <el-radio label=\"form\">FORM表单</el-radio>\n              </el-radio-group>\n              <monaco-editor v-model=\"form.dataQuery\"\n                             language=\"javascript\"\n                             height=\"100\"></monaco-editor>\n            </template>\n          </el-tab-pane>\n          <el-tab-pane label=\"请求头（Headers）\"\n                       v-if=\"isApi\"\n                       name=\"1\">\n            <template v-if=\"tabs==1\">\n              <monaco-editor v-model=\"form.dataHeader\"\n                             language=\"javascript\"\n                             height=\"100\"></monaco-editor>\n            </template>\n          </el-tab-pane>\n\n        </el-tabs>\n      </el-form-item>\n      <el-form-item label=\"过滤器\">\n        <monaco-editor v-model=\"form.dataFormatter\"\n                       height=\"100\"></monaco-editor>\n      </el-form-item>\n      <el-form-item label=\"响应数据\">\n        <monaco-editor v-model=\"result\"\n                       disabled\n                       height=\"100\"></monaco-editor>\n      </el-form-item>\n    </template>\n    <template slot=\"menuForm\">\n      <el-button @click=\"handleRes\"\n                 size=\"small\"\n                 icon=\"el-icon-upload\"\n                 type=\"primary\">刷新数据</el-button>\n    </template>\n  </avue-crud>\n</template>\n\n<script>\nimport crypto from '@/utils/crypto'\nimport { addParam } from '@/echart/util';\nimport { getFunction, funEval } from '@/utils/utils'\nimport MonacoEditor from '@/page/components/editor'\nimport { getList, getObj, addObj, delObj, updateObj } from '@/api/record'\nimport { getList as getDbList, dynamicSql } from \"@/api/db\";\nimport { dicOption } from '@/option/config'\ndicOption.dataType.splice(4, 1)\nconst dataType = dicOption.dataType\nexport default {\n  components: {\n    MonacoEditor,\n  },\n  data () {\n    return {\n      tabs: 0,\n      box: false,\n      client: {},\n      DIC: {\n        method: dicOption.dataMethod,\n        sql: []\n      },\n      result: {},\n      form: {},\n      data: [],\n      option: {\n        labelWidth: 130,\n        index: true,\n        align: 'center',\n        headerAlign: 'center',\n        column: [\n          {\n            label: '名称',\n            prop: 'name',\n            rules: [{\n              required: true,\n              message: \"请输入名称\",\n              trigger: \"blur\"\n            }]\n          },\n          {\n            label: '类型',\n            prop: 'dataType',\n            type: 'select',\n            dicData: dataType,\n            rules: [{\n              required: true,\n              message: \"请选择类型\",\n              trigger: \"blur\"\n            }]\n          },\n          {\n            label: '',\n            prop: 'content',\n            hide: true,\n            labelWidth: 0,\n            span: 24,\n          }\n        ]\n      }\n    }\n  },\n  computed: {\n    isStatic () {\n      return this.form.dataType === 0\n    },\n    isApi () {\n      return this.form.dataType == 1\n    },\n    isSql () {\n      return this.form.dataType == 2\n    },\n    isWs () {\n      return this.form.dataType === 3\n    },\n  },\n  watch: {\n    'form.dataType' () {\n      this.result = ''\n      this.tabs = '0'\n    }\n  },\n  created () {\n    this.init()\n    this.getList()\n  },\n  methods: {\n    init () {\n      getDbList({\n        current: 1,\n        size: 100,\n      }).then(res => {\n        const data = res.data.data;\n        this.DIC.sql = data.records.map(ele => {\n          return {\n            label: ele.name,\n            value: ele.id\n          }\n        })\n      });\n    },\n    getSql (row) {\n      return crypto.encrypt(JSON.stringify({\n        id: row.dbId,\n        sql: row.dbSql\n      }))\n    },\n    handleClose () {\n      this.client.close && this.client.close()\n    },\n    handleRes (tip = true) {\n      const formatter = (data) => {\n        const dataFormatter = getFunction(this.form.dataFormatter)\n        if (tip) this.$message.success('数据刷新成功')\n        if (typeof dataFormatter == 'function') {\n          return dataFormatter(data)\n        }\n\n        return data\n      }\n      if (this.isStatic) {\n        let result = funEval(this.form.data)\n        this.result = formatter(result);\n      } else if (this.isApi) {\n        let dataQuery = this.form.dataQuery ? getFunction(this.form.dataQuery)() : {}\n        let dataHeader = this.form.dataHeader ? getFunction(this.form.dataHeader)() : {}\n        let params = {}, method = this.form.dataMethod\n        if (['post', 'put'].includes(method)) {\n          params.data = dataQuery\n          if (this.form.dataQueryType == 'form') {\n            let formData = new FormData()\n            Object.keys(dataQuery).forEach(ele => {\n              formData.append(ele, dataQuery[ele])\n            })\n            params.data = formData\n          }\n        } else if (['get', 'delete'].includes(method)) {\n          params.params = dataQuery\n        }\n        this.$axios({\n          ...{\n            method: this.form.dataMethod,\n            url: this.form.url,\n            headers: dataHeader\n          },\n          ...params\n        }).then(res => {\n          this.result = formatter(res.data)\n        })\n      } else if (this.isSql) {\n        dynamicSql(this.getSql(this.form)).then(res => {\n          this.result = formatter(res.data.data)\n        })\n      } else if (this.isWs) {\n        this.handleClose()\n        let dataQuery = this.form.dataQuery ? getFunction(this.form.dataQuery)() : {}\n        let url = this.form.wsUrl + addParam(dataQuery)\n        this.client = new WebSocket(url)\n        this.client.onmessage = (msgEvent = {}) => {\n          const data = JSON.parse(msgEvent.data)\n          this.result = formatter(data)\n        }\n      }\n    },\n    handleImport (file, fileLis) {\n      this.$Export.xlsx(file.raw)\n        .then(data => {\n          this.form.data = data.results;\n          this.$message.success('导入成功')\n        })\n    },\n    vaildData (id) {\n      return [0, 1, 2].includes(id)\n    },\n    beforeClose (done) {\n      this.handleClose()\n      done()\n    },\n    beforeOpen (done, type) {\n      this.result = '';\n      if (type == 'edit') {\n        getObj(this.form.id).then(res => {\n          const data = res.data.data;\n          this.form = data\n          if (this.isSql) {\n            let mode = JSON.parse(crypto.decrypt(this.form.data));\n            this.form.dbId = mode.id;\n            this.form.dbSql = mode.sql;\n          }\n          this.handleRes(false)\n          done()\n        })\n      } else {\n        done()\n      }\n      this.form.dataFormatter = this.form.dataFormatter || \"(data)=>{\\n    return {\\n        data\\n    }\\n}\"\n    },\n    rowDel (row, index) {\n      if (this.vaildData(index) && this.$website.isDemo) {\n        this.$message.error(this.$website.isDemoTip)\n        return false;\n      }\n      this.$confirm('此操作将永久删除, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        delObj(row.id).then(() => {\n          this.$message.success('删除成功');\n          this.getList()\n        })\n      }).catch(() => {\n\n      });\n\n    },\n    rowUpdate (row, index, done) {\n      if (this.vaildData(index) && this.$website.isDemo) {\n        done();\n        this.$message.error(this.$website.isDemoTip)\n        return false;\n      }\n      if (this.isSql) row.data = this.getSql(row)\n      updateObj(row).then(() => {\n        done();\n        this.$message.success('修改成功');\n        this.getList()\n\n      })\n    },\n    rowSave (row, done) {\n      if (this.isSql) row.data = this.getSql(row)\n      addObj(row).then(() => {\n        this.$message.success('新增成功');\n        this.getList()\n        done();\n      })\n    },\n    getList () {\n      getList({\n        current: 1,\n        size: 100,\n      }).then(res => {\n        const data = res.data.data;\n        this.data = data.records;\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>"]}]}
{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanjiajia/Desktop/workspace/avue-data-new/src/page/list/category.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/src/page/list/category.vue","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGdldExpc3QsIGdldE9iaiwgYWRkT2JqLCBkZWxPYmosIHVwZGF0ZU9iaiB9IGZyb20gJ0AvYXBpL2NhdGVnb3J5JwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7fSwKICAgICAgZGF0YTogW10sCiAgICAgIG9wdGlvbjogewogICAgICAgIGluZGV4OiB0cnVlLAogICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICBoZWFkZXJBbGlnbjogJ2NlbnRlcicsCiAgICAgICAgY29sdW1uOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIGxhYmVsOiAn5qih5Z2X5ZCNJywKICAgICAgICAgICAgcHJvcDogJ2NhdGVnb3J5S2V5JywKICAgICAgICAgICAgcnVsZXM6IFt7CiAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeaooeWdl+WQjSIsCiAgICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgICAgIH1dCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBsYWJlbDogJ+aooeWdl+WAvCcsCiAgICAgICAgICAgIHByb3A6ICdjYXRlZ29yeVZhbHVlJywKICAgICAgICAgICAgdHlwZTogJ251bWJlcicsCiAgICAgICAgICAgIHJ1bGVzOiBbewogICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXmqKHlnZflgLwiLAogICAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgICAgICB9XQogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCAoKSB7CiAgICB0aGlzLmdldExpc3QoKQogIH0sCiAgbWV0aG9kczogewogICAgdmFpbGREYXRhIChpZCkgewogICAgICByZXR1cm4gWzAsIDEsIDJdLmluY2x1ZGVzKGlkKQogICAgfSwKICAgIGJlZm9yZU9wZW4gKGRvbmUsIHR5cGUpIHsKICAgICAgaWYgKHR5cGUgPT0gJ2VkaXQnKSB7CiAgICAgICAgZ2V0T2JqKHRoaXMuZm9ybS5pZCkudGhlbihyZXMgPT4gewogICAgICAgICAgY29uc3QgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICB0aGlzLmZvcm0gPSBkYXRhCiAgICAgICAgICBkb25lKCkKICAgICAgICB9KQogICAgICB9IGVsc2UgewogICAgICAgIGRvbmUoKQogICAgICB9CiAgICB9LAogICAgcm93RGVsIChyb3csIGluZGV4KSB7CiAgICAgIGlmICh0aGlzLnZhaWxkRGF0YShpbmRleCkgJiYgdGhpcy4kd2Vic2l0ZS5pc0RlbW8pIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHRoaXMuJHdlYnNpdGUuaXNEZW1vVGlwKQogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaQsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgZGVsT2JqKHJvdy5pZCkudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKnycpOwogICAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgICB9KQogICAgICB9KS5jYXRjaCgoKSA9PiB7CgogICAgICB9KTsKCiAgICB9LAogICAgcm93VXBkYXRlIChyb3csIGluZGV4LCBkb25lKSB7CiAgICAgIGlmICh0aGlzLnZhaWxkRGF0YShpbmRleCkgJiYgdGhpcy4kd2Vic2l0ZS5pc0RlbW8pIHsKICAgICAgICBkb25lKCk7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih0aGlzLiR3ZWJzaXRlLmlzRGVtb1RpcCkKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdXBkYXRlT2JqKHJvdykudGhlbigoKSA9PiB7CiAgICAgICAgZG9uZSgpOwogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5L+u5pS55oiQ5YqfJyk7CiAgICAgICAgdGhpcy5nZXRMaXN0KCkKCiAgICAgIH0pCiAgICB9LAogICAgcm93U2F2ZSAocm93LCBkb25lKSB7CiAgICAgIGFkZE9iaihyb3cpLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5paw5aKe5oiQ5YqfJyk7CiAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgICBkb25lKCk7CiAgICAgIH0pCiAgICB9LAogICAgZ2V0TGlzdCAoKSB7CiAgICAgIGdldExpc3QoewogICAgICAgIGN1cnJlbnQ6IDEsCiAgICAgICAgc2l6ZTogMTAwLAogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc3QgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTsKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["category.vue"],"names":[],"mappings":";AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"category.vue","sourceRoot":"src/page/list","sourcesContent":["<template>\n  <avue-crud :option=\"option\"\n             v-model=\"form\"\n             @row-save=\"rowSave\"\n             @row-update=\"rowUpdate\"\n             @row-del=\"rowDel\"\n             :before-open=\"beforeOpen\"\n             :data=\"data\"></avue-crud>\n</template>\n\n<script>\nimport { getList, getObj, addObj, delObj, updateObj } from '@/api/category'\nexport default {\n  data () {\n    return {\n      form: {},\n      data: [],\n      option: {\n        index: true,\n        align: 'center',\n        headerAlign: 'center',\n        column: [\n          {\n            label: '模块名',\n            prop: 'categoryKey',\n            rules: [{\n              required: true,\n              message: \"请输入模块名\",\n              trigger: \"blur\"\n            }]\n          },\n          {\n            label: '模块值',\n            prop: 'categoryValue',\n            type: 'number',\n            rules: [{\n              required: true,\n              message: \"请输入模块值\",\n              trigger: \"blur\"\n            }]\n          }\n        ]\n      }\n    }\n  },\n  created () {\n    this.getList()\n  },\n  methods: {\n    vaildData (id) {\n      return [0, 1, 2].includes(id)\n    },\n    beforeOpen (done, type) {\n      if (type == 'edit') {\n        getObj(this.form.id).then(res => {\n          const data = res.data.data;\n          this.form = data\n          done()\n        })\n      } else {\n        done()\n      }\n    },\n    rowDel (row, index) {\n      if (this.vaildData(index) && this.$website.isDemo) {\n        this.$message.error(this.$website.isDemoTip)\n        return false;\n      }\n      this.$confirm('此操作将永久删除, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        delObj(row.id).then(() => {\n          this.$message.success('删除成功');\n          this.getList()\n        })\n      }).catch(() => {\n\n      });\n\n    },\n    rowUpdate (row, index, done) {\n      if (this.vaildData(index) && this.$website.isDemo) {\n        done();\n        this.$message.error(this.$website.isDemoTip)\n        return false;\n      }\n      updateObj(row).then(() => {\n        done();\n        this.$message.success('修改成功');\n        this.getList()\n\n      })\n    },\n    rowSave (row, done) {\n      addObj(row).then(() => {\n        this.$message.success('新增成功');\n        this.getList()\n        done();\n      })\n    },\n    getList () {\n      getList({\n        current: 1,\n        size: 100,\n      }).then(res => {\n        const data = res.data.data;\n        this.data = data;\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>"]}]}
{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanjiajia/Desktop/workspace/avue-data-new/src/echart/packages/table/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/src/echart/packages/table/index.vue","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBjcmVhdGUgZnJvbSAiLi4vLi4vY3JlYXRlIjsKZXhwb3J0IGRlZmF1bHQgY3JlYXRlKHsKICBuYW1lOiAidGFibGUiLAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgaGVhZGVySGVpZ2h0OiAnJywKICAgICAgc2Nyb2xsQ2hlY2s6ICIiLAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBzY3JvbGxTcGVlZCAoKSB7CiAgICAgIHRoaXMuc2V0VGltZSgpOwogICAgfSwKICAgIHNjcm9sbDogewogICAgICBoYW5kbGVyICgpIHsKICAgICAgICB0aGlzLnNldFRpbWUoKTsKICAgICAgfSwKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBzaG93SGVhZGVyICgpIHsKICAgICAgcmV0dXJuIHRoaXMub3B0aW9uLnNob3dIZWFkZXIKICAgIH0sCiAgICBzY3JvbGxUaW1lICgpIHsKICAgICAgcmV0dXJuIHRoaXMub3B0aW9uLnNjcm9sbFRpbWUKICAgIH0sCiAgICBzY3JvbGxTcGVlZCAoKSB7CiAgICAgIHJldHVybiB0aGlzLm9wdGlvbi5zY3JvbGxTcGVlZCB8fCAxCiAgICB9LAogICAgc2Nyb2xsICgpIHsKICAgICAgcmV0dXJuIHRoaXMub3B0aW9uLnNjcm9sbAogICAgfSwKICAgIGNlbGxIZWlnaHQgKCkgewogICAgICByZXR1cm4gcGFyc2VJbnQoKHRoaXMuaGVpZ2h0IC0gdGhpcy5oZWFkZXJIZWlnaHQpIC8gdGhpcy5vcHRpb24uY291bnQpCiAgICB9CiAgfSwKICBwcm9wczogewogICAgb3B0aW9uOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogKCkgPT4gewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCAoKSB7CiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgIHRoaXMuaGVhZGVySGVpZ2h0ID0gcGFyc2VJbnQodGhpcy4kcmVmcy50YWJsZS4kcmVmcy5oZWFkZXJXcmFwcGVyLmNsaWVudEhlaWdodCkKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5zZXRUaW1lKCk7CiAgICAgIH0sIHRoaXMuc2Nyb2xsVGltZSkKICAgIH0pCiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVNb3VzZU92ZXIgKCkgewogICAgICBjbGVhckludGVydmFsKHRoaXMuc2Nyb2xsQ2hlY2spOwogICAgfSwKICAgIGhhbmRsZU1vdXNlTGVhdmUgKCkgewogICAgICB0aGlzLnNldFRpbWUoKQogICAgfSwKICAgIGNlbGxDbGljayAocm93LCBjb2x1bW4sIGNlbGwsIGV2ZW50KSB7CiAgICAgIHRoaXMudXBkYXRlQ2xpY2socm93KTsKICAgICAgdGhpcy5jbGlja0Zvcm1hdHRlciAmJiB0aGlzLmNsaWNrRm9ybWF0dGVyKHsKICAgICAgICB0eXBlOiBjb2x1bW4sCiAgICAgICAgaXRlbTogcm93LAogICAgICAgIGRhdGE6IHRoaXMuZGF0YUNoYXJ0CiAgICAgIH0sIHRoaXMuZ2V0SXRlbVJlZnMoKSk7CiAgICB9LAogICAgc2V0VGltZSAoKSB7CiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5zY3JvbGxDaGVjayk7CiAgICAgIHRoaXMuaGVhZGVySGVpZ2h0ID0gcGFyc2VJbnQodGhpcy4kcmVmcy50YWJsZS4kcmVmcy5oZWFkZXJXcmFwcGVyLmNsaWVudEhlaWdodCkKICAgICAgY29uc3QgdGFibGUgPSB0aGlzLiRyZWZzLnRhYmxlCiAgICAgIGNvbnN0IGRpdkRhdGEgPSB0YWJsZS5ib2R5V3JhcHBlcgogICAgICBjb25zdCBzcGVlZCA9IHRoaXMuc2Nyb2xsU3BlZWQKICAgICAgbGV0IHRvcCA9IDAKICAgICAgaWYgKHRoaXMuc2Nyb2xsKSB7CiAgICAgICAgdGhpcy5zY3JvbGxDaGVjayA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgIHRvcCA9IHRvcCArIHNwZWVkCiAgICAgICAgICBkaXZEYXRhLnNjcm9sbFRvcCArPSBzcGVlZDsKICAgICAgICAgIGlmIChkaXZEYXRhLmNsaWVudEhlaWdodCArIGRpdkRhdGEuc2Nyb2xsVG9wID09IGRpdkRhdGEuc2Nyb2xsSGVpZ2h0KSB7CiAgICAgICAgICAgIGRpdkRhdGEuc2Nyb2xsVG9wID0gMAogICAgICAgICAgfQogICAgICAgICAgaWYgKHRvcCA+PSB0aGlzLmNlbGxIZWlnaHQgJiYgdGhpcy5zY3JvbGxUaW1lKSB7CiAgICAgICAgICAgIGRpdkRhdGEuc2Nyb2xsVG9wID0gZGl2RGF0YS5zY3JvbGxUb3AgLSAodG9wIC0gdGhpcy5jZWxsSGVpZ2h0KQogICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuc2Nyb2xsQ2hlY2spOwogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLnNldFRpbWUoKQogICAgICAgICAgICB9LCB0aGlzLnNjcm9sbFRpbWUpCiAgICAgICAgICB9CiAgICAgICAgfSwgMjApCiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGl2RGF0YS5zY3JvbGxUb3AgPSAwCiAgICAgIH0KICAgIH0sCiAgICBjZWxsU3R5bGUgKHsgcm93LCBjb2x1bW4sIHJvd0luZGV4LCBjb2x1bW5JbmRleCB9KSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgcGFkZGluZzogMCwKICAgICAgICBoZWlnaHQ6IHRoaXMuc2V0UHgodGhpcy5jZWxsSGVpZ2h0KSwKICAgICAgICBmb250U2l6ZTogdGhpcy5zZXRQeCh0aGlzLm9wdGlvbi5ib2R5Rm9udFNpemUpLAogICAgICAgIGNvbG9yOiB0aGlzLm9wdGlvbi5ib2R5Q29sb3IsCiAgICAgICAgdGV4dEFsaWduOiBjb2x1bW4udHlwZSA9PSAnaW5kZXgnID8gJ2NlbnRlcicgOiB0aGlzLm9wdGlvbi5ib2R5VGV4dEFsaWduLAogICAgICAgIGJhY2tncm91bmRDb2xvcjogcm93SW5kZXggJSAyID09IDAgPyB0aGlzLm9wdGlvbi5vdGhDb2xvciA6IHRoaXMub3B0aW9uLm50aENvbG9yLAogICAgICB9CiAgICB9LAogICAgcm93U3R5bGUgKHsgcm93SW5kZXggfSkgewogICAgICByZXR1cm4gewogICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JwogICAgICB9CiAgICB9LAogICAgaGVhZGVyUm93U3R5bGUgKCkgewogICAgICByZXR1cm4gewogICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5vcHRpb24uaGVhZGVyQmFja2dyb3VuZAogICAgICB9CiAgICB9LAogICAgaGVhZGVyQ2VsbFN0eWxlICh7IHJvdywgY29sdW1uLCByb3dJbmRleCwgY29sdW1uSW5kZXggfSkgewogICAgICByZXR1cm4gewogICAgICAgIGZvbnRTaXplOiB0aGlzLnNldFB4KHRoaXMub3B0aW9uLmhlYWRlckZvbnRTaXplKSwKICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMub3B0aW9uLmhlYWRlckJhY2tncm91bmQsCiAgICAgICAgY29sb3I6IHRoaXMub3B0aW9uLmhlYWRlckNvbG9yLAogICAgICAgIHRleHRBbGlnbjogY29sdW1uLnR5cGUgPT0gJ2luZGV4JyA/ICdjZW50ZXInIDogdGhpcy5vcHRpb24uaGVhZGVyVGV4dEFsaWduCiAgICAgIH0KICAgIH0KICB9Cn0pOwo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/echart/packages/table","sourcesContent":["<template>\n  <div :class=\"[b(),className]\"\n       :style=\"styleSizeName\"\n       @mouseover=\"handleMouseOver\"\n       @mouseleave=\"handleMouseLeave\">\n    <el-table :style=\"styleChartName\"\n              ref=\"table\"\n              @cell-click=\"cellClick\"\n              :data=\"dataChart\"\n              :height=\"height\"\n              :border=\"option.border\"\n              :cellStyle=\"cellStyle\"\n              :row-style=\"rowStyle\"\n              :show-header=\"showHeader\"\n              :header-row-style=\"headerRowStyle\"\n              :header-cell-style=\"headerCellStyle\">\n      <el-table-column type=\"index\"\n                       label=\"#\"\n                       header-align=\"center\"\n                       align=\"center\"\n                       v-if=\"option.index\"\n                       width=\"60\">\n        <span slot-scope=\"{$index}\">{{$index+1}}</span>\n      </el-table-column>\n      <template v-for=\"(item,index) in option.column\">\n        <el-table-column v-if=\"item.hide!==true\"\n                         show-overflow-tooltip\n                         :key='index'\n                         :prop=\"item.prop\"\n                         :label=\"item.label\"\n                         :width=\"item.width\">\n        </el-table-column>\n      </template>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport create from \"../../create\";\nexport default create({\n  name: \"table\",\n  data () {\n    return {\n      headerHeight: '',\n      scrollCheck: \"\",\n    };\n  },\n  watch: {\n    scrollSpeed () {\n      this.setTime();\n    },\n    scroll: {\n      handler () {\n        this.setTime();\n      },\n    }\n  },\n  computed: {\n    showHeader () {\n      return this.option.showHeader\n    },\n    scrollTime () {\n      return this.option.scrollTime\n    },\n    scrollSpeed () {\n      return this.option.scrollSpeed || 1\n    },\n    scroll () {\n      return this.option.scroll\n    },\n    cellHeight () {\n      return parseInt((this.height - this.headerHeight) / this.option.count)\n    }\n  },\n  props: {\n    option: {\n      type: Object,\n      default: () => {\n        return {};\n      }\n    }\n  },\n  created () {\n    this.$nextTick(() => {\n      this.headerHeight = parseInt(this.$refs.table.$refs.headerWrapper.clientHeight)\n      setTimeout(() => {\n        this.setTime();\n      }, this.scrollTime)\n    })\n  },\n  methods: {\n    handleMouseOver () {\n      clearInterval(this.scrollCheck);\n    },\n    handleMouseLeave () {\n      this.setTime()\n    },\n    cellClick (row, column, cell, event) {\n      this.updateClick(row);\n      this.clickFormatter && this.clickFormatter({\n        type: column,\n        item: row,\n        data: this.dataChart\n      }, this.getItemRefs());\n    },\n    setTime () {\n      clearInterval(this.scrollCheck);\n      this.headerHeight = parseInt(this.$refs.table.$refs.headerWrapper.clientHeight)\n      const table = this.$refs.table\n      const divData = table.bodyWrapper\n      const speed = this.scrollSpeed\n      let top = 0\n      if (this.scroll) {\n        this.scrollCheck = setInterval(() => {\n          top = top + speed\n          divData.scrollTop += speed;\n          if (divData.clientHeight + divData.scrollTop == divData.scrollHeight) {\n            divData.scrollTop = 0\n          }\n          if (top >= this.cellHeight && this.scrollTime) {\n            divData.scrollTop = divData.scrollTop - (top - this.cellHeight)\n            clearInterval(this.scrollCheck);\n            setTimeout(() => {\n              this.setTime()\n            }, this.scrollTime)\n          }\n        }, 20)\n      } else {\n        divData.scrollTop = 0\n      }\n    },\n    cellStyle ({ row, column, rowIndex, columnIndex }) {\n      return {\n        padding: 0,\n        height: this.setPx(this.cellHeight),\n        fontSize: this.setPx(this.option.bodyFontSize),\n        color: this.option.bodyColor,\n        textAlign: column.type == 'index' ? 'center' : this.option.bodyTextAlign,\n        backgroundColor: rowIndex % 2 == 0 ? this.option.othColor : this.option.nthColor,\n      }\n    },\n    rowStyle ({ rowIndex }) {\n      return {\n        backgroundColor: 'transparent'\n      }\n    },\n    headerRowStyle () {\n      return {\n        backgroundColor: this.option.headerBackground\n      }\n    },\n    headerCellStyle ({ row, column, rowIndex, columnIndex }) {\n      return {\n        fontSize: this.setPx(this.option.headerFontSize),\n        backgroundColor: this.option.headerBackground,\n        color: this.option.headerColor,\n        textAlign: column.type == 'index' ? 'center' : this.option.headerTextAlign\n      }\n    }\n  }\n});\n</script>\n\n\n"]}]}
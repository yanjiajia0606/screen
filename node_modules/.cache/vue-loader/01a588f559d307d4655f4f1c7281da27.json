{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanjiajia/Desktop/workspace/avue-data-new/src/echart/packages/text/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/src/echart/packages/text/index.vue","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBjcmVhdGUgZnJvbSAiLi4vLi4vY3JlYXRlIjsKZXhwb3J0IGRlZmF1bHQgY3JlYXRlKHsKICBuYW1lOiAidGV4dCIsCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBjaGVjazogIiIsCiAgICAgIGRhdGU6IG5ldyBEYXRlKCksCiAgICAgIGxlZnQ6IDAsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNjcm9sbCAoKSB7CiAgICAgIHJldHVybiB0aGlzLnZhaWxkRGF0YSh0aGlzLm9wdGlvbi5zY3JvbGwsIGZhbHNlKTsKICAgIH0sCiAgICBsaW5rSHJlZiAoKSB7CiAgICAgIHJldHVybiB0aGlzLm9wdGlvbi5saW5rSHJlZiB8fCAiIyI7CiAgICB9LAogICAgbGlua1RhcmdldCAoKSB7CiAgICAgIHJldHVybiB0aGlzLm9wdGlvbi5saW5rVGFyZ2V0IHx8ICJfc2VsZiI7CiAgICB9LAogICAgc3RlcCAoKSB7CiAgICAgIHJldHVybiB0aGlzLm9wdGlvbi5zdGVwIHx8IDU7CiAgICB9LAogICAgc3BlZWQgKCkgewogICAgICByZXR1cm4gdGhpcy5vcHRpb24uc3BlZWQgfHwgMTAwOwogICAgfSwKICAgIGxpbmVIZWlnaHQgKCkgewogICAgICByZXR1cm4gdGhpcy5vcHRpb24ubGluZUhlaWdodCB8fCA0MDsKICAgIH0sCiAgICBmb250U2l6ZSAoKSB7CiAgICAgIHJldHVybiB0aGlzLm9wdGlvbi5mb250U2l6ZSB8fCAzMDsKICAgIH0sCiAgICBmb250RmFtaWx5ICgpIHsKICAgICAgcmV0dXJuIHRoaXMub3B0aW9uLmZvbnRGYW1pbHkKICAgIH0sCiAgICBzcGxpdCAoKSB7CiAgICAgIHJldHVybiB0aGlzLm9wdGlvbi5zcGxpdDsKICAgIH0sCiAgICB0ZXh0V2lkdGggKCkgewogICAgICBjb25zdCB0ZXh0TGVuID0gKHRoaXMuZGF0YUNoYXJ0LnZhbHVlIHx8ICcnKS5sZW5ndGg7CiAgICAgIHJldHVybiB0ZXh0TGVuICogdGhpcy5mb250U2l6ZTsKICAgIH0sCiAgICBzdHlsZU5hbWUgKCkgewogICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7CiAgICAgICAgd2lkdGg6IHRoaXMuc2Nyb2xsID8gdGhpcy5zZXRQeCh0aGlzLnRleHRXaWR0aCkgOiAnYXV0bycsCiAgICAgICAgdHJhbnNmb3JtOiAidHJhbnNsYXRlWCgiICsgdGhpcy5sZWZ0ICsgInB4KSIsCiAgICAgICAgdGV4dEFsaWduOiB0aGlzLm9wdGlvbi50ZXh0QWxpZ24sCiAgICAgICAgbGV0dGVyU3BhY2luZzogdGhpcy5zZXRQeCh0aGlzLnNwbGl0KSwKICAgICAgICB0ZXh0SW5kZW50OiB0aGlzLnNldFB4KHRoaXMuc3BsaXQpLAogICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5vcHRpb24uYmFja2dyb3VuZENvbG9yLAogICAgICAgIGZvbnRXZWlnaHQ6IHRoaXMub3B0aW9uLmZvbnRXZWlnaHQgfHwgIm5vcm1hbCIsCiAgICAgICAgZm9udEZhbWlseTogdGhpcy5mb250RmFtaWx5LAogICAgICAgIGZvbnRTaXplOiB0aGlzLmZvbnRTaXplICsgInB4IiwKICAgICAgICBsaW5lSGVpZ2h0OiB0aGlzLmxpbmVIZWlnaHQgKyAicHgiLAogICAgICAgIGNvbG9yOiB0aGlzLm9wdGlvbi5jb2xvciB8fCAiIzMzMyIKICAgICAgfSwgdGhpcy5zdHlsZXMpOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHNjcm9sbCAoKSB7CiAgICAgIHRoaXMubW92ZSgpOwogICAgfSwKICAgIHNwZWVkICgpIHsKICAgICAgdGhpcy5tb3ZlKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkICgpIHsKICAgIHNldEludGVydmFsKCgpID0+IHsKICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUoKTsKICAgIH0sIDEwMDApOwogIH0sCiAgbW91bnRlZCAoKSB7CiAgICB0aGlzLm1vdmUoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUNsaWNrICgpIHsKICAgICAgdGhpcy51cGRhdGVDbGljayh0aGlzLmRhdGFDaGFydCk7CiAgICAgIHRoaXMuY2xpY2tGb3JtYXR0ZXIgJiYgdGhpcy5jbGlja0Zvcm1hdHRlcih7CiAgICAgICAgZGF0YTogdGhpcy5kYXRhQ2hhcnQKICAgICAgfSwgdGhpcy5nZXRJdGVtUmVmcygpKTsKICAgIH0sCiAgICBtb3ZlICgpIHsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmNoZWNrKTsKICAgICAgaWYgKHRoaXMuc2Nyb2xsKSB7CiAgICAgICAgdGhpcy5jaGVjayA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgIGlmICh0aGlzLmxlZnQgPCAtdGhpcy50ZXh0V2lkdGgpIHsKICAgICAgICAgICAgdGhpcy5sZWZ0ID0gdGhpcy53aWR0aDsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMubGVmdCA9IHRoaXMubGVmdCAtIHRoaXMuc3RlcDsKICAgICAgICB9LCB0aGlzLnNwZWVkKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmxlZnQgPSAwOwogICAgICB9CiAgICB9CiAgfSwKICBwcm9wczogewogICAgb3B0aW9uOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogKCkgPT4gewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfQogIH0KfSk7Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/echart/packages/text","sourcesContent":["<template>\n  <div :class=\"[b(),className]\"\n       :style=\"styleSizeName\"\n       ref=\"main\"\n       @click=\"handleClick\">\n    <div :style=\"styleChartName\"\n         ref=\"box\"\n         :class=\"b('box')\">\n      <a ref=\"text\"\n         :class=\"b('text')\"\n         :href=\"linkHref\"\n         :style=\"styleName\"\n         :target=\"linkTarget\"\n         v-html=\"dataChart.value\"></a>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport create from \"../../create\";\nexport default create({\n  name: \"text\",\n  data () {\n    return {\n      check: \"\",\n      date: new Date(),\n      left: 0,\n    };\n  },\n  computed: {\n    scroll () {\n      return this.vaildData(this.option.scroll, false);\n    },\n    linkHref () {\n      return this.option.linkHref || \"#\";\n    },\n    linkTarget () {\n      return this.option.linkTarget || \"_self\";\n    },\n    step () {\n      return this.option.step || 5;\n    },\n    speed () {\n      return this.option.speed || 100;\n    },\n    lineHeight () {\n      return this.option.lineHeight || 40;\n    },\n    fontSize () {\n      return this.option.fontSize || 30;\n    },\n    fontFamily () {\n      return this.option.fontFamily\n    },\n    split () {\n      return this.option.split;\n    },\n    textWidth () {\n      const textLen = (this.dataChart.value || '').length;\n      return textLen * this.fontSize;\n    },\n    styleName () {\n      return Object.assign({\n        width: this.scroll ? this.setPx(this.textWidth) : 'auto',\n        transform: \"translateX(\" + this.left + \"px)\",\n        textAlign: this.option.textAlign,\n        letterSpacing: this.setPx(this.split),\n        textIndent: this.setPx(this.split),\n        backgroundColor: this.option.backgroundColor,\n        fontWeight: this.option.fontWeight || \"normal\",\n        fontFamily: this.fontFamily,\n        fontSize: this.fontSize + \"px\",\n        lineHeight: this.lineHeight + \"px\",\n        color: this.option.color || \"#333\"\n      }, this.styles);\n    }\n  },\n  watch: {\n    scroll () {\n      this.move();\n    },\n    speed () {\n      this.move();\n    }\n  },\n  created () {\n    setInterval(() => {\n      this.date = new Date();\n    }, 1000);\n  },\n  mounted () {\n    this.move();\n  },\n  methods: {\n    handleClick () {\n      this.updateClick(this.dataChart);\n      this.clickFormatter && this.clickFormatter({\n        data: this.dataChart\n      }, this.getItemRefs());\n    },\n    move () {\n      clearInterval(this.check);\n      if (this.scroll) {\n        this.check = setInterval(() => {\n          if (this.left < -this.textWidth) {\n            this.left = this.width;\n          }\n          this.left = this.left - this.step;\n        }, this.speed);\n      } else {\n        this.left = 0;\n      }\n    }\n  },\n  props: {\n    option: {\n      type: Object,\n      default: () => {\n        return {};\n      }\n    }\n  }\n});\n</script>\n\n\n"]}]}
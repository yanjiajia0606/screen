{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanjiajia/Desktop/workspace/avue-data-new/src/page/create.vue?vue&type=style&index=0&id=204a699a&lang=scss&scoped=true&","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/src/page/create.vue","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CkBpbXBvcnQgIkAvc3R5bGVzL2xpc3Quc2NzcyI7Ci5jcmVhdGUtc2NyZWVuIHsKICBoZWlnaHQ6IDEwMCU7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIGJhY2tncm91bmQ6IHJnYmEoMCwgNTEsIDEyNSwgMC4wNyk7CiAgbWFyZ2luOiAwOwogIHBhZGRpbmc6IDA7CiAgdXNlci1zZWxlY3Q6IG5vbmU7CgogIC50b3AtYmFyIHsKICAgIGhlaWdodDogNTBweDsKICAgIHdpZHRoOiAxMDAlOwogICAgcG9zaXRpb246IHJlbGF0aXZlOwoKICAgICY6OmJlZm9yZSB7CiAgICAgIGNvbnRlbnQ6ICIgIjsKICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICB0b3A6IDA7CiAgICAgIGxlZnQ6IDA7CiAgICAgIHJpZ2h0OiAwOwogICAgICBoZWlnaHQ6IDIwcHg7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBiYWNrZ3JvdW5kOiAjMTUxYjIyOwogICAgfQoKICAgIC5yaWdodC1iYXIgewogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgIGxlZnQ6IDE1MHB4OwogICAgICB0b3A6IDIwcHg7CiAgICAgIGhlaWdodDogNXB4OwogICAgICB3aWR0aDogMTAwJTsKICAgICAgYm9yZGVyLXRvcDogMnB4IHNvbGlkIHJnYigzOCwgMTI5LCAyNTUpOwogICAgICBib3JkZXItbGVmdDogMnB4IHNvbGlkIHJnYigzOCwgMTI5LCAyNTUpOwogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDU1LCAxMjYsIDI1NSwgMC4wNCk7CiAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDVweDsKICAgICAgdHJhbnNmb3JtOiBza2V3WCgtNDVkZWcpOwogICAgICBib3gtc2hhZG93OiAwIDVweCAyOHB4IDAgcmdiYSg1NSwgMTI2LCAyNTUsIDAuMjgpOwogICAgfQoKICAgIC5sZWZ0LWJhciB7CiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgbGVmdDogMDsKICAgICAgdG9wOiAyNHB4OwogICAgICBoZWlnaHQ6IDI1cHg7CiAgICAgIHdpZHRoOiAxMzhweDsKICAgICAgYm9yZGVyLXJpZ2h0OiAycHggc29saWQgcmdiKDM4LCAxMjksIDI1NSk7CiAgICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCByZ2IoMzgsIDEyOSwgMjU1KTsKICAgICAgdHJhbnNmb3JtOiBza2V3WCgtNDVkZWcpOwogICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogNXB4OwogICAgICBib3gtc2hhZG93OiAwIDVweCAyOHB4IDAgcmdiYSg1NSwgMTI2LCAyNTUsIDAuMjgpOwogICAgfQoKICAgIC5yZXR1cm4tYnRuIHsKICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICBsZWZ0OiAtMzFweDsKICAgICAgdG9wOiAwOwogICAgICB3aWR0aDogMTgwcHg7CiAgICAgIGhlaWdodDogNDhweDsKICAgICAgbGluZS1oZWlnaHQ6IDQ4cHg7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgYmFja2dyb3VuZDogIzE1MWIyMjsKICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICB0cmFuc2Zvcm06IHNrZXdYKC00NWRlZyk7CiAgICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiA1cHg7CgogICAgICAucmV0dXJuLXRleHQgewogICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICBjb2xvcjogI2ZmZjsKICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7CiAgICAgICAgdHJhbnNmb3JtOiBza2V3WCg0NWRlZyk7CiAgICAgICAgdHJhbnNpdGlvbjogMC4yczsKCiAgICAgICAgJjpob3ZlciB7CiAgICAgICAgICBjb2xvcjogdmFyKC0tZGF0YXYtbWFpbi1jb2xvcik7CiAgICAgICAgfQogICAgICB9CgogICAgICAucmV0dXJuLWljb24gewogICAgICAgIG1hcmdpbi1yaWdodDogNXB4OwogICAgICB9CiAgICB9CiAgfQp9Ci5jcmVhdGUtYm94IHsKICBtYXJnaW4tdG9wOiAxMHB4OwogIG1hcmdpbi1ib3R0b206IDQwcHg7CiAgd2lkdGg6IDEwMCU7CiAgb3ZlcmZsb3cteDogYXV0bzsKICAuYXZ1ZS10aXAtdGl0bGUgewogICAgcGFkZGluZy1sZWZ0OiAyMHB4OwogIH0KfQouY3JlYXRlLXNjcm9sbCB7CiAgcGFkZGluZy1ib3R0b206IDIwcHg7CiAgd2lkdGg6IDMwMDBweDsKfQouY3JlYXRlLWNvbnRlbnQgewogIHBhZGRpbmc6IDQwcHggMjBweDsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OwogIGJhY2tncm91bmQtY29sb3I6ICMwMDA7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICBpbWcgewogICAgd2lkdGg6IDUwMHB4OwogICAgZGlzcGxheTogYmxvY2s7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjMjY4MWZmOwogICAgYm94LXNoYWRvdzogMCAwIDEwcHggLTZweCAjMDAwOwogIH0KfQouY3JlYXRlLWRpYWxvZyB7CiAgLnJlcXVpcmVkIHsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIG1hcmdpbi1yaWdodDogNnB4OwogICAgY29sb3I6IHZhcigtLWRhdGF2LXJlZC1jb2xvcik7CiAgfQoKICAudGVtcGxhdGUtZGVzYyB7CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgb3BhY2l0eTogMC44OwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgIC13ZWJraXQtbGluZS1jbGFtcDogMzsKICAgIGRpc3BsYXk6IC13ZWJraXQtYm94OwogICAgLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDsKICB9CgogIC5uYW1lLXRpdGxlIHsKICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgfQoKICAubmFtZS1pbnB1dCB7CiAgICBtYXJnaW4tYm90dG9tOiAxNXB4OwogICAgaGVpZ2h0OiAyOHB4OwogICAgbGluZS1oZWlnaHQ6IDI2cHg7CiAgfQp9Cg=="},{"version":3,"sources":["create.vue"],"names":[],"mappings":";AAoLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"create.vue","sourceRoot":"src/page","sourcesContent":["<template>\n  <div class=\"list create-screen\">\n    <div class=\"top-bar\">\n      <div class=\"right-bar\"></div>\n      <div class=\"left-bar\"></div>\n      <router-link to=\"/\"\n                   class=\"return-btn\">\n        <span class=\"return-text\">\n          取消创建\n        </span>\n      </router-link>\n    </div>\n    <div class=\"create-box\">\n      <p class=\"avue-tip-title\">选择下面的模版进行创建</p>\n      <div class=\"create-scroll\">\n        <div class=\"content__box\">\n          <div class=\"content__item\"\n               :class=\"{'content--active':count==index}\"\n               v-for=\"(item,index) in list\"\n               @click=\"count=index\"\n               :key=\"index\">\n            <div class=\"content__info\">\n              <img v-if=\"item.backgroundUrl\"\n                   :src=\"item.backgroundUrl\"\n                   alt=\"\" />\n            </div>\n            <div class=\"content__main\">\n              <span class=\"content__name\">{{item.title}}</span>\n              <div class=\"content__menulist\"> </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"create-content\">\n      <img :src=\"active.backgroundUrl\"\n           alt=\"\">\n      <avue-form :option=\"option\"\n                 v-model=\"form\"\n                 @submit=\"handleSave\"></avue-form>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport { getList } from '@/api/visual'\nimport { url } from '@/config';\nimport { addObj, copyObj, updateObj } from '@/api/visual';\nexport default {\n  name: \"CreateScreen\",\n  data () {\n    return {\n      list: [],\n      count: 0,\n      form: {\n        title: '',\n        password: '',\n        category: '',\n        width: '1920',\n        height: '1080'\n      },\n      option: {\n        submitText: '创建大屏',\n        size: 'medium',\n        column: [{\n          label: '分组',\n          prop: 'category',\n          span: 24,\n          labelWidth: 100,\n          type: 'select',\n          dicUrl: url + '/category/list',\n          props: {\n            label: 'categoryKey',\n            value: 'categoryValue',\n          },\n          rules: [{\n            required: true,\n            message: \"请选择分组\",\n            trigger: \"blur\"\n          }]\n        }, {\n          label: '大屏名称',\n          span: 24,\n          labelWidth: 100,\n          prop: 'title',\n          rules: [{\n            required: true,\n            message: \"请输入大屏名称\",\n            trigger: \"blur\"\n          }]\n        }, {\n          label: '大屏尺寸',\n          span: 14,\n          labelWidth: 100,\n          prop: 'width',\n          placeholder: '请输入宽度',\n          rules: [{\n            required: true,\n            message: \"请输入大屏尺寸\",\n            trigger: \"blur\"\n          }]\n        }, {\n          label: '',\n          span: 10,\n          labelWidth: 1,\n          prop: 'height',\n          placeholder: '请输入高度',\n          rules: [{\n            required: true,\n            message: \"请输入大屏尺寸\",\n            trigger: \"blur\"\n          }]\n        }, {\n          label: '密码',\n          span: 24,\n          type: 'password',\n          labelWidth: 100,\n          prop: 'password',\n        }]\n      },\n    }\n  },\n  computed: {\n    active () {\n      return this.list[this.count] || {}\n    }\n  },\n  created () {\n    this.form.category = this.$route.query.category;\n    this.getList()\n  },\n  methods: {\n    getList () {\n      getList({\n        category: 1,\n        current: 1,\n        size: 67\n      }).then(res => {\n        this.list = res.data.data.records\n        this.list.unshift({\n          id: 0,\n          title: '空白模板',\n          backgroundUrl: '/img/bg.jpg'\n        })\n      })\n    },\n    handleSave () {\n      if (this.count == 0) {\n        addObj(this.form).then(res => {\n          const id = res.data.data.id;\n          this.handleEdit({ id })\n        })\n      } else {\n        let id;\n        copyObj(this.active.id).then(res => {\n          id = res.data.data\n          return updateObj({\n            id: id,\n            category: this.form.category,\n            password: this.form.password,\n            status: this.form.status,\n            title: this.form.title\n          })\n        }).then(() => {\n          this.handleEdit({ id })\n        })\n      }\n    },\n    handleEdit (item) {\n      let routeUrl = this.$router.resolve({\n        path: '/build/' + item.id\n      })\n      window.location.replace(routeUrl.href);\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/styles/list.scss\";\n.create-screen {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background: rgba(0, 51, 125, 0.07);\n  margin: 0;\n  padding: 0;\n  user-select: none;\n\n  .top-bar {\n    height: 50px;\n    width: 100%;\n    position: relative;\n\n    &::before {\n      content: \" \";\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      height: 20px;\n      width: 100%;\n      background: #151b22;\n    }\n\n    .right-bar {\n      position: absolute;\n      left: 150px;\n      top: 20px;\n      height: 5px;\n      width: 100%;\n      border-top: 2px solid rgb(38, 129, 255);\n      border-left: 2px solid rgb(38, 129, 255);\n      background: rgba(55, 126, 255, 0.04);\n      border-top-left-radius: 5px;\n      transform: skewX(-45deg);\n      box-shadow: 0 5px 28px 0 rgba(55, 126, 255, 0.28);\n    }\n\n    .left-bar {\n      position: absolute;\n      left: 0;\n      top: 24px;\n      height: 25px;\n      width: 138px;\n      border-right: 2px solid rgb(38, 129, 255);\n      border-bottom: 2px solid rgb(38, 129, 255);\n      transform: skewX(-45deg);\n      border-bottom-right-radius: 5px;\n      box-shadow: 0 5px 28px 0 rgba(55, 126, 255, 0.28);\n    }\n\n    .return-btn {\n      position: absolute;\n      left: -31px;\n      top: 0;\n      width: 180px;\n      height: 48px;\n      line-height: 48px;\n      text-align: center;\n      background: #151b22;\n      cursor: pointer;\n      transform: skewX(-45deg);\n      border-bottom-right-radius: 5px;\n\n      .return-text {\n        display: inline-block;\n        color: #fff;\n        font-size: 14px;\n        margin-left: 10px;\n        transform: skewX(45deg);\n        transition: 0.2s;\n\n        &:hover {\n          color: var(--datav-main-color);\n        }\n      }\n\n      .return-icon {\n        margin-right: 5px;\n      }\n    }\n  }\n}\n.create-box {\n  margin-top: 10px;\n  margin-bottom: 40px;\n  width: 100%;\n  overflow-x: auto;\n  .avue-tip-title {\n    padding-left: 20px;\n  }\n}\n.create-scroll {\n  padding-bottom: 20px;\n  width: 3000px;\n}\n.create-content {\n  padding: 40px 20px;\n  display: flex;\n  align-items: flex-start;\n  background-color: #000;\n  box-sizing: border-box;\n  img {\n    width: 500px;\n    display: block;\n    position: relative;\n    border: 1px solid #2681ff;\n    box-shadow: 0 0 10px -6px #000;\n  }\n}\n.create-dialog {\n  .required {\n    display: inline-block;\n    margin-right: 6px;\n    color: var(--datav-red-color);\n  }\n\n  .template-desc {\n    margin-bottom: 20px;\n    opacity: 0.8;\n    overflow: hidden;\n    -webkit-line-clamp: 3;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n  }\n\n  .name-title {\n    margin-bottom: 10px;\n  }\n\n  .name-input {\n    margin-bottom: 15px;\n    height: 28px;\n    line-height: 26px;\n  }\n}\n</style>\n"]}]}
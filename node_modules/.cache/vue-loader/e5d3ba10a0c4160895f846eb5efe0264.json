{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanjiajia/Desktop/workspace/avue-data-new/src/page/group/share.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/src/page/group/share.vue","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHVwZGF0ZU9iaiB9IGZyb20gJ0AvYXBpL3Zpc3VhbCc7CmV4cG9ydCBkZWZhdWx0IHsKICBpbmplY3Q6IFsiY29udGFpbiJdLAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgYm94OiBmYWxzZSwKICAgICAgZm9ybToge30sCiAgICAgIHZpc3VhbDoge30sCiAgICAgIG9wdGlvbjogewogICAgICAgIGVtcHR5QnRuOiBmYWxzZSwKICAgICAgICBzdWJtaXRUZXh0OiAn5YiG5Lqr5aSn5bGPJywKICAgICAgICBzaXplOiAnc21hbGwnLAogICAgICAgIHNwYW46IDI0LAogICAgICAgIGNvbHVtbjogW3sKICAgICAgICAgIGxhYmVsOiAn5aSn5bGP5ZCN56ewJywKICAgICAgICAgIHByb3A6ICd0aXRsZScsCiAgICAgICAgfSwgewogICAgICAgICAgbGFiZWw6ICfliIbkuqsnLAogICAgICAgICAgcHJvcDogJ3N0YXR1cycsCiAgICAgICAgICB0eXBlOiAnc3dpdGNoJywKICAgICAgICAgIGRpY0RhdGE6IFt7CiAgICAgICAgICAgIGxhYmVsOiAnJywKICAgICAgICAgICAgdmFsdWU6IDAKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgbGFiZWw6ICcnLAogICAgICAgICAgICB2YWx1ZTogMQogICAgICAgICAgfV0KICAgICAgICB9LCB7CiAgICAgICAgICBsYWJlbDogJ+WIhuS6q+mTvuaOpScsCiAgICAgICAgICB0eXBlOiAndGV4dGFyZWEnLAogICAgICAgICAgcHJvcDogJ2hyZWYnCiAgICAgICAgfSwgewogICAgICAgICAgbGFiZWw6ICfliIbkuqvlr4bnoIEnLAogICAgICAgICAgdHlwZTogJ3Bhc3N3b3JkJywKICAgICAgICAgIHByb3A6ICdwYXNzd29yZCcKICAgICAgICB9XQogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTaG93ICgpIHsKICAgICAgdGhpcy4kcGFyZW50LmhhbmRsZUJ1aWxkKHVuZGVmaW5lZCwgZmFsc2UpOwogICAgICB0aGlzLmJveCA9IHRydWUKICAgICAgbGV0IHZpc3VhbCA9IHRoaXMuY29udGFpbi52aXN1YWwKICAgICAgdGhpcy52aXN1YWwgPSB2aXN1YWwKICAgICAgdGhpcy5mb3JtLnRpdGxlID0gdmlzdWFsLnRpdGxlCiAgICAgIHRoaXMuZm9ybS5zdGF0dXMgPSB2aXN1YWwuc3RhdHVzCiAgICAgIHRoaXMuZm9ybS5ocmVmID0gbG9jYXRpb24ub3JpZ2luICsgJy92aWV3LycgKyB0aGlzLmNvbnRhaW4uaWQKICAgICAgdGhpcy5mb3JtLnBhc3N3b3JkID0gdmlzdWFsLnBhc3N3b3JkCiAgICB9LAogICAgaGFuZGxlVmlldyAoKSB7CiAgICAgIGxldCByb3V0ZVVybCA9IHRoaXMuJHJvdXRlci5yZXNvbHZlKHsKICAgICAgICBwYXRoOiAnL3ZpZXcvJyArIHRoaXMuY29udGFpbi5pZAogICAgICB9KQogICAgICB3aW5kb3cub3Blbihyb3V0ZVVybC5ocmVmLCAnX2JsYW5rJyk7CiAgICB9LAogICAgaGFuZGxlQ29weSAoKSB7CiAgICAgIHRoaXMuJENsaXBib2FyZCh7CiAgICAgICAgdGV4dDogdGhpcy5mb3JtLmhyZWYKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfpk77mjqXlpI3liLbmiJDlip8nKQogICAgICB9KQoKICAgIH0sCiAgICBoYW5kbGVTdWJtaXQgKGZvcm0sIGRvbmUpIHsKICAgICAgdXBkYXRlT2JqKHsKICAgICAgICBpZDogdGhpcy52aXN1YWwuaWQsCiAgICAgICAgY2F0ZWdvcnk6IHRoaXMudmlzdWFsLmNhdGVnb3J5LAogICAgICAgIHBhc3N3b3JkOiB0aGlzLmZvcm0ucGFzc3dvcmQsCiAgICAgICAgc3RhdHVzOiB0aGlzLmZvcm0uc3RhdHVzLAogICAgICAgIHRpdGxlOiB0aGlzLmZvcm0udGl0bGUKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy5jb250YWluLnZpc3VhbCA9IE9iamVjdC5hc3NpZ24odGhpcy5jb250YWluLnZpc3VhbCwgdGhpcy5mb3JtKQogICAgICAgIGRvbmUoKTsKICAgICAgICB0aGlzLmJveCA9IGZhbHNlCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCflpKflsY/liIbkuqvmiJDlip8nKTsKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["share.vue"],"names":[],"mappings":";AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"share.vue","sourceRoot":"src/page/group","sourcesContent":["<template>\n  <el-dialog title=\"分享\"\n             append-to-body\n             :visible.sync=\"box\"\n             width=\"40%\">\n    <avue-form :option=\"option\"\n               v-model=\"form\"\n               @submit=\"handleSubmit\">\n      <template slot=\"href\"\n                slot-scope=\"{}\">\n        <el-input v-model=\"form.href\"\n                  type=\"textarea\"\n                  row=\"3\">\n        </el-input>\n        <a @click=\"handleView\">查看大屏</a>\n        &nbsp;&nbsp;\n        <a @click=\"handleCopy\">复制链接</a>\n      </template>\n    </avue-form>\n  </el-dialog>\n</template>\n\n<script>\nimport { updateObj } from '@/api/visual';\nexport default {\n  inject: [\"contain\"],\n  data () {\n    return {\n      box: false,\n      form: {},\n      visual: {},\n      option: {\n        emptyBtn: false,\n        submitText: '分享大屏',\n        size: 'small',\n        span: 24,\n        column: [{\n          label: '大屏名称',\n          prop: 'title',\n        }, {\n          label: '分享',\n          prop: 'status',\n          type: 'switch',\n          dicData: [{\n            label: '',\n            value: 0\n          }, {\n            label: '',\n            value: 1\n          }]\n        }, {\n          label: '分享链接',\n          type: 'textarea',\n          prop: 'href'\n        }, {\n          label: '分享密码',\n          type: 'password',\n          prop: 'password'\n        }]\n      }\n    }\n  },\n  methods: {\n    handleShow () {\n      this.$parent.handleBuild(undefined, false);\n      this.box = true\n      let visual = this.contain.visual\n      this.visual = visual\n      this.form.title = visual.title\n      this.form.status = visual.status\n      this.form.href = location.origin + '/view/' + this.contain.id\n      this.form.password = visual.password\n    },\n    handleView () {\n      let routeUrl = this.$router.resolve({\n        path: '/view/' + this.contain.id\n      })\n      window.open(routeUrl.href, '_blank');\n    },\n    handleCopy () {\n      this.$Clipboard({\n        text: this.form.href\n      }).then(() => {\n        this.$message.success('链接复制成功')\n      })\n\n    },\n    handleSubmit (form, done) {\n      updateObj({\n        id: this.visual.id,\n        category: this.visual.category,\n        password: this.form.password,\n        status: this.form.status,\n        title: this.form.title\n      }).then(() => {\n        this.contain.visual = Object.assign(this.contain.visual, this.form)\n        done();\n        this.box = false\n        this.$message.success('大屏分享成功');\n      })\n    }\n  }\n}\n</script>\n\n<style>\n</style>"]}]}
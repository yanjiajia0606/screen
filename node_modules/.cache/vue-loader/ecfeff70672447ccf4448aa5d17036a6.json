{"remainingRequest":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanjiajia/Desktop/workspace/avue-data-new/src/page/group/layer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/src/page/group/layer.vue","mtime":1668271197000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiajia/Desktop/workspace/avue-data-new/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB2dWVkcmFnZ2FibGUgZnJvbSAndnVlZHJhZ2dhYmxlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdsYXllcicsCiAgaW5qZWN0OiBbImNvbnRhaW4iXSwKICBwcm92aWRlICgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbnRhaW46IHRoaXMuY29udGFpbgogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIGRyYWdnYWJsZTogdnVlZHJhZ2dhYmxlCiAgfSwKICBwcm9wczogewogICAgY291bnQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxLAogICAgfSwKICAgIG5hdjogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gewogICAgICAgIHJldHVybiBbXQogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVHZXRBY3RpdmUgKGl0ZW0pIHsKICAgICAgcmV0dXJuIHRoaXMuY29udGFpbi5hY3RpdmUuaW5jbHVkZXMoaXRlbS5pbmRleCk7CiAgICB9LAogICAgaGFuZGxlU2V0QWN0aXZlIChpdGVtKSB7CiAgICAgIGlmIChpdGVtLmNoaWxkcmVuKSB7CiAgICAgICAgbGV0IGxpc3QgPSBpdGVtLmNoaWxkcmVuLm1hcChlbGUgPT4gZWxlLmluZGV4KTsKICAgICAgICB0aGlzLmNvbnRhaW4uc2VsZWN0TmF2KGxpc3QpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY29udGFpbi5zZWxlY3ROYXYoaXRlbS5pbmRleCk7CiAgICAgIH0KICAgIH0sCiAgICBoYW5nZUNoYW5nZU5hbWUgKGl0ZW0pIHsKICAgICAgdGhpcy4kc2V0KGl0ZW0sICdpc25hbWUnLCAhaXRlbS5pc25hbWUpCiAgICB9LAogICAgb3BlbkZvbGRlciAoaXRlbSkgewogICAgICB0aGlzLiRzZXQoaXRlbSwgJ21lbnUnLCAhaXRlbS5tZW51KQogICAgICBpdGVtLmlzbmFtZSA9IGZhbHNlOwogICAgfSwKICB9Cn0K"},{"version":3,"sources":["layer.vue"],"names":[],"mappings":";AAqEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"layer.vue","sourceRoot":"src/page/group","sourcesContent":["<template>\n  <draggable :group=\"{ name: 'form' }\"\n             ghost-class=\"ghost\"\n             class=\"menu_ul\"\n             :list=\"nav\"\n             :animation=\"300\">\n    <template v-for=\"item in nav\">\n      <div :key=\"item.index\"\n           class=\"menu__folder\"\n           v-if=\"item.children\">\n        <div @dblclick=\"hangeChangeName(item)\"\n             v-contextmenu=\"{id:contain.menuId,event:contain.handleContextMenu,value:item}\"\n             :class=\"['menu__item--folder',{'is-active':handleGetActive(item),'is-over':contain.overactive===item.index}]\">\n          <i class=\"iconfont icon-fold\"\n             @click=\"openFolder(item)\"\n             :class=\"{'is-active':item.menu}\"></i>\n          <i class=\"iconfont icon-folder\"\n             @click=\"handleSetActive(item)\"></i>\n          <input type=\"text\"\n                 @keyup.enter=\"item.isname=false\"\n                 v-if=\"item.isname\"\n                 v-model=\"item.name\">\n          <span v-else>{{item.name}}</span>\n        </div>\n        <div :key=\"'list'+item.index\"\n             class=\"menu__list\"\n             v-show=\"item.menu\">\n          <draggable :group=\"{ name: 'form' }\"\n                     ghost-class=\"ghost\"\n                     :list=\"item.children\"\n                     :animation=\"300\">\n            <template v-for=\"citem in item.children\">\n              <div v-if=\"!citem.children\"\n                   :key=\"citem.index\"\n                   :class=\"['menu__item',{'is-active':handleGetActive(citem),'is-over':contain.overactive===citem.index}]\"\n                   @click=\"handleSetActive(citem)\"\n                   v-contextmenu=\"{id:contain.menuId,event:contain.handleContextMenu,value:citem}\"\n                   @mouseover=\"contain.overactive=citem.index\"\n                   @mouseout=\"contain.overactive=undefined\">\n                <span class=\"menu__icon\">\n                  <i :class=\"'iconfont '+citem.icon\"></i>\n                </span>\n                <span>{{citem.name}}</span>\n              </div>\n              <layer v-else\n                     :count=\"count+1\"\n                     :key=\"citem.index\"\n                     :nav=\"[citem]\"></layer>\n            </template>\n          </draggable>\n        </div>\n      </div>\n      <div v-else\n           :key=\"item.index\"\n           v-contextmenu=\"{id:contain.menuId,event:contain.handleContextMenu,value:item}\"\n           @click=\"handleSetActive(item)\"\n           :class=\"['menu__item',{'is-active':handleGetActive(item),'is-over': contain.overactive===item.index}]\"\n           @mouseover=\"contain.overactive=item.index\"\n           @mouseout=\"contain.overactive=undefined\">\n        <span class=\"menu__icon\">\n          <i :class=\"'iconfont '+item.icon\"></i>\n        </span>\n        <span>{{item.name}}</span>\n      </div>\n    </template>\n  </draggable>\n</template>\n\n<script>\nimport vuedraggable from 'vuedraggable';\nexport default {\n  name: 'layer',\n  inject: [\"contain\"],\n  provide () {\n    return {\n      contain: this.contain\n    };\n  },\n  components: {\n    draggable: vuedraggable\n  },\n  props: {\n    count: {\n      type: Number,\n      default: 1,\n    },\n    nav: {\n      type: Array,\n      default: () => {\n        return []\n      }\n    }\n  },\n  methods: {\n    handleGetActive (item) {\n      return this.contain.active.includes(item.index);\n    },\n    handleSetActive (item) {\n      if (item.children) {\n        let list = item.children.map(ele => ele.index);\n        this.contain.selectNav(list);\n      } else {\n        this.contain.selectNav(item.index);\n      }\n    },\n    hangeChangeName (item) {\n      this.$set(item, 'isname', !item.isname)\n    },\n    openFolder (item) {\n      this.$set(item, 'menu', !item.menu)\n      item.isname = false;\n    },\n  }\n}\n</script>\n\n<style>\n</style>"]}]}